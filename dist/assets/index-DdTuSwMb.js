var Hp=e=>{throw TypeError(e)};var Xu=(e,t,s)=>t.has(e)||Hp("Cannot "+s);var A=(e,t,s)=>(Xu(e,t,"read from private field"),s?s.call(e):t.get(e)),Z=(e,t,s)=>t.has(e)?Hp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),Y=(e,t,s,n)=>(Xu(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),ce=(e,t,s)=>(Xu(e,t,"access private method"),s);var dl=(e,t,s,n)=>({set _(a){Y(e,t,a,s)},get _(){return A(e,t,n)}});function nw(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();function Ay(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ry={exports:{}},du={},Oy={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qo=Symbol.for("react.element"),aw=Symbol.for("react.portal"),iw=Symbol.for("react.fragment"),ow=Symbol.for("react.strict_mode"),lw=Symbol.for("react.profiler"),cw=Symbol.for("react.provider"),uw=Symbol.for("react.context"),dw=Symbol.for("react.forward_ref"),fw=Symbol.for("react.suspense"),mw=Symbol.for("react.memo"),hw=Symbol.for("react.lazy"),Kp=Symbol.iterator;function pw(e){return e===null||typeof e!="object"?null:(e=Kp&&e[Kp]||e["@@iterator"],typeof e=="function"?e:null)}var Ly={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iy=Object.assign,_y={};function fi(e,t,s){this.props=e,this.context=t,this.refs=_y,this.updater=s||Ly}fi.prototype.isReactComponent={};fi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fy(){}Fy.prototype=fi.prototype;function Fm(e,t,s){this.props=e,this.context=t,this.refs=_y,this.updater=s||Ly}var $m=Fm.prototype=new Fy;$m.constructor=Fm;Iy($m,fi.prototype);$m.isPureReactComponent=!0;var Qp=Array.isArray,$y=Object.prototype.hasOwnProperty,Vm={current:null},Vy={key:!0,ref:!0,__self:!0,__source:!0};function By(e,t,s){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)$y.call(t,n)&&!Vy.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=s;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Qo,type:e,key:i,ref:o,props:a,_owner:Vm.current}}function xw(e,t){return{$$typeof:Qo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qo}function gw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Gp=/\/+/g;function Ju(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gw(""+e.key):t.toString(36)}function Wl(e,t,s,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Qo:case aw:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Ju(o,0):n,Qp(a)?(s="",e!=null&&(s=e.replace(Gp,"$&/")+"/"),Wl(a,t,s,"",function(u){return u})):a!=null&&(Bm(a)&&(a=xw(a,s+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Gp,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Qp(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Ju(i,l);o+=Wl(i,t,s,c,a)}else if(c=pw(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Ju(i,l++),o+=Wl(i,t,s,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fl(e,t,s){if(e==null)return e;var n=[],a=0;return Wl(e,n,"","",function(i){return t.call(s,i,a++)}),n}function yw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var bt={current:null},Hl={transition:null},vw={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:Hl,ReactCurrentOwner:Vm};function zy(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:fl,forEach:function(e,t,s){fl(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return fl(e,function(){t++}),t},toArray:function(e){return fl(e,function(t){return t})||[]},only:function(e){if(!Bm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=fi;he.Fragment=iw;he.Profiler=lw;he.PureComponent=Fm;he.StrictMode=ow;he.Suspense=fw;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vw;he.act=zy;he.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Iy({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Vm.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$y.call(t,c)&&!Vy.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Qo,type:e.type,key:a,ref:i,props:n,_owner:o}};he.createContext=function(e){return e={$$typeof:uw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cw,_context:e},e.Consumer=e};he.createElement=By;he.createFactory=function(e){var t=By.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:dw,render:e}};he.isValidElement=Bm;he.lazy=function(e){return{$$typeof:hw,_payload:{_status:-1,_result:e},_init:yw}};he.memo=function(e,t){return{$$typeof:mw,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Hl.transition;Hl.transition={};try{e()}finally{Hl.transition=t}};he.unstable_act=zy;he.useCallback=function(e,t){return bt.current.useCallback(e,t)};he.useContext=function(e){return bt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return bt.current.useDeferredValue(e)};he.useEffect=function(e,t){return bt.current.useEffect(e,t)};he.useId=function(){return bt.current.useId()};he.useImperativeHandle=function(e,t,s){return bt.current.useImperativeHandle(e,t,s)};he.useInsertionEffect=function(e,t){return bt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return bt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return bt.current.useMemo(e,t)};he.useReducer=function(e,t,s){return bt.current.useReducer(e,t,s)};he.useRef=function(e){return bt.current.useRef(e)};he.useState=function(e){return bt.current.useState(e)};he.useSyncExternalStore=function(e,t,s){return bt.current.useSyncExternalStore(e,t,s)};he.useTransition=function(){return bt.current.useTransition()};he.version="18.3.1";Oy.exports=he;var v=Oy.exports;const Go=Ay(v),jw=nw({__proto__:null,default:Go},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw=v,Nw=Symbol.for("react.element"),ww=Symbol.for("react.fragment"),kw=Object.prototype.hasOwnProperty,Cw=bw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sw={key:!0,ref:!0,__self:!0,__source:!0};function Uy(e,t,s){var n,a={},i=null,o=null;s!==void 0&&(i=""+s),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)kw.call(t,n)&&!Sw.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Nw,type:e,key:i,ref:o,props:a,_owner:Cw.current}}du.Fragment=ww;du.jsx=Uy;du.jsxs=Uy;Ry.exports=du;var r=Ry.exports,Jd={},qy={exports:{}},Wt={},Wy={exports:{}},Hy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,H){var L=_.length;_.push(H);e:for(;0<L;){var z=L-1>>>1,Q=_[z];if(0<a(Q,H))_[z]=H,_[L]=Q,L=z;else break e}}function s(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var H=_[0],L=_.pop();if(L!==H){_[0]=L;e:for(var z=0,Q=_.length,I=Q>>>1;z<I;){var X=2*(z+1)-1,te=_[X],ee=X+1,de=_[ee];if(0>a(te,L))ee<Q&&0>a(de,te)?(_[z]=de,_[ee]=L,z=ee):(_[z]=te,_[X]=L,z=X);else if(ee<Q&&0>a(de,L))_[z]=de,_[ee]=L,z=ee;else break e}}return H}function a(_,H){var L=_.sortIndex-H.sortIndex;return L!==0?L:_.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,x=!1,h=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(_){for(var H=s(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=_)n(u),H.sortIndex=H.expirationTime,t(c,H);else break;H=s(u)}}function N(_){if(j=!1,g(_),!h)if(s(c)!==null)h=!0,W(E);else{var H=s(u);H!==null&&B(N,H.startTime-_)}}function E(_,H){h=!1,j&&(j=!1,y(M),M=-1),x=!0;var L=m;try{for(g(H),f=s(c);f!==null&&(!(f.expirationTime>H)||_&&!S());){var z=f.callback;if(typeof z=="function"){f.callback=null,m=f.priorityLevel;var Q=z(f.expirationTime<=H);H=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===s(c)&&n(c),g(H)}else n(c);f=s(c)}if(f!==null)var I=!0;else{var X=s(u);X!==null&&B(N,X.startTime-H),I=!1}return I}finally{f=null,m=L,x=!1}}var T=!1,k=null,M=-1,R=5,P=-1;function S(){return!(e.unstable_now()-P<R)}function w(){if(k!==null){var _=e.unstable_now();P=_;var H=!0;try{H=k(!0,_)}finally{H?D():(T=!1,k=null)}}else T=!1}var D;if(typeof p=="function")D=function(){p(w)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,U=C.port2;C.port1.onmessage=w,D=function(){U.postMessage(null)}}else D=function(){b(w,0)};function W(_){k=_,T||(T=!0,D())}function B(_,H){M=b(function(){_(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){h||x||(h=!0,W(E))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(_){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var L=m;m=H;try{return _()}finally{m=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,H){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var L=m;m=_;try{return H()}finally{m=L}},e.unstable_scheduleCallback=function(_,H,L){var z=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?z+L:z):L=z,_){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=L+Q,_={id:d++,callback:H,priorityLevel:_,startTime:L,expirationTime:Q,sortIndex:-1},L>z?(_.sortIndex=L,t(u,_),s(c)===null&&_===s(u)&&(j?(y(M),M=-1):j=!0,B(N,L-z))):(_.sortIndex=Q,t(c,_),h||x||(h=!0,W(E))),_},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(_){var H=m;return function(){var L=m;m=H;try{return _.apply(this,arguments)}finally{m=L}}}})(Hy);Wy.exports=Hy;var Ew=Wy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw=v,zt=Ew;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ky=new Set,fo={};function aa(e,t){Xa(e,t),Xa(e+"Capture",t)}function Xa(e,t){for(fo[e]=t,e=0;e<t.length;e++)Ky.add(t[e])}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zd=Object.prototype.hasOwnProperty,Mw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yp={},Xp={};function Dw(e){return Zd.call(Xp,e)?!0:Zd.call(Yp,e)?!1:Mw.test(e)?Xp[e]=!0:(Yp[e]=!0,!1)}function Tw(e,t,s,n){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Aw(e,t,s,n){if(t===null||typeof t>"u"||Tw(e,t,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nt(e,t,s,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rt[e]=new Nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rt[t]=new Nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rt[e]=new Nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rt[e]=new Nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rt[e]=new Nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rt[e]=new Nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rt[e]=new Nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rt[e]=new Nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rt[e]=new Nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var zm=/[\-:]([a-z])/g;function Um(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zm,Um);rt[t]=new Nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zm,Um);rt[t]=new Nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zm,Um);rt[t]=new Nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rt[e]=new Nt(e,1,!1,e.toLowerCase(),null,!1,!1)});rt.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rt[e]=new Nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function qm(e,t,s,n){var a=rt.hasOwnProperty(t)?rt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Aw(t,s,a,n)&&(s=null),n||a===null?Dw(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,n=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}var gr=Pw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ml=Symbol.for("react.element"),ha=Symbol.for("react.portal"),pa=Symbol.for("react.fragment"),Wm=Symbol.for("react.strict_mode"),ef=Symbol.for("react.profiler"),Qy=Symbol.for("react.provider"),Gy=Symbol.for("react.context"),Hm=Symbol.for("react.forward_ref"),tf=Symbol.for("react.suspense"),sf=Symbol.for("react.suspense_list"),Km=Symbol.for("react.memo"),kr=Symbol.for("react.lazy"),Yy=Symbol.for("react.offscreen"),Jp=Symbol.iterator;function ki(e){return e===null||typeof e!="object"?null:(e=Jp&&e[Jp]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Object.assign,Zu;function Bi(e){if(Zu===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Zu=t&&t[1]||""}return`
`+Zu+e}var ed=!1;function td(e,t){if(!e||ed)return"";ed=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ed=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Bi(e):""}function Rw(e){switch(e.tag){case 5:return Bi(e.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 2:case 15:return e=td(e.type,!1),e;case 11:return e=td(e.type.render,!1),e;case 1:return e=td(e.type,!0),e;default:return""}}function rf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pa:return"Fragment";case ha:return"Portal";case ef:return"Profiler";case Wm:return"StrictMode";case tf:return"Suspense";case sf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gy:return(e.displayName||"Context")+".Consumer";case Qy:return(e._context.displayName||"Context")+".Provider";case Hm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Km:return t=e.displayName||null,t!==null?t:rf(e.type)||"Memo";case kr:t=e._payload,e=e._init;try{return rf(e(t))}catch{}}return null}function Ow(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rf(t);case 8:return t===Wm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lw(e){var t=Xy(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hl(e){e._valueTracker||(e._valueTracker=Lw(e))}function Jy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=Xy(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function xc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nf(e,t){var s=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Zp(e,t){var s=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;s=tn(t.value!=null?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zy(e,t){t=t.checked,t!=null&&qm(e,"checked",t,!1)}function af(e,t){Zy(e,t);var s=tn(t.value),n=t.type;if(s!=null)n==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?of(e,t.type,s):t.hasOwnProperty("defaultValue")&&of(e,t.type,tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ex(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function of(e,t,s){(t!=="number"||xc(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var zi=Array.isArray;function Ta(e,t,s,n){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&n&&(e[s].defaultSelected=!0)}else{for(s=""+tn(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function lf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tx(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(G(92));if(zi(s)){if(1<s.length)throw Error(G(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:tn(s)}}function ev(e,t){var s=tn(t.value),n=tn(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),n!=null&&(e.defaultValue=""+n)}function sx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pl,sv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pl=pl||document.createElement("div"),pl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mo(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Iw=["Webkit","ms","Moz","O"];Object.keys(Gi).forEach(function(e){Iw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gi[t]=Gi[e]})});function rv(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Gi.hasOwnProperty(e)&&Gi[e]?(""+t).trim():t+"px"}function nv(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=rv(s,t[s],n);s==="float"&&(s="cssFloat"),n?e.setProperty(s,a):e[s]=a}}var _w=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uf(e,t){if(t){if(_w[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function df(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ff=null;function Qm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mf=null,Aa=null,Ra=null;function rx(e){if(e=Jo(e)){if(typeof mf!="function")throw Error(G(280));var t=e.stateNode;t&&(t=xu(t),mf(e.stateNode,e.type,t))}}function av(e){Aa?Ra?Ra.push(e):Ra=[e]:Aa=e}function iv(){if(Aa){var e=Aa,t=Ra;if(Ra=Aa=null,rx(e),t)for(e=0;e<t.length;e++)rx(t[e])}}function ov(e,t){return e(t)}function lv(){}var sd=!1;function cv(e,t,s){if(sd)return e(t,s);sd=!0;try{return ov(e,t,s)}finally{sd=!1,(Aa!==null||Ra!==null)&&(lv(),iv())}}function ho(e,t){var s=e.stateNode;if(s===null)return null;var n=xu(s);if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(G(231,t,typeof s));return s}var hf=!1;if(ur)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){hf=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{hf=!1}function Fw(e,t,s,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(s,u)}catch(d){this.onError(d)}}var Yi=!1,gc=null,yc=!1,pf=null,$w={onError:function(e){Yi=!0,gc=e}};function Vw(e,t,s,n,a,i,o,l,c){Yi=!1,gc=null,Fw.apply($w,arguments)}function Bw(e,t,s,n,a,i,o,l,c){if(Vw.apply(this,arguments),Yi){if(Yi){var u=gc;Yi=!1,gc=null}else throw Error(G(198));yc||(yc=!0,pf=u)}}function ia(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function uv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nx(e){if(ia(e)!==e)throw Error(G(188))}function zw(e){var t=e.alternate;if(!t){if(t=ia(e),t===null)throw Error(G(188));return t!==e?null:e}for(var s=e,n=t;;){var a=s.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return nx(a),e;if(i===n)return nx(a),t;i=i.sibling}throw Error(G(188))}if(s.return!==n.return)s=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===s){o=!0,s=a,n=i;break}if(l===n){o=!0,n=a,s=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===s){o=!0,s=i,n=a;break}if(l===n){o=!0,n=i,s=a;break}l=l.sibling}if(!o)throw Error(G(189))}}if(s.alternate!==n)throw Error(G(190))}if(s.tag!==3)throw Error(G(188));return s.stateNode.current===s?e:t}function dv(e){return e=zw(e),e!==null?fv(e):null}function fv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fv(e);if(t!==null)return t;e=e.sibling}return null}var mv=zt.unstable_scheduleCallback,ax=zt.unstable_cancelCallback,Uw=zt.unstable_shouldYield,qw=zt.unstable_requestPaint,Ie=zt.unstable_now,Ww=zt.unstable_getCurrentPriorityLevel,Gm=zt.unstable_ImmediatePriority,hv=zt.unstable_UserBlockingPriority,vc=zt.unstable_NormalPriority,Hw=zt.unstable_LowPriority,pv=zt.unstable_IdlePriority,fu=null,Ls=null;function Kw(e){if(Ls&&typeof Ls.onCommitFiberRoot=="function")try{Ls.onCommitFiberRoot(fu,e,void 0,(e.current.flags&128)===128)}catch{}}var ys=Math.clz32?Math.clz32:Yw,Qw=Math.log,Gw=Math.LN2;function Yw(e){return e>>>=0,e===0?32:31-(Qw(e)/Gw|0)|0}var xl=64,gl=4194304;function Ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jc(e,t){var s=e.pendingLanes;if(s===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=s&268435455;if(o!==0){var l=o&~a;l!==0?n=Ui(l):(i&=o,i!==0&&(n=Ui(i)))}else o=s&~a,o!==0?n=Ui(o):i!==0&&(n=Ui(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)s=31-ys(t),a=1<<s,n|=e[s],t&=~a;return n}function Xw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jw(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ys(i),l=1<<o,c=a[o];c===-1?(!(l&s)||l&n)&&(a[o]=Xw(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function xf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xv(){var e=xl;return xl<<=1,!(xl&4194240)&&(xl=64),e}function rd(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Yo(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ys(t),e[t]=s}function Zw(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-ys(s),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,s&=~i}}function Ym(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-ys(s),a=1<<n;a&t|e[n]&t&&(e[n]|=t),s&=~a}}var be=0;function gv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yv,Xm,vv,jv,bv,gf=!1,yl=[],Ur=null,qr=null,Wr=null,po=new Map,xo=new Map,Er=[],e2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ix(e,t){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":po.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(t.pointerId)}}function Si(e,t,s,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Jo(t),t!==null&&Xm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function t2(e,t,s,n,a){switch(t){case"focusin":return Ur=Si(Ur,e,t,s,n,a),!0;case"dragenter":return qr=Si(qr,e,t,s,n,a),!0;case"mouseover":return Wr=Si(Wr,e,t,s,n,a),!0;case"pointerover":var i=a.pointerId;return po.set(i,Si(po.get(i)||null,e,t,s,n,a)),!0;case"gotpointercapture":return i=a.pointerId,xo.set(i,Si(xo.get(i)||null,e,t,s,n,a)),!0}return!1}function Nv(e){var t=Cn(e.target);if(t!==null){var s=ia(t);if(s!==null){if(t=s.tag,t===13){if(t=uv(s),t!==null){e.blockedOn=t,bv(e.priority,function(){vv(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=yf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);ff=n,s.target.dispatchEvent(n),ff=null}else return t=Jo(s),t!==null&&Xm(t),e.blockedOn=s,!1;t.shift()}return!0}function ox(e,t,s){Kl(e)&&s.delete(t)}function s2(){gf=!1,Ur!==null&&Kl(Ur)&&(Ur=null),qr!==null&&Kl(qr)&&(qr=null),Wr!==null&&Kl(Wr)&&(Wr=null),po.forEach(ox),xo.forEach(ox)}function Ei(e,t){e.blockedOn===t&&(e.blockedOn=null,gf||(gf=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,s2)))}function go(e){function t(a){return Ei(a,e)}if(0<yl.length){Ei(yl[0],e);for(var s=1;s<yl.length;s++){var n=yl[s];n.blockedOn===e&&(n.blockedOn=null)}}for(Ur!==null&&Ei(Ur,e),qr!==null&&Ei(qr,e),Wr!==null&&Ei(Wr,e),po.forEach(t),xo.forEach(t),s=0;s<Er.length;s++)n=Er[s],n.blockedOn===e&&(n.blockedOn=null);for(;0<Er.length&&(s=Er[0],s.blockedOn===null);)Nv(s),s.blockedOn===null&&Er.shift()}var Oa=gr.ReactCurrentBatchConfig,bc=!0;function r2(e,t,s,n){var a=be,i=Oa.transition;Oa.transition=null;try{be=1,Jm(e,t,s,n)}finally{be=a,Oa.transition=i}}function n2(e,t,s,n){var a=be,i=Oa.transition;Oa.transition=null;try{be=4,Jm(e,t,s,n)}finally{be=a,Oa.transition=i}}function Jm(e,t,s,n){if(bc){var a=yf(e,t,s,n);if(a===null)md(e,t,n,Nc,s),ix(e,n);else if(t2(a,e,t,s,n))n.stopPropagation();else if(ix(e,n),t&4&&-1<e2.indexOf(e)){for(;a!==null;){var i=Jo(a);if(i!==null&&yv(i),i=yf(e,t,s,n),i===null&&md(e,t,n,Nc,s),i===a)break;a=i}a!==null&&n.stopPropagation()}else md(e,t,n,null,s)}}var Nc=null;function yf(e,t,s,n){if(Nc=null,e=Qm(n),e=Cn(e),e!==null)if(t=ia(e),t===null)e=null;else if(s=t.tag,s===13){if(e=uv(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nc=e,null}function wv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ww()){case Gm:return 1;case hv:return 4;case vc:case Hw:return 16;case pv:return 536870912;default:return 16}default:return 16}}var $r=null,Zm=null,Ql=null;function kv(){if(Ql)return Ql;var e,t=Zm,s=t.length,n,a="value"in $r?$r.value:$r.textContent,i=a.length;for(e=0;e<s&&t[e]===a[e];e++);var o=s-e;for(n=1;n<=o&&t[s-n]===a[i-n];n++);return Ql=a.slice(e,1<n?1-n:void 0)}function Gl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vl(){return!0}function lx(){return!1}function Ht(e){function t(s,n,a,i,o){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(s=e[l],this[l]=s?s(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vl:lx,this.isPropagationStopped=lx,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),t}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eh=Ht(mi),Xo=Ae({},mi,{view:0,detail:0}),a2=Ht(Xo),nd,ad,Pi,mu=Ae({},Xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:th,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pi&&(Pi&&e.type==="mousemove"?(nd=e.screenX-Pi.screenX,ad=e.screenY-Pi.screenY):ad=nd=0,Pi=e),nd)},movementY:function(e){return"movementY"in e?e.movementY:ad}}),cx=Ht(mu),i2=Ae({},mu,{dataTransfer:0}),o2=Ht(i2),l2=Ae({},Xo,{relatedTarget:0}),id=Ht(l2),c2=Ae({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),u2=Ht(c2),d2=Ae({},mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),f2=Ht(d2),m2=Ae({},mi,{data:0}),ux=Ht(m2),h2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=x2[e])?!!t[e]:!1}function th(){return g2}var y2=Ae({},Xo,{key:function(e){if(e.key){var t=h2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:th,charCode:function(e){return e.type==="keypress"?Gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),v2=Ht(y2),j2=Ae({},mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dx=Ht(j2),b2=Ae({},Xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:th}),N2=Ht(b2),w2=Ae({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),k2=Ht(w2),C2=Ae({},mu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S2=Ht(C2),E2=[9,13,27,32],sh=ur&&"CompositionEvent"in window,Xi=null;ur&&"documentMode"in document&&(Xi=document.documentMode);var P2=ur&&"TextEvent"in window&&!Xi,Cv=ur&&(!sh||Xi&&8<Xi&&11>=Xi),fx=" ",mx=!1;function Sv(e,t){switch(e){case"keyup":return E2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ev(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xa=!1;function M2(e,t){switch(e){case"compositionend":return Ev(t);case"keypress":return t.which!==32?null:(mx=!0,fx);case"textInput":return e=t.data,e===fx&&mx?null:e;default:return null}}function D2(e,t){if(xa)return e==="compositionend"||!sh&&Sv(e,t)?(e=kv(),Ql=Zm=$r=null,xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cv&&t.locale!=="ko"?null:t.data;default:return null}}var T2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!T2[e.type]:t==="textarea"}function Pv(e,t,s,n){av(n),t=wc(t,"onChange"),0<t.length&&(s=new eh("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Ji=null,yo=null;function A2(e){$v(e,0)}function hu(e){var t=va(e);if(Jy(t))return e}function R2(e,t){if(e==="change")return t}var Mv=!1;if(ur){var od;if(ur){var ld="oninput"in document;if(!ld){var px=document.createElement("div");px.setAttribute("oninput","return;"),ld=typeof px.oninput=="function"}od=ld}else od=!1;Mv=od&&(!document.documentMode||9<document.documentMode)}function xx(){Ji&&(Ji.detachEvent("onpropertychange",Dv),yo=Ji=null)}function Dv(e){if(e.propertyName==="value"&&hu(yo)){var t=[];Pv(t,yo,e,Qm(e)),cv(A2,t)}}function O2(e,t,s){e==="focusin"?(xx(),Ji=t,yo=s,Ji.attachEvent("onpropertychange",Dv)):e==="focusout"&&xx()}function L2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hu(yo)}function I2(e,t){if(e==="click")return hu(t)}function _2(e,t){if(e==="input"||e==="change")return hu(t)}function F2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bs=typeof Object.is=="function"?Object.is:F2;function vo(e,t){if(bs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!Zd.call(t,a)||!bs(e[a],t[a]))return!1}return!0}function gx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yx(e,t){var s=gx(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gx(s)}}function Tv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Av(){for(var e=window,t=xc();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=xc(e.document)}return t}function rh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $2(e){var t=Av(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Tv(s.ownerDocument.documentElement,s)){if(n!==null&&rh(s)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=yx(s,i);var o=yx(s,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var V2=ur&&"documentMode"in document&&11>=document.documentMode,ga=null,vf=null,Zi=null,jf=!1;function vx(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jf||ga==null||ga!==xc(n)||(n=ga,"selectionStart"in n&&rh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zi&&vo(Zi,n)||(Zi=n,n=wc(vf,"onSelect"),0<n.length&&(t=new eh("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=ga)))}function jl(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ya={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},cd={},Rv={};ur&&(Rv=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function pu(e){if(cd[e])return cd[e];if(!ya[e])return e;var t=ya[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Rv)return cd[e]=t[s];return e}var Ov=pu("animationend"),Lv=pu("animationiteration"),Iv=pu("animationstart"),_v=pu("transitionend"),Fv=new Map,jx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cn(e,t){Fv.set(e,t),aa(t,[e])}for(var ud=0;ud<jx.length;ud++){var dd=jx[ud],B2=dd.toLowerCase(),z2=dd[0].toUpperCase()+dd.slice(1);cn(B2,"on"+z2)}cn(Ov,"onAnimationEnd");cn(Lv,"onAnimationIteration");cn(Iv,"onAnimationStart");cn("dblclick","onDoubleClick");cn("focusin","onFocus");cn("focusout","onBlur");cn(_v,"onTransitionEnd");Xa("onMouseEnter",["mouseout","mouseover"]);Xa("onMouseLeave",["mouseout","mouseover"]);Xa("onPointerEnter",["pointerout","pointerover"]);Xa("onPointerLeave",["pointerout","pointerover"]);aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U2=new Set("cancel close invalid load scroll toggle".split(" ").concat(qi));function bx(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,Bw(n,t,void 0,e),e.currentTarget=null}function $v(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;bx(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;bx(a,l,u),i=c}}}if(yc)throw e=pf,yc=!1,pf=null,e}function Ce(e,t){var s=t[Cf];s===void 0&&(s=t[Cf]=new Set);var n=e+"__bubble";s.has(n)||(Vv(t,e,2,!1),s.add(n))}function fd(e,t,s){var n=0;t&&(n|=4),Vv(s,e,n,t)}var bl="_reactListening"+Math.random().toString(36).slice(2);function jo(e){if(!e[bl]){e[bl]=!0,Ky.forEach(function(s){s!=="selectionchange"&&(U2.has(s)||fd(s,!1,e),fd(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bl]||(t[bl]=!0,fd("selectionchange",!1,t))}}function Vv(e,t,s,n){switch(wv(t)){case 1:var a=r2;break;case 4:a=n2;break;default:a=Jm}s=a.bind(null,t,s,e),a=void 0,!hf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function md(e,t,s,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Cn(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}cv(function(){var u=i,d=Qm(s),f=[];e:{var m=Fv.get(e);if(m!==void 0){var x=eh,h=e;switch(e){case"keypress":if(Gl(s)===0)break e;case"keydown":case"keyup":x=v2;break;case"focusin":h="focus",x=id;break;case"focusout":h="blur",x=id;break;case"beforeblur":case"afterblur":x=id;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=cx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=o2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=N2;break;case Ov:case Lv:case Iv:x=u2;break;case _v:x=k2;break;case"scroll":x=a2;break;case"wheel":x=S2;break;case"copy":case"cut":case"paste":x=f2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=dx}var j=(t&4)!==0,b=!j&&e==="scroll",y=j?m!==null?m+"Capture":null:m;j=[];for(var p=u,g;p!==null;){g=p;var N=g.stateNode;if(g.tag===5&&N!==null&&(g=N,y!==null&&(N=ho(p,y),N!=null&&j.push(bo(p,N,g)))),b)break;p=p.return}0<j.length&&(m=new x(m,h,null,s,d),f.push({event:m,listeners:j}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",m&&s!==ff&&(h=s.relatedTarget||s.fromElement)&&(Cn(h)||h[dr]))break e;if((x||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,x?(h=s.relatedTarget||s.toElement,x=u,h=h?Cn(h):null,h!==null&&(b=ia(h),h!==b||h.tag!==5&&h.tag!==6)&&(h=null)):(x=null,h=u),x!==h)){if(j=cx,N="onMouseLeave",y="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(j=dx,N="onPointerLeave",y="onPointerEnter",p="pointer"),b=x==null?m:va(x),g=h==null?m:va(h),m=new j(N,p+"leave",x,s,d),m.target=b,m.relatedTarget=g,N=null,Cn(d)===u&&(j=new j(y,p+"enter",h,s,d),j.target=g,j.relatedTarget=b,N=j),b=N,x&&h)t:{for(j=x,y=h,p=0,g=j;g;g=ua(g))p++;for(g=0,N=y;N;N=ua(N))g++;for(;0<p-g;)j=ua(j),p--;for(;0<g-p;)y=ua(y),g--;for(;p--;){if(j===y||y!==null&&j===y.alternate)break t;j=ua(j),y=ua(y)}j=null}else j=null;x!==null&&Nx(f,m,x,j,!1),h!==null&&b!==null&&Nx(f,b,h,j,!0)}}e:{if(m=u?va(u):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var E=R2;else if(hx(m))if(Mv)E=_2;else{E=L2;var T=O2}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=I2);if(E&&(E=E(e,u))){Pv(f,E,s,d);break e}T&&T(e,m,u),e==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&of(m,"number",m.value)}switch(T=u?va(u):window,e){case"focusin":(hx(T)||T.contentEditable==="true")&&(ga=T,vf=u,Zi=null);break;case"focusout":Zi=vf=ga=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,vx(f,s,d);break;case"selectionchange":if(V2)break;case"keydown":case"keyup":vx(f,s,d)}var k;if(sh)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else xa?Sv(e,s)&&(M="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(M="onCompositionStart");M&&(Cv&&s.locale!=="ko"&&(xa||M!=="onCompositionStart"?M==="onCompositionEnd"&&xa&&(k=kv()):($r=d,Zm="value"in $r?$r.value:$r.textContent,xa=!0)),T=wc(u,M),0<T.length&&(M=new ux(M,e,null,s,d),f.push({event:M,listeners:T}),k?M.data=k:(k=Ev(s),k!==null&&(M.data=k)))),(k=P2?M2(e,s):D2(e,s))&&(u=wc(u,"onBeforeInput"),0<u.length&&(d=new ux("onBeforeInput","beforeinput",null,s,d),f.push({event:d,listeners:u}),d.data=k))}$v(f,t)})}function bo(e,t,s){return{instance:e,listener:t,currentTarget:s}}function wc(e,t){for(var s=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ho(e,s),i!=null&&n.unshift(bo(e,i,a)),i=ho(e,t),i!=null&&n.push(bo(e,i,a))),e=e.return}return n}function ua(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nx(e,t,s,n,a){for(var i=t._reactName,o=[];s!==null&&s!==n;){var l=s,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=ho(s,i),c!=null&&o.unshift(bo(s,c,l))):a||(c=ho(s,i),c!=null&&o.push(bo(s,c,l)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var q2=/\r\n?/g,W2=/\u0000|\uFFFD/g;function wx(e){return(typeof e=="string"?e:""+e).replace(q2,`
`).replace(W2,"")}function Nl(e,t,s){if(t=wx(t),wx(e)!==t&&s)throw Error(G(425))}function kc(){}var bf=null,Nf=null;function wf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kf=typeof setTimeout=="function"?setTimeout:void 0,H2=typeof clearTimeout=="function"?clearTimeout:void 0,kx=typeof Promise=="function"?Promise:void 0,K2=typeof queueMicrotask=="function"?queueMicrotask:typeof kx<"u"?function(e){return kx.resolve(null).then(e).catch(Q2)}:kf;function Q2(e){setTimeout(function(){throw e})}function hd(e,t){var s=t,n=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){e.removeChild(a),go(t);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);go(t)}function Hr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),Ms="__reactFiber$"+hi,No="__reactProps$"+hi,dr="__reactContainer$"+hi,Cf="__reactEvents$"+hi,G2="__reactListeners$"+hi,Y2="__reactHandles$"+hi;function Cn(e){var t=e[Ms];if(t)return t;for(var s=e.parentNode;s;){if(t=s[dr]||s[Ms]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Cx(e);e!==null;){if(s=e[Ms])return s;e=Cx(e)}return t}e=s,s=e.parentNode}return null}function Jo(e){return e=e[Ms]||e[dr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function va(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function xu(e){return e[No]||null}var Sf=[],ja=-1;function un(e){return{current:e}}function Se(e){0>ja||(e.current=Sf[ja],Sf[ja]=null,ja--)}function Ne(e,t){ja++,Sf[ja]=e.current,e.current=t}var sn={},ft=un(sn),Et=un(!1),Kn=sn;function Ja(e,t){var s=e.type.contextTypes;if(!s)return sn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in s)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pt(e){return e=e.childContextTypes,e!=null}function Cc(){Se(Et),Se(ft)}function Sx(e,t,s){if(ft.current!==sn)throw Error(G(168));Ne(ft,t),Ne(Et,s)}function Bv(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(G(108,Ow(e)||"Unknown",a));return Ae({},s,n)}function Sc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sn,Kn=ft.current,Ne(ft,e),Ne(Et,Et.current),!0}function Ex(e,t,s){var n=e.stateNode;if(!n)throw Error(G(169));s?(e=Bv(e,t,Kn),n.__reactInternalMemoizedMergedChildContext=e,Se(Et),Se(ft),Ne(ft,e)):Se(Et),Ne(Et,s)}var Gs=null,gu=!1,pd=!1;function zv(e){Gs===null?Gs=[e]:Gs.push(e)}function X2(e){gu=!0,zv(e)}function dn(){if(!pd&&Gs!==null){pd=!0;var e=0,t=be;try{var s=Gs;for(be=1;e<s.length;e++){var n=s[e];do n=n(!0);while(n!==null)}Gs=null,gu=!1}catch(a){throw Gs!==null&&(Gs=Gs.slice(e+1)),mv(Gm,dn),a}finally{be=t,pd=!1}}return null}var ba=[],Na=0,Ec=null,Pc=0,Zt=[],es=0,Qn=null,tr=1,sr="";function vn(e,t){ba[Na++]=Pc,ba[Na++]=Ec,Ec=e,Pc=t}function Uv(e,t,s){Zt[es++]=tr,Zt[es++]=sr,Zt[es++]=Qn,Qn=e;var n=tr;e=sr;var a=32-ys(n)-1;n&=~(1<<a),s+=1;var i=32-ys(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,tr=1<<32-ys(t)+a|s<<a|n,sr=i+e}else tr=1<<i|s<<a|n,sr=e}function nh(e){e.return!==null&&(vn(e,1),Uv(e,1,0))}function ah(e){for(;e===Ec;)Ec=ba[--Na],ba[Na]=null,Pc=ba[--Na],ba[Na]=null;for(;e===Qn;)Qn=Zt[--es],Zt[es]=null,sr=Zt[--es],Zt[es]=null,tr=Zt[--es],Zt[es]=null}var Bt=null,$t=null,Pe=!1,xs=null;function qv(e,t){var s=ss(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Px(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bt=e,$t=Hr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bt=e,$t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Qn!==null?{id:tr,overflow:sr}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=ss(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Bt=e,$t=null,!0):!1;default:return!1}}function Ef(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pf(e){if(Pe){var t=$t;if(t){var s=t;if(!Px(e,t)){if(Ef(e))throw Error(G(418));t=Hr(s.nextSibling);var n=Bt;t&&Px(e,t)?qv(n,s):(e.flags=e.flags&-4097|2,Pe=!1,Bt=e)}}else{if(Ef(e))throw Error(G(418));e.flags=e.flags&-4097|2,Pe=!1,Bt=e}}}function Mx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function wl(e){if(e!==Bt)return!1;if(!Pe)return Mx(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wf(e.type,e.memoizedProps)),t&&(t=$t)){if(Ef(e))throw Wv(),Error(G(418));for(;t;)qv(e,t),t=Hr(t.nextSibling)}if(Mx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){$t=Hr(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}$t=null}}else $t=Bt?Hr(e.stateNode.nextSibling):null;return!0}function Wv(){for(var e=$t;e;)e=Hr(e.nextSibling)}function Za(){$t=Bt=null,Pe=!1}function ih(e){xs===null?xs=[e]:xs.push(e)}var J2=gr.ReactCurrentBatchConfig;function Mi(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(G(309));var n=s.stateNode}if(!n)throw Error(G(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!s._owner)throw Error(G(290,e))}return e}function kl(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dx(e){var t=e._init;return t(e._payload)}function Hv(e){function t(y,p){if(e){var g=y.deletions;g===null?(y.deletions=[p],y.flags|=16):g.push(p)}}function s(y,p){if(!e)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function n(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function a(y,p){return y=Yr(y,p),y.index=0,y.sibling=null,y}function i(y,p,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<p?(y.flags|=2,p):g):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,p,g,N){return p===null||p.tag!==6?(p=Nd(g,y.mode,N),p.return=y,p):(p=a(p,g),p.return=y,p)}function c(y,p,g,N){var E=g.type;return E===pa?d(y,p,g.props.children,N,g.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===kr&&Dx(E)===p.type)?(N=a(p,g.props),N.ref=Mi(y,p,g),N.return=y,N):(N=sc(g.type,g.key,g.props,null,y.mode,N),N.ref=Mi(y,p,g),N.return=y,N)}function u(y,p,g,N){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=wd(g,y.mode,N),p.return=y,p):(p=a(p,g.children||[]),p.return=y,p)}function d(y,p,g,N,E){return p===null||p.tag!==7?(p=Bn(g,y.mode,N,E),p.return=y,p):(p=a(p,g),p.return=y,p)}function f(y,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Nd(""+p,y.mode,g),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ml:return g=sc(p.type,p.key,p.props,null,y.mode,g),g.ref=Mi(y,null,p),g.return=y,g;case ha:return p=wd(p,y.mode,g),p.return=y,p;case kr:var N=p._init;return f(y,N(p._payload),g)}if(zi(p)||ki(p))return p=Bn(p,y.mode,g,null),p.return=y,p;kl(y,p)}return null}function m(y,p,g,N){var E=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:l(y,p,""+g,N);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ml:return g.key===E?c(y,p,g,N):null;case ha:return g.key===E?u(y,p,g,N):null;case kr:return E=g._init,m(y,p,E(g._payload),N)}if(zi(g)||ki(g))return E!==null?null:d(y,p,g,N,null);kl(y,g)}return null}function x(y,p,g,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(g)||null,l(p,y,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ml:return y=y.get(N.key===null?g:N.key)||null,c(p,y,N,E);case ha:return y=y.get(N.key===null?g:N.key)||null,u(p,y,N,E);case kr:var T=N._init;return x(y,p,g,T(N._payload),E)}if(zi(N)||ki(N))return y=y.get(g)||null,d(p,y,N,E,null);kl(p,N)}return null}function h(y,p,g,N){for(var E=null,T=null,k=p,M=p=0,R=null;k!==null&&M<g.length;M++){k.index>M?(R=k,k=null):R=k.sibling;var P=m(y,k,g[M],N);if(P===null){k===null&&(k=R);break}e&&k&&P.alternate===null&&t(y,k),p=i(P,p,M),T===null?E=P:T.sibling=P,T=P,k=R}if(M===g.length)return s(y,k),Pe&&vn(y,M),E;if(k===null){for(;M<g.length;M++)k=f(y,g[M],N),k!==null&&(p=i(k,p,M),T===null?E=k:T.sibling=k,T=k);return Pe&&vn(y,M),E}for(k=n(y,k);M<g.length;M++)R=x(k,y,M,g[M],N),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?M:R.key),p=i(R,p,M),T===null?E=R:T.sibling=R,T=R);return e&&k.forEach(function(S){return t(y,S)}),Pe&&vn(y,M),E}function j(y,p,g,N){var E=ki(g);if(typeof E!="function")throw Error(G(150));if(g=E.call(g),g==null)throw Error(G(151));for(var T=E=null,k=p,M=p=0,R=null,P=g.next();k!==null&&!P.done;M++,P=g.next()){k.index>M?(R=k,k=null):R=k.sibling;var S=m(y,k,P.value,N);if(S===null){k===null&&(k=R);break}e&&k&&S.alternate===null&&t(y,k),p=i(S,p,M),T===null?E=S:T.sibling=S,T=S,k=R}if(P.done)return s(y,k),Pe&&vn(y,M),E;if(k===null){for(;!P.done;M++,P=g.next())P=f(y,P.value,N),P!==null&&(p=i(P,p,M),T===null?E=P:T.sibling=P,T=P);return Pe&&vn(y,M),E}for(k=n(y,k);!P.done;M++,P=g.next())P=x(k,y,M,P.value,N),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?M:P.key),p=i(P,p,M),T===null?E=P:T.sibling=P,T=P);return e&&k.forEach(function(w){return t(y,w)}),Pe&&vn(y,M),E}function b(y,p,g,N){if(typeof g=="object"&&g!==null&&g.type===pa&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ml:e:{for(var E=g.key,T=p;T!==null;){if(T.key===E){if(E=g.type,E===pa){if(T.tag===7){s(y,T.sibling),p=a(T,g.props.children),p.return=y,y=p;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===kr&&Dx(E)===T.type){s(y,T.sibling),p=a(T,g.props),p.ref=Mi(y,T,g),p.return=y,y=p;break e}s(y,T);break}else t(y,T);T=T.sibling}g.type===pa?(p=Bn(g.props.children,y.mode,N,g.key),p.return=y,y=p):(N=sc(g.type,g.key,g.props,null,y.mode,N),N.ref=Mi(y,p,g),N.return=y,y=N)}return o(y);case ha:e:{for(T=g.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){s(y,p.sibling),p=a(p,g.children||[]),p.return=y,y=p;break e}else{s(y,p);break}else t(y,p);p=p.sibling}p=wd(g,y.mode,N),p.return=y,y=p}return o(y);case kr:return T=g._init,b(y,p,T(g._payload),N)}if(zi(g))return h(y,p,g,N);if(ki(g))return j(y,p,g,N);kl(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(s(y,p.sibling),p=a(p,g),p.return=y,y=p):(s(y,p),p=Nd(g,y.mode,N),p.return=y,y=p),o(y)):s(y,p)}return b}var ei=Hv(!0),Kv=Hv(!1),Mc=un(null),Dc=null,wa=null,oh=null;function lh(){oh=wa=Dc=null}function ch(e){var t=Mc.current;Se(Mc),e._currentValue=t}function Mf(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function La(e,t){Dc=e,oh=wa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(St=!0),e.firstContext=null)}function as(e){var t=e._currentValue;if(oh!==e)if(e={context:e,memoizedValue:t,next:null},wa===null){if(Dc===null)throw Error(G(308));wa=e,Dc.dependencies={lanes:0,firstContext:e}}else wa=wa.next=e;return t}var Sn=null;function uh(e){Sn===null?Sn=[e]:Sn.push(e)}function Qv(e,t,s,n){var a=t.interleaved;return a===null?(s.next=s,uh(t)):(s.next=a.next,a.next=s),t.interleaved=s,fr(e,n)}function fr(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Cr=!1;function dh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kr(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ye&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,fr(e,s)}return a=n.interleaved,a===null?(t.next=t,uh(n)):(t.next=a.next,a.next=t),n.interleaved=t,fr(e,s)}function Yl(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Ym(e,s)}}function Tx(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?a=i=o:i=i.next=o,s=s.next}while(s!==null);i===null?a=i=t:i=i.next=t}else a=i=t;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Tc(e,t,s,n){var a=e.updateQueue;Cr=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,x=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,j=l;switch(m=t,x=s,j.tag){case 1:if(h=j.payload,typeof h=="function"){f=h.call(x,f,m);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=j.payload,m=typeof h=="function"?h.call(x,f,m):h,m==null)break e;f=Ae({},f,m);break e;case 2:Cr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else x={eventTime:x,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=f):d=d.next=x,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Yn|=o,e.lanes=o,e.memoizedState=f}}function Ax(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(G(191,a));a.call(n)}}}var Zo={},Is=un(Zo),wo=un(Zo),ko=un(Zo);function En(e){if(e===Zo)throw Error(G(174));return e}function fh(e,t){switch(Ne(ko,t),Ne(wo,e),Ne(Is,Zo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cf(t,e)}Se(Is),Ne(Is,t)}function ti(){Se(Is),Se(wo),Se(ko)}function Yv(e){En(ko.current);var t=En(Is.current),s=cf(t,e.type);t!==s&&(Ne(wo,e),Ne(Is,s))}function mh(e){wo.current===e&&(Se(Is),Se(wo))}var Me=un(0);function Ac(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xd=[];function hh(){for(var e=0;e<xd.length;e++)xd[e]._workInProgressVersionPrimary=null;xd.length=0}var Xl=gr.ReactCurrentDispatcher,gd=gr.ReactCurrentBatchConfig,Gn=0,Te=null,qe=null,Xe=null,Rc=!1,eo=!1,Co=0,Z2=0;function it(){throw Error(G(321))}function ph(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!bs(e[s],t[s]))return!1;return!0}function xh(e,t,s,n,a,i){if(Gn=i,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xl.current=e===null||e.memoizedState===null?r4:n4,e=s(n,a),eo){i=0;do{if(eo=!1,Co=0,25<=i)throw Error(G(301));i+=1,Xe=qe=null,t.updateQueue=null,Xl.current=a4,e=s(n,a)}while(eo)}if(Xl.current=Oc,t=qe!==null&&qe.next!==null,Gn=0,Xe=qe=Te=null,Rc=!1,t)throw Error(G(300));return e}function gh(){var e=Co!==0;return Co=0,e}function Cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Te.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function is(){if(qe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Xe===null?Te.memoizedState:Xe.next;if(t!==null)Xe=t,qe=e;else{if(e===null)throw Error(G(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Xe===null?Te.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function So(e,t){return typeof t=="function"?t(e):t}function yd(e){var t=is(),s=t.queue;if(s===null)throw Error(G(311));s.lastRenderedReducer=e;var n=qe,a=n.baseQueue,i=s.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,s.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Gn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Te.lanes|=d,Yn|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,bs(n,t.memoizedState)||(St=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,s.lastRenderedState=n}if(e=s.interleaved,e!==null){a=e;do i=a.lane,Te.lanes|=i,Yn|=i,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function vd(e){var t=is(),s=t.queue;if(s===null)throw Error(G(311));s.lastRenderedReducer=e;var n=s.dispatch,a=s.pending,i=t.memoizedState;if(a!==null){s.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);bs(i,t.memoizedState)||(St=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,n]}function Xv(){}function Jv(e,t){var s=Te,n=is(),a=t(),i=!bs(n.memoizedState,a);if(i&&(n.memoizedState=a,St=!0),n=n.queue,yh(tj.bind(null,s,n,e),[e]),n.getSnapshot!==t||i||Xe!==null&&Xe.memoizedState.tag&1){if(s.flags|=2048,Eo(9,ej.bind(null,s,n,a,t),void 0,null),Je===null)throw Error(G(349));Gn&30||Zv(s,t,a)}return a}function Zv(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function ej(e,t,s,n){t.value=s,t.getSnapshot=n,sj(t)&&rj(e)}function tj(e,t,s){return s(function(){sj(t)&&rj(e)})}function sj(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!bs(e,s)}catch{return!0}}function rj(e){var t=fr(e,1);t!==null&&vs(t,e,1,-1)}function Rx(e){var t=Cs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:e},t.queue=e,e=e.dispatch=s4.bind(null,Te,e),[t.memoizedState,e]}function Eo(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e)),e}function nj(){return is().memoizedState}function Jl(e,t,s,n){var a=Cs();Te.flags|=e,a.memoizedState=Eo(1|t,s,void 0,n===void 0?null:n)}function yu(e,t,s,n){var a=is();n=n===void 0?null:n;var i=void 0;if(qe!==null){var o=qe.memoizedState;if(i=o.destroy,n!==null&&ph(n,o.deps)){a.memoizedState=Eo(t,s,i,n);return}}Te.flags|=e,a.memoizedState=Eo(1|t,s,i,n)}function Ox(e,t){return Jl(8390656,8,e,t)}function yh(e,t){return yu(2048,8,e,t)}function aj(e,t){return yu(4,2,e,t)}function ij(e,t){return yu(4,4,e,t)}function oj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lj(e,t,s){return s=s!=null?s.concat([e]):null,yu(4,4,oj.bind(null,t,e),s)}function vh(){}function cj(e,t){var s=is();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&ph(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function uj(e,t){var s=is();t=t===void 0?null:t;var n=s.memoizedState;return n!==null&&t!==null&&ph(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function dj(e,t,s){return Gn&21?(bs(s,t)||(s=xv(),Te.lanes|=s,Yn|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=s)}function e4(e,t){var s=be;be=s!==0&&4>s?s:4,e(!0);var n=gd.transition;gd.transition={};try{e(!1),t()}finally{be=s,gd.transition=n}}function fj(){return is().memoizedState}function t4(e,t,s){var n=Gr(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},mj(e))hj(t,s);else if(s=Qv(e,t,s,n),s!==null){var a=jt();vs(s,e,n,a),pj(s,t,n)}}function s4(e,t,s){var n=Gr(e),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(mj(e))hj(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,s);if(a.hasEagerState=!0,a.eagerState=l,bs(l,o)){var c=t.interleaved;c===null?(a.next=a,uh(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=Qv(e,t,a,n),s!==null&&(a=jt(),vs(s,e,n,a),pj(s,t,n))}}function mj(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function hj(e,t){eo=Rc=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function pj(e,t,s){if(s&4194240){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Ym(e,s)}}var Oc={readContext:as,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},r4={readContext:as,useCallback:function(e,t){return Cs().memoizedState=[e,t===void 0?null:t],e},useContext:as,useEffect:Ox,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Jl(4194308,4,oj.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Jl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jl(4,2,e,t)},useMemo:function(e,t){var s=Cs();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=Cs();return t=s!==void 0?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=t4.bind(null,Te,e),[n.memoizedState,e]},useRef:function(e){var t=Cs();return e={current:e},t.memoizedState=e},useState:Rx,useDebugValue:vh,useDeferredValue:function(e){return Cs().memoizedState=e},useTransition:function(){var e=Rx(!1),t=e[0];return e=e4.bind(null,e[1]),Cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=Te,a=Cs();if(Pe){if(s===void 0)throw Error(G(407));s=s()}else{if(s=t(),Je===null)throw Error(G(349));Gn&30||Zv(n,t,s)}a.memoizedState=s;var i={value:s,getSnapshot:t};return a.queue=i,Ox(tj.bind(null,n,i,e),[e]),n.flags|=2048,Eo(9,ej.bind(null,n,i,s,t),void 0,null),s},useId:function(){var e=Cs(),t=Je.identifierPrefix;if(Pe){var s=sr,n=tr;s=(n&~(1<<32-ys(n)-1)).toString(32)+s,t=":"+t+"R"+s,s=Co++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Z2++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},n4={readContext:as,useCallback:cj,useContext:as,useEffect:yh,useImperativeHandle:lj,useInsertionEffect:aj,useLayoutEffect:ij,useMemo:uj,useReducer:yd,useRef:nj,useState:function(){return yd(So)},useDebugValue:vh,useDeferredValue:function(e){var t=is();return dj(t,qe.memoizedState,e)},useTransition:function(){var e=yd(So)[0],t=is().memoizedState;return[e,t]},useMutableSource:Xv,useSyncExternalStore:Jv,useId:fj,unstable_isNewReconciler:!1},a4={readContext:as,useCallback:cj,useContext:as,useEffect:yh,useImperativeHandle:lj,useInsertionEffect:aj,useLayoutEffect:ij,useMemo:uj,useReducer:vd,useRef:nj,useState:function(){return vd(So)},useDebugValue:vh,useDeferredValue:function(e){var t=is();return qe===null?t.memoizedState=e:dj(t,qe.memoizedState,e)},useTransition:function(){var e=vd(So)[0],t=is().memoizedState;return[e,t]},useMutableSource:Xv,useSyncExternalStore:Jv,useId:fj,unstable_isNewReconciler:!1};function ds(e,t){if(e&&e.defaultProps){t=Ae({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Df(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:Ae({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var vu={isMounted:function(e){return(e=e._reactInternals)?ia(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=jt(),a=Gr(e),i=nr(n,a);i.payload=t,s!=null&&(i.callback=s),t=Kr(e,i,a),t!==null&&(vs(t,e,a,n),Yl(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=jt(),a=Gr(e),i=nr(n,a);i.tag=1,i.payload=t,s!=null&&(i.callback=s),t=Kr(e,i,a),t!==null&&(vs(t,e,a,n),Yl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=jt(),n=Gr(e),a=nr(s,n);a.tag=2,t!=null&&(a.callback=t),t=Kr(e,a,n),t!==null&&(vs(t,e,n,s),Yl(t,e,n))}};function Lx(e,t,s,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!vo(s,n)||!vo(a,i):!0}function xj(e,t,s){var n=!1,a=sn,i=t.contextType;return typeof i=="object"&&i!==null?i=as(i):(a=Pt(t)?Kn:ft.current,n=t.contextTypes,i=(n=n!=null)?Ja(e,a):sn),t=new t(s,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ix(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&vu.enqueueReplaceState(t,t.state,null)}function Tf(e,t,s,n){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},dh(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=as(i):(i=Pt(t)?Kn:ft.current,a.context=Ja(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Df(e,t,i,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&vu.enqueueReplaceState(a,a.state,null),Tc(e,s,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function si(e,t){try{var s="",n=t;do s+=Rw(n),n=n.return;while(n);var a=s}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function jd(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Af(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var i4=typeof WeakMap=="function"?WeakMap:Map;function gj(e,t,s){s=nr(-1,s),s.tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Ic||(Ic=!0,zf=n),Af(e,t)},s}function yj(e,t,s){s=nr(-1,s),s.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;s.payload=function(){return n(a)},s.callback=function(){Af(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){Af(e,t),typeof n!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function _x(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new i4;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(s)||(a.add(s),e=j4.bind(null,e,t,s),t.then(e,e))}function Fx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $x(e,t,s,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=nr(-1,1),t.tag=2,Kr(s,t,1))),s.lanes|=1),e)}var o4=gr.ReactCurrentOwner,St=!1;function gt(e,t,s,n){t.child=e===null?Kv(t,null,s,n):ei(t,e.child,s,n)}function Vx(e,t,s,n,a){s=s.render;var i=t.ref;return La(t,a),n=xh(e,t,s,n,i,a),s=gh(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mr(e,t,a)):(Pe&&s&&nh(t),t.flags|=1,gt(e,t,n,a),t.child)}function Bx(e,t,s,n,a){if(e===null){var i=s.type;return typeof i=="function"&&!Eh(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=i,vj(e,t,i,n,a)):(e=sc(s.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(s=s.compare,s=s!==null?s:vo,s(o,n)&&e.ref===t.ref)return mr(e,t,a)}return t.flags|=1,e=Yr(i,n),e.ref=t.ref,e.return=t,t.child=e}function vj(e,t,s,n,a){if(e!==null){var i=e.memoizedProps;if(vo(i,n)&&e.ref===t.ref)if(St=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(St=!0);else return t.lanes=e.lanes,mr(e,t,a)}return Rf(e,t,s,n,a)}function jj(e,t,s){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Ca,_t),_t|=s;else{if(!(s&1073741824))return e=i!==null?i.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(Ca,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:s,Ne(Ca,_t),_t|=n}else i!==null?(n=i.baseLanes|s,t.memoizedState=null):n=s,Ne(Ca,_t),_t|=n;return gt(e,t,a,s),t.child}function bj(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Rf(e,t,s,n,a){var i=Pt(s)?Kn:ft.current;return i=Ja(t,i),La(t,a),s=xh(e,t,s,n,i,a),n=gh(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mr(e,t,a)):(Pe&&n&&nh(t),t.flags|=1,gt(e,t,s,a),t.child)}function zx(e,t,s,n,a){if(Pt(s)){var i=!0;Sc(t)}else i=!1;if(La(t,a),t.stateNode===null)Zl(e,t),xj(t,s,n),Tf(t,s,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=s.contextType;typeof u=="object"&&u!==null?u=as(u):(u=Pt(s)?Kn:ft.current,u=Ja(t,u));var d=s.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Ix(t,o,n,u),Cr=!1;var m=t.memoizedState;o.state=m,Tc(t,n,o,a),c=t.memoizedState,l!==n||m!==c||Et.current||Cr?(typeof d=="function"&&(Df(t,s,d,n),c=t.memoizedState),(l=Cr||Lx(t,s,l,n,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Gv(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ds(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=s.contextType,typeof c=="object"&&c!==null?c=as(c):(c=Pt(s)?Kn:ft.current,c=Ja(t,c));var x=s.getDerivedStateFromProps;(d=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&Ix(t,o,n,c),Cr=!1,m=t.memoizedState,o.state=m,Tc(t,n,o,a);var h=t.memoizedState;l!==f||m!==h||Et.current||Cr?(typeof x=="function"&&(Df(t,s,x,n),h=t.memoizedState),(u=Cr||Lx(t,s,u,n,m,h,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,h,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,h,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),o.props=n,o.state=h,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Of(e,t,s,n,i,a)}function Of(e,t,s,n,a,i){bj(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Ex(t,s,!1),mr(e,t,i);n=t.stateNode,o4.current=t;var l=o&&typeof s.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ei(t,e.child,null,i),t.child=ei(t,null,l,i)):gt(e,t,l,i),t.memoizedState=n.state,a&&Ex(t,s,!0),t.child}function Nj(e){var t=e.stateNode;t.pendingContext?Sx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sx(e,t.context,!1),fh(e,t.containerInfo)}function Ux(e,t,s,n,a){return Za(),ih(a),t.flags|=256,gt(e,t,s,n),t.child}var Lf={dehydrated:null,treeContext:null,retryLane:0};function If(e){return{baseLanes:e,cachePool:null,transitions:null}}function wj(e,t,s){var n=t.pendingProps,a=Me.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ne(Me,a&1),e===null)return Pf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Nu(o,n,0,null),e=Bn(e,n,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=If(s),t.memoizedState=Lf,e):jh(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return l4(e,t,o,n,l,a,s);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Yr(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Yr(l,i):(i=Bn(i,o,s,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?If(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~s,t.memoizedState=Lf,n}return i=e.child,e=i.sibling,n=Yr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=s),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function jh(e,t){return t=Nu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cl(e,t,s,n){return n!==null&&ih(n),ei(t,e.child,null,s),e=jh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function l4(e,t,s,n,a,i,o){if(s)return t.flags&256?(t.flags&=-257,n=jd(Error(G(422))),Cl(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Nu({mode:"visible",children:n.children},a,0,null),i=Bn(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ei(t,e.child,null,o),t.child.memoizedState=If(o),t.memoizedState=Lf,i);if(!(t.mode&1))return Cl(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(G(419)),n=jd(i,n,void 0),Cl(e,t,o,n)}if(l=(o&e.childLanes)!==0,St||l){if(n=Je,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,fr(e,a),vs(n,e,a,-1))}return Sh(),n=jd(Error(G(421))),Cl(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=b4.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,$t=Hr(a.nextSibling),Bt=t,Pe=!0,xs=null,e!==null&&(Zt[es++]=tr,Zt[es++]=sr,Zt[es++]=Qn,tr=e.id,sr=e.overflow,Qn=t),t=jh(t,n.children),t.flags|=4096,t)}function qx(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Mf(e.return,t,s)}function bd(e,t,s,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=s,i.tailMode=a)}function kj(e,t,s){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(gt(e,t,n.children,s),n=Me.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qx(e,s,t);else if(e.tag===19)qx(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ne(Me,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&Ac(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),bd(t,!1,a,s,i);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ac(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}bd(t,!0,s,null,i);break;case"together":bd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mr(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Yn|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,s=Yr(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Yr(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function c4(e,t,s){switch(t.tag){case 3:Nj(t),Za();break;case 5:Yv(t);break;case 1:Pt(t.type)&&Sc(t);break;case 4:fh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ne(Mc,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ne(Me,Me.current&1),t.flags|=128,null):s&t.child.childLanes?wj(e,t,s):(Ne(Me,Me.current&1),e=mr(e,t,s),e!==null?e.sibling:null);Ne(Me,Me.current&1);break;case 19:if(n=(s&t.childLanes)!==0,e.flags&128){if(n)return kj(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ne(Me,Me.current),n)break;return null;case 22:case 23:return t.lanes=0,jj(e,t,s)}return mr(e,t,s)}var Cj,_f,Sj,Ej;Cj=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};_f=function(){};Sj=function(e,t,s,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,En(Is.current);var i=null;switch(s){case"input":a=nf(e,a),n=nf(e,n),i=[];break;case"select":a=Ae({},a,{value:void 0}),n=Ae({},n,{value:void 0}),i=[];break;case"textarea":a=lf(e,a),n=lf(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=kc)}uf(s,n);var o;s=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(s||(s={}),s[o]=c[o])}else s||(i||(i=[]),i.push(u,s)),s=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ce("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}s&&(i=i||[]).push("style",s);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ej=function(e,t,s,n){s!==n&&(t.flags|=4)};function Di(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function u4(e,t,s){var n=t.pendingProps;switch(ah(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return Pt(t.type)&&Cc(),ot(t),null;case 3:return n=t.stateNode,ti(),Se(Et),Se(ft),hh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(wl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xs!==null&&(Wf(xs),xs=null))),_f(e,t),ot(t),null;case 5:mh(t);var a=En(ko.current);if(s=t.type,e!==null&&t.stateNode!=null)Sj(e,t,s,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return ot(t),null}if(e=En(Is.current),wl(t)){n=t.stateNode,s=t.type;var i=t.memoizedProps;switch(n[Ms]=t,n[No]=i,e=(t.mode&1)!==0,s){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(a=0;a<qi.length;a++)Ce(qi[a],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Zp(n,i),Ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ce("invalid",n);break;case"textarea":tx(n,i),Ce("invalid",n)}uf(s,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Nl(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Nl(n.textContent,l,e),a=["children",""+l]):fo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ce("scroll",n)}switch(s){case"input":hl(n),ex(n,i,!0);break;case"textarea":hl(n),sx(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=kc)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tv(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(s,{is:n.is}):(e=o.createElement(s),s==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,s),e[Ms]=t,e[No]=n,Cj(e,t,!1,!1),t.stateNode=e;e:{switch(o=df(s,n),s){case"dialog":Ce("cancel",e),Ce("close",e),a=n;break;case"iframe":case"object":case"embed":Ce("load",e),a=n;break;case"video":case"audio":for(a=0;a<qi.length;a++)Ce(qi[a],e);a=n;break;case"source":Ce("error",e),a=n;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),a=n;break;case"details":Ce("toggle",e),a=n;break;case"input":Zp(e,n),a=nf(e,n),Ce("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ae({},n,{value:void 0}),Ce("invalid",e);break;case"textarea":tx(e,n),a=lf(e,n),Ce("invalid",e);break;default:a=n}uf(s,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?nv(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sv(e,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&mo(e,c):typeof c=="number"&&mo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ce("scroll",e):c!=null&&qm(e,i,c,o))}switch(s){case"input":hl(e),ex(e,n,!1);break;case"textarea":hl(e),sx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+tn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ta(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ta(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=kc)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)Ej(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(s=En(ko.current),En(Is.current),wl(t)){if(n=t.stateNode,s=t.memoizedProps,n[Ms]=t,(i=n.nodeValue!==s)&&(e=Bt,e!==null))switch(e.tag){case 3:Nl(n.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Nl(n.nodeValue,s,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[Ms]=t,t.stateNode=n}return ot(t),null;case 13:if(Se(Me),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&$t!==null&&t.mode&1&&!(t.flags&128))Wv(),Za(),t.flags|=98560,i=!1;else if(i=wl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Ms]=t}else Za(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ot(t),i=!1}else xs!==null&&(Wf(xs),xs=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Me.current&1?Ke===0&&(Ke=3):Sh())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return ti(),_f(e,t),e===null&&jo(t.stateNode.containerInfo),ot(t),null;case 10:return ch(t.type._context),ot(t),null;case 17:return Pt(t.type)&&Cc(),ot(t),null;case 19:if(Se(Me),i=t.memoizedState,i===null)return ot(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Di(i,!1);else{if(Ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ac(e),o!==null){for(t.flags|=128,Di(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;s!==null;)i=s,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ne(Me,Me.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ie()>ri&&(t.flags|=128,n=!0,Di(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ac(o),e!==null){if(t.flags|=128,n=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Di(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Pe)return ot(t),null}else 2*Ie()-i.renderingStartTime>ri&&s!==1073741824&&(t.flags|=128,n=!0,Di(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(s=i.last,s!==null?s.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ie(),t.sibling=null,s=Me.current,Ne(Me,n?s&1|2:s&1),t):(ot(t),null);case 22:case 23:return Ch(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?_t&1073741824&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function d4(e,t){switch(ah(t),t.tag){case 1:return Pt(t.type)&&Cc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ti(),Se(Et),Se(ft),hh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mh(t),null;case 13:if(Se(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Me),null;case 4:return ti(),null;case 10:return ch(t.type._context),null;case 22:case 23:return Ch(),null;case 24:return null;default:return null}}var Sl=!1,ct=!1,f4=typeof WeakSet=="function"?WeakSet:Set,J=null;function ka(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){Oe(e,t,n)}else s.current=null}function Ff(e,t,s){try{s()}catch(n){Oe(e,t,n)}}var Wx=!1;function m4(e,t){if(bf=bc,e=Av(),rh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var x;f!==s||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)m=f,f=x;for(;;){if(f===e)break t;if(m===s&&++u===a&&(l=o),m===i&&++d===n&&(c=o),(x=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=x}s=l===-1||c===-1?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Nf={focusedElem:e,selectionRange:s},bc=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var j=h.memoizedProps,b=h.memoizedState,y=t.stateNode,p=y.getSnapshotBeforeUpdate(t.elementType===t.type?j:ds(t.type,j),b);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(N){Oe(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return h=Wx,Wx=!1,h}function to(e,t,s){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Ff(t,s,i)}a=a.next}while(a!==n)}}function ju(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function $f(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Pj(e){var t=e.alternate;t!==null&&(e.alternate=null,Pj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ms],delete t[No],delete t[Cf],delete t[G2],delete t[Y2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Mj(e){return e.tag===5||e.tag===3||e.tag===4}function Hx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vf(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=kc));else if(n!==4&&(e=e.child,e!==null))for(Vf(e,t,s),e=e.sibling;e!==null;)Vf(e,t,s),e=e.sibling}function Bf(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Bf(e,t,s),e=e.sibling;e!==null;)Bf(e,t,s),e=e.sibling}var et=null,hs=!1;function jr(e,t,s){for(s=s.child;s!==null;)Dj(e,t,s),s=s.sibling}function Dj(e,t,s){if(Ls&&typeof Ls.onCommitFiberUnmount=="function")try{Ls.onCommitFiberUnmount(fu,s)}catch{}switch(s.tag){case 5:ct||ka(s,t);case 6:var n=et,a=hs;et=null,jr(e,t,s),et=n,hs=a,et!==null&&(hs?(e=et,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):et.removeChild(s.stateNode));break;case 18:et!==null&&(hs?(e=et,s=s.stateNode,e.nodeType===8?hd(e.parentNode,s):e.nodeType===1&&hd(e,s),go(e)):hd(et,s.stateNode));break;case 4:n=et,a=hs,et=s.stateNode.containerInfo,hs=!0,jr(e,t,s),et=n,hs=a;break;case 0:case 11:case 14:case 15:if(!ct&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ff(s,t,o),a=a.next}while(a!==n)}jr(e,t,s);break;case 1:if(!ct&&(ka(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(l){Oe(s,t,l)}jr(e,t,s);break;case 21:jr(e,t,s);break;case 22:s.mode&1?(ct=(n=ct)||s.memoizedState!==null,jr(e,t,s),ct=n):jr(e,t,s);break;default:jr(e,t,s)}}function Kx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new f4),t.forEach(function(n){var a=N4.bind(null,e,n);s.has(n)||(s.add(n),n.then(a,a))})}}function us(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:et=l.stateNode,hs=!1;break e;case 3:et=l.stateNode.containerInfo,hs=!0;break e;case 4:et=l.stateNode.containerInfo,hs=!0;break e}l=l.return}if(et===null)throw Error(G(160));Dj(i,o,a),et=null,hs=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Oe(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tj(t,e),t=t.sibling}function Tj(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(us(t,e),ws(e),n&4){try{to(3,e,e.return),ju(3,e)}catch(j){Oe(e,e.return,j)}try{to(5,e,e.return)}catch(j){Oe(e,e.return,j)}}break;case 1:us(t,e),ws(e),n&512&&s!==null&&ka(s,s.return);break;case 5:if(us(t,e),ws(e),n&512&&s!==null&&ka(s,s.return),e.flags&32){var a=e.stateNode;try{mo(a,"")}catch(j){Oe(e,e.return,j)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=s!==null?s.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Zy(a,i),df(l,o);var u=df(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?nv(a,f):d==="dangerouslySetInnerHTML"?sv(a,f):d==="children"?mo(a,f):qm(a,d,f,u)}switch(l){case"input":af(a,i);break;case"textarea":ev(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Ta(a,!!i.multiple,x,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ta(a,!!i.multiple,i.defaultValue,!0):Ta(a,!!i.multiple,i.multiple?[]:"",!1))}a[No]=i}catch(j){Oe(e,e.return,j)}}break;case 6:if(us(t,e),ws(e),n&4){if(e.stateNode===null)throw Error(G(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(j){Oe(e,e.return,j)}}break;case 3:if(us(t,e),ws(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{go(t.containerInfo)}catch(j){Oe(e,e.return,j)}break;case 4:us(t,e),ws(e);break;case 13:us(t,e),ws(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(wh=Ie())),n&4&&Kx(e);break;case 22:if(d=s!==null&&s.memoizedState!==null,e.mode&1?(ct=(u=ct)||d,us(t,e),ct=u):us(t,e),ws(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(J=e,d=e.child;d!==null;){for(f=J=d;J!==null;){switch(m=J,x=m.child,m.tag){case 0:case 11:case 14:case 15:to(4,m,m.return);break;case 1:ka(m,m.return);var h=m.stateNode;if(typeof h.componentWillUnmount=="function"){n=m,s=m.return;try{t=n,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(j){Oe(n,s,j)}}break;case 5:ka(m,m.return);break;case 22:if(m.memoizedState!==null){Gx(f);continue}}x!==null?(x.return=m,J=x):Gx(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=rv("display",o))}catch(j){Oe(e,e.return,j)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(j){Oe(e,e.return,j)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:us(t,e),ws(e),n&4&&Kx(e);break;case 21:break;default:us(t,e),ws(e)}}function ws(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Mj(s)){var n=s;break e}s=s.return}throw Error(G(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(mo(a,""),n.flags&=-33);var i=Hx(e);Bf(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Hx(e);Vf(e,l,o);break;default:throw Error(G(161))}}catch(c){Oe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function h4(e,t,s){J=e,Aj(e)}function Aj(e,t,s){for(var n=(e.mode&1)!==0;J!==null;){var a=J,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Sl;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||ct;l=Sl;var u=ct;if(Sl=o,(ct=c)&&!u)for(J=a;J!==null;)o=J,c=o.child,o.tag===22&&o.memoizedState!==null?Yx(a):c!==null?(c.return=o,J=c):Yx(a);for(;i!==null;)J=i,Aj(i),i=i.sibling;J=a,Sl=l,ct=u}Qx(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,J=i):Qx(e)}}function Qx(e){for(;J!==null;){var t=J;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ct||ju(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ct)if(s===null)n.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:ds(t.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ax(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Ax(t,o,s)}break;case 5:var l=t.stateNode;if(s===null&&t.flags&4){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&go(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}ct||t.flags&512&&$f(t)}catch(m){Oe(t,t.return,m)}}if(t===e){J=null;break}if(s=t.sibling,s!==null){s.return=t.return,J=s;break}J=t.return}}function Gx(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var s=t.sibling;if(s!==null){s.return=t.return,J=s;break}J=t.return}}function Yx(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{ju(4,t)}catch(c){Oe(t,s,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Oe(t,a,c)}}var i=t.return;try{$f(t)}catch(c){Oe(t,i,c)}break;case 5:var o=t.return;try{$f(t)}catch(c){Oe(t,o,c)}}}catch(c){Oe(t,t.return,c)}if(t===e){J=null;break}var l=t.sibling;if(l!==null){l.return=t.return,J=l;break}J=t.return}}var p4=Math.ceil,Lc=gr.ReactCurrentDispatcher,bh=gr.ReactCurrentOwner,ns=gr.ReactCurrentBatchConfig,ye=0,Je=null,Be=null,st=0,_t=0,Ca=un(0),Ke=0,Po=null,Yn=0,bu=0,Nh=0,so=null,Ct=null,wh=0,ri=1/0,Qs=null,Ic=!1,zf=null,Qr=null,El=!1,Vr=null,_c=0,ro=0,Uf=null,ec=-1,tc=0;function jt(){return ye&6?Ie():ec!==-1?ec:ec=Ie()}function Gr(e){return e.mode&1?ye&2&&st!==0?st&-st:J2.transition!==null?(tc===0&&(tc=xv()),tc):(e=be,e!==0||(e=window.event,e=e===void 0?16:wv(e.type)),e):1}function vs(e,t,s,n){if(50<ro)throw ro=0,Uf=null,Error(G(185));Yo(e,s,n),(!(ye&2)||e!==Je)&&(e===Je&&(!(ye&2)&&(bu|=s),Ke===4&&Pr(e,st)),Mt(e,n),s===1&&ye===0&&!(t.mode&1)&&(ri=Ie()+500,gu&&dn()))}function Mt(e,t){var s=e.callbackNode;Jw(e,t);var n=jc(e,e===Je?st:0);if(n===0)s!==null&&ax(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(s!=null&&ax(s),t===1)e.tag===0?X2(Xx.bind(null,e)):zv(Xx.bind(null,e)),K2(function(){!(ye&6)&&dn()}),s=null;else{switch(gv(n)){case 1:s=Gm;break;case 4:s=hv;break;case 16:s=vc;break;case 536870912:s=pv;break;default:s=vc}s=Vj(s,Rj.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Rj(e,t){if(ec=-1,tc=0,ye&6)throw Error(G(327));var s=e.callbackNode;if(Ia()&&e.callbackNode!==s)return null;var n=jc(e,e===Je?st:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Fc(e,n);else{t=n;var a=ye;ye|=2;var i=Lj();(Je!==e||st!==t)&&(Qs=null,ri=Ie()+500,Vn(e,t));do try{y4();break}catch(l){Oj(e,l)}while(!0);lh(),Lc.current=i,ye=a,Be!==null?t=0:(Je=null,st=0,t=Ke)}if(t!==0){if(t===2&&(a=xf(e),a!==0&&(n=a,t=qf(e,a))),t===1)throw s=Po,Vn(e,0),Pr(e,n),Mt(e,Ie()),s;if(t===6)Pr(e,n);else{if(a=e.current.alternate,!(n&30)&&!x4(a)&&(t=Fc(e,n),t===2&&(i=xf(e),i!==0&&(n=i,t=qf(e,i))),t===1))throw s=Po,Vn(e,0),Pr(e,n),Mt(e,Ie()),s;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:jn(e,Ct,Qs);break;case 3:if(Pr(e,n),(n&130023424)===n&&(t=wh+500-Ie(),10<t)){if(jc(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){jt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=kf(jn.bind(null,e,Ct,Qs),t);break}jn(e,Ct,Qs);break;case 4:if(Pr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-ys(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*p4(n/1960))-n,10<n){e.timeoutHandle=kf(jn.bind(null,e,Ct,Qs),n);break}jn(e,Ct,Qs);break;case 5:jn(e,Ct,Qs);break;default:throw Error(G(329))}}}return Mt(e,Ie()),e.callbackNode===s?Rj.bind(null,e):null}function qf(e,t){var s=so;return e.current.memoizedState.isDehydrated&&(Vn(e,t).flags|=256),e=Fc(e,t),e!==2&&(t=Ct,Ct=s,t!==null&&Wf(t)),e}function Wf(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function x4(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],i=a.getSnapshot;a=a.value;try{if(!bs(i(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pr(e,t){for(t&=~Nh,t&=~bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-ys(t),n=1<<s;e[s]=-1,t&=~n}}function Xx(e){if(ye&6)throw Error(G(327));Ia();var t=jc(e,0);if(!(t&1))return Mt(e,Ie()),null;var s=Fc(e,t);if(e.tag!==0&&s===2){var n=xf(e);n!==0&&(t=n,s=qf(e,n))}if(s===1)throw s=Po,Vn(e,0),Pr(e,t),Mt(e,Ie()),s;if(s===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jn(e,Ct,Qs),Mt(e,Ie()),null}function kh(e,t){var s=ye;ye|=1;try{return e(t)}finally{ye=s,ye===0&&(ri=Ie()+500,gu&&dn())}}function Xn(e){Vr!==null&&Vr.tag===0&&!(ye&6)&&Ia();var t=ye;ye|=1;var s=ns.transition,n=be;try{if(ns.transition=null,be=1,e)return e()}finally{be=n,ns.transition=s,ye=t,!(ye&6)&&dn()}}function Ch(){_t=Ca.current,Se(Ca)}function Vn(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,H2(s)),Be!==null)for(s=Be.return;s!==null;){var n=s;switch(ah(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Cc();break;case 3:ti(),Se(Et),Se(ft),hh();break;case 5:mh(n);break;case 4:ti();break;case 13:Se(Me);break;case 19:Se(Me);break;case 10:ch(n.type._context);break;case 22:case 23:Ch()}s=s.return}if(Je=e,Be=e=Yr(e.current,null),st=_t=t,Ke=0,Po=null,Nh=bu=Yn=0,Ct=so=null,Sn!==null){for(t=0;t<Sn.length;t++)if(s=Sn[t],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,i=s.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}s.pending=n}Sn=null}return e}function Oj(e,t){do{var s=Be;try{if(lh(),Xl.current=Oc,Rc){for(var n=Te.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Rc=!1}if(Gn=0,Xe=qe=Te=null,eo=!1,Co=0,bh.current=null,s===null||s.return===null){Ke=1,Po=t,Be=null;break}e:{var i=e,o=s.return,l=s,c=t;if(t=st,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=Fx(o);if(x!==null){x.flags&=-257,$x(x,o,l,i,t),x.mode&1&&_x(i,u,t),t=x,c=u;var h=t.updateQueue;if(h===null){var j=new Set;j.add(c),t.updateQueue=j}else h.add(c);break e}else{if(!(t&1)){_x(i,u,t),Sh();break e}c=Error(G(426))}}else if(Pe&&l.mode&1){var b=Fx(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),$x(b,o,l,i,t),ih(si(c,l));break e}}i=c=si(c,l),Ke!==4&&(Ke=2),so===null?so=[i]:so.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=gj(i,c,t);Tx(i,y);break e;case 1:l=c;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Qr===null||!Qr.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=yj(i,l,t);Tx(i,N);break e}}i=i.return}while(i!==null)}_j(s)}catch(E){t=E,Be===s&&s!==null&&(Be=s=s.return);continue}break}while(!0)}function Lj(){var e=Lc.current;return Lc.current=Oc,e===null?Oc:e}function Sh(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Je===null||!(Yn&268435455)&&!(bu&268435455)||Pr(Je,st)}function Fc(e,t){var s=ye;ye|=2;var n=Lj();(Je!==e||st!==t)&&(Qs=null,Vn(e,t));do try{g4();break}catch(a){Oj(e,a)}while(!0);if(lh(),ye=s,Lc.current=n,Be!==null)throw Error(G(261));return Je=null,st=0,Ke}function g4(){for(;Be!==null;)Ij(Be)}function y4(){for(;Be!==null&&!Uw();)Ij(Be)}function Ij(e){var t=$j(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?_j(e):Be=t,bh.current=null}function _j(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=d4(s,t),s!==null){s.flags&=32767,Be=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ke=6,Be=null;return}}else if(s=u4(s,t,_t),s!==null){Be=s;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ke===0&&(Ke=5)}function jn(e,t,s){var n=be,a=ns.transition;try{ns.transition=null,be=1,v4(e,t,s,n)}finally{ns.transition=a,be=n}return null}function v4(e,t,s,n){do Ia();while(Vr!==null);if(ye&6)throw Error(G(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=s.lanes|s.childLanes;if(Zw(e,i),e===Je&&(Be=Je=null,st=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||El||(El=!0,Vj(vc,function(){return Ia(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=ns.transition,ns.transition=null;var o=be;be=1;var l=ye;ye|=4,bh.current=null,m4(e,s),Tj(s,e),$2(Nf),bc=!!bf,Nf=bf=null,e.current=s,h4(s),qw(),ye=l,be=o,ns.transition=i}else e.current=s;if(El&&(El=!1,Vr=e,_c=a),i=e.pendingLanes,i===0&&(Qr=null),Kw(s.stateNode),Mt(e,Ie()),t!==null)for(n=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ic)throw Ic=!1,e=zf,zf=null,e;return _c&1&&e.tag!==0&&Ia(),i=e.pendingLanes,i&1?e===Uf?ro++:(ro=0,Uf=e):ro=0,dn(),null}function Ia(){if(Vr!==null){var e=gv(_c),t=ns.transition,s=be;try{if(ns.transition=null,be=16>e?16:e,Vr===null)var n=!1;else{if(e=Vr,Vr=null,_c=0,ye&6)throw Error(G(331));var a=ye;for(ye|=4,J=e.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:to(8,d,i)}var f=d.child;if(f!==null)f.return=d,J=f;else for(;J!==null;){d=J;var m=d.sibling,x=d.return;if(Pj(d),d===u){J=null;break}if(m!==null){m.return=x,J=m;break}J=x}}}var h=i.alternate;if(h!==null){var j=h.child;if(j!==null){h.child=null;do{var b=j.sibling;j.sibling=null,j=b}while(j!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,J=y;break e}J=i.return}}var p=e.current;for(J=p;J!==null;){o=J;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,J=g;else e:for(o=p;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ju(9,l)}}catch(E){Oe(l,l.return,E)}if(l===o){J=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,J=N;break e}J=l.return}}if(ye=a,dn(),Ls&&typeof Ls.onPostCommitFiberRoot=="function")try{Ls.onPostCommitFiberRoot(fu,e)}catch{}n=!0}return n}finally{be=s,ns.transition=t}}return!1}function Jx(e,t,s){t=si(s,t),t=gj(e,t,1),e=Kr(e,t,1),t=jt(),e!==null&&(Yo(e,1,t),Mt(e,t))}function Oe(e,t,s){if(e.tag===3)Jx(e,e,s);else for(;t!==null;){if(t.tag===3){Jx(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qr===null||!Qr.has(n))){e=si(s,e),e=yj(t,e,1),t=Kr(t,e,1),e=jt(),t!==null&&(Yo(t,1,e),Mt(t,e));break}}t=t.return}}function j4(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),t=jt(),e.pingedLanes|=e.suspendedLanes&s,Je===e&&(st&s)===s&&(Ke===4||Ke===3&&(st&130023424)===st&&500>Ie()-wh?Vn(e,0):Nh|=s),Mt(e,t)}function Fj(e,t){t===0&&(e.mode&1?(t=gl,gl<<=1,!(gl&130023424)&&(gl=4194304)):t=1);var s=jt();e=fr(e,t),e!==null&&(Yo(e,t,s),Mt(e,s))}function b4(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Fj(e,s)}function N4(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),Fj(e,s)}var $j;$j=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)St=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return St=!1,c4(e,t,s);St=!!(e.flags&131072)}else St=!1,Pe&&t.flags&1048576&&Uv(t,Pc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Zl(e,t),e=t.pendingProps;var a=Ja(t,ft.current);La(t,s),a=xh(null,t,n,e,a,s);var i=gh();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pt(n)?(i=!0,Sc(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,dh(t),a.updater=vu,t.stateNode=a,a._reactInternals=t,Tf(t,n,e,s),t=Of(null,t,n,!0,i,s)):(t.tag=0,Pe&&i&&nh(t),gt(null,t,a,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Zl(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=k4(n),e=ds(n,e),a){case 0:t=Rf(null,t,n,e,s);break e;case 1:t=zx(null,t,n,e,s);break e;case 11:t=Vx(null,t,n,e,s);break e;case 14:t=Bx(null,t,n,ds(n.type,e),s);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ds(n,a),Rf(e,t,n,a,s);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ds(n,a),zx(e,t,n,a,s);case 3:e:{if(Nj(t),e===null)throw Error(G(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Gv(e,t),Tc(t,n,null,s);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=si(Error(G(423)),t),t=Ux(e,t,n,s,a);break e}else if(n!==a){a=si(Error(G(424)),t),t=Ux(e,t,n,s,a);break e}else for($t=Hr(t.stateNode.containerInfo.firstChild),Bt=t,Pe=!0,xs=null,s=Kv(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Za(),n===a){t=mr(e,t,s);break e}gt(e,t,n,s)}t=t.child}return t;case 5:return Yv(t),e===null&&Pf(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,wf(n,a)?o=null:i!==null&&wf(n,i)&&(t.flags|=32),bj(e,t),gt(e,t,o,s),t.child;case 6:return e===null&&Pf(t),null;case 13:return wj(e,t,s);case 4:return fh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ei(t,null,n,s):gt(e,t,n,s),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ds(n,a),Vx(e,t,n,a,s);case 7:return gt(e,t,t.pendingProps,s),t.child;case 8:return gt(e,t,t.pendingProps.children,s),t.child;case 12:return gt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Ne(Mc,n._currentValue),n._currentValue=o,i!==null)if(bs(i.value,o)){if(i.children===a.children&&!Et.current){t=mr(e,t,s);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=nr(-1,s&-s),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),Mf(i.return,s,t),l.lanes|=s;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=s,l=o.alternate,l!==null&&(l.lanes|=s),Mf(o,s,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}gt(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,La(t,s),a=as(a),n=n(a),t.flags|=1,gt(e,t,n,s),t.child;case 14:return n=t.type,a=ds(n,t.pendingProps),a=ds(n.type,a),Bx(e,t,n,a,s);case 15:return vj(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ds(n,a),Zl(e,t),t.tag=1,Pt(n)?(e=!0,Sc(t)):e=!1,La(t,s),xj(t,n,a),Tf(t,n,a,s),Of(null,t,n,!0,e,s);case 19:return kj(e,t,s);case 22:return jj(e,t,s)}throw Error(G(156,t.tag))};function Vj(e,t){return mv(e,t)}function w4(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(e,t,s,n){return new w4(e,t,s,n)}function Eh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function k4(e){if(typeof e=="function")return Eh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hm)return 11;if(e===Km)return 14}return 2}function Yr(e,t){var s=e.alternate;return s===null?(s=ss(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function sc(e,t,s,n,a,i){var o=2;if(n=e,typeof e=="function")Eh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case pa:return Bn(s.children,a,i,t);case Wm:o=8,a|=8;break;case ef:return e=ss(12,s,t,a|2),e.elementType=ef,e.lanes=i,e;case tf:return e=ss(13,s,t,a),e.elementType=tf,e.lanes=i,e;case sf:return e=ss(19,s,t,a),e.elementType=sf,e.lanes=i,e;case Yy:return Nu(s,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qy:o=10;break e;case Gy:o=9;break e;case Hm:o=11;break e;case Km:o=14;break e;case kr:o=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=ss(o,s,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Bn(e,t,s,n){return e=ss(7,e,n,t),e.lanes=s,e}function Nu(e,t,s,n){return e=ss(22,e,n,t),e.elementType=Yy,e.lanes=s,e.stateNode={isHidden:!1},e}function Nd(e,t,s){return e=ss(6,e,null,t),e.lanes=s,e}function wd(e,t,s){return t=ss(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function C4(e,t,s,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rd(0),this.expirationTimes=rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rd(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ph(e,t,s,n,a,i,o,l,c){return e=new C4(e,t,s,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ss(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},dh(i),e}function S4(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ha,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}function Bj(e){if(!e)return sn;e=e._reactInternals;e:{if(ia(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var s=e.type;if(Pt(s))return Bv(e,s,t)}return t}function zj(e,t,s,n,a,i,o,l,c){return e=Ph(s,n,!0,e,a,i,o,l,c),e.context=Bj(null),s=e.current,n=jt(),a=Gr(s),i=nr(n,a),i.callback=t??null,Kr(s,i,a),e.current.lanes=a,Yo(e,a,n),Mt(e,n),e}function wu(e,t,s,n){var a=t.current,i=jt(),o=Gr(a);return s=Bj(s),t.context===null?t.context=s:t.pendingContext=s,t=nr(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Kr(a,t,o),e!==null&&(vs(e,a,o,i),Yl(e,a,o)),o}function $c(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function Mh(e,t){Zx(e,t),(e=e.alternate)&&Zx(e,t)}function E4(){return null}var Uj=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dh(e){this._internalRoot=e}ku.prototype.render=Dh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));wu(e,t,null,null)};ku.prototype.unmount=Dh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){wu(null,e,null,null)}),t[dr]=null}};function ku(e){this._internalRoot=e}ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=jv();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Er.length&&t!==0&&t<Er[s].priority;s++);Er.splice(s,0,e),s===0&&Nv(e)}};function Th(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function e0(){}function P4(e,t,s,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=$c(o);i.call(u)}}var o=zj(t,n,e,0,null,!1,!1,"",e0);return e._reactRootContainer=o,e[dr]=o.current,jo(e.nodeType===8?e.parentNode:e),Xn(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=$c(c);l.call(u)}}var c=Ph(e,0,!1,null,null,!1,!1,"",e0);return e._reactRootContainer=c,e[dr]=c.current,jo(e.nodeType===8?e.parentNode:e),Xn(function(){wu(t,c,s,n)}),c}function Su(e,t,s,n,a){var i=s._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=$c(o);l.call(c)}}wu(t,o,e,a)}else o=P4(s,t,e,a,n);return $c(o)}yv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Ui(t.pendingLanes);s!==0&&(Ym(t,s|1),Mt(t,Ie()),!(ye&6)&&(ri=Ie()+500,dn()))}break;case 13:Xn(function(){var n=fr(e,1);if(n!==null){var a=jt();vs(n,e,1,a)}}),Mh(e,1)}};Xm=function(e){if(e.tag===13){var t=fr(e,134217728);if(t!==null){var s=jt();vs(t,e,134217728,s)}Mh(e,134217728)}};vv=function(e){if(e.tag===13){var t=Gr(e),s=fr(e,t);if(s!==null){var n=jt();vs(s,e,t,n)}Mh(e,t)}};jv=function(){return be};bv=function(e,t){var s=be;try{return be=e,t()}finally{be=s}};mf=function(e,t,s){switch(t){case"input":if(af(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var a=xu(n);if(!a)throw Error(G(90));Jy(n),af(n,a)}}}break;case"textarea":ev(e,s);break;case"select":t=s.value,t!=null&&Ta(e,!!s.multiple,t,!1)}};ov=kh;lv=Xn;var M4={usingClientEntryPoint:!1,Events:[Jo,va,xu,av,iv,kh]},Ti={findFiberByHostInstance:Cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D4={bundleType:Ti.bundleType,version:Ti.version,rendererPackageName:Ti.rendererPackageName,rendererConfig:Ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dv(e),e===null?null:e.stateNode},findFiberByHostInstance:Ti.findFiberByHostInstance||E4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{fu=Pl.inject(D4),Ls=Pl}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M4;Wt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Th(t))throw Error(G(200));return S4(e,t,null,s)};Wt.createRoot=function(e,t){if(!Th(e))throw Error(G(299));var s=!1,n="",a=Uj;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ph(e,1,!1,null,null,s,!1,n,a),e[dr]=t.current,jo(e.nodeType===8?e.parentNode:e),new Dh(t)};Wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=dv(t),e=e===null?null:e.stateNode,e};Wt.flushSync=function(e){return Xn(e)};Wt.hydrate=function(e,t,s){if(!Cu(t))throw Error(G(200));return Su(null,e,t,!0,s)};Wt.hydrateRoot=function(e,t,s){if(!Th(e))throw Error(G(405));var n=s!=null&&s.hydratedSources||null,a=!1,i="",o=Uj;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=zj(t,null,e,1,s??null,a,!1,i,o),e[dr]=t.current,jo(e),n)for(e=0;e<n.length;e++)s=n[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new ku(t)};Wt.render=function(e,t,s){if(!Cu(t))throw Error(G(200));return Su(null,e,t,!1,s)};Wt.unmountComponentAtNode=function(e){if(!Cu(e))throw Error(G(40));return e._reactRootContainer?(Xn(function(){Su(null,null,e,!1,function(){e._reactRootContainer=null,e[dr]=null})}),!0):!1};Wt.unstable_batchedUpdates=kh;Wt.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Cu(s))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Su(e,t,s,!1,n)};Wt.version="18.3.1-next-f1338f8080-20240426";function qj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qj)}catch(e){console.error(e)}}qj(),qy.exports=Wt;var rn=qy.exports,t0=rn;Jd.createRoot=t0.createRoot,Jd.hydrateRoot=t0.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mo(){return Mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Mo.apply(this,arguments)}var Br;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Br||(Br={}));const s0="popstate";function T4(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Hf("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:Vc(a)}return R4(t,s,null,e)}function Fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ah(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function A4(){return Math.random().toString(36).substr(2,8)}function r0(e,t){return{usr:e.state,key:e.key,idx:t}}function Hf(e,t,s,n){return s===void 0&&(s=null),Mo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?pi(t):t,{state:s,key:t&&t.key||n||A4()})}function Vc(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function pi(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function R4(e,t,s,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Br.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Mo({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Br.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:j.location,delta:y})}function m(b,y){l=Br.Push;let p=Hf(j.location,b,y);u=d()+1;let g=r0(p,u),N=j.createHref(p);try{o.pushState(g,"",N)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(N)}i&&c&&c({action:l,location:j.location,delta:1})}function x(b,y){l=Br.Replace;let p=Hf(j.location,b,y);u=d();let g=r0(p,u),N=j.createHref(p);o.replaceState(g,"",N),i&&c&&c({action:l,location:j.location,delta:0})}function h(b){let y=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof b=="string"?b:Vc(b);return p=p.replace(/ $/,"%20"),Fe(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let j={get action(){return l},get location(){return e(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(s0,f),c=b,()=>{a.removeEventListener(s0,f),c=null}},createHref(b){return t(a,b)},createURL:h,encodeLocation(b){let y=h(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:x,go(b){return o.go(b)}};return j}var n0;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(n0||(n0={}));function O4(e,t,s){return s===void 0&&(s="/"),L4(e,t,s)}function L4(e,t,s,n){let a=typeof t=="string"?pi(t):t,i=Rh(a.pathname||"/",s);if(i==null)return null;let o=Wj(e);I4(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Q4(i);l=W4(o[c],u)}return l}function Wj(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Fe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Xr([n,c.relativePath]),d=s.concat(c);i.children&&i.children.length>0&&(Fe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Wj(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:U4(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of Hj(i.path))a(i,o,c)}),t}function Hj(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,a=s.endsWith("?"),i=s.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Hj(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function I4(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:q4(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const _4=/^:[\w-]+$/,F4=3,$4=2,V4=1,B4=10,z4=-2,a0=e=>e==="*";function U4(e,t){let s=e.split("/"),n=s.length;return s.some(a0)&&(n+=z4),t&&(n+=$4),s.filter(a=>!a0(a)).reduce((a,i)=>a+(_4.test(i)?F4:i===""?V4:B4),n)}function q4(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function W4(e,t,s){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=H4({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Xr([i,f.pathname]),pathnameBase:Z4(Xr([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Xr([i,f.pathnameBase]))}return o}function H4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=K4(e.path,e.caseSensitive,e.end),a=t.match(s);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:x}=d;if(m==="*"){let j=l[f]||"";o=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const h=l[f];return x&&!h?u[m]=void 0:u[m]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function K4(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Ah(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Q4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ah(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}const G4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y4=e=>G4.test(e);function X4(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:a=""}=typeof e=="string"?pi(e):e,i;if(s)if(Y4(s))i=s;else{if(s.includes("//")){let o=s;s=s.replace(/\/\/+/g,"/"),Ah(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+s))}s.startsWith("/")?i=i0(s.substring(1),"/"):i=i0(s,t)}else i=t;return{pathname:i,search:ek(n),hash:tk(a)}}function i0(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function kd(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J4(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Oh(e,t){let s=J4(e);return t?s.map((n,a)=>a===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function Lh(e,t,s,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=pi(e):(a=Mo({},e),Fe(!a.pathname||!a.pathname.includes("?"),kd("?","pathname","search",a)),Fe(!a.pathname||!a.pathname.includes("#"),kd("#","pathname","hash",a)),Fe(!a.search||!a.search.includes("#"),kd("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=s;else{let f=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=X4(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Xr=e=>e.join("/").replace(/\/\/+/g,"/"),Z4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ek=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Kj=["post","put","patch","delete"];new Set(Kj);const rk=["get",...Kj];new Set(rk);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Do.apply(this,arguments)}const Ih=v.createContext(null),nk=v.createContext(null),fn=v.createContext(null),Eu=v.createContext(null),Us=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Qj=v.createContext(null);function ak(e,t){let{relative:s}=t===void 0?{}:t;xi()||Fe(!1);let{basename:n,navigator:a}=v.useContext(fn),{hash:i,pathname:o,search:l}=Yj(e,{relative:s}),c=o;return n!=="/"&&(c=o==="/"?n:Xr([n,o])),a.createHref({pathname:c,search:l,hash:i})}function xi(){return v.useContext(Eu)!=null}function mn(){return xi()||Fe(!1),v.useContext(Eu).location}function Gj(e){v.useContext(fn).static||v.useLayoutEffect(e)}function cs(){let{isDataRoute:e}=v.useContext(Us);return e?jk():ik()}function ik(){xi()||Fe(!1);let e=v.useContext(Ih),{basename:t,future:s,navigator:n}=v.useContext(fn),{matches:a}=v.useContext(Us),{pathname:i}=mn(),o=JSON.stringify(Oh(a,s.v7_relativeSplatPath)),l=v.useRef(!1);return Gj(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Lh(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Xr([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const ok=v.createContext(null);function lk(e){let t=v.useContext(Us).outlet;return t&&v.createElement(ok.Provider,{value:e},t)}function mt(){let{matches:e}=v.useContext(Us),t=e[e.length-1];return t?t.params:{}}function Yj(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=v.useContext(fn),{matches:a}=v.useContext(Us),{pathname:i}=mn(),o=JSON.stringify(Oh(a,n.v7_relativeSplatPath));return v.useMemo(()=>Lh(e,JSON.parse(o),i,s==="path"),[e,o,i,s])}function ck(e,t){return uk(e,t)}function uk(e,t,s,n){xi()||Fe(!1);let{navigator:a}=v.useContext(fn),{matches:i}=v.useContext(Us),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=mn(),d;if(t){var f;let b=typeof t=="string"?pi(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Fe(!1),d=b}else d=u;let m=d.pathname||"/",x=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let h=O4(e,{pathname:x}),j=pk(h&&h.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Xr([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Xr([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,s,n);return t&&j?v.createElement(Eu.Provider,{value:{location:Do({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Br.Pop}},j):j}function dk(){let e=vk(),t=sk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),s?v.createElement("pre",{style:a},s):null,null)}const fk=v.createElement(dk,null);class mk extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?v.createElement(Us.Provider,{value:this.props.routeContext},v.createElement(Qj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hk(e){let{routeContext:t,match:s,children:n}=e,a=v.useContext(Ih);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),v.createElement(Us.Provider,{value:t},n)}function pk(e,t,s,n){var a;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,l=(a=s)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Fe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(s&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:x}=s,h=f.route.loader&&m[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||h){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let x,h=!1,j=null,b=null;s&&(x=l&&f.route.id?l[f.route.id]:void 0,j=f.route.errorElement||fk,c&&(u<0&&m===0?(bk("route-fallback"),h=!0,b=null):u===m&&(h=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,m+1)),p=()=>{let g;return x?g=j:h?g=b:f.route.Component?g=v.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,v.createElement(hk,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:s!=null},children:g})};return s&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?v.createElement(mk,{location:s.location,revalidation:s.revalidation,component:j,error:x,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var Xj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Xj||{}),Jj=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Jj||{});function xk(e){let t=v.useContext(Ih);return t||Fe(!1),t}function gk(e){let t=v.useContext(nk);return t||Fe(!1),t}function yk(e){let t=v.useContext(Us);return t||Fe(!1),t}function Zj(e){let t=yk(),s=t.matches[t.matches.length-1];return s.route.id||Fe(!1),s.route.id}function vk(){var e;let t=v.useContext(Qj),s=gk(),n=Zj();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function jk(){let{router:e}=xk(Xj.UseNavigateStable),t=Zj(Jj.UseNavigateStable),s=v.useRef(!1);return Gj(()=>{s.current=!0}),v.useCallback(function(a,i){i===void 0&&(i={}),s.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Do({fromRouteId:t},i)))},[e,t])}const o0={};function bk(e,t,s){o0[e]||(o0[e]=!0)}function Nk(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Bc(e){let{to:t,replace:s,state:n,relative:a}=e;xi()||Fe(!1);let{future:i,static:o}=v.useContext(fn),{matches:l}=v.useContext(Us),{pathname:c}=mn(),u=cs(),d=Lh(t,Oh(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(f),{replace:s,state:n,relative:a}),[u,f,a,s,n]),null}function wk(e){return lk(e.context)}function Ee(e){Fe(!1)}function kk(e){let{basename:t="/",children:s=null,location:n,navigationType:a=Br.Pop,navigator:i,static:o=!1,future:l}=e;xi()&&Fe(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:o,future:Do({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=pi(n));let{pathname:d="/",search:f="",hash:m="",state:x=null,key:h="default"}=n,j=v.useMemo(()=>{let b=Rh(d,c);return b==null?null:{location:{pathname:b,search:f,hash:m,state:x,key:h},navigationType:a}},[c,d,f,m,x,h,a]);return j==null?null:v.createElement(fn.Provider,{value:u},v.createElement(Eu.Provider,{children:s,value:j}))}function Ck(e){let{children:t,location:s}=e;return ck(Kf(t),s)}new Promise(()=>{});function Kf(e,t){t===void 0&&(t=[]);let s=[];return v.Children.forEach(e,(n,a)=>{if(!v.isValidElement(n))return;let i=[...t,a];if(n.type===v.Fragment){s.push.apply(s,Kf(n.props.children,i));return}n.type!==Ee&&Fe(!1),!n.props.index||!n.props.children||Fe(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Kf(n.props.children,i)),s.push(o)}),s}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Qf.apply(this,arguments)}function Sk(e,t){if(e==null)return{};var s={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}function Ek(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Pk(e,t){return e.button===0&&(!t||t==="_self")&&!Ek(e)}const Mk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Dk="6";try{window.__reactRouterVersion=Dk}catch{}const Tk="startTransition",l0=jw[Tk];function Ak(e){let{basename:t,children:s,future:n,window:a}=e,i=v.useRef();i.current==null&&(i.current=T4({window:a,v5Compat:!0}));let o=i.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=v.useCallback(f=>{u&&l0?l0(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>Nk(n),[n]),v.createElement(kk,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:o,future:n})}const Rk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ok=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,me=v.forwardRef(function(t,s){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=Sk(t,Mk),{basename:x}=v.useContext(fn),h,j=!1;if(typeof u=="string"&&Ok.test(u)&&(h=u,Rk))try{let g=new URL(window.location.href),N=u.startsWith("//")?new URL(g.protocol+u):new URL(u),E=Rh(N.pathname,x);N.origin===g.origin&&E!=null?u=E+N.search+N.hash:j=!0}catch{}let b=ak(u,{relative:a}),y=Lk(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function p(g){n&&n(g),g.defaultPrevented||y(g)}return v.createElement("a",Qf({},m,{href:h||b,onClick:j||i?n:p,ref:s,target:c}))});var c0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(c0||(c0={}));var u0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(u0||(u0={}));function Lk(e,t){let{target:s,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=cs(),u=mn(),d=Yj(e,{relative:o});return v.useCallback(f=>{if(Pk(f,s)){f.preventDefault();let m=n!==void 0?n:Vc(u)===Vc(d);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,s,e,i,o,l])}var gi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ik={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Dr,_m,by,_k=(by=class{constructor(){Z(this,Dr,Ik);Z(this,_m,!1)}setTimeoutProvider(e){Y(this,Dr,e)}setTimeout(e,t){return A(this,Dr).setTimeout(e,t)}clearTimeout(e){A(this,Dr).clearTimeout(e)}setInterval(e,t){return A(this,Dr).setInterval(e,t)}clearInterval(e){A(this,Dr).clearInterval(e)}},Dr=new WeakMap,_m=new WeakMap,by),Pn=new _k;function Fk(e){setTimeout(e,0)}var Jn=typeof window>"u"||"Deno"in globalThis;function yt(){}function $k(e,t){return typeof e=="function"?e(t):e}function Gf(e){return typeof e=="number"&&e>=0&&e!==1/0}function eb(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Jr(e,t){return typeof e=="function"?e(t):e}function Jt(e,t){return typeof e=="function"?e(t):e}function d0(e,t){const{type:s="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==_h(o,t.options))return!1}else if(!To(t.queryKey,o))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function f0(e,t){const{exact:s,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(s){if(Zn(t.options.mutationKey)!==Zn(i))return!1}else if(!To(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function _h(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zn)(e)}function Zn(e){return JSON.stringify(e,(t,s)=>Yf(s)?Object.keys(s).sort().reduce((n,a)=>(n[a]=s[a],n),{}):s)}function To(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>To(e[s],t[s])):!1}var Vk=Object.prototype.hasOwnProperty;function tb(e,t){if(e===t)return e;const s=m0(e)&&m0(t);if(!s&&!(Yf(e)&&Yf(t)))return t;const a=(s?e:Object.keys(e)).length,i=s?t:Object.keys(t),o=i.length,l=s?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=s?u:i[u],f=e[d],m=t[d];if(f===m){l[d]=f,(s?u<a:Vk.call(e,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[d]=m;continue}const x=tb(f,m);l[d]=x,x===f&&c++}return a===o&&c===a?e:l}function zc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function m0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Yf(e){if(!h0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!h0(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function h0(e){return Object.prototype.toString.call(e)==="[object Object]"}function Bk(e){return new Promise(t=>{Pn.setTimeout(t,e)})}function Xf(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?tb(e,t):t}function zk(e,t,s=0){const n=[...e,t];return s&&n.length>s?n.slice(1):n}function Uk(e,t,s=0){const n=[t,...e];return s&&n.length>s?n.slice(0,-1):n}var Fh=Symbol();function sb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Fh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function $h(e,t){return typeof e=="function"?e(...t):!!e}function qk(e,t,s){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?s():a.addEventListener("abort",s,{once:!0})),a)}),e}var Tn,Tr,$a,Ny,Wk=(Ny=class extends gi{constructor(){super();Z(this,Tn);Z(this,Tr);Z(this,$a);Y(this,$a,t=>{if(!Jn&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){A(this,Tr)||this.setEventListener(A(this,$a))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,Tr))==null||t.call(this),Y(this,Tr,void 0))}setEventListener(t){var s;Y(this,$a,t),(s=A(this,Tr))==null||s.call(this),Y(this,Tr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){A(this,Tn)!==t&&(Y(this,Tn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof A(this,Tn)=="boolean"?A(this,Tn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Tn=new WeakMap,Tr=new WeakMap,$a=new WeakMap,Ny),Vh=new Wk;function Jf(){let e,t;const s=new Promise((a,i)=>{e=a,t=i});s.status="pending",s.catch(()=>{});function n(a){Object.assign(s,a),delete s.resolve,delete s.reject}return s.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},s.reject=a=>{n({status:"rejected",reason:a}),t(a)},s}var Hk=Fk;function Kk(){let e=[],t=0,s=l=>{l()},n=l=>{l()},a=Hk;const i=l=>{t?e.push(l):a(()=>{s(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var We=Kk(),Va,Ar,Ba,wy,Qk=(wy=class extends gi{constructor(){super();Z(this,Va,!0);Z(this,Ar);Z(this,Ba);Y(this,Ba,t=>{if(!Jn&&window.addEventListener){const s=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){A(this,Ar)||this.setEventListener(A(this,Ba))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,Ar))==null||t.call(this),Y(this,Ar,void 0))}setEventListener(t){var s;Y(this,Ba,t),(s=A(this,Ar))==null||s.call(this),Y(this,Ar,t(this.setOnline.bind(this)))}setOnline(t){A(this,Va)!==t&&(Y(this,Va,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return A(this,Va)}},Va=new WeakMap,Ar=new WeakMap,Ba=new WeakMap,wy),Uc=new Qk;function Gk(e){return Math.min(1e3*2**e,3e4)}function rb(e){return(e??"online")==="online"?Uc.isOnline():!0}var Zf=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function nb(e){let t=!1,s=0,n;const a=Jf(),i=()=>a.status!=="pending",o=j=>{var b;if(!i()){const y=new Zf(j);m(y),(b=e.onCancel)==null||b.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Vh.isFocused()&&(e.networkMode==="always"||Uc.isOnline())&&e.canRun(),d=()=>rb(e.networkMode)&&e.canRun(),f=j=>{i()||(n==null||n(),a.resolve(j))},m=j=>{i()||(n==null||n(),a.reject(j))},x=()=>new Promise(j=>{var b;n=y=>{(i()||u())&&j(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var j;n=void 0,i()||(j=e.onContinue)==null||j.call(e)}),h=()=>{if(i())return;let j;const b=s===0?e.initialPromise:void 0;try{j=b??e.fn()}catch(y){j=Promise.reject(y)}Promise.resolve(j).then(f).catch(y=>{var T;if(i())return;const p=e.retry??(Jn?0:3),g=e.retryDelay??Gk,N=typeof g=="function"?g(s,y):g,E=p===!0||typeof p=="number"&&s<p||typeof p=="function"&&p(s,y);if(t||!E){m(y);return}s++,(T=e.onFail)==null||T.call(e,s,y),Bk(N).then(()=>u()?void 0:x()).then(()=>{t?m(y):h()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?h():x().then(h),a)}}var An,ky,ab=(ky=class{constructor(){Z(this,An)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Gf(this.gcTime)&&Y(this,An,Pn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Jn?1/0:5*60*1e3))}clearGcTimeout(){A(this,An)&&(Pn.clearTimeout(A(this,An)),Y(this,An,void 0))}},An=new WeakMap,ky),Rn,za,Xt,On,Ye,Uo,Ln,fs,Ks,Cy,Yk=(Cy=class extends ab{constructor(t){super();Z(this,fs);Z(this,Rn);Z(this,za);Z(this,Xt);Z(this,On);Z(this,Ye);Z(this,Uo);Z(this,Ln);Y(this,Ln,!1),Y(this,Uo,t.defaultOptions),this.setOptions(t.options),this.observers=[],Y(this,On,t.client),Y(this,Xt,A(this,On).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Y(this,Rn,x0(this.options)),this.state=t.state??A(this,Rn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=A(this,Ye))==null?void 0:t.promise}setOptions(t){if(this.options={...A(this,Uo),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=x0(this.options);s.data!==void 0&&(this.setState(p0(s.data,s.dataUpdatedAt)),Y(this,Rn,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&A(this,Xt).remove(this)}setData(t,s){const n=Xf(this.state.data,t,this.options);return ce(this,fs,Ks).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(t,s){ce(this,fs,Ks).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var n,a;const s=(n=A(this,Ye))==null?void 0:n.promise;return(a=A(this,Ye))==null||a.cancel(t),s?s.then(yt).catch(yt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(A(this,Rn))}isActive(){return this.observers.some(t=>Jt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Jr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!eb(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=A(this,Ye))==null||s.continue()}onOnline(){var s;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=A(this,Ye))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),A(this,Xt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(A(this,Ye)&&(A(this,Ln)?A(this,Ye).cancel({revert:!0}):A(this,Ye).cancelRetry()),this.scheduleGc()),A(this,Xt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ce(this,fs,Ks).call(this,{type:"invalidate"})}async fetch(t,s){var c,u,d,f,m,x,h,j,b,y,p,g;if(this.state.fetchStatus!=="idle"&&((c=A(this,Ye))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(A(this,Ye))return A(this,Ye).continueRetry(),A(this,Ye).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(E=>E.options.queryFn);N&&this.setOptions(N.options)}const n=new AbortController,a=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(Y(this,Ln,!0),n.signal)})},i=()=>{const N=sb(this.options,s),T=(()=>{const k={client:A(this,On),queryKey:this.queryKey,meta:this.meta};return a(k),k})();return Y(this,Ln,!1),this.options.persister?this.options.persister(N,T,this):N(T)},l=(()=>{const N={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:A(this,On),state:this.state,fetchFn:i};return a(N),N})();(u=this.options.behavior)==null||u.onFetch(l,this),Y(this,za,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ce(this,fs,Ks).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Y(this,Ye,nb({initialPromise:s==null?void 0:s.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof Zf&&N.revert&&this.setState({...A(this,za),fetchStatus:"idle"}),n.abort()},onFail:(N,E)=>{ce(this,fs,Ks).call(this,{type:"failed",failureCount:N,error:E})},onPause:()=>{ce(this,fs,Ks).call(this,{type:"pause"})},onContinue:()=>{ce(this,fs,Ks).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await A(this,Ye).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(x=(m=A(this,Xt).config).onSuccess)==null||x.call(m,N,this),(j=(h=A(this,Xt).config).onSettled)==null||j.call(h,N,this.state.error,this),N}catch(N){if(N instanceof Zf){if(N.silent)return A(this,Ye).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw ce(this,fs,Ks).call(this,{type:"error",error:N}),(y=(b=A(this,Xt).config).onError)==null||y.call(b,N,this),(g=(p=A(this,Xt).config).onSettled)==null||g.call(p,this.state.data,N,this),N}finally{this.scheduleGc()}}},Rn=new WeakMap,za=new WeakMap,Xt=new WeakMap,On=new WeakMap,Ye=new WeakMap,Uo=new WeakMap,Ln=new WeakMap,fs=new WeakSet,Ks=function(t){const s=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ib(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...p0(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Y(this,za,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=s(this.state),We.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),A(this,Xt).notify({query:this,type:"updated",action:t})})},Cy);function ib(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function p0(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function x0(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,n=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var wt,xe,qo,ht,In,Ua,Ys,Rr,Wo,qa,Wa,_n,Fn,Or,Ha,ve,Wi,em,tm,sm,rm,nm,am,im,ob,Sy,Xk=(Sy=class extends gi{constructor(t,s){super();Z(this,ve);Z(this,wt);Z(this,xe);Z(this,qo);Z(this,ht);Z(this,In);Z(this,Ua);Z(this,Ys);Z(this,Rr);Z(this,Wo);Z(this,qa);Z(this,Wa);Z(this,_n);Z(this,Fn);Z(this,Or);Z(this,Ha,new Set);this.options=s,Y(this,wt,t),Y(this,Rr,null),Y(this,Ys,Jf()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(A(this,xe).addObserver(this),g0(A(this,xe),this.options)?ce(this,ve,Wi).call(this):this.updateResult(),ce(this,ve,rm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return om(A(this,xe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return om(A(this,xe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ce(this,ve,nm).call(this),ce(this,ve,am).call(this),A(this,xe).removeObserver(this)}setOptions(t){const s=this.options,n=A(this,xe);if(this.options=A(this,wt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Jt(this.options.enabled,A(this,xe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ce(this,ve,im).call(this),A(this,xe).setOptions(this.options),s._defaulted&&!zc(this.options,s)&&A(this,wt).getQueryCache().notify({type:"observerOptionsUpdated",query:A(this,xe),observer:this});const a=this.hasListeners();a&&y0(A(this,xe),n,this.options,s)&&ce(this,ve,Wi).call(this),this.updateResult(),a&&(A(this,xe)!==n||Jt(this.options.enabled,A(this,xe))!==Jt(s.enabled,A(this,xe))||Jr(this.options.staleTime,A(this,xe))!==Jr(s.staleTime,A(this,xe)))&&ce(this,ve,em).call(this);const i=ce(this,ve,tm).call(this);a&&(A(this,xe)!==n||Jt(this.options.enabled,A(this,xe))!==Jt(s.enabled,A(this,xe))||i!==A(this,Or))&&ce(this,ve,sm).call(this,i)}getOptimisticResult(t){const s=A(this,wt).getQueryCache().build(A(this,wt),t),n=this.createResult(s,t);return Zk(this,n)&&(Y(this,ht,n),Y(this,Ua,this.options),Y(this,In,A(this,xe).state)),n}getCurrentResult(){return A(this,ht)}trackResult(t,s){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),s==null||s(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&A(this,Ys).status==="pending"&&A(this,Ys).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){A(this,Ha).add(t)}getCurrentQuery(){return A(this,xe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=A(this,wt).defaultQueryOptions(t),n=A(this,wt).getQueryCache().build(A(this,wt),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(t){return ce(this,ve,Wi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),A(this,ht)))}createResult(t,s){var R;const n=A(this,xe),a=this.options,i=A(this,ht),o=A(this,In),l=A(this,Ua),u=t!==n?t.state:A(this,qo),{state:d}=t;let f={...d},m=!1,x;if(s._optimisticResults){const P=this.hasListeners(),S=!P&&g0(t,s),w=P&&y0(t,n,s,a);(S||w)&&(f={...f,...ib(d.data,t.options)}),s._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:h,errorUpdatedAt:j,status:b}=f;x=f.data;let y=!1;if(s.placeholderData!==void 0&&x===void 0&&b==="pending"){let P;i!=null&&i.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData)?(P=i.data,y=!0):P=typeof s.placeholderData=="function"?s.placeholderData((R=A(this,Wa))==null?void 0:R.state.data,A(this,Wa)):s.placeholderData,P!==void 0&&(b="success",x=Xf(i==null?void 0:i.data,P,s),m=!0)}if(s.select&&x!==void 0&&!y)if(i&&x===(o==null?void 0:o.data)&&s.select===A(this,Wo))x=A(this,qa);else try{Y(this,Wo,s.select),x=s.select(x),x=Xf(i==null?void 0:i.data,x,s),Y(this,qa,x),Y(this,Rr,null)}catch(P){Y(this,Rr,P)}A(this,Rr)&&(h=A(this,Rr),x=A(this,qa),j=Date.now(),b="error");const p=f.fetchStatus==="fetching",g=b==="pending",N=b==="error",E=g&&p,T=x!==void 0,M={status:b,fetchStatus:f.fetchStatus,isPending:g,isSuccess:b==="success",isError:N,isInitialLoading:E,isLoading:E,data:x,dataUpdatedAt:f.dataUpdatedAt,error:h,errorUpdatedAt:j,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!g,isLoadingError:N&&!T,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:N&&T,isStale:Bh(t,s),refetch:this.refetch,promise:A(this,Ys),isEnabled:Jt(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=D=>{M.status==="error"?D.reject(M.error):M.data!==void 0&&D.resolve(M.data)},S=()=>{const D=Y(this,Ys,M.promise=Jf());P(D)},w=A(this,Ys);switch(w.status){case"pending":t.queryHash===n.queryHash&&P(w);break;case"fulfilled":(M.status==="error"||M.data!==w.value)&&S();break;case"rejected":(M.status!=="error"||M.error!==w.reason)&&S();break}}return M}updateResult(){const t=A(this,ht),s=this.createResult(A(this,xe),this.options);if(Y(this,In,A(this,xe).state),Y(this,Ua,this.options),A(this,In).data!==void 0&&Y(this,Wa,A(this,xe)),zc(s,t))return;Y(this,ht,s);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!A(this,Ha).size)return!0;const o=new Set(i??A(this,Ha));return this.options.throwOnError&&o.add("error"),Object.keys(A(this,ht)).some(l=>{const c=l;return A(this,ht)[c]!==t[c]&&o.has(c)})};ce(this,ve,ob).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ce(this,ve,rm).call(this)}},wt=new WeakMap,xe=new WeakMap,qo=new WeakMap,ht=new WeakMap,In=new WeakMap,Ua=new WeakMap,Ys=new WeakMap,Rr=new WeakMap,Wo=new WeakMap,qa=new WeakMap,Wa=new WeakMap,_n=new WeakMap,Fn=new WeakMap,Or=new WeakMap,Ha=new WeakMap,ve=new WeakSet,Wi=function(t){ce(this,ve,im).call(this);let s=A(this,xe).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(yt)),s},em=function(){ce(this,ve,nm).call(this);const t=Jr(this.options.staleTime,A(this,xe));if(Jn||A(this,ht).isStale||!Gf(t))return;const n=eb(A(this,ht).dataUpdatedAt,t)+1;Y(this,_n,Pn.setTimeout(()=>{A(this,ht).isStale||this.updateResult()},n))},tm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(A(this,xe)):this.options.refetchInterval)??!1},sm=function(t){ce(this,ve,am).call(this),Y(this,Or,t),!(Jn||Jt(this.options.enabled,A(this,xe))===!1||!Gf(A(this,Or))||A(this,Or)===0)&&Y(this,Fn,Pn.setInterval(()=>{(this.options.refetchIntervalInBackground||Vh.isFocused())&&ce(this,ve,Wi).call(this)},A(this,Or)))},rm=function(){ce(this,ve,em).call(this),ce(this,ve,sm).call(this,ce(this,ve,tm).call(this))},nm=function(){A(this,_n)&&(Pn.clearTimeout(A(this,_n)),Y(this,_n,void 0))},am=function(){A(this,Fn)&&(Pn.clearInterval(A(this,Fn)),Y(this,Fn,void 0))},im=function(){const t=A(this,wt).getQueryCache().build(A(this,wt),this.options);if(t===A(this,xe))return;const s=A(this,xe);Y(this,xe,t),Y(this,qo,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},ob=function(t){We.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(A(this,ht))}),A(this,wt).getQueryCache().notify({query:A(this,xe),type:"observerResultsUpdated"})})},Sy);function Jk(e,t){return Jt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function g0(e,t){return Jk(e,t)||e.state.data!==void 0&&om(e,t,t.refetchOnMount)}function om(e,t,s){if(Jt(t.enabled,e)!==!1&&Jr(t.staleTime,e)!=="static"){const n=typeof s=="function"?s(e):s;return n==="always"||n!==!1&&Bh(e,t)}return!1}function y0(e,t,s,n){return(e!==t||Jt(n.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&Bh(e,s)}function Bh(e,t){return Jt(t.enabled,e)!==!1&&e.isStaleByTime(Jr(t.staleTime,e))}function Zk(e,t){return!zc(e.getCurrentResult(),t)}function v0(e){return{onFetch:(t,s)=>{var d,f,m,x,h;const n=t.options,a=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((x=t.state.data)==null?void 0:x.pages)||[],o=((h=t.state.data)==null?void 0:h.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let j=!1;const b=g=>{qk(g,()=>t.signal,()=>j=!0)},y=sb(t.options,t.fetchOptions),p=async(g,N,E)=>{if(j)return Promise.reject();if(N==null&&g.pages.length)return Promise.resolve(g);const k=(()=>{const S={client:t.client,queryKey:t.queryKey,pageParam:N,direction:E?"backward":"forward",meta:t.options.meta};return b(S),S})(),M=await y(k),{maxPages:R}=t.options,P=E?Uk:zk;return{pages:P(g.pages,M,R),pageParams:P(g.pageParams,N,R)}};if(a&&i.length){const g=a==="backward",N=g?eC:j0,E={pages:i,pageParams:o},T=N(n,E);l=await p(E,T,g)}else{const g=e??i.length;do{const N=c===0?o[0]??n.initialPageParam:j0(n,l);if(c>0&&N==null)break;l=await p(l,N),c++}while(c<g)}return l};t.options.persister?t.fetchFn=()=>{var j,b;return(b=(j=t.options).persister)==null?void 0:b.call(j,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=u}}}function j0(e,{pages:t,pageParams:s}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,s[n],s):void 0}function eC(e,{pages:t,pageParams:s}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,s[0],s):void 0}var Ho,Ss,pt,$n,Es,Nr,Ey,tC=(Ey=class extends ab{constructor(t){super();Z(this,Es);Z(this,Ho);Z(this,Ss);Z(this,pt);Z(this,$n);Y(this,Ho,t.client),this.mutationId=t.mutationId,Y(this,pt,t.mutationCache),Y(this,Ss,[]),this.state=t.state||lb(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){A(this,Ss).includes(t)||(A(this,Ss).push(t),this.clearGcTimeout(),A(this,pt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Y(this,Ss,A(this,Ss).filter(s=>s!==t)),this.scheduleGc(),A(this,pt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){A(this,Ss).length||(this.state.status==="pending"?this.scheduleGc():A(this,pt).remove(this))}continue(){var t;return((t=A(this,$n))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,m,x,h,j,b,y,p,g,N,E,T,k,M,R;const s=()=>{ce(this,Es,Nr).call(this,{type:"continue"})},n={client:A(this,Ho),meta:this.options.meta,mutationKey:this.options.mutationKey};Y(this,$n,nb({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(P,S)=>{ce(this,Es,Nr).call(this,{type:"failed",failureCount:P,error:S})},onPause:()=>{ce(this,Es,Nr).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>A(this,pt).canRun(this)}));const a=this.state.status==="pending",i=!A(this,$n).canStart();try{if(a)s();else{ce(this,Es,Nr).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=A(this,pt).config).onMutate)==null?void 0:l.call(o,t,this,n));const S=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));S!==this.state.context&&ce(this,Es,Nr).call(this,{type:"pending",context:S,variables:t,isPaused:i})}const P=await A(this,$n).start();return await((f=(d=A(this,pt).config).onSuccess)==null?void 0:f.call(d,P,t,this.state.context,this,n)),await((x=(m=this.options).onSuccess)==null?void 0:x.call(m,P,t,this.state.context,n)),await((j=(h=A(this,pt).config).onSettled)==null?void 0:j.call(h,P,null,this.state.variables,this.state.context,this,n)),await((y=(b=this.options).onSettled)==null?void 0:y.call(b,P,null,t,this.state.context,n)),ce(this,Es,Nr).call(this,{type:"success",data:P}),P}catch(P){try{await((g=(p=A(this,pt).config).onError)==null?void 0:g.call(p,P,t,this.state.context,this,n))}catch(S){Promise.reject(S)}try{await((E=(N=this.options).onError)==null?void 0:E.call(N,P,t,this.state.context,n))}catch(S){Promise.reject(S)}try{await((k=(T=A(this,pt).config).onSettled)==null?void 0:k.call(T,void 0,P,this.state.variables,this.state.context,this,n))}catch(S){Promise.reject(S)}try{await((R=(M=this.options).onSettled)==null?void 0:R.call(M,void 0,P,t,this.state.context,n))}catch(S){Promise.reject(S)}throw ce(this,Es,Nr).call(this,{type:"error",error:P}),P}finally{A(this,pt).runNext(this)}}},Ho=new WeakMap,Ss=new WeakMap,pt=new WeakMap,$n=new WeakMap,Es=new WeakSet,Nr=function(t){const s=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),We.batch(()=>{A(this,Ss).forEach(n=>{n.onMutationUpdate(t)}),A(this,pt).notify({mutation:this,type:"updated",action:t})})},Ey);function lb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xs,ms,Ko,Py,sC=(Py=class extends gi{constructor(t={}){super();Z(this,Xs);Z(this,ms);Z(this,Ko);this.config=t,Y(this,Xs,new Set),Y(this,ms,new Map),Y(this,Ko,0)}build(t,s,n){const a=new tC({client:t,mutationCache:this,mutationId:++dl(this,Ko)._,options:t.defaultMutationOptions(s),state:n});return this.add(a),a}add(t){A(this,Xs).add(t);const s=Ml(t);if(typeof s=="string"){const n=A(this,ms).get(s);n?n.push(t):A(this,ms).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(A(this,Xs).delete(t)){const s=Ml(t);if(typeof s=="string"){const n=A(this,ms).get(s);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&A(this,ms).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Ml(t);if(typeof s=="string"){const n=A(this,ms).get(s),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const s=Ml(t);if(typeof s=="string"){const a=(n=A(this,ms).get(s))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){We.batch(()=>{A(this,Xs).forEach(t=>{this.notify({type:"removed",mutation:t})}),A(this,Xs).clear(),A(this,ms).clear()})}getAll(){return Array.from(A(this,Xs))}find(t){const s={exact:!0,...t};return this.getAll().find(n=>f0(s,n))}findAll(t={}){return this.getAll().filter(s=>f0(t,s))}notify(t){We.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return We.batch(()=>Promise.all(t.map(s=>s.continue().catch(yt))))}},Xs=new WeakMap,ms=new WeakMap,Ko=new WeakMap,Py);function Ml(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Js,Lr,kt,Zs,cr,rc,lm,My,rC=(My=class extends gi{constructor(s,n){super();Z(this,cr);Z(this,Js);Z(this,Lr);Z(this,kt);Z(this,Zs);Y(this,Js,s),this.setOptions(n),this.bindMethods(),ce(this,cr,rc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var a;const n=this.options;this.options=A(this,Js).defaultMutationOptions(s),zc(this.options,n)||A(this,Js).getMutationCache().notify({type:"observerOptionsUpdated",mutation:A(this,kt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Zn(n.mutationKey)!==Zn(this.options.mutationKey)?this.reset():((a=A(this,kt))==null?void 0:a.state.status)==="pending"&&A(this,kt).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=A(this,kt))==null||s.removeObserver(this)}onMutationUpdate(s){ce(this,cr,rc).call(this),ce(this,cr,lm).call(this,s)}getCurrentResult(){return A(this,Lr)}reset(){var s;(s=A(this,kt))==null||s.removeObserver(this),Y(this,kt,void 0),ce(this,cr,rc).call(this),ce(this,cr,lm).call(this)}mutate(s,n){var a;return Y(this,Zs,n),(a=A(this,kt))==null||a.removeObserver(this),Y(this,kt,A(this,Js).getMutationCache().build(A(this,Js),this.options)),A(this,kt).addObserver(this),A(this,kt).execute(s)}},Js=new WeakMap,Lr=new WeakMap,kt=new WeakMap,Zs=new WeakMap,cr=new WeakSet,rc=function(){var n;const s=((n=A(this,kt))==null?void 0:n.state)??lb();Y(this,Lr,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},lm=function(s){We.batch(()=>{var n,a,i,o,l,c,u,d;if(A(this,Zs)&&this.hasListeners()){const f=A(this,Lr).variables,m=A(this,Lr).context,x={client:A(this,Js),meta:this.options.meta,mutationKey:this.options.mutationKey};if((s==null?void 0:s.type)==="success"){try{(a=(n=A(this,Zs)).onSuccess)==null||a.call(n,s.data,f,m,x)}catch(h){Promise.reject(h)}try{(o=(i=A(this,Zs)).onSettled)==null||o.call(i,s.data,null,f,m,x)}catch(h){Promise.reject(h)}}else if((s==null?void 0:s.type)==="error"){try{(c=(l=A(this,Zs)).onError)==null||c.call(l,s.error,f,m,x)}catch(h){Promise.reject(h)}try{(d=(u=A(this,Zs)).onSettled)==null||d.call(u,void 0,s.error,f,m,x)}catch(h){Promise.reject(h)}}}this.listeners.forEach(f=>{f(A(this,Lr))})})},My),Ps,Dy,nC=(Dy=class extends gi{constructor(t={}){super();Z(this,Ps);this.config=t,Y(this,Ps,new Map)}build(t,s,n){const a=s.queryKey,i=s.queryHash??_h(a,s);let o=this.get(i);return o||(o=new Yk({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(s),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){A(this,Ps).has(t.queryHash)||(A(this,Ps).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=A(this,Ps).get(t.queryHash);s&&(t.destroy(),s===t&&A(this,Ps).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){We.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return A(this,Ps).get(t)}getAll(){return[...A(this,Ps).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(n=>d0(s,n))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(n=>d0(t,n)):s}notify(t){We.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){We.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){We.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ps=new WeakMap,Dy),Re,Ir,_r,Ka,Qa,Fr,Ga,Ya,Ty,aC=(Ty=class{constructor(e={}){Z(this,Re);Z(this,Ir);Z(this,_r);Z(this,Ka);Z(this,Qa);Z(this,Fr);Z(this,Ga);Z(this,Ya);Y(this,Re,e.queryCache||new nC),Y(this,Ir,e.mutationCache||new sC),Y(this,_r,e.defaultOptions||{}),Y(this,Ka,new Map),Y(this,Qa,new Map),Y(this,Fr,0)}mount(){dl(this,Fr)._++,A(this,Fr)===1&&(Y(this,Ga,Vh.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,Re).onFocus())})),Y(this,Ya,Uc.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,Re).onOnline())})))}unmount(){var e,t;dl(this,Fr)._--,A(this,Fr)===0&&((e=A(this,Ga))==null||e.call(this),Y(this,Ga,void 0),(t=A(this,Ya))==null||t.call(this),Y(this,Ya,void 0))}isFetching(e){return A(this,Re).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return A(this,Ir).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=A(this,Re).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=A(this,Re).build(this,t),n=s.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(Jr(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return A(this,Re).findAll(e).map(({queryKey:t,state:s})=>{const n=s.data;return[t,n]})}setQueryData(e,t,s){const n=this.defaultQueryOptions({queryKey:e}),a=A(this,Re).get(n.queryHash),i=a==null?void 0:a.state.data,o=$k(t,i);if(o!==void 0)return A(this,Re).build(this,n).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return We.batch(()=>A(this,Re).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=A(this,Re).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=A(this,Re);We.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=A(this,Re);return We.batch(()=>(s.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},n=We.batch(()=>A(this,Re).findAll(e).map(a=>a.cancel(s)));return Promise.all(n).then(yt).catch(yt)}invalidateQueries(e,t={}){return We.batch(()=>(A(this,Re).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},n=We.batch(()=>A(this,Re).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,s);return s.throwOnError||(i=i.catch(yt)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(yt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=A(this,Re).build(this,t);return s.isStaleByTime(Jr(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(yt).catch(yt)}fetchInfiniteQuery(e){return e.behavior=v0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(yt).catch(yt)}ensureInfiniteQueryData(e){return e.behavior=v0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Uc.isOnline()?A(this,Ir).resumePausedMutations():Promise.resolve()}getQueryCache(){return A(this,Re)}getMutationCache(){return A(this,Ir)}getDefaultOptions(){return A(this,_r)}setDefaultOptions(e){Y(this,_r,e)}setQueryDefaults(e,t){A(this,Ka).set(Zn(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...A(this,Ka).values()],s={};return t.forEach(n=>{To(e,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(e,t){A(this,Qa).set(Zn(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...A(this,Qa).values()],s={};return t.forEach(n=>{To(e,n.mutationKey)&&Object.assign(s,n.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...A(this,_r).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_h(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Fh&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...A(this,_r).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){A(this,Re).clear(),A(this,Ir).clear()}},Re=new WeakMap,Ir=new WeakMap,_r=new WeakMap,Ka=new WeakMap,Qa=new WeakMap,Fr=new WeakMap,Ga=new WeakMap,Ya=new WeakMap,Ty),cb=v.createContext(void 0),qs=e=>{const t=v.useContext(cb);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},iC=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(cb.Provider,{value:e,children:t})),ub=v.createContext(!1),oC=()=>v.useContext(ub);ub.Provider;function lC(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var cC=v.createContext(lC()),uC=()=>v.useContext(cC),dC=(e,t,s)=>{const n=s!=null&&s.state.error&&typeof e.throwOnError=="function"?$h(e.throwOnError,[s.state.error,s]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},fC=e=>{v.useEffect(()=>{e.clearReset()},[e])},mC=({result:e,errorResetBoundary:t,throwOnError:s,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||$h(s,[e.error,n])),hC=e=>{if(e.suspense){const s=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>s(n(...a)):s(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},pC=(e,t)=>e.isLoading&&e.isFetching&&!t,xC=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,b0=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function gC(e,t,s){var m,x,h,j;const n=oC(),a=uC(),i=qs(),o=i.defaultQueryOptions(e);(x=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||x.call(m,o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",hC(o),dC(o,a,l),fC(a);const c=!i.getQueryCache().get(o.queryHash),[u]=v.useState(()=>new t(i,o)),d=u.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(b=>{const y=f?u.subscribe(We.batchCalls(b)):yt;return u.updateResult(),y},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),v.useEffect(()=>{u.setOptions(o)},[o,u]),xC(o,d))throw b0(o,u,a);if(mC({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if((j=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||j.call(h,o,d),o.experimental_prefetchInRender&&!Jn&&pC(d,n)){const b=c?b0(o,u,a):l==null?void 0:l.promise;b==null||b.catch(yt).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function Vs(e,t){return gC(e,Xk)}function zr(e,t){const s=qs(),[n]=v.useState(()=>new rC(s,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const a=v.useSyncExternalStore(v.useCallback(o=>n.subscribe(We.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=v.useCallback((o,l)=>{n.mutate(o,l).catch(yt)},[n]);if(a.error&&$h(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}let yC={data:""},vC=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||yC},jC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,bC=/\/\*[^]*?\*\/|  +/g,N0=/\n+/g,Mr=(e,t)=>{let s="",n="",a="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?s=i+" "+o+";":n+=i[1]=="f"?Mr(o,i):i+"{"+Mr(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Mr(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Mr.p?Mr.p(i,o):i+":"+o+";")}return s+(t&&a?t+"{"+a+"}":a)+n},Hs={},db=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+db(e[s]);return t}return e},NC=(e,t,s,n,a)=>{let i=db(e),o=Hs[i]||(Hs[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Hs[o]){let c=i!==e?e:(u=>{let d,f,m=[{}];for(;d=jC.exec(u.replace(bC,""));)d[4]?m.shift():d[3]?(f=d[3].replace(N0," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(N0," ").trim();return m[0]})(e);Hs[o]=Mr(a?{["@keyframes "+o]:c}:c,s?"":"."+o)}let l=s&&Hs.g?Hs.g:null;return s&&(Hs.g=Hs[o]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Hs[o],t,n,l),o},wC=(e,t,s)=>e.reduce((n,a,i)=>{let o=t[i];if(o&&o.call){let l=o(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Mr(l,""):l===!1?"":l}return n+a+(o??"")},"");function Pu(e){let t=this||{},s=e.call?e(t.p):e;return NC(s.unshift?s.raw?wC(s,[].slice.call(arguments,1),t.p):s.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):s,vC(t.target),t.g,t.o,t.k)}let fb,cm,um;Pu.bind({g:1});let hr=Pu.bind({k:1});function kC(e,t,s,n){Mr.p=t,fb=e,cm=s,um=n}function hn(e,t){let s=this||{};return function(){let n=arguments;function a(i,o){let l=Object.assign({},i),c=l.className||a.className;s.p=Object.assign({theme:cm&&cm()},l),s.o=/ *go\d+/.test(c),l.className=Pu.apply(s,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),um&&u[0]&&um(l),fb(u,l)}return a}}var CC=e=>typeof e=="function",qc=(e,t)=>CC(e)?e(t):e,SC=(()=>{let e=0;return()=>(++e).toString()})(),mb=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),EC=20,zh="default",hb=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,s)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return hb(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(o=>o.id===a||a===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},nc=[],pb={toasts:[],pausedAt:void 0,settings:{toastLimit:EC}},Rs={},xb=(e,t=zh)=>{Rs[t]=hb(Rs[t]||pb,e),nc.forEach(([s,n])=>{s===t&&n(Rs[t])})},gb=e=>Object.keys(Rs).forEach(t=>xb(e,t)),PC=e=>Object.keys(Rs).find(t=>Rs[t].toasts.some(s=>s.id===e)),Mu=(e=zh)=>t=>{xb(t,e)},MC={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},DC=(e={},t=zh)=>{let[s,n]=v.useState(Rs[t]||pb),a=v.useRef(Rs[t]);v.useEffect(()=>(a.current!==Rs[t]&&n(Rs[t]),nc.push([t,n]),()=>{let o=nc.findIndex(([l])=>l===t);o>-1&&nc.splice(o,1)}),[t]);let i=s.toasts.map(o=>{var l,c,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||MC[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...s,toasts:i}},TC=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||SC()}),el=e=>(t,s)=>{let n=TC(t,e,s);return Mu(n.toasterId||PC(n.id))({type:2,toast:n}),n.id},He=(e,t)=>el("blank")(e,t);He.error=el("error");He.success=el("success");He.loading=el("loading");He.custom=el("custom");He.dismiss=(e,t)=>{let s={type:3,toastId:e};t?Mu(t)(s):gb(s)};He.dismissAll=e=>He.dismiss(void 0,e);He.remove=(e,t)=>{let s={type:4,toastId:e};t?Mu(t)(s):gb(s)};He.removeAll=e=>He.remove(void 0,e);He.promise=(e,t,s)=>{let n=He.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?qc(t.success,a):void 0;return i?He.success(i,{id:n,...s,...s==null?void 0:s.success}):He.dismiss(n),a}).catch(a=>{let i=t.error?qc(t.error,a):void 0;i?He.error(i,{id:n,...s,...s==null?void 0:s.error}):He.dismiss(n)}),e};var AC=1e3,RC=(e,t="default")=>{let{toasts:s,pausedAt:n}=DC(e,t),a=v.useRef(new Map).current,i=v.useCallback((f,m=AC)=>{if(a.has(f))return;let x=setTimeout(()=>{a.delete(f),o({type:4,toastId:f})},m);a.set(f,x)},[]);v.useEffect(()=>{if(n)return;let f=Date.now(),m=s.map(x=>{if(x.duration===1/0)return;let h=(x.duration||0)+x.pauseDuration-(f-x.createdAt);if(h<0){x.visible&&He.dismiss(x.id);return}return setTimeout(()=>He.dismiss(x.id,t),h)});return()=>{m.forEach(x=>x&&clearTimeout(x))}},[s,n,t]);let o=v.useCallback(Mu(t),[t]),l=v.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=v.useCallback((f,m)=>{o({type:1,toast:{id:f,height:m}})},[o]),u=v.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),d=v.useCallback((f,m)=>{let{reverseOrder:x=!1,gutter:h=8,defaultPosition:j}=m||{},b=s.filter(g=>(g.position||j)===(f.position||j)&&g.height),y=b.findIndex(g=>g.id===f.id),p=b.filter((g,N)=>N<y&&g.visible).length;return b.filter(g=>g.visible).slice(...x?[p+1]:[0,p]).reduce((g,N)=>g+(N.height||0)+h,0)},[s]);return v.useEffect(()=>{s.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let m=a.get(f.id);m&&(clearTimeout(m),a.delete(f.id))}})},[s,i]),{toasts:s,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},OC=hr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,LC=hr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,IC=hr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_C=hn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${OC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${LC} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${IC} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,FC=hr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,$C=hn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${FC} 1s linear infinite;
`,VC=hr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,BC=hr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,zC=hn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${VC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${BC} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,UC=hn("div")`
  position: absolute;
`,qC=hn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,WC=hr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,HC=hn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${WC} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,KC=({toast:e})=>{let{icon:t,type:s,iconTheme:n}=e;return t!==void 0?typeof t=="string"?v.createElement(HC,null,t):t:s==="blank"?null:v.createElement(qC,null,v.createElement($C,{...n}),s!=="loading"&&v.createElement(UC,null,s==="error"?v.createElement(_C,{...n}):v.createElement(zC,{...n})))},QC=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,GC=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,YC="0%{opacity:0;} 100%{opacity:1;}",XC="0%{opacity:1;} 100%{opacity:0;}",JC=hn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ZC=hn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,eS=(e,t)=>{let s=e.includes("top")?1:-1,[n,a]=mb()?[YC,XC]:[QC(s),GC(s)];return{animation:t?`${hr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${hr(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},tS=v.memo(({toast:e,position:t,style:s,children:n})=>{let a=e.height?eS(e.position||t||"top-center",e.visible):{opacity:0},i=v.createElement(KC,{toast:e}),o=v.createElement(ZC,{...e.ariaProps},qc(e.message,e));return v.createElement(JC,{className:e.className,style:{...a,...s,...e.style}},typeof n=="function"?n({icon:i,message:o}):v.createElement(v.Fragment,null,i,o))});kC(v.createElement);var sS=({id:e,className:t,style:s,onHeightUpdate:n,children:a})=>{let i=v.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return v.createElement("div",{ref:i,className:t,style:s},a)},rS=(e,t)=>{let s=e.includes("top"),n=s?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:mb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...n,...a}},nS=Pu`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Dl=16,aS=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:n,children:a,toasterId:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:u}=RC(s,i);return v.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Dl,left:Dl,right:Dl,bottom:Dl,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||t,m=u.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),x=rS(f,m);return v.createElement(sS,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?nS:"",style:x},d.type==="custom"?qc(d.message,d):a?a(d):v.createElement(tS,{toast:d,position:f}))}))},V=He;const iS={},w0=e=>{let t;const s=new Set,n=(d,f)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const x=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),s.forEach(h=>h(t,x))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>u,subscribe:d=>(s.add(d),()=>s.delete(d)),destroy:()=>{(iS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},u=t=e(n,a,c);return c},oS=e=>e?w0(e):w0;var yb={exports:{}},vb={},jb={exports:{}},bb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ni=v;function lS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cS=typeof Object.is=="function"?Object.is:lS,uS=ni.useState,dS=ni.useEffect,fS=ni.useLayoutEffect,mS=ni.useDebugValue;function hS(e,t){var s=t(),n=uS({inst:{value:s,getSnapshot:t}}),a=n[0].inst,i=n[1];return fS(function(){a.value=s,a.getSnapshot=t,Cd(a)&&i({inst:a})},[e,s,t]),dS(function(){return Cd(a)&&i({inst:a}),e(function(){Cd(a)&&i({inst:a})})},[e]),mS(s),s}function Cd(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!cS(e,s)}catch{return!0}}function pS(e,t){return t()}var xS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pS:hS;bb.useSyncExternalStore=ni.useSyncExternalStore!==void 0?ni.useSyncExternalStore:xS;jb.exports=bb;var gS=jb.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=v,yS=gS;function vS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jS=typeof Object.is=="function"?Object.is:vS,bS=yS.useSyncExternalStore,NS=Du.useRef,wS=Du.useEffect,kS=Du.useMemo,CS=Du.useDebugValue;vb.useSyncExternalStoreWithSelector=function(e,t,s,n,a){var i=NS(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=kS(function(){function c(x){if(!u){if(u=!0,d=x,x=n(x),a!==void 0&&o.hasValue){var h=o.value;if(a(h,x))return f=h}return f=x}if(h=f,jS(d,x))return h;var j=n(x);return a!==void 0&&a(h,j)?(d=x,h):(d=x,f=j)}var u=!1,d,f,m=s===void 0?null:s;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,s,n,a]);var l=bS(e,i[0],i[1]);return wS(function(){o.hasValue=!0,o.value=l},[l]),CS(l),l};yb.exports=vb;var SS=yb.exports;const ES=Ay(SS),Nb={},{useDebugValue:PS}=Go,{useSyncExternalStoreWithSelector:MS}=ES;let k0=!1;const DS=e=>e;function TS(e,t=DS,s){(Nb?"production":void 0)!=="production"&&s&&!k0&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),k0=!0);const n=MS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return PS(n),n}const C0=e=>{(Nb?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?oS(e):e,s=(n,a)=>TS(t,n,a);return Object.assign(s,t),s},Uh=e=>e?C0(e):C0,AS={};function RS(e,t){let s;try{s=e()}catch{return}return{getItem:a=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=s.getItem(a))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(a,i)=>s.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>s.removeItem(a)}}const Ao=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then(n){return Ao(n)(s)},catch(n){return this}}}catch(s){return{then(n){return this},catch(n){return Ao(n)(s)}}}},OS=(e,t)=>(s,n,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,y)=>({...y,...b}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...b)},n,a);const d=Ao(i.serialize),f=()=>{const b=i.partialize({...n()});let y;const p=d({state:b,version:i.version}).then(g=>u.setItem(i.name,g)).catch(g=>{y=g});if(y)throw y;return p},m=a.setState;a.setState=(b,y)=>{m(b,y),f()};const x=e((...b)=>{s(...b),f()},n,a);let h;const j=()=>{var b;if(!u)return;o=!1,l.forEach(p=>p(n()));const y=((b=i.onRehydrateStorage)==null?void 0:b.call(i,n()))||void 0;return Ao(u.getItem.bind(u))(i.name).then(p=>{if(p)return i.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return i.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var g;return h=i.merge(p,(g=n())!=null?g:x),s(h,!0),f()}).then(()=>{y==null||y(h,void 0),o=!0,c.forEach(p=>p(h))}).catch(p=>{y==null||y(void 0,p)})};return a.persist={setOptions:b=>{i={...i,...b},b.getStorage&&(u=b.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>j(),hasHydrated:()=>o,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},j(),h||x},LS=(e,t)=>(s,n,a)=>{let i={storage:RS(()=>localStorage),partialize:j=>j,version:0,merge:(j,b)=>({...b,...j}),...t},o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...j)},n,a);const d=()=>{const j=i.partialize({...n()});return u.setItem(i.name,{state:j,version:i.version})},f=a.setState;a.setState=(j,b)=>{f(j,b),d()};const m=e((...j)=>{s(...j),d()},n,a);a.getInitialState=()=>m;let x;const h=()=>{var j,b;if(!u)return;o=!1,l.forEach(p=>{var g;return p((g=n())!=null?g:m)});const y=((b=i.onRehydrateStorage)==null?void 0:b.call(i,(j=n())!=null?j:m))||void 0;return Ao(u.getItem.bind(u))(i.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return[!0,i.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var g;const[N,E]=p;if(x=i.merge(E,(g=n())!=null?g:m),s(x,!0),N)return d()}).then(()=>{y==null||y(x,void 0),x=n(),o=!0,c.forEach(p=>p(x))}).catch(p=>{y==null||y(void 0,p)})};return a.persist={setOptions:j=>{i={...i,...j},j.storage&&(u=j.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>h(),hasHydrated:()=>o,onHydrate:j=>(l.add(j),()=>{l.delete(j)}),onFinishHydration:j=>(c.add(j),()=>{c.delete(j)})},i.skipHydration||h(),x||m},IS=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((AS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),OS(e,t)):LS(e,t),_S=IS;function wb(e,t){return function(){return e.apply(t,arguments)}}const{toString:FS}=Object.prototype,{getPrototypeOf:qh}=Object,{iterator:Tu,toStringTag:kb}=Symbol,Au=(e=>t=>{const s=FS.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ns=e=>(e=e.toLowerCase(),t=>Au(t)===e),Ru=e=>t=>typeof t===e,{isArray:yi}=Array,ai=Ru("undefined");function tl(e){return e!==null&&!ai(e)&&e.constructor!==null&&!ai(e.constructor)&&Dt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Cb=Ns("ArrayBuffer");function $S(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Cb(e.buffer),t}const VS=Ru("string"),Dt=Ru("function"),Sb=Ru("number"),sl=e=>e!==null&&typeof e=="object",BS=e=>e===!0||e===!1,ac=e=>{if(Au(e)!=="object")return!1;const t=qh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(kb in e)&&!(Tu in e)},zS=e=>{if(!sl(e)||tl(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},US=Ns("Date"),qS=Ns("File"),WS=Ns("Blob"),HS=Ns("FileList"),KS=e=>sl(e)&&Dt(e.pipe),QS=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Dt(e.append)&&((t=Au(e))==="formdata"||t==="object"&&Dt(e.toString)&&e.toString()==="[object FormData]"))},GS=Ns("URLSearchParams"),[YS,XS,JS,ZS]=["ReadableStream","Request","Response","Headers"].map(Ns),e5=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rl(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),yi(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(tl(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function Eb(e,t){if(tl(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,a;for(;n-- >0;)if(a=s[n],t===a.toLowerCase())return a;return null}const Mn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Pb=e=>!ai(e)&&e!==Mn;function dm(){const{caseless:e,skipUndefined:t}=Pb(this)&&this||{},s={},n=(a,i)=>{const o=e&&Eb(s,i)||i;ac(s[o])&&ac(a)?s[o]=dm(s[o],a):ac(a)?s[o]=dm({},a):yi(a)?s[o]=a.slice():(!t||!ai(a))&&(s[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&rl(arguments[a],n);return s}const t5=(e,t,s,{allOwnKeys:n}={})=>(rl(t,(a,i)=>{s&&Dt(a)?e[i]=wb(a,s):e[i]=a},{allOwnKeys:n}),e),s5=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),r5=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},n5=(e,t,s,n)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=s!==!1&&qh(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},a5=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},i5=e=>{if(!e)return null;if(yi(e))return e;let t=e.length;if(!Sb(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},o5=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qh(Uint8Array)),l5=(e,t)=>{const n=(e&&e[Tu]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},c5=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},u5=Ns("HTMLFormElement"),d5=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,a){return n.toUpperCase()+a}),S0=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),f5=Ns("RegExp"),Mb=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};rl(s,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},m5=e=>{Mb(e,(t,s)=>{if(Dt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(Dt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},h5=(e,t)=>{const s={},n=a=>{a.forEach(i=>{s[i]=!0})};return yi(e)?n(e):n(String(e).split(t)),s},p5=()=>{},x5=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function g5(e){return!!(e&&Dt(e.append)&&e[kb]==="FormData"&&e[Tu])}const y5=e=>{const t=new Array(10),s=(n,a)=>{if(sl(n)){if(t.indexOf(n)>=0)return;if(tl(n))return n;if(!("toJSON"in n)){t[a]=n;const i=yi(n)?[]:{};return rl(n,(o,l)=>{const c=s(o,a+1);!ai(c)&&(i[l]=c)}),t[a]=void 0,i}}return n};return s(e,0)},v5=Ns("AsyncFunction"),j5=e=>e&&(sl(e)||Dt(e))&&Dt(e.then)&&Dt(e.catch),Db=((e,t)=>e?setImmediate:t?((s,n)=>(Mn.addEventListener("message",({source:a,data:i})=>{a===Mn&&i===s&&n.length&&n.shift()()},!1),a=>{n.push(a),Mn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Dt(Mn.postMessage)),b5=typeof queueMicrotask<"u"?queueMicrotask.bind(Mn):typeof process<"u"&&process.nextTick||Db,N5=e=>e!=null&&Dt(e[Tu]),q={isArray:yi,isArrayBuffer:Cb,isBuffer:tl,isFormData:QS,isArrayBufferView:$S,isString:VS,isNumber:Sb,isBoolean:BS,isObject:sl,isPlainObject:ac,isEmptyObject:zS,isReadableStream:YS,isRequest:XS,isResponse:JS,isHeaders:ZS,isUndefined:ai,isDate:US,isFile:qS,isBlob:WS,isRegExp:f5,isFunction:Dt,isStream:KS,isURLSearchParams:GS,isTypedArray:o5,isFileList:HS,forEach:rl,merge:dm,extend:t5,trim:e5,stripBOM:s5,inherits:r5,toFlatObject:n5,kindOf:Au,kindOfTest:Ns,endsWith:a5,toArray:i5,forEachEntry:l5,matchAll:c5,isHTMLForm:u5,hasOwnProperty:S0,hasOwnProp:S0,reduceDescriptors:Mb,freezeMethods:m5,toObjectSet:h5,toCamelCase:d5,noop:p5,toFiniteNumber:x5,findKey:Eb,global:Mn,isContextDefined:Pb,isSpecCompliantForm:g5,toJSONObject:y5,isAsyncFn:v5,isThenable:j5,setImmediate:Db,asap:b5,isIterable:N5};function oe(e,t,s,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}q.inherits(oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const Tb=oe.prototype,Ab={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ab[e]={value:e}});Object.defineProperties(oe,Ab);Object.defineProperty(Tb,"isAxiosError",{value:!0});oe.from=(e,t,s,n,a,i)=>{const o=Object.create(Tb);q.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return oe.call(o,l,c,s,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const w5=null;function fm(e){return q.isPlainObject(e)||q.isArray(e)}function Rb(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function E0(e,t,s){return e?e.concat(t).map(function(a,i){return a=Rb(a),!s&&i?"["+a+"]":a}).join(s?".":""):t}function k5(e){return q.isArray(e)&&!e.some(fm)}const C5=q.toFlatObject(q,{},null,function(t){return/^is[A-Z]/.test(t)});function Ou(e,t,s){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=q.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,b){return!q.isUndefined(b[j])});const n=s.metaTokens,a=s.visitor||d,i=s.dots,o=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(a))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(q.isDate(h))return h.toISOString();if(q.isBoolean(h))return h.toString();if(!c&&q.isBlob(h))throw new oe("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(h)||q.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,j,b){let y=h;if(h&&!b&&typeof h=="object"){if(q.endsWith(j,"{}"))j=n?j:j.slice(0,-2),h=JSON.stringify(h);else if(q.isArray(h)&&k5(h)||(q.isFileList(h)||q.endsWith(j,"[]"))&&(y=q.toArray(h)))return j=Rb(j),y.forEach(function(g,N){!(q.isUndefined(g)||g===null)&&t.append(o===!0?E0([j],N,i):o===null?j:j+"[]",u(g))}),!1}return fm(h)?!0:(t.append(E0(b,j,i),u(h)),!1)}const f=[],m=Object.assign(C5,{defaultVisitor:d,convertValue:u,isVisitable:fm});function x(h,j){if(!q.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+j.join("."));f.push(h),q.forEach(h,function(y,p){(!(q.isUndefined(y)||y===null)&&a.call(t,y,q.isString(p)?p.trim():p,j,m))===!0&&x(y,j?j.concat(p):[p])}),f.pop()}}if(!q.isObject(e))throw new TypeError("data must be an object");return x(e),t}function P0(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Wh(e,t){this._pairs=[],e&&Ou(e,this,t)}const Ob=Wh.prototype;Ob.append=function(t,s){this._pairs.push([t,s])};Ob.toString=function(t){const s=t?function(n){return t.call(this,n,P0)}:P0;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function S5(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Lb(e,t,s){if(!t)return e;const n=s&&s.encode||S5;q.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let i;if(a?i=a(t,s):i=q.isURLSearchParams(t)?t.toString():new Wh(t,s).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class M0{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){q.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Ib={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},E5=typeof URLSearchParams<"u"?URLSearchParams:Wh,P5=typeof FormData<"u"?FormData:null,M5=typeof Blob<"u"?Blob:null,D5={isBrowser:!0,classes:{URLSearchParams:E5,FormData:P5,Blob:M5},protocols:["http","https","file","blob","url","data"]},Hh=typeof window<"u"&&typeof document<"u",mm=typeof navigator=="object"&&navigator||void 0,T5=Hh&&(!mm||["ReactNative","NativeScript","NS"].indexOf(mm.product)<0),A5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",R5=Hh&&window.location.href||"http://localhost",O5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hh,hasStandardBrowserEnv:T5,hasStandardBrowserWebWorkerEnv:A5,navigator:mm,origin:R5},Symbol.toStringTag,{value:"Module"})),ut={...O5,...D5};function L5(e,t){return Ou(e,new ut.classes.URLSearchParams,{visitor:function(s,n,a,i){return ut.isNode&&q.isBuffer(s)?(this.append(n,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function I5(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function _5(e){const t={},s=Object.keys(e);let n;const a=s.length;let i;for(n=0;n<a;n++)i=s[n],t[i]=e[i];return t}function _b(e){function t(s,n,a,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=s.length;return o=!o&&q.isArray(a)?a.length:o,c?(q.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!q.isObject(a[o]))&&(a[o]=[]),t(s,n,a[o],i)&&q.isArray(a[o])&&(a[o]=_5(a[o])),!l)}if(q.isFormData(e)&&q.isFunction(e.entries)){const s={};return q.forEachEntry(e,(n,a)=>{t(I5(n),a,s,0)}),s}return null}function F5(e,t,s){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const nl={transitional:Ib,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",a=n.indexOf("application/json")>-1,i=q.isObject(t);if(i&&q.isHTMLForm(t)&&(t=new FormData(t)),q.isFormData(t))return a?JSON.stringify(_b(t)):t;if(q.isArrayBuffer(t)||q.isBuffer(t)||q.isStream(t)||q.isFile(t)||q.isBlob(t)||q.isReadableStream(t))return t;if(q.isArrayBufferView(t))return t.buffer;if(q.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return L5(t,this.formSerializer).toString();if((l=q.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ou(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(s.setContentType("application/json",!1),F5(t)):t}],transformResponse:[function(t){const s=this.transitional||nl.transitional,n=s&&s.forcedJSONParsing,a=this.responseType==="json";if(q.isResponse(t)||q.isReadableStream(t))return t;if(t&&q.isString(t)&&(n&&!this.responseType||a)){const o=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?oe.from(l,oe.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ut.classes.FormData,Blob:ut.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],e=>{nl.headers[e]={}});const $5=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),V5=e=>{const t={};let s,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),s=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!s||t[s]&&$5[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},D0=Symbol("internals");function Ai(e){return e&&String(e).trim().toLowerCase()}function ic(e){return e===!1||e==null?e:q.isArray(e)?e.map(ic):String(e)}function B5(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const z5=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Sd(e,t,s,n,a){if(q.isFunction(n))return n.call(this,t,s);if(a&&(t=s),!!q.isString(t)){if(q.isString(n))return t.indexOf(n)!==-1;if(q.isRegExp(n))return n.test(t)}}function U5(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function q5(e,t){const s=q.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}let Tt=class{constructor(t){t&&this.set(t)}set(t,s,n){const a=this;function i(l,c,u){const d=Ai(c);if(!d)throw new Error("header name must be a non-empty string");const f=q.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=ic(l))}const o=(l,c)=>q.forEach(l,(u,d)=>i(u,d,c));if(q.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(q.isString(t)&&(t=t.trim())&&!z5(t))o(V5(t),s);else if(q.isObject(t)&&q.isIterable(t)){let l={},c,u;for(const d of t){if(!q.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?q.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,s)}else t!=null&&i(s,t,n);return this}get(t,s){if(t=Ai(t),t){const n=q.findKey(this,t);if(n){const a=this[n];if(!s)return a;if(s===!0)return B5(a);if(q.isFunction(s))return s.call(this,a,n);if(q.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Ai(t),t){const n=q.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||Sd(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let a=!1;function i(o){if(o=Ai(o),o){const l=q.findKey(n,o);l&&(!s||Sd(n,n[l],l,s))&&(delete n[l],a=!0)}}return q.isArray(t)?t.forEach(i):i(t),a}clear(t){const s=Object.keys(this);let n=s.length,a=!1;for(;n--;){const i=s[n];(!t||Sd(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const s=this,n={};return q.forEach(this,(a,i)=>{const o=q.findKey(n,i);if(o){s[o]=ic(a),delete s[i];return}const l=t?U5(i):String(i).trim();l!==i&&delete s[i],s[l]=ic(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return q.forEach(this,(n,a)=>{n!=null&&n!==!1&&(s[a]=t&&q.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[D0]=this[D0]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Ai(o);n[l]||(q5(a,o),n[l]=!0)}return q.isArray(t)?t.forEach(i):i(t),this}};Tt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(Tt.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});q.freezeMethods(Tt);function Ed(e,t){const s=this||nl,n=t||s,a=Tt.from(n.headers);let i=n.data;return q.forEach(e,function(l){i=l.call(s,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function Fb(e){return!!(e&&e.__CANCEL__)}function vi(e,t,s){oe.call(this,e??"canceled",oe.ERR_CANCELED,t,s),this.name="CanceledError"}q.inherits(vi,oe,{__CANCEL__:!0});function $b(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new oe("Request failed with status code "+s.status,[oe.ERR_BAD_REQUEST,oe.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function W5(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function H5(e,t){e=e||10;const s=new Array(e),n=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];o||(o=u),s[a]=c,n[a]=u;let f=i,m=0;for(;f!==a;)m+=s[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const x=d&&u-d;return x?Math.round(m*1e3/x):void 0}}function K5(e,t){let s=0,n=1e3/t,a,i;const o=(u,d=Date.now())=>{s=d,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-s;f>=n?o(u,d):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},n-f)))},()=>a&&o(a)]}const Wc=(e,t,s=3)=>{let n=0;const a=H5(50,250);return K5(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,u=a(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},s)},T0=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},A0=e=>(...t)=>q.asap(()=>e(...t)),Q5=ut.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,ut.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(ut.origin),ut.navigator&&/(msie|trident)/i.test(ut.navigator.userAgent)):()=>!0,G5=ut.hasStandardBrowserEnv?{write(e,t,s,n,a,i,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];q.isNumber(s)&&l.push(`expires=${new Date(s).toUTCString()}`),q.isString(n)&&l.push(`path=${n}`),q.isString(a)&&l.push(`domain=${a}`),i===!0&&l.push("secure"),q.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Y5(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function X5(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Vb(e,t,s){let n=!Y5(t);return e&&(n||s==!1)?X5(e,t):t}const R0=e=>e instanceof Tt?{...e}:e;function ea(e,t){t=t||{};const s={};function n(u,d,f,m){return q.isPlainObject(u)&&q.isPlainObject(d)?q.merge.call({caseless:m},u,d):q.isPlainObject(d)?q.merge({},d):q.isArray(d)?d.slice():d}function a(u,d,f,m){if(q.isUndefined(d)){if(!q.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function i(u,d){if(!q.isUndefined(d))return n(void 0,d)}function o(u,d){if(q.isUndefined(d)){if(!q.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>a(R0(u),R0(d),f,!0)};return q.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||a,m=f(e[d],t[d],d);q.isUndefined(m)&&f!==l||(s[d]=m)}),s}const Bb=e=>{const t=ea({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=Tt.from(o),t.url=Lb(Vb(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),q.isFormData(s)){if(ut.hasStandardBrowserEnv||ut.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(q.isFunction(s.getHeaders)){const c=s.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&o.set(d,f)})}}if(ut.hasStandardBrowserEnv&&(n&&q.isFunction(n)&&(n=n(t)),n||n!==!1&&Q5(t.url))){const c=a&&i&&G5.read(i);c&&o.set(a,c)}return t},J5=typeof XMLHttpRequest<"u",Z5=J5&&function(e){return new Promise(function(s,n){const a=Bb(e);let i=a.data;const o=Tt.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,x,h;function j(){x&&x(),h&&h(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function y(){if(!b)return;const g=Tt.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:g,config:e,request:b};$b(function(k){s(k),j()},function(k){n(k),j()},E),b=null}"onloadend"in b?b.onloadend=y:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(y)},b.onabort=function(){b&&(n(new oe("Request aborted",oe.ECONNABORTED,e,b)),b=null)},b.onerror=function(N){const E=N&&N.message?N.message:"Network Error",T=new oe(E,oe.ERR_NETWORK,e,b);T.event=N||null,n(T),b=null},b.ontimeout=function(){let N=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||Ib;a.timeoutErrorMessage&&(N=a.timeoutErrorMessage),n(new oe(N,E.clarifyTimeoutError?oe.ETIMEDOUT:oe.ECONNABORTED,e,b)),b=null},i===void 0&&o.setContentType(null),"setRequestHeader"in b&&q.forEach(o.toJSON(),function(N,E){b.setRequestHeader(E,N)}),q.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),l&&l!=="json"&&(b.responseType=a.responseType),u&&([m,h]=Wc(u,!0),b.addEventListener("progress",m)),c&&b.upload&&([f,x]=Wc(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(d=g=>{b&&(n(!g||g.type?new vi(null,e,b):g),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const p=W5(a.url);if(p&&ut.protocols.indexOf(p)===-1){n(new oe("Unsupported protocol "+p+":",oe.ERR_BAD_REQUEST,e));return}b.send(i||null)})},e3=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,a;const i=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof oe?d:new vi(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new oe(`timeout ${t} of ms exceeded`,oe.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>q.asap(l),c}},t3=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,a;for(;n<s;)a=n+t,yield e.slice(n,a),n=a},s3=async function*(e,t){for await(const s of r3(e))yield*t3(s,t)},r3=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},O0=(e,t,s,n)=>{const a=s3(e,t);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(s){let m=i+=f;s(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},L0=64*1024,{isFunction:Tl}=q,n3=(({Request:e,Response:t})=>({Request:e,Response:t}))(q.global),{ReadableStream:I0,TextEncoder:_0}=q.global,F0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},a3=e=>{e=q.merge.call({skipUndefined:!0},n3,e);const{fetch:t,Request:s,Response:n}=e,a=t?Tl(t):typeof fetch=="function",i=Tl(s),o=Tl(n);if(!a)return!1;const l=a&&Tl(I0),c=a&&(typeof _0=="function"?(h=>j=>h.encode(j))(new _0):async h=>new Uint8Array(await new s(h).arrayBuffer())),u=i&&l&&F0(()=>{let h=!1;const j=new s(ut.origin,{body:new I0,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!j}),d=o&&l&&F0(()=>q.isReadableStream(new n("").body)),f={stream:d&&(h=>h.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!f[h]&&(f[h]=(j,b)=>{let y=j&&j[h];if(y)return y.call(j);throw new oe(`Response type '${h}' is not supported`,oe.ERR_NOT_SUPPORT,b)})});const m=async h=>{if(h==null)return 0;if(q.isBlob(h))return h.size;if(q.isSpecCompliantForm(h))return(await new s(ut.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(q.isArrayBufferView(h)||q.isArrayBuffer(h))return h.byteLength;if(q.isURLSearchParams(h)&&(h=h+""),q.isString(h))return(await c(h)).byteLength},x=async(h,j)=>{const b=q.toFiniteNumber(h.getContentLength());return b??m(j)};return async h=>{let{url:j,method:b,data:y,signal:p,cancelToken:g,timeout:N,onDownloadProgress:E,onUploadProgress:T,responseType:k,headers:M,withCredentials:R="same-origin",fetchOptions:P}=Bb(h),S=t||fetch;k=k?(k+"").toLowerCase():"text";let w=e3([p,g&&g.toAbortSignal()],N),D=null;const C=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let U;try{if(T&&u&&b!=="get"&&b!=="head"&&(U=await x(M,y))!==0){let z=new s(j,{method:"POST",body:y,duplex:"half"}),Q;if(q.isFormData(y)&&(Q=z.headers.get("content-type"))&&M.setContentType(Q),z.body){const[I,X]=T0(U,Wc(A0(T)));y=O0(z.body,L0,I,X)}}q.isString(R)||(R=R?"include":"omit");const W=i&&"credentials"in s.prototype,B={...P,signal:w,method:b.toUpperCase(),headers:M.normalize().toJSON(),body:y,duplex:"half",credentials:W?R:void 0};D=i&&new s(j,B);let _=await(i?S(D,P):S(j,B));const H=d&&(k==="stream"||k==="response");if(d&&(E||H&&C)){const z={};["status","statusText","headers"].forEach(te=>{z[te]=_[te]});const Q=q.toFiniteNumber(_.headers.get("content-length")),[I,X]=E&&T0(Q,Wc(A0(E),!0))||[];_=new n(O0(_.body,L0,I,()=>{X&&X(),C&&C()}),z)}k=k||"text";let L=await f[q.findKey(f,k)||"text"](_,h);return!H&&C&&C(),await new Promise((z,Q)=>{$b(z,Q,{data:L,headers:Tt.from(_.headers),status:_.status,statusText:_.statusText,config:h,request:D})})}catch(W){throw C&&C(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new oe("Network Error",oe.ERR_NETWORK,h,D),{cause:W.cause||W}):oe.from(W,W&&W.code,h,D)}}},i3=new Map,zb=e=>{let t=e&&e.env||{};const{fetch:s,Request:n,Response:a}=t,i=[n,a,s];let o=i.length,l=o,c,u,d=i3;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:a3(t)),d=u;return u};zb();const Kh={http:w5,xhr:Z5,fetch:{get:zb}};q.forEach(Kh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const $0=e=>`- ${e}`,o3=e=>q.isFunction(e)||e===null||e===!1;function l3(e,t){e=q.isArray(e)?e:[e];const{length:s}=e;let n,a;const i={};for(let o=0;o<s;o++){n=e[o];let l;if(a=n,!o3(n)&&(a=Kh[(l=String(n)).toLowerCase()],a===void 0))throw new oe(`Unknown adapter '${l}'`);if(a&&(q.isFunction(a)||(a=a.get(t))))break;i[l||"#"+o]=a}if(!a){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=s?o.length>1?`since :
`+o.map($0).join(`
`):" "+$0(o[0]):"as no adapter specified";throw new oe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const Ub={getAdapter:l3,adapters:Kh};function Pd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new vi(null,e)}function V0(e){return Pd(e),e.headers=Tt.from(e.headers),e.data=Ed.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ub.getAdapter(e.adapter||nl.adapter,e)(e).then(function(n){return Pd(e),n.data=Ed.call(e,e.transformResponse,n),n.headers=Tt.from(n.headers),n},function(n){return Fb(n)||(Pd(e),n&&n.response&&(n.response.data=Ed.call(e,e.transformResponse,n.response),n.response.headers=Tt.from(n.response.headers))),Promise.reject(n)})}const qb="1.13.2",Lu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Lu[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const B0={};Lu.transitional=function(t,s,n){function a(i,o){return"[Axios v"+qb+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new oe(a(o," has been removed"+(s?" in "+s:"")),oe.ERR_DEPRECATED);return s&&!B0[o]&&(B0[o]=!0,console.warn(a(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,o,l):!0}};Lu.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function c3(e,t,s){if(typeof e!="object")throw new oe("options must be an object",oe.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new oe("option "+i+" must be "+c,oe.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new oe("Unknown option "+i,oe.ERR_BAD_OPTION)}}const oc={assertOptions:c3,validators:Lu},ks=oc.validators;let zn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new M0,response:new M0}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=ea(this.defaults,s);const{transitional:n,paramsSerializer:a,headers:i}=s;n!==void 0&&oc.assertOptions(n,{silentJSONParsing:ks.transitional(ks.boolean),forcedJSONParsing:ks.transitional(ks.boolean),clarifyTimeoutError:ks.transitional(ks.boolean)},!1),a!=null&&(q.isFunction(a)?s.paramsSerializer={serialize:a}:oc.assertOptions(a,{encode:ks.function,serialize:ks.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),oc.assertOptions(s,{baseUrl:ks.spelling("baseURL"),withXsrfToken:ks.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&q.merge(i.common,i[s.method]);i&&q.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),s.headers=Tt.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(s)===!1||(c=c&&j.synchronous,l.unshift(j.fulfilled,j.rejected))});const u=[];this.interceptors.response.forEach(function(j){u.push(j.fulfilled,j.rejected)});let d,f=0,m;if(!c){const h=[V0.bind(this),void 0];for(h.unshift(...l),h.push(...u),m=h.length,d=Promise.resolve(s);f<m;)d=d.then(h[f++],h[f++]);return d}m=l.length;let x=s;for(;f<m;){const h=l[f++],j=l[f++];try{x=h(x)}catch(b){j.call(this,b);break}}try{d=V0.call(this,x)}catch(h){return Promise.reject(h)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=ea(this.defaults,t);const s=Vb(t.baseURL,t.url,t.allowAbsoluteUrls);return Lb(s,t.params,t.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(t){zn.prototype[t]=function(s,n){return this.request(ea(n||{},{method:t,url:s,data:(n||{}).data}))}});q.forEach(["post","put","patch"],function(t){function s(n){return function(i,o,l){return this.request(ea(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}zn.prototype[t]=s(),zn.prototype[t+"Form"]=s(!0)});let u3=class Wb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new vi(i,o,l),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Wb(function(a){t=a}),cancel:t}}};function d3(e){return function(s){return e.apply(null,s)}}function f3(e){return q.isObject(e)&&e.isAxiosError===!0}const hm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(hm).forEach(([e,t])=>{hm[t]=e});function Hb(e){const t=new zn(e),s=wb(zn.prototype.request,t);return q.extend(s,zn.prototype,t,{allOwnKeys:!0}),q.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return Hb(ea(e,a))},s}const $e=Hb(nl);$e.Axios=zn;$e.CanceledError=vi;$e.CancelToken=u3;$e.isCancel=Fb;$e.VERSION=qb;$e.toFormData=Ou;$e.AxiosError=oe;$e.Cancel=$e.CanceledError;$e.all=function(t){return Promise.all(t)};$e.spread=d3;$e.isAxiosError=f3;$e.mergeConfig=ea;$e.AxiosHeaders=Tt;$e.formToJSON=e=>_b(q.isHTMLForm(e)?new FormData(e):e);$e.getAdapter=Ub.getAdapter;$e.HttpStatusCode=hm;$e.default=$e;const{Axios:q8,AxiosError:W8,CanceledError:H8,isCancel:K8,CancelToken:Q8,VERSION:G8,all:Y8,Cancel:X8,isAxiosError:J8,spread:Z8,toFormData:eO,AxiosHeaders:tO,HttpStatusCode:sO,formToJSON:rO,getAdapter:nO,mergeConfig:aO}=$e,$=$e.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});$.interceptors.request.use(e=>{const{accessToken:t}=dt.getState();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));$.interceptors.response.use(e=>e,async e=>{var a,i,o;const t=e.config,s=(a=t.url)==null?void 0:a.includes("/auth/logout"),n=(i=t.url)==null?void 0:i.includes("/auth/refresh");if(((o=e.response)==null?void 0:o.status)===401&&!t._retry&&!s&&!n){t._retry=!0;try{const{refreshToken:l}=dt.getState();if(!l)return dt.getState().clearAuth(),Promise.reject(e);const c=await dt.getState().refreshAccessToken();return t.headers.Authorization=`Bearer ${c}`,$(t)}catch(l){return dt.getState().clearAuth(),Promise.reject(l)}}return Promise.reject(e)});const Kb={login:e=>$.post("/auth/login",e),register:e=>$.post("/auth/register",e),logout:()=>$.post("/auth/logout"),refresh:e=>$.post("/auth/refresh",{refreshToken:e}),me:()=>$.get("/auth/me"),changePassword:e=>$.put("/auth/password",e),changeTempPassword:e=>$.post("/auth/change-temp-password",e)},Iu={getAll:()=>$.get("/workspaces"),getOne:e=>$.get(`/workspaces/${e}`),create:e=>$.post("/workspaces",e),update:(e,t)=>$.put(`/workspaces/${e}`,t),delete:e=>$.delete(`/workspaces/${e}`),getMembers:e=>$.get(`/workspaces/${e}/members`),addMember:(e,t)=>$.post(`/workspaces/${e}/members`,t),updateMember:(e,t,s)=>$.put(`/workspaces/${e}/members/${t}`,s),removeMember:(e,t)=>$.delete(`/workspaces/${e}/members/${t}`),getStats:e=>$.get(`/workspaces/${e}/stats`)},Ro={getByWorkspace:e=>$.get(`/boards/workspace/${e}`),getOne:e=>$.get(`/boards/${e}`),create:e=>$.post("/boards",e),update:(e,t)=>$.put(`/boards/${e}`,t),delete:e=>$.delete(`/boards/${e}`),duplicate:(e,t)=>$.post(`/boards/${e}/duplicate`,t)},m3={getByBoard:e=>$.get(`/boards/${e}/groups`),create:e=>$.post(`/boards/${e.boardId}/groups`,e),update:(e,t)=>$.put(`/boards/groups/${e}`,t),delete:e=>$.delete(`/boards/groups/${e}`)},we={create:e=>$.post("/items",e),update:(e,t)=>$.put(`/items/${e}`,t),updateValue:(e,t,s)=>$.put(`/items/${e}/values/${t}`,{value:s}),delete:e=>$.delete(`/items/${e}`),batchDelete:e=>$.delete("/items/batch",{data:{itemIds:e}}),batchReorder:e=>$.put("/items/batch/reorder",{items:e}),duplicate:e=>$.post(`/items/${e}/duplicate`)},z0={getTypes:()=>$.get("/columns/types"),create:e=>$.post("/columns",e),update:(e,t)=>$.put(`/columns/${e}`,t),delete:e=>$.delete(`/columns/${e}`),reorder:(e,t)=>$.put("/columns/reorder",{boardId:e,columns:t}),addLabel:(e,t)=>$.post(`/columns/${e}/labels`,t),updateLabel:(e,t,s)=>$.put(`/columns/${e}/labels/${t}`,s),deleteLabel:(e,t)=>$.delete(`/columns/${e}/labels/${t}`)},h3={getProfile:()=>$.get("/users/profile"),updateProfile:e=>$.put("/users/profile",e),search:e=>$.get("/users/search",{params:e})},Md={getAll:e=>$.get("/notifications",{params:e}),markAsRead:e=>$.put(`/notifications/${e}/read`),markAllAsRead:()=>$.put("/notifications/read-all"),delete:e=>$.delete(`/notifications/${e}`)},ta={getByWorkspace:e=>$.get(`/budgets/workspace/${e}`),getOne:e=>$.get(`/budgets/${e}`),create:e=>$.post("/budgets",e),update:(e,t)=>$.put(`/budgets/${e}`,t),delete:e=>$.delete(`/budgets/${e}`),getAnalytics:e=>$.get(`/budgets/${e}/analytics`),addCategory:(e,t)=>$.post(`/budgets/${e}/categories`,t),addExpense:(e,t)=>$.post(`/budgets/${e}/expenses`,t),updateExpense:(e,t,s)=>$.put(`/budgets/${e}/expenses/${t}`,s),deleteExpense:(e,t)=>$.delete(`/budgets/${e}/expenses/${t}`)},vt={getByWorkspace:e=>$.get(`/members/workspace/${e}`),getInvitations:e=>$.get(`/members/workspace/${e}/invitations`),invite:(e,t)=>$.post(`/members/workspace/${e}/invite`,t),resendInvitation:e=>$.post(`/members/invitations/${e}/resend`),cancelInvitation:e=>$.delete(`/members/invitations/${e}`),acceptInvitation:e=>$.post(`/members/invitations/accept/${e}`),updateRole:(e,t,s)=>$.put(`/members/workspace/${e}/members/${t}/role`,s),remove:(e,t)=>$.delete(`/members/workspace/${e}/members/${t}`),transferOwnership:(e,t)=>$.post(`/members/workspace/${e}/transfer-ownership`,t),getEvaluation:e=>$.get(`/members/workspace/${e}/evaluation`)},ae={getDashboard:e=>$.get(`/sdsi/dashboard/workspace/${e}`),getRoadmap:(e,t)=>$.get(`/sdsi/roadmap/workspace/${e}`,{params:{year:t}}),getAlerts:e=>$.get(`/sdsi/alerts/workspace/${e}`),getAxes:e=>$.get(`/sdsi/axes/workspace/${e}`),createAxis:e=>$.post("/sdsi/axes",e),updateAxis:(e,t)=>$.put(`/sdsi/axes/${e}`,t),deleteAxis:e=>$.delete(`/sdsi/axes/${e}`),getProjects:(e,t)=>$.get(`/sdsi/projects/workspace/${e}`,{params:t}),getProject:e=>$.get(`/sdsi/projects/${e}`),createProject:e=>$.post("/sdsi/projects",e),updateProject:(e,t)=>$.put(`/sdsi/projects/${e}`,t),deleteProject:e=>$.delete(`/sdsi/projects/${e}`),syncProgress:e=>$.post(`/sdsi/projects/${e}/sync-progress`),checkCompletion:e=>$.post(`/sdsi/projects/${e}/check-completion`),getPhases:(e,t)=>$.get(`/sdsi/phases/workspace/${e}`,{params:t}),createPhase:(e,t)=>$.post(`/sdsi/projects/${e}/phases`,t),updatePhase:(e,t)=>$.put(`/sdsi/phases/${e}`,t),deletePhase:e=>$.delete(`/sdsi/phases/${e}`),getMilestones:(e,t)=>$.get(`/sdsi/milestones/workspace/${e}`,{params:t}),createMilestone:(e,t)=>$.post(`/sdsi/projects/${e}/milestones`,t),updateMilestone:(e,t)=>$.put(`/sdsi/milestones/${e}`,t),deleteMilestone:e=>$.delete(`/sdsi/milestones/${e}`),getApplications:e=>$.get(`/sdsi/applications/workspace/${e}`),createApplication:e=>$.post("/sdsi/applications",e),updateApplication:(e,t)=>$.put(`/sdsi/applications/${e}`,t),deleteApplication:e=>$.delete(`/sdsi/applications/${e}`),getKPIs:e=>$.get(`/sdsi/kpis/workspace/${e}`),createKPI:e=>$.post("/sdsi/kpis",e),updateKPI:(e,t)=>$.put(`/sdsi/kpis/${e}`,t),deleteKPI:e=>$.delete(`/sdsi/kpis/${e}`),addKPIValue:(e,t)=>$.post(`/sdsi/kpis/${e}/values`,t),getKPIHistory:e=>$.get(`/sdsi/kpis/${e}/history`),syncKPI:e=>$.post(`/sdsi/kpis/${e}/sync`),syncProjectKPIs:e=>$.post(`/sdsi/projects/${e}/sync-kpis`),syncAllKPIs:e=>$.post(`/sdsi/kpis/workspace/${e}/sync-all`),getCalculationMethods:()=>$.get("/sdsi/kpis/calculation-methods"),getResources:e=>$.get(`/sdsi/resources/workspace/${e}`),createResource:e=>$.post("/sdsi/resources",e),updateResource:(e,t)=>$.put(`/sdsi/resources/${e}`,t),deleteResource:e=>$.delete(`/sdsi/resources/${e}`),getResourceAllocations:e=>$.get(`/sdsi/resources/${e}/allocations`),createAllocation:(e,t)=>$.post(`/sdsi/resources/${e}/allocations`,t),updateAllocation:(e,t)=>$.put(`/sdsi/allocations/${e}`,t),deleteAllocation:e=>$.delete(`/sdsi/allocations/${e}`),getRisks:(e,t)=>$.get(`/sdsi/risks/workspace/${e}`,{params:t}),createRisk:(e,t)=>$.post(`/sdsi/projects/${e}/risks`,t),updateRisk:(e,t)=>$.put(`/sdsi/risks/${e}`,t),deleteRisk:e=>$.delete(`/sdsi/risks/${e}`),getExpenses:e=>$.get(`/sdsi/projects/${e}/expenses`),addExpense:(e,t)=>$.post(`/sdsi/projects/${e}/expenses`,t),updateExpense:(e,t)=>$.put(`/sdsi/expenses/${e}`,t),deleteExpense:e=>$.delete(`/sdsi/expenses/${e}`),getExpenseCategories:()=>$.get("/sdsi/expense-categories")},p3={getByWorkspace:(e,t)=>$.get(`/activity/workspace/${e}`,{params:t}),getByBoard:(e,t)=>$.get(`/activity/board/${e}`,{params:t}),getByItem:e=>$.get(`/activity/item/${e}`),getMy:e=>$.get("/activity/me",{params:e})},x3={global:e=>$.get("/search",{params:e}),quick:e=>$.get("/search/quick",{params:e})},Dd={board:(e,t)=>$.get(`/export/board/${e}`,{params:{format:t},...t==="csv"?{responseType:"blob"}:{}}),workspace:e=>$.get(`/export/workspace/${e}`)},Hi={getTemplates:()=>$.get("/automations/templates"),getByBoard:e=>$.get(`/automations/board/${e}`),create:e=>$.post("/automations",e),update:(e,t)=>$.put(`/automations/${e}`,t),toggle:e=>$.post(`/automations/${e}/toggle`),delete:e=>$.delete(`/automations/${e}`),trigger:e=>$.post("/automations/trigger",e),getLogs:e=>$.get(`/automations/${e}/logs`)},Ft={getPermissions:()=>$.get("/permissions/list"),getRoles:e=>$.get(`/permissions/roles/workspace/${e}`),createRole:e=>$.post("/permissions/roles",e),updateRole:(e,t)=>$.put(`/permissions/roles/${e}`,t),deleteRole:e=>$.delete(`/permissions/roles/${e}`),getUserPermissions:(e,t)=>$.get(`/permissions/users/${e}/workspace/${t}`),assignRole:(e,t)=>$.post(`/permissions/users/${e}/roles`,t),removeRole:(e,t,s)=>$.delete(`/permissions/users/${e}/roles/${t}`,{params:{workspaceId:s}}),getBoardPermissions:e=>$.get(`/permissions/boards/${e}`),setBoardPermission:(e,t,s)=>$.post(`/permissions/boards/${e}/users/${t}`,s),removeBoardPermission:(e,t)=>$.delete(`/permissions/boards/${e}/users/${t}`),getProjectPermissions:e=>$.get(`/permissions/projects/${e}`),setProjectPermission:(e,t,s)=>$.post(`/permissions/projects/${e}/users/${t}`,s),removeProjectPermission:(e,t)=>$.delete(`/permissions/projects/${e}/users/${t}`),getGroups:e=>$.get(`/permissions/groups/workspace/${e}`),createGroup:e=>$.post("/permissions/groups",e),updateGroup:(e,t)=>$.put(`/permissions/groups/${e}`,t),deleteGroup:e=>$.delete(`/permissions/groups/${e}`),addGroupMember:(e,t)=>$.post(`/permissions/groups/${e}/members/${t}`),removeGroupMember:(e,t)=>$.delete(`/permissions/groups/${e}/members/${t}`),getAuditLogs:(e,t)=>$.get(`/permissions/audit/workspace/${e}`,{params:t})},er={getCategories:()=>$.get("/tickets/categories"),getMyTickets:e=>$.get("/tickets/my",{params:e}),create:e=>$.post("/tickets",e),get:e=>$.get(`/tickets/${e}`),update:(e,t)=>$.put(`/tickets/${e}`,t),cancel:e=>$.delete(`/tickets/${e}`),getByWorkspace:(e,t)=>$.get(`/tickets/workspace/${e}`,{params:t}),getStats:e=>$.get(`/tickets/workspace/${e}/stats`),assign:(e,t)=>$.put(`/tickets/${e}/assign`,t),updateStatus:(e,t)=>$.put(`/tickets/${e}/status`,t)},dt=Uh(_S((e,t)=>({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!0,setLoading:s=>e({isLoading:s}),login:async(s,n)=>{const a=await $.post("/auth/login",{email:s,password:n}),{user:i,accessToken:o,refreshToken:l}=a.data;return e({user:i,accessToken:o,refreshToken:l,isAuthenticated:!0,isLoading:!1}),a.data},register:async s=>{const n=await $.post("/auth/register",s),{user:a,accessToken:i,refreshToken:o}=n.data;return e({user:a,accessToken:i,refreshToken:o,isAuthenticated:!0,isLoading:!1}),n.data},logout:async()=>{const{accessToken:s}=t();if(s)try{await $.post("/auth/logout")}catch{console.log("Logout completed")}e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1})},clearAuth:()=>{e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1})},refreshAccessToken:async()=>{const{refreshToken:s}=t();if(!s)throw new Error("No refresh token");const n=await $.post("/auth/refresh",{refreshToken:s}),{accessToken:a,refreshToken:i}=n.data;return e({accessToken:a,refreshToken:i}),a},updateUser:s=>{e(n=>({user:{...n.user,...s}}))},setUser:s=>{e({user:s})},checkAuth:async()=>{const{accessToken:s}=t();if(!s){e({isLoading:!1,isAuthenticated:!1});return}try{const n=await $.get("/auth/me");e({user:n.data,isAuthenticated:!0,isLoading:!1})}catch{try{await t().refreshAccessToken();const a=await $.get("/auth/me");e({user:a.data,isAuthenticated:!0,isLoading:!1})}catch{e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1})}}}}),{name:"auth-storage",partialize:e=>({accessToken:e.accessToken,refreshToken:e.refreshToken,user:e.user,isAuthenticated:e.isAuthenticated})}));typeof window<"u"&&dt.getState().checkAuth();const Qb=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),_u=v.createContext({}),Fu=v.createContext(null),$u=typeof document<"u",Qh=$u?v.useLayoutEffect:v.useEffect,Gb=v.createContext({strict:!1}),Gh=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),g3="framerAppearId",Yb="data-"+Gh(g3);function y3(e,t,s,n){const{visualElement:a}=v.useContext(_u),i=v.useContext(Gb),o=v.useContext(Fu),l=v.useContext(Qb).reducedMotion,c=v.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:a,props:s,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;v.useInsertionEffect(()=>{u&&u.update(s,o)});const d=v.useRef(!!(s[Yb]&&!window.HandoffComplete));return Qh(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),v.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Sa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function v3(e,t,s){return v.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):Sa(s)&&(s.current=n))},[t])}function Oo(e){return typeof e=="string"||Array.isArray(e)}function Vu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Yh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xh=["initial",...Yh];function Bu(e){return Vu(e.animate)||Xh.some(t=>Oo(e[t]))}function Xb(e){return!!(Bu(e)||e.variants)}function j3(e,t){if(Bu(e)){const{initial:s,animate:n}=e;return{initial:s===!1||Oo(s)?s:void 0,animate:Oo(n)?n:void 0}}return e.inherit!==!1?t:{}}function b3(e){const{initial:t,animate:s}=j3(e,v.useContext(_u));return v.useMemo(()=>({initial:t,animate:s}),[U0(t),U0(s)])}function U0(e){return Array.isArray(e)?e.join(" "):e}const q0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Lo={};for(const e in q0)Lo[e]={isEnabled:t=>q0[e].some(s=>!!t[s])};function N3(e){for(const t in e)Lo[t]={...Lo[t],...e[t]}}const Jh=v.createContext({}),Jb=v.createContext({}),w3=Symbol.for("motionComponentSymbol");function k3({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:n,Component:a}){e&&N3(e);function i(l,c){let u;const d={...v.useContext(Qb),...l,layoutId:C3(l)},{isStatic:f}=d,m=b3(l),x=n(l,f);if(!f&&$u){m.visualElement=y3(a,x,d,t);const h=v.useContext(Jb),j=v.useContext(Gb).strict;m.visualElement&&(u=m.visualElement.loadFeatures(d,j,e,h))}return v.createElement(_u.Provider,{value:m},u&&m.visualElement?v.createElement(u,{visualElement:m.visualElement,...d}):null,s(a,l,v3(x,m.visualElement,c),x,f,m.visualElement))}const o=v.forwardRef(i);return o[w3]=a,o}function C3({layoutId:e}){const t=v.useContext(Jh).id;return t&&e!==void 0?t+"-"+e:e}function S3(e){function t(n,a={}){return k3(e(n,a))}if(typeof Proxy>"u")return t;const s=new Map;return new Proxy(t,{get:(n,a)=>(s.has(a)||s.set(a,t(a)),s.get(a))})}const E3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zh(e){return typeof e!="string"||e.includes("-")?!1:!!(E3.indexOf(e)>-1||/[A-Z]/.test(e))}const Hc={};function P3(e){Object.assign(Hc,e)}const al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oa=new Set(al);function Zb(e,{layout:t,layoutId:s}){return oa.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Hc[e]||e==="opacity")}const At=e=>!!(e&&e.getVelocity),M3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D3=al.length;function T3(e,{enableHardwareAcceleration:t=!0,allowTransformNone:s=!0},n,a){let i="";for(let o=0;o<D3;o++){const l=al[o];if(e[l]!==void 0){const c=M3[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,n?"":i):s&&n&&(i="none"),i}const e1=e=>t=>typeof t=="string"&&t.startsWith(e),t1=e1("--"),pm=e1("var(--"),A3=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,R3=(e,t)=>t&&typeof e=="number"?t.transform(e):e,nn=(e,t,s)=>Math.min(Math.max(s,e),t),la={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},no={...la,transform:e=>nn(0,1,e)},Al={...la,default:1},ao=e=>Math.round(e*1e5)/1e5,zu=/(-)?([\d]*\.?[\d])+/g,s1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,O3=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function il(e){return typeof e=="string"}const ol=e=>({test:t=>il(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),wr=ol("deg"),_s=ol("%"),se=ol("px"),L3=ol("vh"),I3=ol("vw"),W0={..._s,parse:e=>_s.parse(e)/100,transform:e=>_s.transform(e*100)},H0={...la,transform:Math.round},r1={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,size:se,top:se,right:se,bottom:se,left:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,rotate:wr,rotateX:wr,rotateY:wr,rotateZ:wr,scale:Al,scaleX:Al,scaleY:Al,scaleZ:Al,skew:wr,skewX:wr,skewY:wr,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:no,originX:W0,originY:W0,originZ:se,zIndex:H0,fillOpacity:no,strokeOpacity:no,numOctaves:H0};function ep(e,t,s,n){const{style:a,vars:i,transform:o,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const m=t[f];if(t1(f)){i[f]=m;continue}const x=r1[f],h=R3(m,x);if(oa.has(f)){if(c=!0,o[f]=h,!d)continue;m!==(x.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=h):a[f]=h}if(t.transform||(c||n?a.transform=T3(e.transform,s,d,n):a.transform&&(a.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:x=0}=l;a.transformOrigin=`${f} ${m} ${x}`}}const tp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function n1(e,t,s){for(const n in t)!At(t[n])&&!Zb(n,s)&&(e[n]=t[n])}function _3({transformTemplate:e},t,s){return v.useMemo(()=>{const n=tp();return ep(n,t,{enableHardwareAcceleration:!s},e),Object.assign({},n.vars,n.style)},[t])}function F3(e,t,s){const n=e.style||{},a={};return n1(a,n,e),Object.assign(a,_3(e,t,s)),e.transformValues?e.transformValues(a):a}function $3(e,t,s){const n={},a=F3(e,t,s);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=a,n}const V3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||V3.has(e)}let a1=e=>!Kc(e);function B3(e){e&&(a1=t=>t.startsWith("on")?!Kc(t):e(t))}try{B3(require("@emotion/is-prop-valid").default)}catch{}function z3(e,t,s){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(a1(a)||s===!0&&Kc(a)||!t&&!Kc(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function K0(e,t,s){return typeof e=="string"?e:se.transform(t+s*e)}function U3(e,t,s){const n=K0(t,e.x,e.width),a=K0(s,e.y,e.height);return`${n} ${a}`}const q3={offset:"stroke-dashoffset",array:"stroke-dasharray"},W3={offset:"strokeDashoffset",array:"strokeDasharray"};function H3(e,t,s=1,n=0,a=!0){e.pathLength=1;const i=a?q3:W3;e[i.offset]=se.transform(-n);const o=se.transform(t),l=se.transform(s);e[i.array]=`${o} ${l}`}function sp(e,{attrX:t,attrY:s,attrScale:n,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f,m){if(ep(e,u,d,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:h,dimensions:j}=e;x.transform&&(j&&(h.transform=x.transform),delete x.transform),j&&(a!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=U3(j,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(x.x=t),s!==void 0&&(x.y=s),n!==void 0&&(x.scale=n),o!==void 0&&H3(x,o,l,c,!1)}const i1=()=>({...tp(),attrs:{}}),rp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function K3(e,t,s,n){const a=v.useMemo(()=>{const i=i1();return sp(i,t,{enableHardwareAcceleration:!1},rp(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};n1(i,e.style,e),a.style={...i,...a.style}}return a}function Q3(e=!1){return(s,n,a,{latestValues:i},o)=>{const c=(Zh(s)?K3:$3)(n,i,o,s),d={...z3(n,typeof s=="string",e),...c,ref:a},{children:f}=n,m=v.useMemo(()=>At(f)?f.get():f,[f]);return v.createElement(s,{...d,children:m})}}function o1(e,{style:t,vars:s},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in s)e.style.setProperty(i,s[i])}const l1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function c1(e,t,s,n){o1(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(l1.has(a)?a:Gh(a),t.attrs[a])}function np(e,t){const{style:s}=e,n={};for(const a in s)(At(s[a])||t.style&&At(t.style[a])||Zb(a,e))&&(n[a]=s[a]);return n}function u1(e,t){const s=np(e,t);for(const n in e)if(At(e[n])||At(t[n])){const a=al.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;s[a]=e[n]}return s}function ap(e,t,s,n={},a={}){return typeof t=="function"&&(t=t(s!==void 0?s:e.custom,n,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(s!==void 0?s:e.custom,n,a)),t}function d1(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Qc=e=>Array.isArray(e),G3=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Y3=e=>Qc(e)?e[e.length-1]||0:e;function lc(e){const t=At(e)?e.get():e;return G3(t)?t.toValue():t}function X3({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:s},n,a,i){const o={latestValues:J3(n,a,i,e),renderState:t()};return s&&(o.mount=l=>s(n,l,o)),o}const f1=e=>(t,s)=>{const n=v.useContext(_u),a=v.useContext(Fu),i=()=>X3(e,t,n,a);return s?i():d1(i)};function J3(e,t,s,n){const a={},i=n(e,{});for(const m in i)a[m]=lc(i[m]);let{initial:o,animate:l}=e;const c=Bu(e),u=Xb(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=s?s.initial===!1:!1;d=d||o===!1;const f=d?l:o;return f&&typeof f!="boolean"&&!Vu(f)&&(Array.isArray(f)?f:[f]).forEach(x=>{const h=ap(e,x);if(!h)return;const{transitionEnd:j,transition:b,...y}=h;for(const p in y){let g=y[p];if(Array.isArray(g)){const N=d?g.length-1:0;g=g[N]}g!==null&&(a[p]=g)}for(const p in j)a[p]=j[p]}),a}const _e=e=>e;class Q0{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const s=this.order.indexOf(t);s!==-1&&(this.order.splice(s,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Z3(e){let t=new Q0,s=new Q0,n=0,a=!1,i=!1;const o=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&a,m=f?t:s;return u&&o.add(c),m.add(c)&&f&&a&&(n=t.order.length),c},cancel:c=>{s.remove(c),o.delete(c)},process:c=>{if(a){i=!0;return}if(a=!0,[t,s]=[s,t],s.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),o.has(d)&&(l.schedule(d),e())}a=!1,i&&(i=!1,l.process(c))}};return l}const Rl=["prepare","read","update","preRender","render","postRender"],eE=40;function tE(e,t){let s=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=Rl.reduce((f,m)=>(f[m]=Z3(()=>s=!0),f),{}),o=f=>i[f].process(a),l=()=>{const f=performance.now();s=!1,a.delta=n?1e3/60:Math.max(Math.min(f-a.timestamp,eE),1),a.timestamp=f,a.isProcessing=!0,Rl.forEach(o),a.isProcessing=!1,s&&t&&(n=!1,e(l))},c=()=>{s=!0,n=!0,a.isProcessing||e(l)};return{schedule:Rl.reduce((f,m)=>{const x=i[m];return f[m]=(h,j=!1,b=!1)=>(s||c(),x.schedule(h,j,b)),f},{}),cancel:f=>Rl.forEach(m=>i[m].cancel(f)),state:a,steps:i}}const{schedule:ke,cancel:pr,state:lt,steps:Td}=tE(typeof requestAnimationFrame<"u"?requestAnimationFrame:_e,!0),sE={useVisualState:f1({scrapeMotionValuesFromProps:u1,createRenderState:i1,onMount:(e,t,{renderState:s,latestValues:n})=>{ke.read(()=>{try{s.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{s.dimensions={x:0,y:0,width:0,height:0}}}),ke.render(()=>{sp(s,n,{enableHardwareAcceleration:!1},rp(t.tagName),e.transformTemplate),c1(t,s)})}})},rE={useVisualState:f1({scrapeMotionValuesFromProps:np,createRenderState:tp})};function nE(e,{forwardMotionProps:t=!1},s,n){return{...Zh(e)?sE:rE,preloadedFeatures:s,useRender:Q3(t),createVisualElement:n,Component:e}}function rr(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}const m1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Uu(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const aE=e=>t=>m1(t)&&e(t,Uu(t));function ar(e,t,s,n){return rr(e,t,aE(s),n)}const iE=(e,t)=>s=>t(e(s)),Zr=(...e)=>e.reduce(iE);function h1(e){let t=null;return()=>{const s=()=>{t=null};return t===null?(t=e,s):!1}}const G0=h1("dragHorizontal"),Y0=h1("dragVertical");function p1(e){let t=!1;if(e==="y")t=Y0();else if(e==="x")t=G0();else{const s=G0(),n=Y0();s&&n?t=()=>{s(),n()}:(s&&s(),n&&n())}return t}function x1(){const e=p1(!0);return e?(e(),!1):!0}class pn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function X0(e,t){const s="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||x1())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[n]&&ke.update(()=>l[n](i,o))};return ar(e.current,s,a,{passive:!e.getProps()[n]})}class oE extends pn{mount(){this.unmount=Zr(X0(this.node,!0),X0(this.node,!1))}unmount(){}}class lE extends pn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zr(rr(this.node.current,"focus",()=>this.onFocus()),rr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const g1=(e,t)=>t?e===t?!0:g1(e,t.parentElement):!1;function Ad(e,t){if(!t)return;const s=new PointerEvent("pointer"+e);t(s,Uu(s))}class cE extends pn{constructor(){super(...arguments),this.removeStartListeners=_e,this.removeEndListeners=_e,this.removeAccessibleListeners=_e,this.startPointerPress=(t,s)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=ar(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();ke.update(()=>{!f&&!g1(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=ar(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Zr(i,o),this.startPress(t,s)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||Ad("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&ke.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=rr(this.node.current,"keyup",o),Ad("down",(l,c)=>{this.startPress(l,c)})},s=rr(this.node.current,"keydown",t),n=()=>{this.isPressing&&Ad("cancel",(i,o)=>this.cancelPress(i,o))},a=rr(this.node.current,"blur",n);this.removeAccessibleListeners=Zr(s,a)}}startPress(t,s){this.isPressing=!0;const{onTapStart:n,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&ke.update(()=>n(t,s))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!x1()}cancelPress(t,s){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&ke.update(()=>n(t,s))}mount(){const t=this.node.getProps(),s=ar(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=rr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Zr(s,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const xm=new WeakMap,Rd=new WeakMap,uE=e=>{const t=xm.get(e.target);t&&t(e)},dE=e=>{e.forEach(uE)};function fE({root:e,...t}){const s=e||document;Rd.has(s)||Rd.set(s,{});const n=Rd.get(s),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(dE,{root:e,...t})),n[a]}function mE(e,t,s){const n=fE(t);return xm.set(e,s),n.observe(e),()=>{xm.delete(e),n.unobserve(e)}}const hE={some:0,all:1};class pE extends pn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:a="some",once:i}=t,o={root:s?s.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:hE[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return mE(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(xE(t,s))&&this.startObserver()}unmount(){}}function xE({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const gE={inView:{Feature:pE},tap:{Feature:cE},focus:{Feature:lE},hover:{Feature:oE}};function y1(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}function yE(e){const t={};return e.values.forEach((s,n)=>t[n]=s.get()),t}function vE(e){const t={};return e.values.forEach((s,n)=>t[n]=s.getVelocity()),t}function qu(e,t,s){const n=e.getProps();return ap(n,t,s!==void 0?s:n.custom,yE(e),vE(e))}let ip=_e;const Un=e=>e*1e3,ir=e=>e/1e3,jE={current:!1},v1=e=>Array.isArray(e)&&typeof e[0]=="number";function j1(e){return!!(!e||typeof e=="string"&&b1[e]||v1(e)||Array.isArray(e)&&e.every(j1))}const Ki=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,b1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ki([0,.65,.55,1]),circOut:Ki([.55,0,1,.45]),backIn:Ki([.31,.01,.66,-.59]),backOut:Ki([.33,1.53,.69,.99])};function N1(e){if(e)return v1(e)?Ki(e):Array.isArray(e)?e.map(N1):b1[e]}function bE(e,t,s,{delay:n=0,duration:a,repeat:i=0,repeatType:o="loop",ease:l,times:c}={}){const u={[t]:s};c&&(u.offset=c);const d=N1(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function NE(e,{repeat:t,repeatType:s="loop"}){const n=t&&s!=="loop"&&t%2===1?0:e.length-1;return e[n]}const w1=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,wE=1e-7,kE=12;function CE(e,t,s,n,a){let i,o,l=0;do o=t+(s-t)/2,i=w1(o,n,a)-e,i>0?s=o:t=o;while(Math.abs(i)>wE&&++l<kE);return o}function ll(e,t,s,n){if(e===t&&s===n)return _e;const a=i=>CE(i,0,1,e,s);return i=>i===0||i===1?i:w1(a(i),t,n)}const SE=ll(.42,0,1,1),EE=ll(0,0,.58,1),k1=ll(.42,0,.58,1),PE=e=>Array.isArray(e)&&typeof e[0]!="number",C1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,S1=e=>t=>1-e(1-t),op=e=>1-Math.sin(Math.acos(e)),E1=S1(op),ME=C1(op),P1=ll(.33,1.53,.69,.99),lp=S1(P1),DE=C1(lp),TE=e=>(e*=2)<1?.5*lp(e):.5*(2-Math.pow(2,-10*(e-1))),AE={linear:_e,easeIn:SE,easeInOut:k1,easeOut:EE,circIn:op,circInOut:ME,circOut:E1,backIn:lp,backInOut:DE,backOut:P1,anticipate:TE},J0=e=>{if(Array.isArray(e)){ip(e.length===4);const[t,s,n,a]=e;return ll(t,s,n,a)}else if(typeof e=="string")return AE[e];return e},cp=(e,t)=>s=>!!(il(s)&&O3.test(s)&&s.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(s,t)),M1=(e,t,s)=>n=>{if(!il(n))return n;const[a,i,o,l]=n.match(zu);return{[e]:parseFloat(a),[t]:parseFloat(i),[s]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},RE=e=>nn(0,255,e),Od={...la,transform:e=>Math.round(RE(e))},Dn={test:cp("rgb","red"),parse:M1("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+Od.transform(e)+", "+Od.transform(t)+", "+Od.transform(s)+", "+ao(no.transform(n))+")"};function OE(e){let t="",s="",n="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const gm={test:cp("#"),parse:OE,transform:Dn.transform},Ea={test:cp("hsl","hue"),parse:M1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+_s.transform(ao(t))+", "+_s.transform(ao(s))+", "+ao(no.transform(n))+")"},xt={test:e=>Dn.test(e)||gm.test(e)||Ea.test(e),parse:e=>Dn.test(e)?Dn.parse(e):Ea.test(e)?Ea.parse(e):gm.parse(e),transform:e=>il(e)?e:e.hasOwnProperty("red")?Dn.transform(e):Ea.transform(e)},De=(e,t,s)=>-s*e+s*t+e;function Ld(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function LE({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let a=0,i=0,o=0;if(!t)a=i=o=s;else{const l=s<.5?s*(1+t):s+t-s*t,c=2*s-l;a=Ld(c,l,e+1/3),i=Ld(c,l,e),o=Ld(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const Id=(e,t,s)=>{const n=e*e;return Math.sqrt(Math.max(0,s*(t*t-n)+n))},IE=[gm,Dn,Ea],_E=e=>IE.find(t=>t.test(e));function Z0(e){const t=_E(e);let s=t.parse(e);return t===Ea&&(s=LE(s)),s}const D1=(e,t)=>{const s=Z0(e),n=Z0(t),a={...s};return i=>(a.red=Id(s.red,n.red,i),a.green=Id(s.green,n.green,i),a.blue=Id(s.blue,n.blue,i),a.alpha=De(s.alpha,n.alpha,i),Dn.transform(a))};function FE(e){var t,s;return isNaN(e)&&il(e)&&(((t=e.match(zu))===null||t===void 0?void 0:t.length)||0)+(((s=e.match(s1))===null||s===void 0?void 0:s.length)||0)>0}const T1={regex:A3,countKey:"Vars",token:"${v}",parse:_e},A1={regex:s1,countKey:"Colors",token:"${c}",parse:xt.parse},R1={regex:zu,countKey:"Numbers",token:"${n}",parse:la.parse};function _d(e,{regex:t,countKey:s,token:n,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+s]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(a)))}function Gc(e){const t=e.toString(),s={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&_d(s,T1),_d(s,A1),_d(s,R1),s}function O1(e){return Gc(e).values}function L1(e){const{values:t,numColors:s,numVars:n,tokenised:a}=Gc(e),i=t.length;return o=>{let l=a;for(let c=0;c<i;c++)c<n?l=l.replace(T1.token,o[c]):c<n+s?l=l.replace(A1.token,xt.transform(o[c])):l=l.replace(R1.token,ao(o[c]));return l}}const $E=e=>typeof e=="number"?0:e;function VE(e){const t=O1(e);return L1(e)(t.map($E))}const an={test:FE,parse:O1,createTransformer:L1,getAnimatableNone:VE},I1=(e,t)=>s=>`${s>0?t:e}`;function _1(e,t){return typeof e=="number"?s=>De(e,t,s):xt.test(e)?D1(e,t):e.startsWith("var(")?I1(e,t):$1(e,t)}const F1=(e,t)=>{const s=[...e],n=s.length,a=e.map((i,o)=>_1(i,t[o]));return i=>{for(let o=0;o<n;o++)s[o]=a[o](i);return s}},BE=(e,t)=>{const s={...e,...t},n={};for(const a in s)e[a]!==void 0&&t[a]!==void 0&&(n[a]=_1(e[a],t[a]));return a=>{for(const i in n)s[i]=n[i](a);return s}},$1=(e,t)=>{const s=an.createTransformer(t),n=Gc(e),a=Gc(t);return n.numVars===a.numVars&&n.numColors===a.numColors&&n.numNumbers>=a.numNumbers?Zr(F1(n.values,a.values),s):I1(e,t)},Io=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n},eg=(e,t)=>s=>De(e,t,s);function zE(e){return typeof e=="number"?eg:typeof e=="string"?xt.test(e)?D1:$1:Array.isArray(e)?F1:typeof e=="object"?BE:eg}function UE(e,t,s){const n=[],a=s||zE(e[0]),i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||_e:t;l=Zr(c,l)}n.push(l)}return n}function V1(e,t,{clamp:s=!0,ease:n,mixer:a}={}){const i=e.length;if(ip(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=UE(t,n,a),l=o.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Io(e[d],e[d+1],u);return o[d](f)};return s?u=>c(nn(e[0],e[i-1],u)):c}function qE(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const a=Io(0,t,n);e.push(De(s,1,a))}}function WE(e){const t=[0];return qE(t,e.length-1),t}function HE(e,t){return e.map(s=>s*t)}function KE(e,t){return e.map(()=>t||k1).splice(0,e.length-1)}function Yc({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const a=PE(n)?n.map(J0):J0(n),i={done:!1,value:t[0]},o=HE(s&&s.length===t.length?s:WE(t),e),l=V1(o,t,{ease:Array.isArray(a)?a:KE(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function B1(e,t){return t?e*(1e3/t):0}const QE=5;function z1(e,t,s){const n=Math.max(t-QE,0);return B1(s-e(n),t-n)}const Fd=.001,GE=.01,YE=10,XE=.05,JE=1;function ZE({duration:e=800,bounce:t=.25,velocity:s=0,mass:n=1}){let a,i,o=1-t;o=nn(XE,JE,o),e=nn(GE,YE,ir(e)),o<1?(a=u=>{const d=u*o,f=d*e,m=d-s,x=ym(u,o),h=Math.exp(-f);return Fd-m/x*h},i=u=>{const f=u*o*e,m=f*s+s,x=Math.pow(o,2)*Math.pow(u,2)*e,h=Math.exp(-f),j=ym(Math.pow(u,2),o);return(-a(u)+Fd>0?-1:1)*((m-x)*h)/j}):(a=u=>{const d=Math.exp(-u*e),f=(u-s)*e+1;return-Fd+d*f},i=u=>{const d=Math.exp(-u*e),f=(s-u)*(e*e);return d*f});const l=5/e,c=tP(a,i,l);if(e=Un(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const eP=12;function tP(e,t,s){let n=s;for(let a=1;a<eP;a++)n=n-e(n)/t(n);return n}function ym(e,t){return e*Math.sqrt(1-t*t)}const sP=["duration","bounce"],rP=["stiffness","damping","mass"];function tg(e,t){return t.some(s=>e[s]!==void 0)}function nP(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!tg(e,rP)&&tg(e,sP)){const s=ZE(e);t={...t,...s,mass:1},t.isResolvedFromDuration=!0}return t}function U1({keyframes:e,restDelta:t,restSpeed:s,...n}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:m}=nP({...n,velocity:-ir(n.velocity||0)}),x=f||0,h=c/(2*Math.sqrt(l*u)),j=i-a,b=ir(Math.sqrt(l/u)),y=Math.abs(j)<5;s||(s=y?.01:2),t||(t=y?.005:.5);let p;if(h<1){const g=ym(b,h);p=N=>{const E=Math.exp(-h*b*N);return i-E*((x+h*b*j)/g*Math.sin(g*N)+j*Math.cos(g*N))}}else if(h===1)p=g=>i-Math.exp(-b*g)*(j+(x+b*j)*g);else{const g=b*Math.sqrt(h*h-1);p=N=>{const E=Math.exp(-h*b*N),T=Math.min(g*N,300);return i-E*((x+h*b*j)*Math.sinh(T)+g*j*Math.cosh(T))/g}}return{calculatedDuration:m&&d||null,next:g=>{const N=p(g);if(m)o.done=g>=d;else{let E=x;g!==0&&(h<1?E=z1(p,g,N):E=0);const T=Math.abs(E)<=s,k=Math.abs(i-N)<=t;o.done=T&&k}return o.value=o.done?i:N,o}}}function sg({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},x=M=>l!==void 0&&M<l||c!==void 0&&M>c,h=M=>l===void 0?c:c===void 0||Math.abs(l-M)<Math.abs(c-M)?l:c;let j=s*t;const b=f+j,y=o===void 0?b:o(b);y!==b&&(j=y-f);const p=M=>-j*Math.exp(-M/n),g=M=>y+p(M),N=M=>{const R=p(M),P=g(M);m.done=Math.abs(R)<=u,m.value=m.done?y:P};let E,T;const k=M=>{x(m.value)&&(E=M,T=U1({keyframes:[m.value,h(m.value)],velocity:z1(g,M,m.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:M=>{let R=!1;return!T&&E===void 0&&(R=!0,N(M),k(M)),E!==void 0&&M>E?T.next(M-E):(!R&&N(M),m)}}}const aP=e=>{const t=({timestamp:s})=>e(s);return{start:()=>ke.update(t,!0),stop:()=>pr(t),now:()=>lt.isProcessing?lt.timestamp:performance.now()}},rg=2e4;function ng(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<rg;)t+=s,n=e.next(t);return t>=rg?1/0:t}const iP={decay:sg,inertia:sg,tween:Yc,keyframes:Yc,spring:U1};function Xc({autoplay:e=!0,delay:t=0,driver:s=aP,keyframes:n,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...m}){let x=1,h=!1,j,b;const y=()=>{b=new Promise(z=>{j=z})};y();let p;const g=iP[a]||Yc;let N;g!==Yc&&typeof n[0]!="number"&&(N=V1([0,100],n,{clamp:!1}),n=[0,100]);const E=g({...m,keyframes:n});let T;l==="mirror"&&(T=g({...m,keyframes:[...n].reverse(),velocity:-(m.velocity||0)}));let k="idle",M=null,R=null,P=null;E.calculatedDuration===null&&i&&(E.calculatedDuration=ng(E));const{calculatedDuration:S}=E;let w=1/0,D=1/0;S!==null&&(w=S+o,D=w*(i+1)-o);let C=0;const U=z=>{if(R===null)return;x>0&&(R=Math.min(R,z)),x<0&&(R=Math.min(z-D/x,R)),M!==null?C=M:C=Math.round(z-R)*x;const Q=C-t*(x>=0?1:-1),I=x>=0?Q<0:Q>D;C=Math.max(Q,0),k==="finished"&&M===null&&(C=D);let X=C,te=E;if(i){const Kt=Math.min(C,D)/w;let Qt=Math.floor(Kt),Ot=Kt%1;!Ot&&Kt>=1&&(Ot=1),Ot===1&&Qt--,Qt=Math.min(Qt,i+1),!!(Qt%2)&&(l==="reverse"?(Ot=1-Ot,o&&(Ot-=o/w)):l==="mirror"&&(te=T)),X=nn(0,1,Ot)*w}const ee=I?{done:!1,value:n[0]}:te.next(X);N&&(ee.value=N(ee.value));let{done:de}=ee;!I&&S!==null&&(de=x>=0?C>=D:C<=0);const xn=M===null&&(k==="finished"||k==="running"&&de);return f&&f(ee.value),xn&&_(),ee},W=()=>{p&&p.stop(),p=void 0},B=()=>{k="idle",W(),j(),y(),R=P=null},_=()=>{k="finished",d&&d(),W(),j()},H=()=>{if(h)return;p||(p=s(U));const z=p.now();c&&c(),M!==null?R=z-M:(!R||k==="finished")&&(R=z),k==="finished"&&y(),P=R,M=null,k="running",p.start()};e&&H();const L={then(z,Q){return b.then(z,Q)},get time(){return ir(C)},set time(z){z=Un(z),C=z,M!==null||!p||x===0?M=z:R=p.now()-z/x},get duration(){const z=E.calculatedDuration===null?ng(E):E.calculatedDuration;return ir(z)},get speed(){return x},set speed(z){z===x||!p||(x=z,L.time=ir(C))},get state(){return k},play:H,pause:()=>{k="paused",M=C},stop:()=>{h=!0,k!=="idle"&&(k="idle",u&&u(),B())},cancel:()=>{P!==null&&U(P),B()},complete:()=>{k="finished"},sample:z=>(R=0,U(z))};return L}function oP(e){let t;return()=>(t===void 0&&(t=e()),t)}const lP=oP(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cP=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ol=10,uP=2e4,dP=(e,t)=>t.type==="spring"||e==="backgroundColor"||!j1(t.ease);function fP(e,t,{onUpdate:s,onComplete:n,...a}){if(!(lP()&&cP.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let o=!1,l,c,u=!1;const d=()=>{c=new Promise(g=>{l=g})};d();let{keyframes:f,duration:m=300,ease:x,times:h}=a;if(dP(t,a)){const g=Xc({...a,repeat:0,delay:0});let N={done:!1,value:f[0]};const E=[];let T=0;for(;!N.done&&T<uP;)N=g.sample(T),E.push(N.value),T+=Ol;h=void 0,f=E,m=T-Ol,x="linear"}const j=bE(e.owner.current,t,f,{...a,duration:m,ease:x,times:h}),b=()=>{u=!1,j.cancel()},y=()=>{u=!0,ke.update(b),l(),d()};return j.onfinish=()=>{u||(e.set(NE(f,a)),n&&n(),y())},{then(g,N){return c.then(g,N)},attachTimeline(g){return j.timeline=g,j.onfinish=null,_e},get time(){return ir(j.currentTime||0)},set time(g){j.currentTime=Un(g)},get speed(){return j.playbackRate},set speed(g){j.playbackRate=g},get duration(){return ir(m)},play:()=>{o||(j.play(),pr(b))},pause:()=>j.pause(),stop:()=>{if(o=!0,j.playState==="idle")return;const{currentTime:g}=j;if(g){const N=Xc({...a,autoplay:!1});e.setWithVelocity(N.sample(g-Ol).value,N.sample(g).value,Ol)}y()},complete:()=>{u||j.finish()},cancel:y}}function mP({keyframes:e,delay:t,onUpdate:s,onComplete:n}){const a=()=>(s&&s(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:_e,pause:_e,stop:_e,then:i=>(i(),Promise.resolve()),cancel:_e,complete:_e});return t?Xc({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const hP={type:"spring",stiffness:500,damping:25,restSpeed:10},pP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),xP={type:"keyframes",duration:.8},gP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yP=(e,{keyframes:t})=>t.length>2?xP:oa.has(e)?e.startsWith("scale")?pP(t[1]):hP:gP,vm=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(an.test(t)||t==="0")&&!t.startsWith("url(")),vP=new Set(["brightness","contrast","saturate","opacity"]);function jP(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(zu)||[];if(!n)return e;const a=s.replace(n,"");let i=vP.has(t)?1:0;return n!==s&&(i*=100),t+"("+i+a+")"}const bP=/([a-z-]*)\(.*?\)/g,jm={...an,getAnimatableNone:e=>{const t=e.match(bP);return t?t.map(jP).join(" "):e}},NP={...r1,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:jm,WebkitFilter:jm},up=e=>NP[e];function q1(e,t){let s=up(e);return s!==jm&&(s=an),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const W1=e=>/^0[^.\s]+$/.test(e);function wP(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||W1(e)}function kP(e,t,s,n){const a=vm(t,s);let i;Array.isArray(s)?i=[...s]:i=[null,s];const o=n.from!==void 0?n.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),wP(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(a&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=q1(t,l)}return i}function CP({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function dp(e,t){return e[t]||e.default||e}const SP={skipAnimations:!1},fp=(e,t,s,n={})=>a=>{const i=dp(n,e)||{},o=i.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Un(o);const c=kP(t,e,s,i),u=c[0],d=c[c.length-1],f=vm(e,u),m=vm(e,d);let x={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:h=>{t.set(h),i.onUpdate&&i.onUpdate(h)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(CP(i)||(x={...x,...yP(e,x)}),x.duration&&(x.duration=Un(x.duration)),x.repeatDelay&&(x.repeatDelay=Un(x.repeatDelay)),!f||!m||jE.current||i.type===!1||SP.skipAnimations)return mP(x);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const h=fP(t,e,x);if(h)return h}return Xc(x)};function Jc(e){return!!(At(e)&&e.add)}const H1=e=>/^\-?\d*\.?\d+$/.test(e);function mp(e,t){e.indexOf(t)===-1&&e.push(t)}function hp(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}class pp{constructor(){this.subscriptions=[]}add(t){return mp(this.subscriptions,t),()=>hp(this.subscriptions,t)}notify(t,s,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,s,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const EP=e=>!isNaN(parseFloat(e));class PP{constructor(t,s={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,a=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=lt;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,ke.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ke.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=EP(this.current),this.owner=s.owner}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new pp);const n=this.events[t].add(s);return t==="change"?()=>{n(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?B1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ii(e,t){return new PP(e,t)}const K1=e=>t=>t.test(e),MP={test:e=>e==="auto",parse:e=>e},Q1=[la,se,_s,wr,I3,L3,MP],Ri=e=>Q1.find(K1(e)),DP=[...Q1,xt,an],TP=e=>DP.find(K1(e));function AP(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,ii(s))}function RP(e,t){const s=qu(e,t);let{transitionEnd:n={},transition:a={},...i}=s?e.makeTargetAnimatable(s,!1):{};i={...i,...n};for(const o in i){const l=Y3(i[o]);AP(e,o,l)}}function OP(e,t,s){var n,a;const i=Object.keys(t).filter(l=>!e.hasValue(l)),o=i.length;if(o)for(let l=0;l<o;l++){const c=i[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(a=(n=s[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&a!==void 0?a:t[c]),d!=null&&(typeof d=="string"&&(H1(d)||W1(d))?d=parseFloat(d):!TP(d)&&an.test(u)&&(d=q1(c,u)),e.addValue(c,ii(d,{owner:e})),s[c]===void 0&&(s[c]=d),d!==null&&e.setBaseTarget(c,d))}}function LP(e,t){return t?(t[e]||t.default||t).from:void 0}function IP(e,t,s){const n={};for(const a in e){const i=LP(a,t);if(i!==void 0)n[a]=i;else{const o=s.getValue(a);o&&(n[a]=o.get())}}return n}function _P({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function FP(e,t){const s=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==s)return!0}else return s!==t}function G1(e,t,{delay:s=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(i=n);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in l){const m=e.getValue(f),x=l[f];if(!m||x===void 0||d&&_P(d,f))continue;const h={delay:s,elapsed:0,...dp(i||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[Yb];if(y){const p=window.HandoffAppearAnimations(y,f,m,ke);p!==null&&(h.elapsed=p,h.isHandoff=!0)}}let j=!h.isHandoff&&!FP(m,x);if(h.type==="spring"&&(m.getVelocity()||h.velocity)&&(j=!1),m.animation&&(j=!1),j)continue;m.start(fp(f,m,x,e.shouldReduceMotion&&oa.has(f)?{type:!1}:h));const b=m.animation;Jc(c)&&(c.add(f),b.then(()=>c.remove(f))),u.push(b)}return o&&Promise.all(u).then(()=>{o&&RP(e,o)}),u}function bm(e,t,s={}){const n=qu(e,t,s.custom);let{transition:a=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(a=s.transitionOverride);const i=n?()=>Promise.all(G1(e,n,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return $P(e,t,u+c,d,f,s)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,u]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(s.delay)])}function $P(e,t,s=0,n=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=a===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(VP).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(bm(u,t,{...i,delay:s+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function VP(e,t){return e.sortNodePosition(t)}function BP(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>bm(e,i,s));n=Promise.all(a)}else if(typeof t=="string")n=bm(e,t,s);else{const a=typeof t=="function"?qu(e,t,s.custom):t;n=Promise.all(G1(e,a,s))}return n.then(()=>e.notify("AnimationComplete",t))}const zP=[...Yh].reverse(),UP=Yh.length;function qP(e){return t=>Promise.all(t.map(({animation:s,options:n})=>BP(e,s,n)))}function WP(e){let t=qP(e);const s=KP();let n=!0;const a=(c,u)=>{const d=qu(e,u);if(d){const{transition:f,transitionEnd:m,...x}=d;c={...c,...x,...m}}return c};function i(c){t=c(e)}function o(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},m=[],x=new Set;let h={},j=1/0;for(let y=0;y<UP;y++){const p=zP[y],g=s[p],N=d[p]!==void 0?d[p]:f[p],E=Oo(N),T=p===u?g.isActive:null;T===!1&&(j=y);let k=N===f[p]&&N!==d[p]&&E;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),g.protectedKeys={...h},!g.isActive&&T===null||!N&&!g.prevProp||Vu(N)||typeof N=="boolean")continue;let R=HP(g.prevProp,N)||p===u&&g.isActive&&!k&&E||y>j&&E,P=!1;const S=Array.isArray(N)?N:[N];let w=S.reduce(a,{});T===!1&&(w={});const{prevResolvedValues:D={}}=g,C={...D,...w},U=W=>{R=!0,x.has(W)&&(P=!0,x.delete(W)),g.needsAnimating[W]=!0};for(const W in C){const B=w[W],_=D[W];if(h.hasOwnProperty(W))continue;let H=!1;Qc(B)&&Qc(_)?H=!y1(B,_):H=B!==_,H?B!==void 0?U(W):x.add(W):B!==void 0&&x.has(W)?U(W):g.protectedKeys[W]=!0}g.prevProp=N,g.prevResolvedValues=w,g.isActive&&(h={...h,...w}),n&&e.blockInitialAnimation&&(R=!1),R&&(!k||P)&&m.push(...S.map(W=>({animation:W,options:{type:p,...c}})))}if(x.size){const y={};x.forEach(p=>{const g=e.getBaseTarget(p);g!==void 0&&(y[p]=g)}),m.push({animation:y})}let b=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(m):Promise.resolve()}function l(c,u,d){var f;if(s[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(x=>{var h;return(h=x.animationState)===null||h===void 0?void 0:h.setActive(c,u)}),s[c].isActive=u;const m=o(d,c);for(const x in s)s[x].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>s}}function HP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!y1(t,e):!1}function yn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function KP(){return{animate:yn(!0),whileInView:yn(),whileHover:yn(),whileTap:yn(),whileDrag:yn(),whileFocus:yn(),exit:yn()}}class QP extends pn{constructor(t){super(t),t.animationState||(t.animationState=WP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Vu(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){}}let GP=0;class YP extends pn{constructor(){super(...arguments),this.id=GP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s,custom:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});s&&!t&&i.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const XP={animation:{Feature:QP},exit:{Feature:YP}},ag=(e,t)=>Math.abs(e-t);function JP(e,t){const s=ag(e.x,t.x),n=ag(e.y,t.y);return Math.sqrt(s**2+n**2)}class Y1{constructor(t,s,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Vd(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,x=JP(f.offset,{x:0,y:0})>=3;if(!m&&!x)return;const{point:h}=f,{timestamp:j}=lt;this.history.push({...h,timestamp:j});const{onStart:b,onMove:y}=this.handlers;m||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=$d(m,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:x,onSessionEnd:h,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Vd(f.type==="pointercancel"?this.lastMoveEventInfo:$d(m,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,b),h&&h(f,b)},!m1(t))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=n,this.contextWindow=a||window;const o=Uu(t),l=$d(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=lt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=s;d&&d(t,Vd(l,this.history)),this.removeListeners=Zr(ar(this.contextWindow,"pointermove",this.handlePointerMove),ar(this.contextWindow,"pointerup",this.handlePointerUp),ar(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),pr(this.updatePoint)}}function $d(e,t){return t?{point:t(e.point)}:e}function ig(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vd({point:e},t){return{point:e,delta:ig(e,X1(t)),offset:ig(e,ZP(t)),velocity:eM(t,.1)}}function ZP(e){return e[0]}function X1(e){return e[e.length-1]}function eM(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const a=X1(e);for(;s>=0&&(n=e[s],!(a.timestamp-n.timestamp>Un(t)));)s--;if(!n)return{x:0,y:0};const i=ir(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ut(e){return e.max-e.min}function Nm(e,t=0,s=.01){return Math.abs(e-t)<=s}function og(e,t,s,n=.5){e.origin=n,e.originPoint=De(t.min,t.max,e.origin),e.scale=Ut(s)/Ut(t),(Nm(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=De(s.min,s.max,e.origin)-e.originPoint,(Nm(e.translate)||isNaN(e.translate))&&(e.translate=0)}function io(e,t,s,n){og(e.x,t.x,s.x,n?n.originX:void 0),og(e.y,t.y,s.y,n?n.originY:void 0)}function lg(e,t,s){e.min=s.min+t.min,e.max=e.min+Ut(t)}function tM(e,t,s){lg(e.x,t.x,s.x),lg(e.y,t.y,s.y)}function cg(e,t,s){e.min=t.min-s.min,e.max=e.min+Ut(t)}function oo(e,t,s){cg(e.x,t.x,s.x),cg(e.y,t.y,s.y)}function sM(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?De(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?De(s,e,n.max):Math.min(e,s)),e}function ug(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function rM(e,{top:t,left:s,bottom:n,right:a}){return{x:ug(e.x,s,a),y:ug(e.y,t,n)}}function dg(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function nM(e,t){return{x:dg(e.x,t.x),y:dg(e.y,t.y)}}function aM(e,t){let s=.5;const n=Ut(e),a=Ut(t);return a>n?s=Io(t.min,t.max-n,e.min):n>a&&(s=Io(e.min,e.max-a,t.min)),nn(0,1,s)}function iM(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const wm=.35;function oM(e=wm){return e===!1?e=0:e===!0&&(e=wm),{x:fg(e,"left","right"),y:fg(e,"top","bottom")}}function fg(e,t,s){return{min:mg(e,t),max:mg(e,s)}}function mg(e,t){return typeof e=="number"?e:e[t]||0}const hg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pa=()=>({x:hg(),y:hg()}),pg=()=>({min:0,max:0}),Ve=()=>({x:pg(),y:pg()});function Yt(e){return[e("x"),e("y")]}function J1({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function lM({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function cM(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function Bd(e){return e===void 0||e===1}function km({scale:e,scaleX:t,scaleY:s}){return!Bd(e)||!Bd(t)||!Bd(s)}function bn(e){return km(e)||Z1(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Z1(e){return xg(e.x)||xg(e.y)}function xg(e){return e&&e!=="0%"}function Zc(e,t,s){const n=e-s,a=t*n;return s+a}function gg(e,t,s,n,a){return a!==void 0&&(e=Zc(e,a,n)),Zc(e,s,n)+t}function Cm(e,t=0,s=1,n,a){e.min=gg(e.min,t,s,n,a),e.max=gg(e.max,t,s,n,a)}function eN(e,{x:t,y:s}){Cm(e.x,t.translate,t.scale,t.originPoint),Cm(e.y,s.translate,s.scale,s.originPoint)}function uM(e,t,s,n=!1){const a=s.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=s[l],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ma(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,eN(e,o)),n&&bn(i.latestValues)&&Ma(e,i.latestValues))}t.x=yg(t.x),t.y=yg(t.y)}function yg(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Sr(e,t){e.min=e.min+t,e.max=e.max+t}function vg(e,t,[s,n,a]){const i=t[a]!==void 0?t[a]:.5,o=De(e.min,e.max,i);Cm(e,t[s],t[n],o,t.scale)}const dM=["x","scaleX","originX"],fM=["y","scaleY","originY"];function Ma(e,t){vg(e.x,t,dM),vg(e.y,t,fM)}function tN(e,t){return J1(cM(e.getBoundingClientRect(),t))}function mM(e,t,s){const n=tN(e,s),{scroll:a}=t;return a&&(Sr(n.x,a.offset.x),Sr(n.y,a.offset.y)),n}const sN=({current:e})=>e?e.ownerDocument.defaultView:null,hM=new WeakMap;class pM{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ve(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Uu(d,"page").point)},i=(d,f)=>{const{drag:m,dragPropagation:x,onDragStart:h}=this.getProps();if(m&&!x&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=p1(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yt(b=>{let y=this.getAxisMotionValue(b).get()||0;if(_s.test(y)){const{projection:p}=this.visualElement;if(p&&p.layout){const g=p.layout.layoutBox[b];g&&(y=Ut(g)*(parseFloat(y)/100))}}this.originPoint[b]=y}),h&&ke.update(()=>h(d,f),!1,!0);const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:m,dragDirectionLock:x,onDirectionLock:h,onDrag:j}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:b}=f;if(x&&this.currentDirection===null){this.currentDirection=xM(b),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),j&&j(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Yt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Y1(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:sN(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&ke.update(()=>i(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:a}=this.getProps();if(!n||!Ll(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=sM(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;s&&Sa(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=rM(a.layoutBox,s):this.constraints=!1,this.elastic=oM(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Yt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=iM(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Sa(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=mM(n,a.root,this.visualElement.getTransformPagePoint());let o=nM(a.layout.layoutBox,i);if(s){const l=s(lM(o));this.hasMutatedConstraints=!!l,l&&(o=J1(l))}return o}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Yt(d=>{if(!Ll(d,s,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const m=a?200:1e6,x=a?40:1e7,h={type:"inertia",velocity:n?t[d]:0,bounceStiffness:m,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,h)});return Promise.all(u).then(l)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return n.start(fp(t,n,0,s))}stopAnimation(){Yt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Yt(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),a=n[s];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Yt(s=>{const{drag:n}=this.getProps();if(!Ll(s,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(s);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[s];i.set(t[s]-De(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Sa(s)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Yt(o=>{const l=this.getAxisMotionValue(o);if(l){const c=l.get();a[o]=aM({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Yt(o=>{if(!Ll(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(De(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;hM.set(this.visualElement,this);const t=this.visualElement.current,s=ar(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Sa(c)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),n();const o=rr(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Yt(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),s(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=wm,dragMomentum:l=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Ll(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function xM(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class gM extends pn{constructor(t){super(t),this.removeGroupControls=_e,this.removeListeners=_e,this.controls=new pM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_e}unmount(){this.removeGroupControls(),this.removeListeners()}}const jg=e=>(t,s)=>{e&&ke.update(()=>e(t,s))};class yM extends pn{constructor(){super(...arguments),this.removePointerDownListener=_e}onPointerDown(t){this.session=new Y1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sN(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:jg(t),onStart:jg(s),onMove:n,onEnd:(i,o)=>{delete this.session,a&&ke.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=ar(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function vM(){const e=v.useContext(Fu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:n}=e,a=v.useId();return v.useEffect(()=>n(a),[]),!t&&s?[!1,()=>s&&s(a)]:[!0]}const cc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Oi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(se.test(e))e=parseFloat(e);else return e;const s=bg(e,t.target.x),n=bg(e,t.target.y);return`${s}% ${n}%`}},jM={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,a=an.parse(e);if(a.length>5)return n;const i=an.createTransformer(e),o=typeof a[0]!="number"?1:0,l=s.x.scale*t.x,c=s.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=De(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};class bM extends Go.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;P3(NM),i&&(s.group&&s.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),cc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:a,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==s||s===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ke.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function rN(e){const[t,s]=vM(),n=v.useContext(Jh);return Go.createElement(bM,{...e,layoutGroup:n,switchLayoutGroup:v.useContext(Jb),isPresent:t,safeToRemove:s})}const NM={borderRadius:{...Oi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oi,borderTopRightRadius:Oi,borderBottomLeftRadius:Oi,borderBottomRightRadius:Oi,boxShadow:jM},nN=["TopLeft","TopRight","BottomLeft","BottomRight"],wM=nN.length,Ng=e=>typeof e=="string"?parseFloat(e):e,wg=e=>typeof e=="number"||se.test(e);function kM(e,t,s,n,a,i){a?(e.opacity=De(0,s.opacity!==void 0?s.opacity:1,CM(n)),e.opacityExit=De(t.opacity!==void 0?t.opacity:1,0,SM(n))):i&&(e.opacity=De(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,n));for(let o=0;o<wM;o++){const l=`border${nN[o]}Radius`;let c=kg(t,l),u=kg(s,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||wg(c)===wg(u)?(e[l]=Math.max(De(Ng(c),Ng(u),n),0),(_s.test(u)||_s.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||s.rotate)&&(e.rotate=De(t.rotate||0,s.rotate||0,n))}function kg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const CM=aN(0,.5,E1),SM=aN(.5,.95,_e);function aN(e,t,s){return n=>n<e?0:n>t?1:s(Io(e,t,n))}function Cg(e,t){e.min=t.min,e.max=t.max}function Gt(e,t){Cg(e.x,t.x),Cg(e.y,t.y)}function Sg(e,t,s,n,a){return e-=t,e=Zc(e,1/s,n),a!==void 0&&(e=Zc(e,1/a,n)),e}function EM(e,t=0,s=1,n=.5,a,i=e,o=e){if(_s.test(t)&&(t=parseFloat(t),t=De(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=De(i.min,i.max,n);e===i&&(l-=t),e.min=Sg(e.min,t,s,l,a),e.max=Sg(e.max,t,s,l,a)}function Eg(e,t,[s,n,a],i,o){EM(e,t[s],t[n],t[a],t.scale,i,o)}const PM=["x","scaleX","originX"],MM=["y","scaleY","originY"];function Pg(e,t,s,n){Eg(e.x,t,PM,s?s.x:void 0,n?n.x:void 0),Eg(e.y,t,MM,s?s.y:void 0,n?n.y:void 0)}function Mg(e){return e.translate===0&&e.scale===1}function iN(e){return Mg(e.x)&&Mg(e.y)}function DM(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function oN(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Dg(e){return Ut(e.x)/Ut(e.y)}class TM{constructor(){this.members=[]}add(t){mp(this.members,t),t.scheduleRender()}remove(t){if(hp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let n;for(let a=s;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Tg(e,t,s){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(n=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{rotate:c,rotateX:u,rotateY:d}=s;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const AM=(e,t)=>e.depth-t.depth;class RM{constructor(){this.children=[],this.isDirty=!1}add(t){mp(this.children,t),this.isDirty=!0}remove(t){hp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(AM),this.isDirty=!1,this.children.forEach(t)}}function OM(e,t){const s=performance.now(),n=({timestamp:a})=>{const i=a-s;i>=t&&(pr(n),e(i-t))};return ke.read(n,!0),()=>pr(n)}function LM(e){window.MotionDebug&&window.MotionDebug.record(e)}function IM(e){return e instanceof SVGElement&&e.tagName!=="svg"}function _M(e,t,s){const n=At(e)?e:ii(e);return n.start(fp("",n,t,s)),n.animation}const Ag=["","X","Y","Z"],FM={visibility:"hidden"},Rg=1e3;let $M=0;const Nn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function lN({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=$M++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Nn.totalNodes=Nn.resolvedTargetDeltas=Nn.recalculatedProjection=0,this.nodes.forEach(zM),this.nodes.forEach(KM),this.nodes.forEach(QM),this.nodes.forEach(UM),LM(Nn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new RM)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pp),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=IM(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=OM(m,250),cc.hasAnimatedSinceResize&&(cc.hasAnimatedSinceResize=!1,this.nodes.forEach(Lg))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:x,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||d.getDefaultTransition()||ZM,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=d.getProps(),p=!this.targetLayout||!oN(this.targetLayout,h)||x,g=!m&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||m&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,g);const N={...dp(j,"layout"),onPlay:b,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else m||Lg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,pr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(GM),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Og);return}this.isUpdating||this.nodes.forEach(WM),this.isUpdating=!1,this.nodes.forEach(HM),this.nodes.forEach(VM),this.nodes.forEach(BM),this.clearAllSnapshots();const l=performance.now();lt.delta=nn(0,1e3/60,l-lt.timestamp),lt.timestamp=l,lt.isProcessing=!0,Td.update.process(lt),Td.preRender.process(lt),Td.render.process(lt),lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(qM),this.sharedNodes.forEach(YM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:s(this.instance)})}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!iN(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||bn(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),eD(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ve();const l=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Sr(l.x,c.offset.x),Sr(l.y,c.offset.y)),l}removeElementScroll(o){const l=Ve();Gt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Gt(l,o);const{scroll:m}=this.root;m&&(Sr(l.x,-m.offset.x),Sr(l.y,-m.offset.y))}Sr(l.x,d.offset.x),Sr(l.y,d.offset.y)}}return l}applyTransform(o,l=!1){const c=Ve();Gt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ma(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),bn(d.latestValues)&&Ma(c,d.latestValues)}return bn(this.latestValues)&&Ma(c,this.latestValues),c}removeTransform(o){const l=Ve();Gt(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!bn(u.latestValues))continue;km(u.latestValues)&&u.updateSnapshot();const d=Ve(),f=u.measurePageBox();Gt(d,f),Pg(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return bn(this.latestValues)&&Pg(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=lt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ve(),this.relativeTargetOrigin=Ve(),oo(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ve(),this.targetWithTransforms=Ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gt(this.target,this.layout.layoutBox),eN(this.target,this.targetDelta)):Gt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ve(),this.relativeTargetOrigin=Ve(),oo(this.relativeTargetOrigin,this.target,x.target),Gt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Nn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||km(this.parent.latestValues)||Z1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===lt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Gt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,x=this.treeScale.y;uM(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:h}=l;if(!h){this.projectionTransform&&(this.projectionDelta=Pa(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Pa(),this.projectionDeltaWithTransform=Pa());const j=this.projectionTransform;io(this.projectionDelta,this.layoutCorrected,h,this.latestValues),this.projectionTransform=Tg(this.projectionDelta,this.treeScale),(this.projectionTransform!==j||this.treeScale.x!==m||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h)),Nn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Pa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Ve(),x=c?c.source:void 0,h=this.layout?this.layout.source:void 0,j=x!==h,b=this.getStack(),y=!b||b.members.length<=1,p=!!(j&&!y&&this.options.crossfade===!0&&!this.path.some(JM));this.animationProgress=0;let g;this.mixTargetDelta=N=>{const E=N/1e3;Ig(f.x,o.x,E),Ig(f.y,o.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(oo(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XM(this.relativeTarget,this.relativeTargetOrigin,m,E),g&&DM(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=Ve()),Gt(g,this.relativeTarget)),j&&(this.animationValues=d,kM(d,u,this.latestValues,E,p,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(pr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{cc.hasAnimatedSinceResize=!0,this.currentAnimation=_M(0,Rg,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Rg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&cN(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ve();const f=Ut(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=Ut(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Gt(l,c),Ma(l,d),io(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new TM),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<Ag.length;d++){const f="rotate"+Ag[d];c[f]&&(u[f]=c[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return FM;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=lc(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=lc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!bn(this.latestValues)&&(j.transform=d?d({},""):"none",this.hasProjected=!1),j}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Tg(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x,y:h}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${h.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const j in Hc){if(m[j]===void 0)continue;const{correct:b,applyTo:y}=Hc[j],p=u.transform==="none"?m[j]:b(m[j],f);if(y){const g=y.length;for(let N=0;N<g;N++)u[y[N]]=p}else u[j]=p}return this.options.layoutId&&(u.pointerEvents=f===this?lc(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Og),this.root.sharedNodes.clear()}}}function VM(e){e.updateLayout()}function BM(e){var t;const s=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=s.source!==e.layout.source;i==="size"?Yt(f=>{const m=o?s.measuredBox[f]:s.layoutBox[f],x=Ut(m);m.min=n[f].min,m.max=m.min+x}):cN(i,s.layoutBox,n)&&Yt(f=>{const m=o?s.measuredBox[f]:s.layoutBox[f],x=Ut(n[f]);m.max=m.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+x)});const l=Pa();io(l,n,s.layoutBox);const c=Pa();o?io(c,e.applyTransform(a,!0),s.measuredBox):io(c,n,s.layoutBox);const u=!iN(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:x}=f;if(m&&x){const h=Ve();oo(h,s.layoutBox,m.layoutBox);const j=Ve();oo(j,n,x.layoutBox),oN(h,j)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=h,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function zM(e){Nn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function UM(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function qM(e){e.clearSnapshot()}function Og(e){e.clearMeasurements()}function WM(e){e.isLayoutDirty=!1}function HM(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Lg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function KM(e){e.resolveTargetDelta()}function QM(e){e.calcProjection()}function GM(e){e.resetRotation()}function YM(e){e.removeLeadSnapshot()}function Ig(e,t,s){e.translate=De(t.translate,0,s),e.scale=De(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function _g(e,t,s,n){e.min=De(t.min,s.min,n),e.max=De(t.max,s.max,n)}function XM(e,t,s,n){_g(e.x,t.x,s.x,n),_g(e.y,t.y,s.y,n)}function JM(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ZM={duration:.45,ease:[.4,0,.1,1]},Fg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),$g=Fg("applewebkit/")&&!Fg("chrome/")?Math.round:_e;function Vg(e){e.min=$g(e.min),e.max=$g(e.max)}function eD(e){Vg(e.x),Vg(e.y)}function cN(e,t,s){return e==="position"||e==="preserve-aspect"&&!Nm(Dg(t),Dg(s),.2)}const tD=lN({attachResizeListener:(e,t)=>rr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zd={current:void 0},uN=lN({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!zd.current){const e=new tD({});e.mount(window),e.setOptions({layoutScroll:!0}),zd.current=e}return zd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),sD={pan:{Feature:yM},drag:{Feature:gM,ProjectionNode:uN,MeasureLayout:rN}},rD=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function nD(e){const t=rD.exec(e);if(!t)return[,];const[,s,n]=t;return[s,n]}function Sm(e,t,s=1){const[n,a]=nD(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return H1(o)?parseFloat(o):o}else return pm(a)?Sm(a,t,s+1):a}function aD(e,{...t},s){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:s};s&&(s={...s}),e.values.forEach(a=>{const i=a.get();if(!pm(i))return;const o=Sm(i,n);o&&a.set(o)});for(const a in t){const i=t[a];if(!pm(i))continue;const o=Sm(i,n);o&&(t[a]=o,s||(s={}),s[a]===void 0&&(s[a]=i))}return{target:t,transitionEnd:s}}const iD=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),dN=e=>iD.has(e),oD=e=>Object.keys(e).some(dN),Bg=e=>e===la||e===se,zg=(e,t)=>parseFloat(e.split(", ")[t]),Ug=(e,t)=>(s,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/);if(a)return zg(a[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?zg(i[1],e):0}},lD=new Set(["x","y","z"]),cD=al.filter(e=>!lD.has(e));function uD(e){const t=[];return cD.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t.length&&e.render(),t}const oi={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Ug(4,13),y:Ug(5,14)};oi.translateX=oi.x;oi.translateY=oi.y;const dD=(e,t,s)=>{const n=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,l={};o==="none"&&t.setStaticValue("display",e.display||"block"),s.forEach(u=>{l[u]=oi[u](n,i)}),t.render();const c=t.measureViewportBox();return s.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=oi[u](c,i)}),e},fD=(e,t,s={},n={})=>{t={...t},n={...n};const a=Object.keys(t).filter(dN);let i=[],o=!1;const l=[];if(a.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=s[c],f=Ri(d);const m=t[c];let x;if(Qc(m)){const h=m.length,j=m[0]===null?1:0;d=m[j],f=Ri(d);for(let b=j;b<h&&m[b]!==null;b++)x?ip(Ri(m[b])===x):x=Ri(m[b])}else x=Ri(m);if(f!==x)if(Bg(f)&&Bg(x)){const h=u.get();typeof h=="string"&&u.set(parseFloat(h)),typeof m=="string"?t[c]=parseFloat(m):Array.isArray(m)&&x===se&&(t[c]=m.map(parseFloat))}else f!=null&&f.transform&&(x!=null&&x.transform)&&(d===0||m===0)?d===0?u.set(x.transform(d)):t[c]=f.transform(m):(o||(i=uD(e),o=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=dD(t,e,l);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),$u&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function mD(e,t,s,n){return oD(t)?fD(e,t,s,n):{target:t,transitionEnd:n}}const hD=(e,t,s,n)=>{const a=aD(e,t,n);return t=a.target,n=a.transitionEnd,mD(e,t,s,n)},Em={current:null},fN={current:!1};function pD(){if(fN.current=!0,!!$u)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Em.current=e.matches;e.addListener(t),t()}else Em.current=!1}function xD(e,t,s){const{willChange:n}=t;for(const a in t){const i=t[a],o=s[a];if(At(i))e.addValue(a,i),Jc(n)&&n.add(a);else if(At(o))e.addValue(a,ii(i,{owner:e})),Jc(n)&&n.remove(a);else if(o!==i)if(e.hasValue(a)){const l=e.getValue(a);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(a);e.addValue(a,ii(l!==void 0?l:i,{owner:e}))}}for(const a in s)t[a]===void 0&&e.removeValue(a);return t}const qg=new WeakMap,mN=Object.keys(Lo),gD=mN.length,Wg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],yD=Xh.length;class vD{constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ke.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=s.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=Bu(s),this.isVariantNode=Xb(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(s,{});for(const f in d){const m=d[f];l[f]!==void 0&&At(m)&&(m.set(l[f],!1),Jc(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,s){return{}}mount(t){this.current=t,qg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),fN.current||pD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Em.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qg.delete(this.current),this.projection&&this.projection.unmount(),pr(this.notifyUpdate),pr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,s){const n=oa.has(t),a=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ke.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=s.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...s},n,a,i){let o,l;for(let c=0;c<gD;c++){const u=mN[c],{isEnabled:d,Feature:f,ProjectionNode:m,MeasureLayout:x}=Lo[u];m&&(o=m),d(s)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),x&&(l=x))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:m,layoutRoot:x}=s;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Sa(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:x})}return l}updateFeatures(){for(const t in this.features){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}makeTargetAnimatable(t,s=!0){return this.makeTargetAnimatableFromInstance(t,this.props,s)}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<Wg.length;n++){const a=Wg[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=xD(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const s={};for(let n=0;n<yD;n++){const a=Xh[n],i=this.props[a];(Oo(i)||i===!1)&&(s[a]=i)}return s}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){s!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,s)),this.values.set(t,s),this.latestValues[t]=s.get()}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=ii(s,{owner:this}),this.addValue(t,n)),n}readValue(t){var s;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:n}=this.props,a=typeof n=="string"||typeof n=="object"?(s=ap(this.props,n))===null||s===void 0?void 0:s[t]:void 0;if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!At(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new pp),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class hN extends vD{sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:s,...n},{transformValues:a},i){let o=IP(n,t||{},this);if(a&&(s&&(s=a(s)),n&&(n=a(n)),o&&(o=a(o))),i){OP(this,n,o);const l=hD(this,n,o,s);s=l.transitionEnd,n=l.target}return{transition:t,transitionEnd:s,...n}}}function jD(e){return window.getComputedStyle(e)}class bD extends hN{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,s){if(oa.has(s)){const n=up(s);return n&&n.default||0}else{const n=jD(t),a=(t1(s)?n.getPropertyValue(s):n[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return tN(t,s)}build(t,s,n,a){ep(t,s,n,a.transformTemplate)}scrapeMotionValuesFromProps(t,s){return np(t,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;At(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}renderInstance(t,s,n,a){o1(t,s,n,a)}}class ND extends hN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(oa.has(s)){const n=up(s);return n&&n.default||0}return s=l1.has(s)?s:Gh(s),t.getAttribute(s)}measureInstanceViewportBox(){return Ve()}scrapeMotionValuesFromProps(t,s){return u1(t,s)}build(t,s,n,a){sp(t,s,n,this.isSVGTag,a.transformTemplate)}renderInstance(t,s,n,a){c1(t,s,n,a)}mount(t){this.isSVGTag=rp(t.tagName),super.mount(t)}}const wD=(e,t)=>Zh(e)?new ND(t,{enableHardwareAcceleration:!1}):new bD(t,{enableHardwareAcceleration:!0}),kD={layout:{ProjectionNode:uN,MeasureLayout:rN}},CD={...XP,...gE,...sD,...kD},F=S3((e,t)=>nE(e,t,CD,wD));function pN(){const e=v.useRef(!1);return Qh(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function SD(){const e=pN(),[t,s]=v.useState(0),n=v.useCallback(()=>{e.current&&s(t+1)},[t]);return[v.useCallback(()=>ke.postRender(n),[n]),t]}class ED extends v.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=s.offsetHeight||0,n.width=s.offsetWidth||0,n.top=s.offsetTop,n.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PD({children:e,isPresent:t}){const s=v.useId(),n=v.useRef(null),a=v.useRef({width:0,height:0,top:0,left:0});return v.useInsertionEffect(()=>{const{width:i,height:o,top:l,left:c}=a.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=s;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),v.createElement(ED,{isPresent:t,childRef:n,sizeRef:a},v.cloneElement(e,{ref:n}))}const Ud=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=d1(MD),c=v.useId(),u=v.useMemo(()=>({id:c,initial:t,isPresent:s,custom:a,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;n&&n()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[s]);return v.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[s]),v.useEffect(()=>{!s&&!l.size&&n&&n()},[s]),o==="popLayout"&&(e=v.createElement(PD,{isPresent:s},e)),v.createElement(Fu.Provider,{value:u},e)};function MD(){return new Map}function DD(e){return v.useEffect(()=>()=>e(),[])}const wn=e=>e.key||"";function TD(e,t){e.forEach(s=>{const n=wn(s);t.set(n,s)})}function AD(e){const t=[];return v.Children.forEach(e,s=>{v.isValidElement(s)&&t.push(s)}),t}const re=({children:e,custom:t,initial:s=!0,onExitComplete:n,exitBeforeEnter:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=v.useContext(Jh).forceRender||SD()[0],c=pN(),u=AD(e);let d=u;const f=v.useRef(new Map).current,m=v.useRef(d),x=v.useRef(new Map).current,h=v.useRef(!0);if(Qh(()=>{h.current=!1,TD(u,x),m.current=d}),DD(()=>{h.current=!0,x.clear(),f.clear()}),h.current)return v.createElement(v.Fragment,null,d.map(p=>v.createElement(Ud,{key:wn(p),isPresent:!0,initial:s?void 0:!1,presenceAffectsLayout:i,mode:o},p)));d=[...d];const j=m.current.map(wn),b=u.map(wn),y=j.length;for(let p=0;p<y;p++){const g=j[p];b.indexOf(g)===-1&&!f.has(g)&&f.set(g,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((p,g)=>{if(b.indexOf(g)!==-1)return;const N=x.get(g);if(!N)return;const E=j.indexOf(g);let T=p;if(!T){const k=()=>{f.delete(g);const M=Array.from(x.keys()).filter(R=>!b.includes(R));if(M.forEach(R=>x.delete(R)),m.current=u.filter(R=>{const P=wn(R);return P===g||M.includes(P)}),!f.size){if(c.current===!1)return;l(),n&&n()}};T=v.createElement(Ud,{key:wn(N),isPresent:!1,onExitComplete:k,custom:t,presenceAffectsLayout:i,mode:o},N),f.set(g,T)}d.splice(E,0,T)}),d=d.map(p=>{const g=p.key;return f.has(g)?p:v.createElement(Ud,{key:wn(p),isPresent:!0,presenceAffectsLayout:i,mode:o},p)}),v.createElement(v.Fragment,null,f.size?d:d.map(p=>v.cloneElement(p)))};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),K=(e,t)=>{const s=v.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>v.createElement("svg",{ref:d,...RD,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:["lucide",`lucide-${OD(e)}`,l].join(" "),...u},[...t.map(([f,m])=>v.createElement(f,m)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=K("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=K("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=K("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=K("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=K("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=K("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=K("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=K("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=K("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=K("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=K("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=K("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=K("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=K("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=K("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=K("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=K("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=K("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=K("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=K("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=K("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=K("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=K("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=K("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=K("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=K("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=K("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=K("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=K("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=K("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=K("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=K("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=K("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=K("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=K("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=K("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=K("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=K("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=K("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=K("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=K("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=K("FolderGit2",[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v5",key:"1w6njk"}],["circle",{cx:"13",cy:"12",r:"2",key:"1j92g6"}],["path",{d:"M18 19c-2.8 0-5-2.2-5-5v8",key:"pkpw2h"}],["circle",{cx:"20",cy:"19",r:"2",key:"1obnsp"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=K("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=K("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=K("GanttChart",[["path",{d:"M8 6h10",key:"9lnwnk"}],["path",{d:"M6 12h9",key:"1g9pqf"}],["path",{d:"M11 18h7",key:"c8dzvl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=K("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=K("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=K("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=K("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=K("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=K("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=K("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=K("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=K("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=K("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=K("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=K("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=K("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=K("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=K("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=K("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=K("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=K("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=K("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=K("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=K("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=K("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=K("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=K("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=K("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=K("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=K("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=K("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=K("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=K("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=K("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=K("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=K("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=K("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=K("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=K("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=K("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=K("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=K("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=K("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=K("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=K("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=K("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=K("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=K("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=K("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=K("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=K("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=K("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=K("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=K("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=K("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=K("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=K("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=K("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=K("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=K("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=K("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=K("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=K("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=K("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=K("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=K("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),lr=Uh(e=>({workspaces:[],currentWorkspace:null,boards:[],setWorkspaces:t=>e({workspaces:t}),addWorkspace:t=>{e(s=>({workspaces:[...s.workspaces,t]}))},updateWorkspace:(t,s)=>{e(n=>{var a;return{workspaces:n.workspaces.map(i=>i.id===t?{...i,...s}:i),currentWorkspace:((a=n.currentWorkspace)==null?void 0:a.id)===t?{...n.currentWorkspace,...s}:n.currentWorkspace}})},deleteWorkspace:t=>{e(s=>{var n;return{workspaces:s.workspaces.filter(a=>a.id!==t),currentWorkspace:((n=s.currentWorkspace)==null?void 0:n.id)===t?null:s.currentWorkspace}})},setCurrentWorkspace:t=>e({currentWorkspace:t}),setBoards:t=>e({boards:t}),addBoard:t=>{e(s=>({boards:[...s.boards,t]}))},updateBoard:(t,s)=>{e(n=>({boards:n.boards.map(a=>a.id===t?{...a,...s}:a)}))},deleteBoard:t=>{e(s=>({boards:s.boards.filter(n=>n.id!==t)}))}})),dT=["","","","","","","","","",""],fT=["#6366f1","#8b5cf6","#ec4899","#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#06b6d4","#3b82f6"];function MN({isOpen:e,onClose:t}){const s=lr(c=>c.addWorkspace),[n,a]=v.useState(!1),[i,o]=v.useState({name:"",description:"",icon:"",color:"#6366f1"}),l=async c=>{if(c.preventDefault(),!!i.name.trim()){a(!0);try{const u=await Iu.create(i);s(u.data),V.success("Workspace cr avec succs"),t(),o({name:"",description:"",icon:"",color:"#6366f1"})}catch{V.error("Erreur lors de la cration")}finally{a(!1)}}};return e?r.jsx(re,{children:r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:r.jsxs(F.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content",onClick:c=>c.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-600/20 flex items-center justify-center",children:r.jsx(bi,{className:"w-5 h-5 text-primary-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Crer un workspace"}),r.jsx("p",{className:"text-sm text-surface-500",children:"Organisez vos projets dans un espace ddi"})]})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:l,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center text-4xl cursor-pointer",style:{backgroundColor:`${i.color}20`},children:i.icon}),r.jsxs("div",{className:"flex-1 space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-surface-500 mb-2",children:"Icne"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:dT.map(c=>r.jsx("button",{type:"button",onClick:()=>o({...i,icon:c}),className:`w-8 h-8 rounded-lg flex items-center justify-center text-lg hover:bg-surface-700 transition-colors ${i.icon===c?"bg-surface-700 ring-2 ring-primary-500":""}`,children:c},c))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-surface-500 mb-2",children:"Couleur"}),r.jsx("div",{className:"flex gap-2",children:fT.map(c=>r.jsx("button",{type:"button",onClick:()=>o({...i,color:c}),className:`w-6 h-6 rounded-full transition-transform ${i.color===c?"ring-2 ring-offset-2 ring-offset-surface-900 ring-white scale-110":"hover:scale-110"}`,style:{backgroundColor:c}},c))})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom du workspace"}),r.jsx("input",{type:"text",value:i.name,onChange:c=>o({...i,name:c.target.value}),placeholder:"Mon super projet",className:"input",required:!0,autoFocus:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Description"," ",r.jsx("span",{className:"text-surface-500",children:"(optionnel)"})]}),r.jsx("textarea",{value:i.description,onChange:c=>o({...i,description:c.target.value}),placeholder:"Dcrivez votre workspace...",className:"input resize-none h-24"})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),r.jsx("button",{type:"submit",disabled:n||!i.name.trim(),className:"btn btn-primary",children:n?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Crer le workspace"})]})]})]})})}):null}function mT(){var m,x;const e=mn(),t=cs(),s=lr(h=>h.workspaces),{user:n,logout:a}=dt(),[i,o]=v.useState({}),[l,c]=v.useState(!1),u=h=>{o(j=>({...j,[h]:!j[h]}))},d=async()=>{await a(),t("/login")},f=h=>e.pathname===h;return r.jsxs(r.Fragment,{children:[r.jsxs("aside",{className:"sidebar",children:[r.jsx("div",{className:"p-6 border-b border-surface-800",children:r.jsxs(me,{to:"/",className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-purple-600 flex items-center justify-center",children:r.jsx(bi,{className:"w-5 h-5 text-white"})}),r.jsx("span",{className:"font-display font-bold text-xl gradient-text",children:"GesProjet"})]})}),r.jsxs("nav",{className:"flex-1 overflow-y-auto py-4 scrollbar-hide",children:[r.jsx("div",{className:"mb-6",children:r.jsxs(me,{to:"/",className:`sidebar-item ${f("/")?"active":""}`,children:[r.jsx(QD,{className:"w-5 h-5"}),r.jsx("span",{children:"Tableau de bord"})]})}),r.jsx("div",{className:"px-4 mb-2",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs font-semibold text-surface-500 uppercase tracking-wider",children:"Espaces de travail"}),r.jsx("button",{onClick:()=>c(!0),className:"p-1 rounded-lg hover:bg-surface-800 text-surface-500 hover:text-surface-300 transition-colors",children:r.jsx(ie,{className:"w-4 h-4"})})]})}),r.jsx("div",{className:"space-y-1",children:s.map(h=>r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>u(h.id),className:"w-full sidebar-item justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-lg",children:h.icon}),r.jsx("span",{className:"truncate",children:h.name})]}),i[h.id]?r.jsx(yr,{className:"w-4 h-4 text-surface-500"}):r.jsx(Ws,{className:"w-4 h-4 text-surface-500"})]}),r.jsx(re,{children:i[h.id]&&r.jsxs(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:[r.jsxs(me,{to:`/workspace/${h.id}`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${h.id}`?"active":""}`,children:[r.jsx(Os,{className:"w-4 h-4"}),r.jsx("span",{children:"Boards"})]}),r.jsxs(me,{to:`/workspace/${h.id}/members`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${h.id}/members`?"active":""}`,children:[r.jsx(Le,{className:"w-4 h-4"}),r.jsx("span",{children:"Membres"})]}),r.jsxs(me,{to:`/workspace/${h.id}/evaluation`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${h.id}/evaluation`?"active":""}`,children:[r.jsx(gN,{className:"w-4 h-4"}),r.jsx("span",{children:"valuation quipe"})]}),r.jsxs(me,{to:`/workspace/${h.id}/tickets`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${h.id}/tickets`?"active":""}`,children:[r.jsx(_a,{className:"w-4 h-4"}),r.jsx("span",{children:"Mes tickets"})]}),r.jsxs(me,{to:`/workspace/${h.id}/tickets/admin`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${h.id}/tickets/admin`?"active":""}`,children:[r.jsx(di,{className:"w-4 h-4"}),r.jsx("span",{children:"Gestion tickets"})]}),r.jsxs(me,{to:`/workspace/${h.id}/permissions`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${h.id}/permissions`?"active":""}`,children:[r.jsx(ln,{className:"w-4 h-4"}),r.jsx("span",{children:"Permissions"})]}),r.jsxs(me,{to:`/workspace/${h.id}/budgets`,className:`sidebar-item pl-12 text-sm ${e.pathname.startsWith(`/workspace/${h.id}/budget`)?"active":""}`,children:[r.jsx(Hn,{className:"w-4 h-4"}),r.jsx("span",{children:"Budgets"})]}),r.jsxs("div",{className:"mt-2 pt-2 border-t border-surface-800/50",children:[r.jsx("span",{className:"text-xs text-surface-500 pl-12 block mb-1",children:"Schma Directeur SI"}),r.jsxs(me,{to:`/workspace/${h.id}/sdsi`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${h.id}/sdsi`?"active":""}`,children:[r.jsx(XD,{className:"w-4 h-4"}),r.jsx("span",{children:"Tableau de bord"})]}),r.jsxs(me,{to:`/workspace/${h.id}/sdsi/projects`,className:`sidebar-item pl-12 text-sm ${e.pathname.includes(`/workspace/${h.id}/sdsi/project`)?"active":""}`,children:[r.jsx(Os,{className:"w-4 h-4"}),r.jsx("span",{children:"Portefeuille projets"})]}),r.jsxs(me,{to:`/workspace/${h.id}/sdsi/resources`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${h.id}/sdsi/resources`?"active":""}`,children:[r.jsx(Le,{className:"w-4 h-4"}),r.jsx("span",{children:"Ressources"})]}),r.jsxs(me,{to:`/workspace/${h.id}/sdsi/applications`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${h.id}/sdsi/applications`?"active":""}`,children:[r.jsx(su,{className:"w-4 h-4"}),r.jsx("span",{children:"Applications"})]}),r.jsxs(me,{to:`/workspace/${h.id}/sdsi/kpis`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${h.id}/sdsi/kpis`?"active":""}`,children:[r.jsx(Rt,{className:"w-4 h-4"}),r.jsx("span",{children:"Indicateurs"})]})]})]})})]},h.id))})]}),r.jsx("div",{className:"p-4 border-t border-surface-800",children:r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-surface-800/50",children:[r.jsxs("div",{className:"avatar",children:[(m=n==null?void 0:n.firstName)==null?void 0:m[0],(x=n==null?void 0:n.lastName)==null?void 0:x[0]]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("p",{className:"text-sm font-medium text-surface-200 truncate",children:[n==null?void 0:n.firstName," ",n==null?void 0:n.lastName]}),r.jsx("p",{className:"text-xs text-surface-500 truncate",children:n==null?void 0:n.email})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(me,{to:"/settings",className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400 hover:text-surface-200 transition-colors",children:r.jsx(di,{className:"w-4 h-4"})}),r.jsx("button",{onClick:d,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400 hover:text-red-400 transition-colors",children:r.jsx(YD,{className:"w-4 h-4"})})]})]})})]}),r.jsx(MN,{isOpen:l,onClose:()=>c(!1)})]})}const pe=Uh((e,t)=>({currentBoard:null,columns:[],groups:[],items:[],views:[],selectedItems:[],activeView:"table",filters:[],sorts:[],filter:{searchTerm:"",status:"",priority:""},setBoard:s=>{e({currentBoard:s,columns:s.columns||[],groups:s.groups||[],items:s.items||[],views:s.views||[],selectedItems:[]})},clearBoard:()=>{e({currentBoard:null,columns:[],groups:[],items:[],views:[],selectedItems:[]})},addItem:s=>{e(n=>({items:[...n.items,s]}))},updateItem:(s,n)=>{e(a=>({items:a.items.map(i=>i.id===s?{...i,...n}:i)}))},updateItemValue:(s,n,a)=>{e(i=>({items:i.items.map(o=>o.id===s?{...o,values:{...o.values,[n]:a}}:o)}))},deleteItem:s=>{e(n=>({items:n.items.filter(a=>a.id!==s),selectedItems:n.selectedItems.filter(a=>a!==s)}))},deleteItems:s=>{e(n=>({items:n.items.filter(a=>!s.includes(a.id)),selectedItems:n.selectedItems.filter(a=>!s.includes(a))}))},reorderItems:s=>{e(n=>{const a=new Map(n.items.map(i=>[i.id,i]));return s.forEach(({id:i,position:o,groupId:l})=>{const c=a.get(i);c&&(c.position=o,l!==void 0&&(c.groupId=l))}),{items:Array.from(a.values())}})},toggleItemSelection:s=>{e(n=>({selectedItems:n.selectedItems.includes(s)?n.selectedItems.filter(a=>a!==s):[...n.selectedItems,s]}))},selectAllItems:()=>{e(s=>({selectedItems:s.items.map(n=>n.id)}))},clearSelection:()=>{e({selectedItems:[]})},addColumn:s=>{e(n=>({columns:[...n.columns,s]}))},updateColumn:(s,n)=>{e(a=>({columns:a.columns.map(i=>i.id===s?{...i,...n}:i)}))},deleteColumn:s=>{e(n=>({columns:n.columns.filter(a=>a.id!==s)}))},reorderColumns:s=>{e(n=>{const a=new Map(n.columns.map(i=>[i.id,i]));return s.forEach(({id:i,position:o})=>{const l=a.get(i);l&&(l.position=o)}),{columns:Array.from(a.values()).sort((i,o)=>i.position-o.position)}})},addLabel:(s,n)=>{e(a=>({columns:a.columns.map(i=>i.id===s?{...i,labels:[...i.labels||[],n]}:i)}))},updateLabel:(s,n,a)=>{e(i=>({columns:i.columns.map(o=>o.id===s?{...o,labels:o.labels.map(l=>l.id===n?{...l,...a}:l)}:o)}))},deleteLabel:(s,n)=>{e(a=>({columns:a.columns.map(i=>i.id===s?{...i,labels:i.labels.filter(o=>o.id!==n)}:i)}))},addGroup:s=>{e(n=>({groups:[...n.groups,s]}))},updateGroup:(s,n)=>{e(a=>({groups:a.groups.map(i=>i.id===s?{...i,...n}:i)}))},deleteGroup:s=>{e(n=>({groups:n.groups.filter(a=>a.id!==s),items:n.items.map(a=>a.groupId===s?{...a,groupId:null}:a)}))},toggleGroupCollapse:s=>{e(n=>({groups:n.groups.map(a=>a.id===s?{...a,isCollapsed:!a.isCollapsed}:a)}))},setActiveView:s=>e({activeView:s}),setFilters:s=>e({filters:s}),setSorts:s=>e({sorts:s}),setFilter:s=>e({filter:s}),getFilteredItems:()=>{const s=t(),{items:n,columns:a,filter:i}=s;return!i.searchTerm&&!i.status&&!i.priority?n:n.filter(o=>{var l,c,u;if(i.searchTerm){const d=i.searchTerm.toLowerCase(),f=(l=o.name)==null?void 0:l.toLowerCase().includes(d),m=Object.values(o.values||{}).some(x=>String(x).toLowerCase().includes(d));if(!f&&!m)return!1}if(i.status){const d=a.find(f=>f.type==="status");if(d&&((c=o.values)==null?void 0:c[d.id])!==i.status)return!1}if(i.priority){const d=a.find(f=>f.type==="priority");if(d&&((u=o.values)==null?void 0:u[d.id])!==i.priority)return!1}return!0})}}));function ge(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Bs(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function DN(e,t){const s=ge(e);if(isNaN(t))return Bs(e,NaN);if(!t)return s;const n=s.getDate(),a=Bs(e,s.getTime());a.setMonth(s.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(s.setFullYear(a.getFullYear(),a.getMonth(),n),s)}const TN=6048e5,hT=864e5,Fl=43200,Qg=1440;let pT={};function ul(){return pT}function zo(e,t){var l,c,u,d;const s=ul(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((d=(u=s.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=ge(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function ru(e){return zo(e,{weekStartsOn:1})}function AN(e){const t=ge(e),s=t.getFullYear(),n=Bs(e,0);n.setFullYear(s+1,0,4),n.setHours(0,0,0,0);const a=ru(n),i=Bs(e,0);i.setFullYear(s,0,4),i.setHours(0,0,0,0);const o=ru(i);return t.getTime()>=a.getTime()?s+1:t.getTime()>=o.getTime()?s:s-1}function nu(e){const t=ge(e);return t.setHours(0,0,0,0),t}function au(e){const t=ge(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function RN(e,t){const s=nu(e),n=nu(t),a=+s-au(s),i=+n-au(n);return Math.round((a-i)/hT)}function xT(e){const t=AN(e),s=Bs(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),ru(s)}function uc(e,t){const s=ge(e),n=ge(t),a=s.getTime()-n.getTime();return a<0?-1:a>0?1:a}function ON(e){return Bs(e,Date.now())}function LN(e,t){const s=nu(e),n=nu(t);return+s==+n}function gT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function bp(e){if(!gT(e)&&typeof e!="number")return!1;const t=ge(e);return!isNaN(Number(t))}function yT(e,t){const s=ge(e),n=ge(t),a=s.getFullYear()-n.getFullYear(),i=s.getMonth()-n.getMonth();return a*12+i}function Gg(e,t){const s=ge(e),n=ge(t),a=Yg(s,n),i=Math.abs(RN(s,n));s.setDate(s.getDate()-a*i);const o=+(Yg(s,n)===-a),l=a*(i-o);return l===0?0:l}function Yg(e,t){const s=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return s<0?-1:s>0?1:s}function vT(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function jT(e,t){return+ge(e)-+ge(t)}function bT(e){const t=ge(e);return t.setHours(23,59,59,999),t}function Np(e){const t=ge(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function NT(e){const t=ge(e);return+bT(t)==+Np(t)}function wT(e,t){const s=ge(e),n=ge(t),a=uc(s,n),i=Math.abs(yT(s,n));let o;if(i<1)o=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*i);let l=uc(s,n)===-a;NT(ge(e))&&i===1&&uc(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function kT(e,t,s){const n=jT(e,t)/1e3;return vT(s==null?void 0:s.roundingMethod)(n)}function CT(e,t){const s=ge(e.start),n=ge(e.end);let a=+s>+n;const i=a?+s:+n,o=a?n:s;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push(ge(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function ST(e){const t=ge(e);return t.setDate(1),t.setHours(0,0,0,0),t}function ET(e){const t=ge(e),s=Bs(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}const PT={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},MT=(e,t,s)=>{let n;const a=PT[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function Fa(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const DT={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},TT={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},AT={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RT={date:Fa({formats:DT,defaultWidth:"full"}),time:Fa({formats:TT,defaultWidth:"full"}),dateTime:Fa({formats:AT,defaultWidth:"full"})},OT={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},LT=(e,t,s,n)=>OT[e];function Ds(e){return(t,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=s!=null&&s.width?String(s.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=s!=null&&s.width?String(s.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const IT={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_T={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},FT={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$T={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},VT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},BT={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zT=(e,t)=>{const s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},UT={ordinalNumber:zT,era:Ds({values:IT,defaultWidth:"wide"}),quarter:Ds({values:_T,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ds({values:FT,defaultWidth:"wide"}),day:Ds({values:$T,defaultWidth:"wide"}),dayPeriod:Ds({values:VT,defaultWidth:"wide",formattingValues:BT,defaultFormattingWidth:"wide"})};function Ts(e){return(t,s={})=>{const n=s.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?WT(l,f=>f.test(o)):qT(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=s.valueCallback?s.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function qT(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function WT(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function IN(e){return(t,s={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=s.valueCallback?s.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const HT=/^(\d+)(th|st|nd|rd)?/i,KT=/\d+/i,QT={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},GT={any:[/^b/i,/^(a|c)/i]},YT={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},XT={any:[/1/i,/2/i,/3/i,/4/i]},JT={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ZT={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eA={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tA={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sA={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rA={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nA={ordinalNumber:IN({matchPattern:HT,parsePattern:KT,valueCallback:e=>parseInt(e,10)}),era:Ts({matchPatterns:QT,defaultMatchWidth:"wide",parsePatterns:GT,defaultParseWidth:"any"}),quarter:Ts({matchPatterns:YT,defaultMatchWidth:"wide",parsePatterns:XT,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ts({matchPatterns:JT,defaultMatchWidth:"wide",parsePatterns:ZT,defaultParseWidth:"any"}),day:Ts({matchPatterns:eA,defaultMatchWidth:"wide",parsePatterns:tA,defaultParseWidth:"any"}),dayPeriod:Ts({matchPatterns:sA,defaultMatchWidth:"any",parsePatterns:rA,defaultParseWidth:"any"})},_N={code:"en-US",formatDistance:MT,formatLong:RT,formatRelative:LT,localize:UT,match:nA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aA(e){const t=ge(e);return RN(t,ET(t))+1}function iA(e){const t=ge(e),s=+ru(t)-+xT(t);return Math.round(s/TN)+1}function FN(e,t){var d,f,m,x;const s=ge(e),n=s.getFullYear(),a=ul(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((x=(m=a.locale)==null?void 0:m.options)==null?void 0:x.firstWeekContainsDate)??1,o=Bs(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=zo(o,t),c=Bs(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=zo(c,t);return s.getTime()>=l.getTime()?n+1:s.getTime()>=u.getTime()?n:n-1}function oA(e,t){var l,c,u,d;const s=ul(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((d=(u=s.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=FN(e,t),i=Bs(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),zo(i,t)}function lA(e,t){const s=ge(e),n=+zo(s,t)-+oA(s,t);return Math.round(n/TN)+1}function je(e,t){const s=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return s+n}const br={y(e,t){const s=e.getFullYear(),n=s>0?s:1-s;return je(t==="yy"?n%100:n,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):je(s+1,2)},d(e,t){return je(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return je(e.getHours()%12||12,t.length)},H(e,t){return je(e.getHours(),t.length)},m(e,t){return je(e.getMinutes(),t.length)},s(e,t){return je(e.getSeconds(),t.length)},S(e,t){const s=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,s-3));return je(a,t.length)}},fa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Xg={G:function(e,t,s){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return s.ordinalNumber(a,{unit:"year"})}return br.y(e,t)},Y:function(e,t,s,n){const a=FN(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return je(o,2)}return t==="Yo"?s.ordinalNumber(i,{unit:"year"}):je(i,t.length)},R:function(e,t){const s=AN(e);return je(s,t.length)},u:function(e,t){const s=e.getFullYear();return je(s,t.length)},Q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return je(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return je(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,s){const n=e.getMonth();switch(t){case"M":case"MM":return br.M(e,t);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,s){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return je(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,s,n){const a=lA(e,n);return t==="wo"?s.ordinalNumber(a,{unit:"week"}):je(a,t.length)},I:function(e,t,s){const n=iA(e);return t==="Io"?s.ordinalNumber(n,{unit:"week"}):je(n,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):br.d(e,t)},D:function(e,t,s){const n=aA(e);return t==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):je(n,t.length)},E:function(e,t,s){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,s,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return je(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,s,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return je(i,t.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,s){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return je(a,t.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,s){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,s){const n=e.getHours();let a;switch(n===12?a=fa.noon:n===0?a=fa.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,s){const n=e.getHours();let a;switch(n>=17?a=fa.evening:n>=12?a=fa.afternoon:n>=4?a=fa.morning:a=fa.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return br.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):br.H(e,t)},K:function(e,t,s){const n=e.getHours()%12;return t==="Ko"?s.ordinalNumber(n,{unit:"hour"}):je(n,t.length)},k:function(e,t,s){let n=e.getHours();return n===0&&(n=24),t==="ko"?s.ordinalNumber(n,{unit:"hour"}):je(n,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):br.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):br.s(e,t)},S:function(e,t){return br.S(e,t)},X:function(e,t,s){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Zg(n);case"XXXX":case"XX":return kn(n);case"XXXXX":case"XXX":default:return kn(n,":")}},x:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"x":return Zg(n);case"xxxx":case"xx":return kn(n);case"xxxxx":case"xxx":default:return kn(n,":")}},O:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Jg(n,":");case"OOOO":default:return"GMT"+kn(n,":")}},z:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Jg(n,":");case"zzzz":default:return"GMT"+kn(n,":")}},t:function(e,t,s){const n=Math.trunc(e.getTime()/1e3);return je(n,t.length)},T:function(e,t,s){const n=e.getTime();return je(n,t.length)}};function Jg(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?s+String(a):s+String(a)+t+je(i,2)}function Zg(e,t){return e%60===0?(e>0?"-":"+")+je(Math.abs(e)/60,2):kn(e,t)}function kn(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),a=je(Math.trunc(n/60),2),i=je(n%60,2);return s+a+t+i}const ey=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},$N=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},cA=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],n=s[1],a=s[2];if(!a)return ey(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",ey(n,t)).replace("{{time}}",$N(a,t))},uA={p:$N,P:cA},dA=/^D+$/,fA=/^Y+$/,mA=["D","DD","YY","YYYY"];function hA(e){return dA.test(e)}function pA(e){return fA.test(e)}function xA(e,t,s){const n=gA(e,t,s);if(console.warn(n),mA.includes(e))throw new RangeError(n)}function gA(e,t,s){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yA=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vA=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jA=/^'([^]*?)'?$/,bA=/''/g,NA=/[a-zA-Z]/;function As(e,t,s){var d,f,m,x,h,j,b,y;const n=ul(),a=(s==null?void 0:s.locale)??n.locale??_N,i=(s==null?void 0:s.firstWeekContainsDate)??((f=(d=s==null?void 0:s.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((x=(m=n.locale)==null?void 0:m.options)==null?void 0:x.firstWeekContainsDate)??1,o=(s==null?void 0:s.weekStartsOn)??((j=(h=s==null?void 0:s.locale)==null?void 0:h.options)==null?void 0:j.weekStartsOn)??n.weekStartsOn??((y=(b=n.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??0,l=ge(e);if(!bp(l))throw new RangeError("Invalid time value");let c=t.match(vA).map(p=>{const g=p[0];if(g==="p"||g==="P"){const N=uA[g];return N(p,a.formatLong)}return p}).join("").match(yA).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const g=p[0];if(g==="'")return{isToken:!1,value:wA(p)};if(Xg[g])return{isToken:!0,value:p};if(g.match(NA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:p}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(p=>{if(!p.isToken)return p.value;const g=p.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&pA(g)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&hA(g))&&xA(g,t,String(e));const N=Xg[g[0]];return N(l,g,a.localize,u)}).join("")}function wA(e){const t=e.match(jA);return t?t[1].replace(bA,"'"):e}function kA(e,t,s){const n=ul(),a=(s==null?void 0:s.locale)??n.locale??_N,i=2520,o=uc(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:o});let c,u;o>0?(c=ge(t),u=ge(e)):(c=ge(e),u=ge(t));const d=kT(u,c),f=(au(u)-au(c))/1e3,m=Math.round((d-f)/60);let x;if(m<2)return s!=null&&s.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<Qg){const h=Math.round(m/60);return a.formatDistance("aboutXHours",h,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<Fl){const h=Math.round(m/Qg);return a.formatDistance("xDays",h,l)}else if(m<Fl*2)return x=Math.round(m/Fl),a.formatDistance("aboutXMonths",x,l)}if(x=wT(u,c),x<12){const h=Math.round(m/Fl);return a.formatDistance("xMonths",h,l)}else{const h=x%12,j=Math.trunc(x/12);return h<3?a.formatDistance("aboutXYears",j,l):h<9?a.formatDistance("overXYears",j,l):a.formatDistance("almostXYears",j+1,l)}}function iu(e,t){return kA(e,ON(e),t)}function ty(e){return+ge(e)<Date.now()}function sy(e){return LN(e,ON(e))}function CA(e,t){return DN(e,-1)}const SA={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},EA=(e,t,s)=>{let n;const a=SA[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"dans "+n:"il y a "+n:n},PA={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},MA={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},DA={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TA={date:Fa({formats:PA,defaultWidth:"full"}),time:Fa({formats:MA,defaultWidth:"full"}),dateTime:Fa({formats:DA,defaultWidth:"full"})},AA={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},RA=(e,t,s,n)=>AA[e],OA={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},LA={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},IA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},_A={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},FA={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},$A=(e,t)=>{const s=Number(e),n=t==null?void 0:t.unit;if(s===0)return"0";const a=["year","week","hour","minute","second"];let i;return s===1?i=n&&a.includes(n)?"re":"er":i="me",s+i},VA=["MMM","MMMM"],BA={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&VA.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:$A,era:Ds({values:OA,defaultWidth:"wide"}),quarter:Ds({values:LA,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ds({values:IA,defaultWidth:"wide"}),day:Ds({values:_A,defaultWidth:"wide"}),dayPeriod:Ds({values:FA,defaultWidth:"wide"})},zA=/^(\d+)(ime|re|me|er|e)?/i,UA=/\d+/i,qA={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},WA={any:[/^av/i,/^ap/i]},HA={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},KA={any:[/1/i,/2/i,/3/i,/4/i]},QA={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},GA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},YA={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},XA={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},JA={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},ZA={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},eR={ordinalNumber:IN({matchPattern:zA,parsePattern:UA,valueCallback:e=>parseInt(e)}),era:Ts({matchPatterns:qA,defaultMatchWidth:"wide",parsePatterns:WA,defaultParseWidth:"any"}),quarter:Ts({matchPatterns:HA,defaultMatchWidth:"wide",parsePatterns:KA,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ts({matchPatterns:QA,defaultMatchWidth:"wide",parsePatterns:GA,defaultParseWidth:"any"}),day:Ts({matchPatterns:YA,defaultMatchWidth:"wide",parsePatterns:XA,defaultParseWidth:"any"}),dayPeriod:Ts({matchPatterns:JA,defaultMatchWidth:"any",parsePatterns:ZA,defaultParseWidth:"any"})},xr={code:"fr",formatDistance:EA,formatLong:TA,formatRelative:RA,localize:BA,match:eR,options:{weekStartsOn:1,firstWeekContainsDate:4}};function tR({onClose:e}){const t=qs(),{data:s,isLoading:n}=Vs({queryKey:["notifications"],queryFn:async()=>(await Md.getAll({limit:10})).data}),a=zr({mutationFn:c=>Md.markAsRead(c),onSuccess:()=>{t.invalidateQueries(["notifications"])}}),i=zr({mutationFn:()=>Md.markAllAsRead(),onSuccess:()=>{t.invalidateQueries(["notifications"])}});v.useEffect(()=>{const c=u=>{u.target.closest(".notifications-dropdown")||e()};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[e]);const o=(s==null?void 0:s.notifications)||[],l=(s==null?void 0:s.unreadCount)||0;return r.jsxs(F.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"notifications-dropdown absolute right-0 top-full mt-2 w-96 bg-surface-800 border border-surface-700 rounded-2xl shadow-2xl overflow-hidden z-50",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(or,{className:"w-5 h-5 text-primary-400"}),r.jsx("span",{className:"font-semibold text-surface-100",children:"Notifications"}),l>0&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-primary-600 text-white rounded-full",children:l})]}),l>0&&r.jsxs("button",{onClick:()=>i.mutate(),className:"flex items-center gap-1 text-xs text-primary-400 hover:text-primary-300",children:[r.jsx(_D,{className:"w-4 h-4"}),"Tout marquer comme lu"]})]}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:n?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):o.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[r.jsx(or,{className:"w-10 h-10 text-surface-600 mb-3"}),r.jsx("p",{className:"text-sm text-surface-500",children:"Aucune notification"})]}):o.map(c=>r.jsx("div",{className:`p-4 border-b border-surface-700/50 hover:bg-surface-700/30 transition-colors ${c.isRead?"":"bg-primary-600/5"}`,children:r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-surface-200 mb-1",children:c.title}),c.message&&r.jsx("p",{className:"text-xs text-surface-500 line-clamp-2",children:c.message}),r.jsx("p",{className:"text-xs text-surface-600 mt-1",children:iu(new Date(c.createdAt),{addSuffix:!0,locale:xr})})]}),!c.isRead&&r.jsx("button",{onClick:()=>a.mutate(c.id),className:"p-1.5 rounded-lg hover:bg-surface-700 text-surface-500",children:r.jsx(sa,{className:"w-4 h-4"})})]})},c.id))}),o.length>0&&r.jsx("div",{className:"p-3 border-t border-surface-700",children:r.jsx("button",{className:"w-full text-sm text-primary-400 hover:text-primary-300 font-medium",children:"Voir toutes les notifications"})})]})}function sR(e,t=300){const[s,n]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(a)}},[e,t]),s}function rR({isOpen:e,onClose:t}){const s=cs(),n=v.useRef(null),[a,i]=v.useState(""),[o,l]=v.useState({items:[],boards:[],workspaces:[],members:[]}),[c,u]=v.useState(!1),[d,f]=v.useState(0),[m,x]=v.useState([]),h=sR(a,300);v.useEffect(()=>{const k=localStorage.getItem("recentSearches");if(k)try{x(JSON.parse(k))}catch{}},[]),v.useEffect(()=>{e&&n.current&&n.current.focus()},[e]),v.useEffect(()=>{h.length>=2?b(h):l({items:[],boards:[],workspaces:[],members:[]})},[h]),v.useEffect(()=>{const k=M=>{if(!e)return;const R=j();switch(M.key){case"ArrowDown":M.preventDefault(),f(P=>Math.min(P+1,R.length-1));break;case"ArrowUp":M.preventDefault(),f(P=>Math.max(P-1,0));break;case"Enter":M.preventDefault(),R[d]&&y(R[d]);break;case"Escape":M.preventDefault(),t();break}};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[e,d,o]);const j=()=>[...o.items,...o.boards,...o.workspaces,...o.members],b=async k=>{u(!0);try{const{data:M}=await x3.global({q:k,limit:8});l(M.grouped),f(0)}catch(M){console.error("Search error:",M)}finally{u(!1)}},y=k=>{const M=[{...k,searchedAt:new Date().toISOString()},...m.filter(R=>R.id!==k.id).slice(0,4)];switch(x(M),localStorage.setItem("recentSearches",JSON.stringify(M)),k.type){case"item":s(`/board/${k.boardId}`);break;case"board":s(`/board/${k.id}`);break;case"workspace":s(`/workspace/${k.id}`);break}t(),i("")},p=k=>{switch(k){case"item":return gs;case"board":return Os;case"workspace":return li;case"member":return Le;default:return gs}},g=k=>{switch(k){case"item":return"Item";case"board":return"Board";case"workspace":return"Espace";case"member":return"Membre";default:return k}};if(!e)return null;const E=j().length>0,T=!a&&m.length>0;return r.jsx(re,{children:r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-50 flex items-start justify-center pt-[10vh]",onClick:t,children:r.jsxs(F.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},className:"bg-surface-900 rounded-2xl w-full max-w-2xl shadow-2xl border border-surface-700 overflow-hidden",onClick:k=>k.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center gap-3 px-5 py-4 border-b border-surface-700",children:[r.jsx(js,{className:`w-5 h-5 ${c?"text-primary-400 animate-pulse":"text-surface-400"}`}),r.jsx("input",{ref:n,type:"text",value:a,onChange:k=>i(k.target.value),placeholder:"Rechercher items, boards, membres...",className:"flex-1 bg-transparent border-none outline-none text-surface-100 placeholder-surface-500"}),a&&r.jsx("button",{onClick:()=>i(""),className:"p-1 hover:bg-surface-700 rounded",children:r.jsx(fe,{className:"w-4 h-4 text-surface-400"})}),r.jsxs("kbd",{className:"hidden sm:flex items-center gap-1 px-2 py-1 bg-surface-800 rounded text-xs text-surface-500",children:[r.jsx(yN,{className:"w-3 h-3"}),"K"]})]}),r.jsxs("div",{className:"max-h-[60vh] overflow-y-auto",children:[c&&r.jsx("div",{className:"p-8 text-center",children:r.jsx("div",{className:"w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto"})}),T&&!c&&r.jsxs("div",{className:"p-3",children:[r.jsx("p",{className:"px-3 py-2 text-xs font-medium text-surface-500 uppercase tracking-wider",children:"Recherches rcentes"}),m.map((k,M)=>(p(k.type),r.jsxs("button",{onClick:()=>y(k),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-surface-800 transition-colors text-left",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface-800 flex items-center justify-center",children:r.jsx(nt,{className:"w-4 h-4 text-surface-500"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-surface-200 truncate",children:k.name}),r.jsx("p",{className:"text-xs text-surface-500",children:g(k.type)})]})]},`recent-${k.id}`)))]}),E&&!c&&r.jsxs("div",{className:"p-3",children:[o.items.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"px-3 py-2 text-xs font-medium text-surface-500 uppercase tracking-wider",children:["Items (",o.items.length,")"]}),o.items.map((k,M)=>r.jsx($l,{item:k,icon:gs,subtitle:k.boardName,isSelected:d===M,onClick:()=>y(k)},k.id))]}),o.boards.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"px-3 py-2 text-xs font-medium text-surface-500 uppercase tracking-wider",children:["Boards (",o.boards.length,")"]}),o.boards.map((k,M)=>r.jsx($l,{item:k,icon:Os,subtitle:k.workspaceName,isSelected:d===o.items.length+M,onClick:()=>y(k),iconEmoji:k.icon},k.id))]}),o.workspaces.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"px-3 py-2 text-xs font-medium text-surface-500 uppercase tracking-wider",children:["Espaces de travail (",o.workspaces.length,")"]}),o.workspaces.map((k,M)=>r.jsx($l,{item:k,icon:li,isSelected:d===o.items.length+o.boards.length+M,onClick:()=>y(k),iconEmoji:k.icon},k.id))]}),o.members.length>0&&r.jsxs("div",{children:[r.jsxs("p",{className:"px-3 py-2 text-xs font-medium text-surface-500 uppercase tracking-wider",children:["Membres (",o.members.length,")"]}),o.members.map((k,M)=>r.jsx($l,{item:k,icon:Le,subtitle:k.email,isSelected:d===o.items.length+o.boards.length+o.workspaces.length+M,onClick:()=>y(k)},k.id))]})]}),!E&&a.length>=2&&!c&&r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(js,{className:"w-10 h-10 text-surface-600 mx-auto mb-3"}),r.jsxs("p",{className:"text-surface-400",children:['Aucun rsultat pour "',a,'"']}),r.jsx("p",{className:"text-sm text-surface-500 mt-1",children:"Essayez avec d'autres termes"})]}),!E&&!T&&a.length<2&&!c&&r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(js,{className:"w-10 h-10 text-surface-600 mx-auto mb-3"}),r.jsx("p",{className:"text-surface-400",children:"Tapez pour rechercher"}),r.jsx("p",{className:"text-sm text-surface-500 mt-1",children:"Minimum 2 caractres"})]})]}),r.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-t border-surface-800 bg-surface-800/50 text-xs text-surface-500",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("kbd",{className:"px-1.5 py-0.5 bg-surface-700 rounded",children:""}),r.jsx("kbd",{className:"px-1.5 py-0.5 bg-surface-700 rounded",children:""}),"naviguer"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("kbd",{className:"px-1.5 py-0.5 bg-surface-700 rounded",children:""}),"slectionner"]})]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx("kbd",{className:"px-1.5 py-0.5 bg-surface-700 rounded",children:"esc"}),"fermer"]})]})]})})})}function $l({item:e,icon:t,subtitle:s,isSelected:n,onClick:a,iconEmoji:i}){return r.jsxs("button",{onClick:a,className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-left group ${n?"bg-primary-500/20":"hover:bg-surface-800"}`,children:[r.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${n?"bg-primary-500/30":"bg-surface-800"}`,children:i?r.jsx("span",{className:"text-lg",children:i}):r.jsx(t,{className:`w-4 h-4 ${n?"text-primary-400":"text-surface-400"}`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:`truncate ${n?"text-primary-200":"text-surface-200"}`,children:e.name}),s&&r.jsx("p",{className:"text-xs text-surface-500 truncate",children:s})]}),r.jsx(tt,{className:`w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity ${n?"text-primary-400 opacity-100":"text-surface-500"}`})]})}const nR={text:Vo,number:NN,date:Ze,person:ls,status:Ue,priority:rs,progress:on,checkbox:Ue};function aR({isOpen:e,onClose:t}){const{currentBoard:s,groups:n,columns:a,addItem:i}=pe(),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,f]=v.useState({name:"",groupId:"",values:{}}),m=(j,b)=>{f(y=>({...y,values:{...y.values,[j]:b}}))},x=async j=>{if(j&&j.preventDefault(),!(!d.name.trim()||!s||o)){l(!0);try{const b=await we.create({boardId:s.id,groupId:d.groupId||null,name:d.name.trim()}),y=[];for(const[p,g]of Object.entries(d.values))g!==void 0&&g!==""&&y.push(we.updateValue(b.data.id,p,g));y.length>0&&await Promise.all(y),i({...b.data,values:d.values}),V.success("Item cr avec succs"),t(),f({name:"",groupId:"",values:{}}),u(!1)}catch{V.error("Erreur lors de la cration")}finally{l(!1)}}},h=j=>{var y;const b=d.values[j.id];switch(j.type){case"text":return r.jsx("input",{type:"text",value:b||"",onChange:N=>m(j.id,N.target.value),placeholder:`Entrer ${j.title}...`,className:"input"});case"number":return r.jsx("input",{type:"number",value:b||"",onChange:N=>m(j.id,N.target.value),placeholder:"0",className:"input"});case"date":return r.jsx("input",{type:"date",value:b||"",onChange:N=>m(j.id,N.target.value),className:"input"});case"status":return r.jsx("div",{className:"flex flex-wrap gap-2",children:(y=j.labels)==null?void 0:y.map(N=>r.jsx("button",{type:"button",onClick:()=>m(j.id,N.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${b===N.id?"ring-2 ring-white/50 scale-105":"opacity-70 hover:opacity-100"}`,style:{backgroundColor:N.color,color:"white"},children:N.name},N.id))});case"priority":const p=[{id:"low",name:"Basse",color:"#6b7280"},{id:"medium",name:"Moyenne",color:"#f59e0b"},{id:"high",name:"Haute",color:"#ef4444"},{id:"critical",name:"Critique",color:"#7c3aed"}];return r.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(N=>r.jsx("button",{type:"button",onClick:()=>m(j.id,N.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${b===N.id?"ring-2 ring-white/50 scale-105":"opacity-70 hover:opacity-100"}`,style:{backgroundColor:N.color,color:"white"},children:N.name},N.id))});case"progress":const g=typeof b=="object"?(b==null?void 0:b.progress)??0:b??0;return r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"range",min:"0",max:"100",value:g,onChange:N=>m(j.id,{progress:parseInt(N.target.value)}),className:"w-full h-2 bg-surface-700 rounded-lg appearance-none cursor-pointer accent-primary-500"}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-surface-500",children:"0%"}),r.jsxs("span",{className:"text-primary-400 font-medium",children:[g,"%"]}),r.jsx("span",{className:"text-surface-500",children:"100%"})]})]});case"checkbox":return r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:b||!1,onChange:N=>m(j.id,N.target.checked),className:"w-5 h-5 rounded border-surface-600 bg-surface-800 text-primary-500 focus:ring-primary-500"}),r.jsx("span",{className:"text-surface-300",children:b?"Oui":"Non"})]});default:return r.jsx("input",{type:"text",value:b||"",onChange:N=>m(j.id,N.target.value),placeholder:`Entrer ${j.title}...`,className:"input"})}};return e?r.jsx(re,{children:r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:r.jsxs(F.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content max-w-lg max-h-[90vh] overflow-hidden flex flex-col",onClick:j=>j.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-600/20 flex items-center justify-center",children:r.jsx(ie,{className:"w-5 h-5 text-primary-400"})}),r.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Nouvel item"})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:x,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom de l'item *"}),r.jsx("input",{type:"text",value:d.name,onChange:j=>f({...d,name:j.target.value}),placeholder:"Nouvelle tche...",className:"input",required:!0,autoFocus:!0})]}),n.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Groupe"}),r.jsxs("select",{value:d.groupId,onChange:j=>f({...d,groupId:j.target.value}),className:"input",children:[r.jsx("option",{value:"",children:"Aucun groupe"}),n.map(j=>r.jsx("option",{value:j.id,children:j.name},j.id))]})]}),a.length>0&&r.jsxs("button",{type:"button",onClick:()=>u(!c),className:"flex items-center gap-2 text-sm text-primary-400 hover:text-primary-300 transition-colors",children:[c?r.jsx(gp,{className:"w-4 h-4"}):r.jsx(yr,{className:"w-4 h-4"}),c?"Masquer les proprits":"Dfinir les proprits"]}),r.jsx(re,{children:c&&a.length>0&&r.jsx(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:r.jsx("div",{className:"space-y-4 pt-2 border-t border-surface-700",children:a.map(j=>{const b=nR[j.type]||Vo;return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-surface-300",children:[r.jsx(b,{className:"w-4 h-4 text-surface-500"}),j.title]}),h(j)]},j.id)})})})})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-surface-700",children:[r.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),r.jsx("button",{type:"button",onClick:x,disabled:o||!d.name.trim(),className:"btn btn-primary",children:o?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(ie,{className:"w-4 h-4"}),r.jsx("span",{children:"Crer"})]})})]})]})})}):null}function iR(){const e=mn(),t=pe(u=>u.currentBoard),[s,n]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState(!1),c=e.pathname.startsWith("/board/");return v.useEffect(()=>{const u=d=>{(d.metaKey||d.ctrlKey)&&d.key==="k"&&(d.preventDefault(),n(!0))};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[]),r.jsxs(r.Fragment,{children:[r.jsx("header",{className:"sticky top-0 z-30 bg-surface-950/80 backdrop-blur-xl border-b border-surface-800",children:r.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[r.jsx("div",{className:"flex items-center gap-4",children:c&&t&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:t.icon}),r.jsxs("div",{children:[r.jsx("h1",{className:"font-display font-semibold text-lg text-surface-100",children:t.name}),t.description&&r.jsx("p",{className:"text-xs text-surface-500",children:t.description})]})]})}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-surface-800/50 hover:bg-surface-800 text-surface-400 hover:text-surface-200 transition-colors group",children:[r.jsx(js,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm hidden md:inline",children:"Rechercher..."}),r.jsxs("kbd",{className:"hidden md:flex items-center gap-0.5 px-1.5 py-0.5 bg-surface-700/50 group-hover:bg-surface-700 rounded text-xs text-surface-500",children:[r.jsx(yN,{className:"w-3 h-3"}),"K"]})]}),c&&r.jsxs("button",{className:"btn btn-ghost",children:[r.jsx(yp,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Filtres"}),r.jsx(yr,{className:"w-4 h-4"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>i(!a),className:"relative p-2.5 rounded-xl hover:bg-surface-800 text-surface-400 hover:text-surface-200 transition-colors",children:[r.jsx(or,{className:"w-5 h-5"}),r.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-primary-500 rounded-full"})]}),r.jsx(re,{children:a&&r.jsx(tR,{onClose:()=>i(!1)})})]}),c&&r.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Nouvel item"})]})]})]})}),r.jsx(rR,{isOpen:s,onClose:()=>n(!1)}),c&&r.jsx(aR,{isOpen:o,onClose:()=>l(!1)})]})}const zs=Object.create(null);zs.open="0";zs.close="1";zs.ping="2";zs.pong="3";zs.message="4";zs.upgrade="5";zs.noop="6";const dc=Object.create(null);Object.keys(zs).forEach(e=>{dc[zs[e]]=e});const Dm={type:"error",data:"parser error"},VN=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",BN=typeof ArrayBuffer=="function",zN=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,wp=({type:e,data:t},s,n)=>VN&&t instanceof Blob?s?n(t):ry(t,n):BN&&(t instanceof ArrayBuffer||zN(t))?s?n(t):ry(new Blob([t]),n):n(zs[e]+(t||"")),ry=(e,t)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];t("b"+(n||""))},s.readAsDataURL(e)};function ny(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Wd;function oR(e,t){if(VN&&e.data instanceof Blob)return e.data.arrayBuffer().then(ny).then(t);if(BN&&(e.data instanceof ArrayBuffer||zN(e.data)))return t(ny(e.data));wp(e,!1,s=>{Wd||(Wd=new TextEncoder),t(Wd.encode(s))})}const ay="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qi=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<ay.length;e++)Qi[ay.charCodeAt(e)]=e;const lR=e=>{let t=e.length*.75,s=e.length,n,a=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(n=0;n<s;n+=4)i=Qi[e.charCodeAt(n)],o=Qi[e.charCodeAt(n+1)],l=Qi[e.charCodeAt(n+2)],c=Qi[e.charCodeAt(n+3)],d[a++]=i<<2|o>>4,d[a++]=(o&15)<<4|l>>2,d[a++]=(l&3)<<6|c&63;return u},cR=typeof ArrayBuffer=="function",kp=(e,t)=>{if(typeof e!="string")return{type:"message",data:UN(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:uR(e.substring(1),t)}:dc[s]?e.length>1?{type:dc[s],data:e.substring(1)}:{type:dc[s]}:Dm},uR=(e,t)=>{if(cR){const s=lR(e);return UN(s,t)}else return{base64:!0,data:e}},UN=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},qN="",dR=(e,t)=>{const s=e.length,n=new Array(s);let a=0;e.forEach((i,o)=>{wp(i,!1,l=>{n[o]=l,++a===s&&t(n.join(qN))})})},fR=(e,t)=>{const s=e.split(qN),n=[];for(let a=0;a<s.length;a++){const i=kp(s[a],t);if(n.push(i),i.type==="error")break}return n};function mR(){return new TransformStream({transform(e,t){oR(e,s=>{const n=s.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(s)})}})}let Hd;function Vl(e){return e.reduce((t,s)=>t+s.length,0)}function Bl(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)s[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),s}function hR(e,t){Hd||(Hd=new TextDecoder);const s=[];let n=0,a=-1,i=!1;return new TransformStream({transform(o,l){for(s.push(o);;){if(n===0){if(Vl(s)<1)break;const c=Bl(s,1);i=(c[0]&128)===128,a=c[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(Vl(s)<2)break;const c=Bl(s,2);a=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(Vl(s)<8)break;const c=Bl(s,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(Dm);break}a=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(Vl(s)<a)break;const c=Bl(s,a);l.enqueue(kp(i?c:Hd.decode(c),t)),n=0}if(a===0||a>e){l.enqueue(Dm);break}}}})}const WN=4;function ze(e){if(e)return pR(e)}function pR(e){for(var t in ze.prototype)e[t]=ze.prototype[t];return e}ze.prototype.on=ze.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ze.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};ze.prototype.off=ze.prototype.removeListener=ze.prototype.removeAllListeners=ze.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<s.length;a++)if(n=s[a],n===t||n.fn===t){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+e],this};ze.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,a=s.length;n<a;++n)s[n].apply(this,t)}return this};ze.prototype.emitReserved=ze.prototype.emit;ze.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ze.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Qu=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),ts=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),xR="arraybuffer";function HN(e,...t){return t.reduce((s,n)=>(e.hasOwnProperty(n)&&(s[n]=e[n]),s),{})}const gR=ts.setTimeout,yR=ts.clearTimeout;function Gu(e,t){t.useNativeTimers?(e.setTimeoutFn=gR.bind(ts),e.clearTimeoutFn=yR.bind(ts)):(e.setTimeoutFn=ts.setTimeout.bind(ts),e.clearTimeoutFn=ts.clearTimeout.bind(ts))}const vR=1.33;function jR(e){return typeof e=="string"?bR(e):Math.ceil((e.byteLength||e.size)*vR)}function bR(e){let t=0,s=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(n++,s+=4);return s}function KN(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function NR(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function wR(e){let t={},s=e.split("&");for(let n=0,a=s.length;n<a;n++){let i=s[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class kR extends Error{constructor(t,s,n){super(t),this.description=s,this.context=n,this.type="TransportError"}}class Cp extends ze{constructor(t){super(),this.writable=!1,Gu(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,n){return super.emitReserved("error",new kR(t,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=kp(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=NR(t);return s.length?"?"+s:""}}class CR extends Cp{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};fR(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,dR(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=KN()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let QN=!1;try{QN=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const SR=QN;function ER(){}class PR extends CR{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let n=location.port;n||(n=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,s){const n=this.request({method:"POST",data:t});n.on("success",s),n.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=t}}class $s extends ze{constructor(t,s,n){super(),this.createRequest=t,Gu(this,n),this._opts=n,this._method=n.method||"GET",this._uri=s,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const s=HN(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(s);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=$s.requestsCount++,$s.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ER,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete $s.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}$s.requestsCount=0;$s.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",iy);else if(typeof addEventListener=="function"){const e="onpagehide"in ts?"pagehide":"unload";addEventListener(e,iy,!1)}}function iy(){for(let e in $s.requests)$s.requests.hasOwnProperty(e)&&$s.requests[e].abort()}const MR=function(){const e=GN({xdomain:!1});return e&&e.responseType!==null}();class DR extends PR{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=MR&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new $s(GN,this.uri(),t)}}function GN(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||SR))return new XMLHttpRequest}catch{}if(!t)try{return new ts[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const YN=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class TR extends Cp{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,n=YN?{}:HN(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],a=s===t.length-1;wp(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}a&&Qu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=KN()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const Kd=ts.WebSocket||ts.MozWebSocket;class AR extends TR{createSocket(t,s,n){return YN?new Kd(t,s,n):s?new Kd(t,s):new Kd(t)}doWrite(t,s){this.ws.send(s)}}class RR extends Cp{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=hR(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(s).getReader(),a=mR();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const i=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],a=s===t.length-1;this._writer.write(n).then(()=>{a&&Qu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const OR={websocket:AR,webtransport:RR,polling:DR},LR=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,IR=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Tm(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),n=e.indexOf("]");s!=-1&&n!=-1&&(e=e.substring(0,s)+e.substring(s,n).replace(/:/g,";")+e.substring(n,e.length));let a=LR.exec(e||""),i={},o=14;for(;o--;)i[IR[o]]=a[o]||"";return s!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=_R(i,i.path),i.queryKey=FR(i,i.query),i}function _R(e,t){const s=/\/{2,9}/g,n=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function FR(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,i){a&&(s[a]=i)}),s}const Am=typeof addEventListener=="function"&&typeof removeEventListener=="function",fc=[];Am&&addEventListener("offline",()=>{fc.forEach(e=>e())},!1);class en extends ze{constructor(t,s){if(super(),this.binaryType=xR,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const n=Tm(t);s.hostname=n.host,s.secure=n.protocol==="https"||n.protocol==="wss",s.port=n.port,n.query&&(s.query=n.query)}else s.host&&(s.hostname=Tm(s.host).host);Gu(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=wR(this.opts.query)),Am&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},fc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=WN,s.transport=t,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&en.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",en.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(s+=jR(a)),n>0&&s>this._maxPayload)return this.writeBuffer.slice(0,n);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Qu(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,n){return this._sendPacket("message",t,s,n),this}send(t,s,n){return this._sendPacket("message",t,s,n),this}_sendPacket(t,s,n,a){if(typeof s=="function"&&(a=s,s=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:s,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(en.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Am&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=fc.indexOf(this._offlineEventListener);n!==-1&&fc.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}en.protocol=WN;class $R extends en{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),n=!1;en.priorWebsocketSuccess=!1;const a=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;en.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=s.name,this.emitReserved("upgradeError",m)}}))};function i(){n||(n=!0,d(),s.close(),s=null)}const o=f=>{const m=new Error("probe error: "+f);m.transport=s.name,i(),this.emitReserved("upgradeError",m)};function l(){o("transport closed")}function c(){o("socket closed")}function u(f){s&&f.name!==s.name&&i()}const d=()=>{s.removeListener("open",a),s.removeListener("error",o),s.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};s.once("open",a),s.once("error",o),s.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&s.push(t[n]);return s}}let VR=class extends $R{constructor(t,s={}){const n=typeof t=="object"?t:s;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>OR[a]).filter(a=>!!a)),super(t,n)}};function BR(e,t="",s){let n=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),n=Tm(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(s&&s.port===n.port?"":":"+n.port),n}const zR=typeof ArrayBuffer=="function",UR=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,XN=Object.prototype.toString,qR=typeof Blob=="function"||typeof Blob<"u"&&XN.call(Blob)==="[object BlobConstructor]",WR=typeof File=="function"||typeof File<"u"&&XN.call(File)==="[object FileConstructor]";function Sp(e){return zR&&(e instanceof ArrayBuffer||UR(e))||qR&&e instanceof Blob||WR&&e instanceof File}function mc(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,n=e.length;s<n;s++)if(mc(e[s]))return!0;return!1}if(Sp(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return mc(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&mc(e[s]))return!0;return!1}function HR(e){const t=[],s=e.data,n=e;return n.data=Rm(s,t),n.attachments=t.length,{packet:n,buffers:t}}function Rm(e,t){if(!e)return e;if(Sp(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let n=0;n<e.length;n++)s[n]=Rm(e[n],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=Rm(e[n],t));return s}return e}function KR(e,t){return e.data=Om(e.data,t),delete e.attachments,e}function Om(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=Om(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=Om(e[s],t));return e}const JN=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],QR=5;var ue;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ue||(ue={}));class GR{constructor(t){this.replacer=t}encode(t){return(t.type===ue.EVENT||t.type===ue.ACK)&&mc(t)?this.encodeAsBinary({type:t.type===ue.EVENT?ue.BINARY_EVENT:ue.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===ue.BINARY_EVENT||t.type===ue.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=HR(t),n=this.encodeAsString(s.packet),a=s.buffers;return a.unshift(n),a}}class Ep extends ze{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const n=s.type===ue.BINARY_EVENT;n||s.type===ue.BINARY_ACK?(s.type=n?ue.EVENT:ue.ACK,this.reconstructor=new YR(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Sp(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const n={type:Number(t.charAt(0))};if(ue[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===ue.BINARY_EVENT||n.type===ue.BINARY_ACK){const i=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const o=t.substring(i,s);if(o!=Number(o)||t.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(s+1)==="/"){const i=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););n.nsp=t.substring(i,s)}else n.nsp="/";const a=t.charAt(s+1);if(a!==""&&Number(a)==a){const i=s+1;for(;++s;){const o=t.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===t.length)break}n.id=Number(t.substring(i,s+1))}if(t.charAt(++s)){const i=this.tryParse(t.substr(s));if(Ep.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case ue.CONNECT:return ou(s);case ue.DISCONNECT:return s===void 0;case ue.CONNECT_ERROR:return typeof s=="string"||ou(s);case ue.EVENT:case ue.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&JN.indexOf(s[0])===-1);case ue.ACK:case ue.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class YR{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=KR(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function XR(e){return typeof e=="string"}const JR=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function ZR(e){return e===void 0||JR(e)}function ou(e){return Object.prototype.toString.call(e)==="[object Object]"}function e6(e,t){switch(e){case ue.CONNECT:return t===void 0||ou(t);case ue.DISCONNECT:return t===void 0;case ue.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&JN.indexOf(t[0])===-1);case ue.ACK:return Array.isArray(t);case ue.CONNECT_ERROR:return typeof t=="string"||ou(t);default:return!1}}function t6(e){return XR(e.nsp)&&ZR(e.id)&&e6(e.type,e.data)}const s6=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ep,Encoder:GR,get PacketType(){return ue},isPacketValid:t6,protocol:QR},Symbol.toStringTag,{value:"Module"}));function ps(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const r6=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ZN extends ze{constructor(t,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[ps(t,"open",this.onopen.bind(this)),ps(t,"packet",this.onpacket.bind(this)),ps(t,"error",this.onerror.bind(this)),ps(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var n,a,i;if(r6.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:ue.EVENT,data:s};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const d=this.ids++,f=s.pop();this._registerAckCallback(d,f),o.id=d}const l=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,s){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[t]=s;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);s.call(this,new Error("operation has timed out"))},a),o=(...l)=>{this.io.clearTimeoutFn(i),s.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...s){return new Promise((n,a)=>{const i=(o,l)=>o?a(o):n(l);i.withError=!0,s.push(i),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>(this._queue[0],a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(a)):(this._queue.shift(),s&&s(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ue.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ue.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ue.EVENT:case ue.BINARY_EVENT:this.onevent(t);break;case ue.ACK:case ue.BINARY_ACK:this.onack(t);break;case ue.DISCONNECT:this.ondisconnect();break;case ue.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let n=!1;return function(...a){n||(n=!0,s.packet({type:ue.ACK,id:t,data:a}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ue.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,t.data)}}}function Ni(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ni.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+s:e-s}return Math.min(e,this.max)|0};Ni.prototype.reset=function(){this.attempts=0};Ni.prototype.setMin=function(e){this.ms=e};Ni.prototype.setMax=function(e){this.max=e};Ni.prototype.setJitter=function(e){this.jitter=e};class Lm extends ze{constructor(t,s){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,Gu(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Ni({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const a=s.parser||s6;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new VR(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=ps(s,"open",function(){n.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=ps(s,"error",i);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),s.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(a),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(ps(t,"ping",this.onping.bind(this)),ps(t,"data",this.ondata.bind(this)),ps(t,"error",this.onerror.bind(this)),ps(t,"close",this.onclose.bind(this)),ps(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){Qu(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new ZN(this,t,s),this.nsps[t]=n),n}_destroy(t){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let n=0;n<s.length;n++)this.engine.write(s[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Li={};function hc(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=BR(e,t.path||"/socket.io"),n=s.source,a=s.id,i=s.path,o=Li[a]&&i in Li[a].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new Lm(n,t):(Li[a]||(Li[a]=new Lm(n,t)),c=Li[a]),s.query&&!t.query&&(t.query=s.queryKey),c.socket(s.path,t)}Object.assign(hc,{Manager:Lm,Socket:ZN,io:hc,connect:hc});let ne=null;const n6=()=>{const{accessToken:e}=dt.getState();return e?(ne!=null&&ne.connected||(ne=hc({auth:{token:e},reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),ne.on("connect",()=>{console.log("Socket connected")}),ne.on("disconnect",t=>{console.log("Socket disconnected:",t)}),ne.on("connect_error",t=>{console.error("Socket connection error:",t)}),ne.on("item:created",t=>{pe.getState().addItem(t)}),ne.on("item:updated",t=>{pe.getState().updateItem(t.id,t)}),ne.on("item:value_updated",({itemId:t,columnId:s,value:n})=>{pe.getState().updateItemValue(t,s,n)}),ne.on("item:deleted",({itemId:t})=>{pe.getState().deleteItem(t)}),ne.on("items:deleted",({itemIds:t})=>{pe.getState().deleteItems(t)}),ne.on("items:reordered",({items:t})=>{pe.getState().reorderItems(t)}),ne.on("column:created",t=>{pe.getState().addColumn(t)}),ne.on("column:updated",t=>{pe.getState().updateColumn(t.id,t)}),ne.on("column:deleted",({columnId:t})=>{pe.getState().deleteColumn(t)}),ne.on("columns:reordered",({columns:t})=>{pe.getState().reorderColumns(t)}),ne.on("label:created",({columnId:t,label:s})=>{pe.getState().addLabel(t,s)}),ne.on("label:updated",({columnId:t,label:s})=>{pe.getState().updateLabel(t,s.id,s)}),ne.on("label:deleted",({columnId:t,labelId:s})=>{pe.getState().deleteLabel(t,s)}),ne.on("board:created",t=>{lr.getState().addBoard(t)}),ne.on("board:updated",t=>{lr.getState().updateBoard(t.id,t);const s=pe.getState().currentBoard;(s==null?void 0:s.id)===t.id&&pe.getState().setBoard({...s,...t})}),ne.on("board:deleted",({boardId:t})=>{lr.getState().deleteBoard(t)}),ne.on("member:added",({member:t})=>{console.log("Member added:",t)}),ne.on("member:removed",({memberId:t})=>{console.log("Member removed:",t)})),ne):(console.warn("No access token, cannot initialize socket"),null)},a6=e=>{ne!=null&&ne.connected&&ne.emit("join:workspace",e)},i6=e=>{ne!=null&&ne.connected&&ne.emit("leave:workspace",e)},o6=e=>{ne!=null&&ne.connected&&ne.emit("join:board",e)},l6=e=>{ne!=null&&ne.connected&&ne.emit("leave:board",e)},c6=()=>{ne&&(ne.disconnect(),ne=null)};function u6(){const e=lr(s=>s.setWorkspaces),{data:t}=Vs({queryKey:["workspaces"],queryFn:async()=>(await Iu.getAll()).data});return v.useEffect(()=>{t&&e(t)},[t,e]),v.useEffect(()=>(n6(),()=>{c6()}),[]),r.jsxs("div",{className:"min-h-screen bg-surface-950 bg-grid",children:[r.jsx("div",{className:"fixed inset-0 bg-gradient-radial pointer-events-none"}),r.jsx(mT,{}),r.jsxs("div",{className:"pl-64",children:[r.jsx(iR,{}),r.jsx("main",{className:"p-6",children:r.jsx(wk,{})})]})]})}function oy({children:e}){return r.jsxs("div",{className:"min-h-screen flex bg-surface-950 bg-grid",children:[r.jsx("div",{className:"fixed inset-0 bg-gradient-radial pointer-events-none"}),r.jsx("div",{className:"fixed top-1/4 left-1/4 w-96 h-96 bg-primary-600/20 rounded-full blur-[100px] pointer-events-none"}),r.jsx("div",{className:"fixed bottom-1/4 right-1/4 w-96 h-96 bg-purple-600/20 rounded-full blur-[100px] pointer-events-none"}),r.jsx("div",{className:"hidden lg:flex lg:w-1/2 flex-col justify-center px-12 relative",children:r.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:[r.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[r.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-primary-500 to-purple-600 flex items-center justify-center shadow-glow",children:r.jsx(bi,{className:"w-7 h-7 text-white"})}),r.jsx("span",{className:"font-display font-bold text-4xl gradient-text",children:"GesProjet"})]}),r.jsxs("h1",{className:"text-5xl font-display font-bold text-surface-100 leading-tight mb-6",children:["Grez vos projets",r.jsx("br",{}),r.jsx("span",{className:"gradient-text",children:"simplement et efficacement"})]}),r.jsx("p",{className:"text-lg text-surface-400 leading-relaxed max-w-md",children:"Une plateforme moderne de gestion de projet pour organiser, collaborer et suivre vos tches en temps rel."}),r.jsx("div",{className:"mt-12 grid grid-cols-2 gap-6",children:[{icon:"",title:"Tableaux personnalisables"},{icon:"",title:"Collaboration temps rel"},{icon:"",title:"Vues multiples"},{icon:"",title:"Notifications intelligentes"}].map((t,s)=>r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+s*.1},className:"flex items-center gap-3 p-4 rounded-xl bg-surface-900/50 border border-surface-800",children:[r.jsx("span",{className:"text-2xl",children:t.icon}),r.jsx("span",{className:"text-sm font-medium text-surface-300",children:t.title})]},t.title))})]})}),r.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:r.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-md",children:e})})]})}function d6(){const e=cs(),t=dt(u=>u.login),[s,n]=v.useState({email:"",password:""}),[a,i]=v.useState(!1),[o,l]=v.useState(!1),c=async u=>{var d,f;u.preventDefault(),l(!0);try{await t(s.email,s.password),V.success("Connexion russie !"),e("/")}catch(m){V.error(((f=(d=m.response)==null?void 0:d.data)==null?void 0:f.error)||"Erreur lors de la connexion")}finally{l(!1)}};return r.jsxs("div",{className:"card gradient-border",children:[r.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-3 mb-8",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500 to-purple-600 flex items-center justify-center",children:r.jsx(bi,{className:"w-6 h-6 text-white"})}),r.jsx("span",{className:"font-display font-bold text-2xl gradient-text",children:"GesProjet"})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl font-display font-bold text-surface-100 mb-2",children:"Content de vous revoir !"}),r.jsx("p",{className:"text-surface-400",children:"Connectez-vous pour accder  vos projets"})]}),r.jsxs("form",{onSubmit:c,className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Adresse email"}),r.jsxs("div",{className:"relative",children:[r.jsx(cl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-500"}),r.jsx("input",{type:"email",value:s.email,onChange:u=>n({...s,email:u.target.value}),placeholder:"vous@exemple.com",className:"input pl-12",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(na,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-500"}),r.jsx("input",{type:a?"text":"password",value:s.password,onChange:u=>n({...s,password:u.target.value}),placeholder:"",className:"input pl-12 pr-12",required:!0}),r.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-4 top-1/2 -translate-y-1/2 text-surface-500 hover:text-surface-300",children:a?r.jsx(tu,{className:"w-5 h-5"}):r.jsx(ra,{className:"w-5 h-5"})})]})]}),r.jsx(F.button,{type:"submit",disabled:o,whileTap:{scale:.98},className:"btn btn-primary w-full py-3.5",children:o?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Se connecter"}),r.jsx(tt,{className:"w-5 h-5"})]})})]}),r.jsxs("div",{className:"mt-6 p-4 rounded-xl bg-surface-800/50 border border-surface-700",children:[r.jsx("p",{className:"text-xs text-surface-500 mb-2",children:"Compte dmo :"}),r.jsxs("p",{className:"text-sm text-surface-300",children:["Email: ",r.jsx("code",{className:"text-primary-400",children:"demo@gesprojet.com"})]}),r.jsxs("p",{className:"text-sm text-surface-300",children:["Mot de passe: ",r.jsx("code",{className:"text-primary-400",children:"demo123"})]})]}),r.jsxs("p",{className:"text-center text-surface-400 mt-6",children:["Pas encore de compte ?"," ",r.jsx(me,{to:"/register",className:"text-primary-400 hover:text-primary-300 font-medium",children:"Crer un compte"})]})]})}function f6(){const e=cs(),t=dt(u=>u.register),[s,n]=v.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[a,i]=v.useState(!1),[o,l]=v.useState(!1),c=async u=>{var d,f;if(u.preventDefault(),s.password!==s.confirmPassword){V.error("Les mots de passe ne correspondent pas");return}if(s.password.length<6){V.error("Le mot de passe doit contenir au moins 6 caractres");return}l(!0);try{await t({firstName:s.firstName,lastName:s.lastName,email:s.email,password:s.password}),V.success("Compte cr avec succs !"),e("/")}catch(m){V.error(((f=(d=m.response)==null?void 0:d.data)==null?void 0:f.error)||"Erreur lors de l'inscription")}finally{l(!1)}};return r.jsxs("div",{className:"card gradient-border",children:[r.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-3 mb-8",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500 to-purple-600 flex items-center justify-center",children:r.jsx(bi,{className:"w-6 h-6 text-white"})}),r.jsx("span",{className:"font-display font-bold text-2xl gradient-text",children:"GesProjet"})]}),r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-2xl font-display font-bold text-surface-100 mb-2",children:"Crer un compte"}),r.jsx("p",{className:"text-surface-400",children:"Rejoignez GesProjet et boostez votre productivit"})]}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Prnom"}),r.jsxs("div",{className:"relative",children:[r.jsx(ls,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-500"}),r.jsx("input",{type:"text",value:s.firstName,onChange:u=>n({...s,firstName:u.target.value}),placeholder:"Jean",className:"input pl-12",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom"}),r.jsx("input",{type:"text",value:s.lastName,onChange:u=>n({...s,lastName:u.target.value}),placeholder:"Dupont",className:"input",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Adresse email"}),r.jsxs("div",{className:"relative",children:[r.jsx(cl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-500"}),r.jsx("input",{type:"email",value:s.email,onChange:u=>n({...s,email:u.target.value}),placeholder:"vous@exemple.com",className:"input pl-12",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(na,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-500"}),r.jsx("input",{type:a?"text":"password",value:s.password,onChange:u=>n({...s,password:u.target.value}),placeholder:"",className:"input pl-12 pr-12",required:!0}),r.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-4 top-1/2 -translate-y-1/2 text-surface-500 hover:text-surface-300",children:a?r.jsx(tu,{className:"w-5 h-5"}):r.jsx(ra,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Confirmer le mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(na,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-500"}),r.jsx("input",{type:a?"text":"password",value:s.confirmPassword,onChange:u=>n({...s,confirmPassword:u.target.value}),placeholder:"",className:"input pl-12",required:!0})]})]}),r.jsx(F.button,{type:"submit",disabled:o,whileTap:{scale:.98},className:"btn btn-primary w-full py-3.5",children:o?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"Crer mon compte"}),r.jsx(tt,{className:"w-5 h-5"})]})})]}),r.jsxs("p",{className:"text-center text-surface-400 mt-6",children:["Dj un compte ?"," ",r.jsx(me,{to:"/login",className:"text-primary-400 hover:text-primary-300 font-medium",children:"Se connecter"})]})]})}function m6(){const e=cs(),{user:t,setUser:s}=dt(),[n,a]=v.useState(""),[i,o]=v.useState(""),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,m]=v.useState(!1),[x,h]=v.useState(""),[j,b]=v.useState(!1),y=[{label:"Au moins 6 caractres",test:M=>M.length>=6},{label:"Une lettre majuscule",test:M=>/[A-Z]/.test(M)},{label:"Une lettre minuscule",test:M=>/[a-z]/.test(M)},{label:"Un chiffre",test:M=>/\d/.test(M)}],p=y.filter(M=>M.test(n)).length,g=n===i&&n.length>0,N=p>=2&&n.length>=6&&g,E=()=>p<=1?"bg-red-500":p<=2?"bg-orange-500":p<=3?"bg-yellow-500":"bg-green-500",T=()=>p<=1?"Faible":p<=2?"Moyen":p<=3?"Fort":"Trs fort",k=async M=>{var R,P;if(M.preventDefault(),!!N){m(!0),h("");try{await Kb.changeTempPassword({newPassword:n}),b(!0),t&&s({...t,mustChangePassword:!1}),setTimeout(()=>{e("/")},2e3)}catch(S){h(((P=(R=S.response)==null?void 0:R.data)==null?void 0:P.error)||"Erreur lors du changement de mot de passe")}finally{m(!1)}}};return j?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-surface-900 via-surface-900 to-primary-900/20 flex items-center justify-center p-4",children:r.jsxs(F.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"card p-8 max-w-md w-full text-center",children:[r.jsx(F.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(qn,{className:"w-10 h-10 text-green-400"})}),r.jsx("h2",{className:"text-2xl font-bold text-surface-100 mb-2",children:"Mot de passe modifi !"}),r.jsx("p",{className:"text-surface-400 mb-4",children:"Votre nouveau mot de passe a t enregistr avec succs."}),r.jsx("p",{className:"text-sm text-surface-500",children:"Redirection en cours..."})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-surface-900 via-surface-900 to-primary-900/20 flex items-center justify-center p-4",children:r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-8 max-w-md w-full",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"w-16 h-16 bg-primary-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:r.jsx(ln,{className:"w-8 h-8 text-primary-400"})}),r.jsx("h1",{className:"text-2xl font-bold text-surface-100 mb-2",children:"Changez votre mot de passe"}),r.jsx("p",{className:"text-surface-400",children:"Pour des raisons de scurit, vous devez dfinir un nouveau mot de passe avant de continuer."})]}),r.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 mb-6 flex items-start gap-3",children:[r.jsx(os,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-amber-400",children:"Mot de passe temporaire"}),r.jsx("p",{className:"text-amber-400/70 mt-1",children:"Votre compte a t cr avec un mot de passe temporaire. Dfinissez un mot de passe personnel pour scuriser votre compte."})]})]}),r.jsxs("form",{onSubmit:k,className:"space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nouveau mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(na,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-500"}),r.jsx("input",{type:l?"text":"password",value:n,onChange:M=>a(M.target.value),className:"w-full pl-11 pr-11 py-3 bg-surface-800 border border-surface-700 rounded-lg focus:outline-none focus:border-primary-500 text-surface-100",placeholder:"",required:!0}),r.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-surface-500 hover:text-surface-300",children:l?r.jsx(tu,{className:"w-5 h-5"}):r.jsx(ra,{className:"w-5 h-5"})})]}),n&&r.jsxs("div",{className:"mt-3 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 h-1.5 bg-surface-700 rounded-full overflow-hidden",children:r.jsx(F.div,{initial:{width:0},animate:{width:`${p/4*100}%`},className:`h-full ${E()} transition-colors`})}),r.jsx("span",{className:`text-xs font-medium ${p<=1?"text-red-400":p<=2?"text-orange-400":p<=3?"text-yellow-400":"text-green-400"}`,children:T()})]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:y.map((M,R)=>r.jsxs("div",{className:`flex items-center gap-1.5 text-xs ${M.test(n)?"text-green-400":"text-surface-500"}`,children:[M.test(n)?r.jsx(qn,{className:"w-3.5 h-3.5"}):r.jsx(Bo,{className:"w-3.5 h-3.5"}),M.label]},R))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Confirmer le mot de passe"}),r.jsxs("div",{className:"relative",children:[r.jsx(na,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-500"}),r.jsx("input",{type:u?"text":"password",value:i,onChange:M=>o(M.target.value),className:`w-full pl-11 pr-11 py-3 bg-surface-800 border rounded-lg focus:outline-none text-surface-100 ${i&&!g?"border-red-500 focus:border-red-500":g?"border-green-500 focus:border-green-500":"border-surface-700 focus:border-primary-500"}`,placeholder:"",required:!0}),r.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-surface-500 hover:text-surface-300",children:u?r.jsx(tu,{className:"w-5 h-5"}):r.jsx(ra,{className:"w-5 h-5"})})]}),i&&!g&&r.jsxs("p",{className:"text-xs text-red-400 mt-1 flex items-center gap-1",children:[r.jsx(Bo,{className:"w-3.5 h-3.5"}),"Les mots de passe ne correspondent pas"]}),g&&r.jsxs("p",{className:"text-xs text-green-400 mt-1 flex items-center gap-1",children:[r.jsx(qn,{className:"w-3.5 h-3.5"}),"Les mots de passe correspondent"]})]}),x&&r.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 text-sm text-red-400",children:x}),r.jsx("button",{type:"submit",disabled:!N||f,className:"w-full py-3 bg-gradient-to-r from-primary-600 to-purple-600 hover:from-primary-500 hover:to-purple-500 text-white font-semibold rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:f?r.jsxs(r.Fragment,{children:[r.jsx(F.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Enregistrement..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ln,{className:"w-5 h-5"}),"Dfinir mon mot de passe"]})})]})]})})}const h6=({data:e,height:t=60})=>{const s=Math.max(...e.map(n=>n.value),1);return r.jsx("div",{className:"flex items-end gap-1.5",style:{height:t},children:e.map((n,a)=>r.jsx(F.div,{initial:{height:0},animate:{height:`${n.value/s*100}%`},transition:{delay:a*.1,duration:.5},className:"flex-1 rounded-t-sm relative group cursor-pointer",style:{backgroundColor:n.color,minHeight:n.value>0?4:0},children:r.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 px-2 py-1 bg-surface-900 text-xs text-surface-200 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[n.label,": ",n.value]})},a))})},p6=({data:e,size:t=120,strokeWidth:s=20})=>{const n=e.reduce((l,c)=>l+c.value,0),a=(t-s)/2,i=a*2*Math.PI;let o=0;return r.jsxs("div",{className:"relative",style:{width:t,height:t},children:[r.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[r.jsx("circle",{cx:t/2,cy:t/2,r:a,stroke:"currentColor",strokeWidth:s,fill:"none",className:"text-surface-800"}),e.map((l,c)=>{const u=n>0?l.value/n:0,d=i*u,f=o;return o+=d,r.jsx(F.circle,{cx:t/2,cy:t/2,r:a,stroke:l.color,strokeWidth:s,fill:"none",strokeDasharray:`${d} ${i}`,strokeDashoffset:-f,initial:{strokeDasharray:`0 ${i}`},animate:{strokeDasharray:`${d} ${i}`},transition:{delay:c*.2,duration:.8}},c)})]}),r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[r.jsx("span",{className:"text-2xl font-bold text-surface-100",children:n}),r.jsx("span",{className:"text-xs text-surface-500",children:"Total"})]})]})},ly=({value:e,color:t="#6366f1"})=>r.jsx("div",{className:"relative h-2 bg-surface-800 rounded-full overflow-hidden",children:r.jsx(F.div,{initial:{width:0},animate:{width:`${e}%`},transition:{duration:1,ease:"easeOut"},className:"h-full rounded-full relative overflow-hidden",style:{backgroundColor:t},children:r.jsx(F.div,{animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"})})});function x6(){const e=cs(),t=lr(g=>g.workspaces),s=dt(g=>g.user),[n,a]=v.useState([]),[i,o]=v.useState(!0),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{m(),f()},[t]);const f=async()=>{if(t.length!==0)try{const g={byStatus:{},byPriority:{},weekly:[]};for(const N of t.slice(0,3))try{const{data:E}=await Iu.getStats(N.id);E.itemsByStatus&&Object.entries(E.itemsByStatus).forEach(([T,k])=>{g.byStatus[T]=(g.byStatus[T]||0)+k}),E.itemsByPriority&&Object.entries(E.itemsByPriority).forEach(([T,k])=>{g.byPriority[T]=(g.byPriority[T]||0)+k})}catch{}d(g)}catch(g){console.error("Error loading stats:",g)}},m=async()=>{try{const{data:g}=await p3.getMy({limit:3});a(g)}catch(g){console.error("Error loading activities:",g)}finally{o(!1)}},x=()=>{const g=new Date().getHours();return g<12?"Bonjour":g<18?"Bon aprs-midi":"Bonsoir"},h=t.reduce((g,N)=>g+(N.boardCount||0),0),j=t.reduce((g,N)=>g+(N.memberCount||0),0),b=[{label:"Espaces de travail",value:t.length,icon:Os,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-500/10"},{label:"Boards actifs",value:h,icon:Os,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-500/10"},{label:"Collaborateurs",value:j,icon:Le,color:"from-pink-500 to-pink-600",bgColor:"bg-pink-500/10"},{label:"Activits rcentes",value:n.length,icon:_o,color:"from-cyan-500 to-cyan-600",bgColor:"bg-cyan-500/10"}],y=g=>{switch(g){case"item_created":return r.jsx(ie,{className:"w-4 h-4 text-green-400"});case"item_updated":case"value_updated":return r.jsx(Rt,{className:"w-4 h-4 text-blue-400"});case"comment_added":return r.jsx(_o,{className:"w-4 h-4 text-purple-400"});case"status_changed":return r.jsx(qn,{className:"w-4 h-4 text-amber-400"});default:return r.jsx(nt,{className:"w-4 h-4 text-surface-400"})}},p=g=>({item_created:"a cr un item",item_updated:"a modifi un item",value_updated:"a mis  jour une valeur",comment_added:"a comment",status_changed:"a chang un statut",board_created:"a cr un board",member_invited:"a invit un membre"})[g.action]||"a effectu une action";return r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10",children:[r.jsxs("h1",{className:"text-4xl font-display font-bold text-surface-100 mb-2",children:[x(),", ",s==null?void 0:s.firstName," ! "]}),r.jsx("p",{className:"text-lg text-surface-400",children:"Voici un aperu de vos projets et activits rcentes."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-10",children:b.map((g,N)=>r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.1},className:"card p-5 hover:bg-surface-800/80 transition-colors",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl ${g.bgColor} flex items-center justify-center`,children:r.jsx(g.icon,{className:"w-6 h-6 text-surface-100"})}),r.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-r ${g.color}`})]}),r.jsx("p",{className:"text-3xl font-display font-bold text-surface-100 mb-1",children:g.value}),r.jsx("p",{className:"text-sm text-surface-400",children:g.label})]},g.label))}),t.length>0&&u&&Object.keys(u.byStatus).length>0&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-10",children:[r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card p-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(ui,{className:"w-5 h-5 text-primary-400"}),r.jsx("h3",{className:"font-semibold text-surface-200",children:"Rpartition par statut"})]}),r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx(p6,{data:Object.entries(u.byStatus).filter(([g,N])=>N>0).map(([g,N])=>({value:N,color:g==="done"||g==="completed"?"#22c55e":g==="in_progress"?"#3b82f6":g==="blocked"?"#ef4444":"#6b7280",label:g==="done"||g==="completed"?"Termin":g==="in_progress"?"En cours":g==="blocked"?"Bloqu":" faire"})),size:100,strokeWidth:16})}),r.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(u.byStatus).filter(([g,N])=>N>0).map(([g,N])=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${g==="done"||g==="completed"?"bg-green-500":g==="in_progress"?"bg-blue-500":g==="blocked"?"bg-red-500":"bg-gray-500"}`}),r.jsxs("span",{className:"text-surface-400",children:[g==="done"||g==="completed"?"Termin":g==="in_progress"?"En cours":g==="blocked"?"Bloqu":" faire"," (",N,")"]})]},g))})]}),Object.keys(u.byPriority).length>0&&r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"card p-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(on,{className:"w-5 h-5 text-cyan-400"}),r.jsx("h3",{className:"font-semibold text-surface-200",children:"Par priorit"})]}),r.jsx(h6,{data:Object.entries(u.byPriority).filter(([g,N])=>N>0).map(([g,N])=>({value:N,color:g==="critical"?"#dc2626":g==="high"?"#ef4444":g==="medium"?"#f59e0b":"#6b7280",label:g==="critical"?"Critique":g==="high"?"Haute":g==="medium"?"Moyenne":"Basse"})),height:80}),r.jsx("div",{className:"flex flex-wrap gap-3 mt-3 text-xs text-surface-500",children:Object.entries(u.byPriority).filter(([g,N])=>N>0).map(([g])=>r.jsx("span",{children:g==="critical"?"Critique":g==="high"?"Haute":g==="medium"?"Moyenne":g},g))})]}),r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"card p-5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Rt,{className:"w-5 h-5 text-green-400"}),r.jsx("h3",{className:"font-semibold text-surface-200",children:"Progression globale"})]}),(()=>{const g=Object.values(u.byStatus).reduce((M,R)=>M+R,0),N=(u.byStatus.done||0)+(u.byStatus.completed||0),E=u.byStatus.in_progress||0,T=g>0?Math.round(N/g*100):0,k=g>0?Math.round((N+E)/g*100):0;return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[r.jsx("span",{className:"text-surface-400",children:"Tches termines"}),r.jsxs("span",{className:"text-green-400 font-medium",children:[T,"%"]})]}),r.jsx(ly,{value:T,color:"#22c55e"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[r.jsx("span",{className:"text-surface-400",children:"Tches actives"}),r.jsxs("span",{className:"text-blue-400 font-medium",children:[k,"%"]})]}),r.jsx(ly,{value:k,color:"#3b82f6"})]}),r.jsx("div",{className:"pt-2 border-t border-surface-800",children:r.jsxs("div",{className:"text-center",children:[r.jsx("span",{className:"text-2xl font-bold text-surface-100",children:g}),r.jsx("span",{className:"text-sm text-surface-500 ml-2",children:"tches au total"})]})})]})})()]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsxs("div",{className:"flex items-center justify-between mb-5",children:[r.jsx("h2",{className:"text-xl font-display font-semibold text-surface-100",children:"Vos espaces de travail"}),r.jsxs("button",{onClick:()=>c(!0),className:"btn-secondary text-sm",children:[r.jsx(ie,{className:"w-4 h-4"}),"Nouveau"]})]}),t.length===0?r.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},className:"card text-center py-12",children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-500/20 to-purple-500/20 flex items-center justify-center mx-auto mb-5",children:r.jsx(bi,{className:"w-8 h-8 text-primary-400"})}),r.jsx("h3",{className:"text-xl font-display font-semibold text-surface-100 mb-2",children:"Crez votre premier espace de travail"}),r.jsx("p",{className:"text-surface-400 max-w-md mx-auto mb-5",children:"Les espaces de travail vous permettent d'organiser vos projets et de collaborer avec votre quipe."}),r.jsxs("button",{onClick:()=>c(!0),className:"btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),"Crer un workspace"]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.slice(0,6).map((g,N)=>r.jsxs(F.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.05},onClick:()=>e(`/workspace/${g.id}`),className:"card p-5 text-left hover:border-primary-500/50 transition-all group",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl",style:{backgroundColor:`${g.color}20`},children:g.icon}),r.jsx(tt,{className:"w-5 h-5 text-surface-500 group-hover:text-primary-400 group-hover:translate-x-1 transition-all"})]}),r.jsx("h3",{className:"font-semibold text-surface-100 mb-1",children:g.name}),r.jsx("p",{className:"text-sm text-surface-500 mb-3 line-clamp-2",children:g.description||"Aucune description"}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-surface-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Os,{className:"w-3.5 h-3.5"}),g.boardCount||0," boards"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Le,{className:"w-3.5 h-3.5"}),g.memberCount||0," membres"]})]})]},g.id))})]}),r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center justify-between mb-5",children:r.jsx("h2",{className:"text-xl font-display font-semibold text-surface-100",children:"Activit rcente"})}),r.jsx("div",{className:"card p-4",children:i?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):n.length>0?r.jsx("div",{className:"space-y-4",children:n.slice(0,3).map((g,N)=>r.jsxs(F.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:N*.05},className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-surface-700 flex items-center justify-center flex-shrink-0",children:y(g.action)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("p",{className:"text-sm text-surface-300",children:[r.jsx("span",{className:"font-medium text-surface-200",children:g.userName||"Utilisateur"})," ",p(g),g.itemName&&r.jsxs("span",{className:"text-primary-400",children:[' "',g.itemName,'"']})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[g.boardName&&r.jsxs("span",{className:"text-xs text-surface-500 flex items-center gap-1",children:[r.jsx(Os,{className:"w-3 h-3"}),g.boardName]}),r.jsx("span",{className:"text-xs text-surface-600",children:""}),r.jsx("span",{className:"text-xs text-surface-500",children:iu(new Date(g.createdAt),{addSuffix:!0,locale:xr})})]})]})]},g.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(nt,{className:"w-10 h-10 text-surface-600 mx-auto mb-3"}),r.jsx("p",{className:"text-surface-500 text-sm",children:"Vos activits rcentes apparatront ici"})]})}),r.jsxs("div",{className:"mt-4",children:[r.jsx("h3",{className:"text-sm font-medium text-surface-400 mb-3",children:"Actions rapides"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{onClick:()=>c(!0),className:"w-full flex items-center gap-3 px-4 py-3 bg-surface-800/50 hover:bg-surface-800 rounded-xl text-left transition-colors group",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-500/20 flex items-center justify-center",children:r.jsx(ie,{className:"w-4 h-4 text-primary-400"})}),r.jsx("span",{className:"text-surface-300 group-hover:text-surface-100 transition-colors",children:"Nouvel espace de travail"})]}),r.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 bg-surface-800/50 hover:bg-surface-800 rounded-xl text-left transition-colors group",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center",children:r.jsx(SN,{className:"w-4 h-4 text-purple-400"})}),r.jsx("span",{className:"text-surface-300 group-hover:text-surface-100 transition-colors",children:"Accder aux favoris"})]})]})]})]})]}),r.jsx(MN,{isOpen:l,onClose:()=>c(!1)})]})}const g6=["","","","","","","","","",""],y6=["#6366f1","#8b5cf6","#ec4899","#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#06b6d4","#3b82f6"];function v6({isOpen:e,onClose:t,workspaceId:s}){const n=lr(u=>u.addBoard),[a,i]=v.useState(!1),[o,l]=v.useState({name:"",description:"",icon:"",color:"#6366f1"}),c=async u=>{if(u.preventDefault(),!!o.name.trim()){i(!0);try{const d=await Ro.create({...o,workspaceId:s});n(d.data),V.success("Board cr avec succs"),t(),l({name:"",description:"",icon:"",color:"#6366f1"})}catch{V.error("Erreur lors de la cration")}finally{i(!1)}}};return e?r.jsx(re,{children:r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:r.jsxs(F.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content",onClick:u=>u.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-600/20 flex items-center justify-center",children:r.jsx(Os,{className:"w-5 h-5 text-primary-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Crer un board"}),r.jsx("p",{className:"text-sm text-surface-500",children:"Grez vos tches et projets"})]})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:c,className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center text-3xl",style:{backgroundColor:`${o.color}20`},children:o.icon}),r.jsxs("div",{className:"flex-1 space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-surface-500 mb-2",children:"Icne"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:g6.map(u=>r.jsx("button",{type:"button",onClick:()=>l({...o,icon:u}),className:`w-8 h-8 rounded-lg flex items-center justify-center text-lg hover:bg-surface-700 transition-colors ${o.icon===u?"bg-surface-700 ring-2 ring-primary-500":""}`,children:u},u))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-surface-500 mb-2",children:"Couleur"}),r.jsx("div",{className:"flex gap-2",children:y6.map(u=>r.jsx("button",{type:"button",onClick:()=>l({...o,color:u}),className:`w-6 h-6 rounded-full transition-transform ${o.color===u?"ring-2 ring-offset-2 ring-offset-surface-900 ring-white scale-110":"hover:scale-110"}`,style:{backgroundColor:u}},u))})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom du board"}),r.jsx("input",{type:"text",value:o.name,onChange:u=>l({...o,name:u.target.value}),placeholder:"Gestion de projet",className:"input",required:!0,autoFocus:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Description"," ",r.jsx("span",{className:"text-surface-500",children:"(optionnel)"})]}),r.jsx("textarea",{value:o.description,onChange:u=>l({...o,description:u.target.value}),placeholder:"Dcrivez votre board...",className:"input resize-none h-20"})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),r.jsx("button",{type:"submit",disabled:a||!o.name.trim(),className:"btn btn-primary",children:a?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Crer le board"})]})]})]})})}):null}function j6(){const{workspaceId:e}=mt(),t=cs(),{setCurrentWorkspace:s,setBoards:n,boards:a}=lr(),[i,o]=v.useState(!1),[l,c]=v.useState(null),{data:u,isLoading:d}=Vs({queryKey:["workspace",e],queryFn:async()=>(await Iu.getOne(e)).data}),{data:f,isLoading:m}=Vs({queryKey:["boards",e],queryFn:async()=>(await Ro.getByWorkspace(e)).data});v.useEffect(()=>(u&&(s(u),a6(e)),()=>{i6(e)}),[u,e,s]),v.useEffect(()=>{f&&n(f)},[f,n]);const x=async(h,j)=>{if(j.stopPropagation(),!!confirm("tes-vous sr de vouloir supprimer ce board ?")){try{await Ro.delete(h),V.success("Board supprim")}catch{V.error("Erreur lors de la suppression")}c(null)}};return d?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):u?r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center text-3xl",style:{backgroundColor:`${u.color}20`},children:u.icon}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-display font-bold text-surface-100",children:u.name}),r.jsx("p",{className:"text-surface-400",children:u.description})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{className:"btn btn-secondary",children:[r.jsx(Le,{className:"w-4 h-4"}),r.jsxs("span",{children:[u.memberCount," membres"]})]}),r.jsx("button",{className:"btn btn-ghost",children:r.jsx(di,{className:"w-4 h-4"})})]})]})}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-display font-semibold text-surface-100",children:"Boards"}),r.jsxs("button",{onClick:()=>o(!0),className:"btn btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),r.jsx("span",{children:"Nouveau board"})]})]}),m?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((h,j)=>r.jsx("div",{className:"card h-48 animate-pulse bg-surface-800/50"},j))}):a.length===0?r.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},className:"card text-center py-16",children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-500/20 to-purple-500/20 flex items-center justify-center mx-auto mb-6",children:r.jsx(Os,{className:"w-8 h-8 text-primary-400"})}),r.jsx("h3",{className:"text-xl font-display font-semibold text-surface-100 mb-2",children:"Crez votre premier board"}),r.jsx("p",{className:"text-surface-400 max-w-md mx-auto mb-6",children:"Les boards vous permettent d'organiser vos tches et de suivre l'avancement de vos projets."}),r.jsxs("button",{onClick:()=>o(!0),className:"btn btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),r.jsx("span",{children:"Crer un board"})]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((h,j)=>r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.05},className:"card p-6 hover:border-primary-500/50 transition-all group cursor-pointer relative",onClick:()=>t(`/board/${h.id}`),children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl",style:{backgroundColor:`${h.color}20`},children:h.icon}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:b=>{b.stopPropagation(),c(l===h.id?null:h.id)},className:"p-2 rounded-lg hover:bg-surface-700 text-surface-500 opacity-0 group-hover:opacity-100 transition-all",children:r.jsx(ji,{className:"w-5 h-5"})}),l===h.id&&r.jsx("div",{className:"dropdown right-0",children:r.jsxs("button",{onClick:b=>x(h.id,b),className:"dropdown-item text-red-400 hover:text-red-300",children:[r.jsx(Qe,{className:"w-4 h-4"}),r.jsx("span",{children:"Supprimer"})]})})]})]}),r.jsxs("h3",{className:"font-semibold text-surface-100 mb-1 flex items-center gap-2",children:[h.name,r.jsx(tt,{className:"w-4 h-4 text-surface-500 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),r.jsx("p",{className:"text-sm text-surface-500 mb-4 line-clamp-2",children:h.description||"Aucune description"}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-surface-500",children:[r.jsxs("span",{children:[h.itemCount||0," items"]}),r.jsxs("span",{children:[h.groupCount||0," groupes"]})]})]},h.id))})]}),r.jsx(v6,{isOpen:i,onClose:()=>o(!1),workspaceId:e})]}):r.jsx("div",{className:"text-center py-16",children:r.jsx("p",{className:"text-surface-400",children:"Workspace non trouv"})})}function b6({item:e,column:t,value:s}){var j,b;const[n,a]=v.useState(!1),[i,o]=v.useState({top:0,left:0}),l=v.useRef(null),c=v.useRef(null),u=pe(y=>y.updateItemValue),d=typeof s=="object"?s==null?void 0:s.labelId:s,f=(j=t.labels)==null?void 0:j.find(y=>y.id===d);v.useEffect(()=>{if(!n)return;const y=g=>{c.current&&!c.current.contains(g.target)&&l.current&&!l.current.contains(g.target)&&a(!1)},p=setTimeout(()=>{document.addEventListener("mousedown",y)},10);return()=>{clearTimeout(p),document.removeEventListener("mousedown",y)}},[n]);const m=v.useCallback(y=>{if(y==null||y.preventDefault(),y==null||y.stopPropagation(),l.current){const p=l.current.getBoundingClientRect();o({top:p.bottom+4,left:p.left})}a(p=>!p)},[]),x=async y=>{var p;try{const g=await we.updateValue(e.id,t.id,y.id);if(u(e.id,t.id,y.id),(p=g.data)!=null&&p.progressUpdate){const{columnId:N,value:E}=g.data.progressUpdate;u(e.id,N,E)}V.success("Statut mis  jour")}catch{V.error("Erreur lors de la mise  jour")}a(!1)},h=n&&r.jsxs(F.div,{ref:c,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"fixed z-[100] min-w-[180px] py-2 bg-surface-800 border border-surface-700 rounded-xl shadow-2xl",style:{top:i.top,left:i.left},children:[r.jsx("div",{className:"px-3 py-2 text-xs font-medium text-surface-500 uppercase tracking-wider",children:"Slectionner un statut"}),(b=t.labels)==null?void 0:b.map(y=>r.jsxs("button",{onClick:()=>x(y),className:"w-full flex items-center justify-between gap-3 px-3 py-2 hover:bg-surface-700 transition-colors",children:[r.jsx("span",{className:"px-3 py-1 rounded-md text-sm font-medium",style:{backgroundColor:`${y.color}25`,color:y.color},children:y.label||y.name}),d===y.id&&r.jsx(sa,{className:"w-4 h-4 text-primary-400"})]},y.id)),(!t.labels||t.labels.length===0)&&r.jsx("div",{className:"px-3 py-2 text-sm text-surface-500",children:"Aucun statut dfini"})]});return r.jsxs("div",{className:"relative w-full",onClick:y=>y.stopPropagation(),children:[r.jsxs("button",{type:"button",ref:l,onClick:m,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-all hover:scale-105 active:scale-95 cursor-pointer group w-full",style:{backgroundColor:f?`${f.color}20`:"rgba(71, 85, 105, 0.3)",color:(f==null?void 0:f.color)||"#94a3b8",border:f?`1px solid ${f.color}40`:"1px dashed #475569"},children:[r.jsx("span",{className:"text-sm font-medium truncate flex-1 text-left",children:(f==null?void 0:f.label)||(f==null?void 0:f.name)||"Slectionner"}),r.jsx(yr,{className:`w-3.5 h-3.5 transition-transform ${n?"rotate-180":""}`})]}),r.jsx(re,{children:n&&rn.createPortal(h,document.body)})]})}const Ii=new Map;function N6({item:e,column:t,value:s}){var S;const[n,a]=v.useState(!1),[i,o]=v.useState({top:0,left:0}),[l,c]=v.useState(""),[u,d]=v.useState([]),[f,m]=v.useState(!1),x=v.useRef(null),h=v.useRef(null),j=pe(w=>w.updateItemValue),b=pe(w=>w.currentBoard),y=v.useMemo(()=>Array.isArray(s)?s:(s==null?void 0:s.userIds)||[],[s]),p=async(w=!1)=>{const D=b==null?void 0:b.workspaceId;if(!D)return[];if(!w&&Ii.has(D)){const C=Ii.get(D);return d(C),C}if(f)return u;m(!0);try{const U=(await vt.getByWorkspace(D)).data||[];return Ii.set(D,U),d(U),U}catch(C){return console.error("Load members error:",C),[]}finally{m(!1)}};v.useEffect(()=>{const w=b==null?void 0:b.workspaceId;w&&(Ii.has(w)?d(Ii.get(w)):y.length>0&&!f&&p())},[b==null?void 0:b.workspaceId]);const g=v.useMemo(()=>u.length===0||y.length===0?[]:u.filter(w=>y.includes(w.id)),[y,u]);v.useEffect(()=>{const w=D=>{h.current&&!h.current.contains(D.target)&&x.current&&!x.current.contains(D.target)&&a(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const N=w=>{if(w.preventDefault(),w.stopPropagation(),x.current){const D=x.current.getBoundingClientRect();o({top:D.bottom+4,left:Math.min(D.left,window.innerWidth-300)})}u.length===0&&!f&&(b!=null&&b.workspaceId)&&p(),a(!n),c("")},E=u.filter(w=>{var C,U;if(!l)return!0;const D=l.toLowerCase();return((C=w.fullName)==null?void 0:C.toLowerCase().includes(D))||((U=w.email)==null?void 0:U.toLowerCase().includes(D))}),T=async w=>{const D=y.includes(w.id),C=D?y.filter(U=>U!==w.id):[...y,w.id];try{j(e.id,t.id,C),await we.updateValue(e.id,t.id,C),V.success(D?"Membre retir":"Membre assign")}catch{j(e.id,t.id,y),V.error("Erreur lors de la mise  jour")}},k=async(w,D)=>{D.stopPropagation();const C=y.filter(U=>U!==w);try{j(e.id,t.id,C),await we.updateValue(e.id,t.id,C),V.success("Membre retir")}catch{j(e.id,t.id,y),V.error("Erreur lors de la mise  jour")}},M=w=>{var D,C;return w.firstName&&w.lastName?`${w.firstName[0]}${w.lastName[0]}`.toUpperCase():((C=(D=w.email)==null?void 0:D[0])==null?void 0:C.toUpperCase())||"?"},R=w=>{const D=["#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#3b82f6","#6366f1","#8b5cf6","#ec4899","#f43f5e"],C=(w.id||w.email||"").charCodeAt(0)%D.length;return D[C]},P=r.jsxs(F.div,{ref:h,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"fixed z-[9999] w-72 bg-surface-800 border border-surface-700 rounded-xl shadow-2xl overflow-hidden",style:{top:i.top,left:i.left},children:[r.jsx("div",{className:"p-2 border-b border-surface-700",children:r.jsxs("div",{className:"relative",children:[r.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-surface-500"}),r.jsx("input",{type:"text",placeholder:"Rechercher un membre...",value:l,onChange:w=>c(w.target.value),className:"w-full pl-9 pr-3 py-2 bg-surface-700 border-none rounded-lg text-sm text-surface-200 placeholder-surface-500 focus:outline-none focus:ring-1 focus:ring-primary-500",autoFocus:!0})]})}),g.length>0&&r.jsxs("div",{className:"px-3 py-2 border-b border-surface-700 bg-surface-850",children:[r.jsxs("p",{className:"text-xs text-surface-500 mb-2",children:[g.length," assign",g.length>1?"s":""]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:g.map(w=>{var D;return r.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-surface-700 rounded-full text-xs",children:[r.jsx("div",{className:"w-4 h-4 rounded-full flex items-center justify-center text-[8px] text-white font-medium",style:{backgroundColor:R(w)},children:M(w)}),r.jsx("span",{className:"text-surface-300 max-w-[80px] truncate",children:w.firstName||((D=w.email)==null?void 0:D.split("@")[0])}),r.jsx("button",{onClick:C=>k(w.id,C),className:"p-0.5 hover:bg-surface-600 rounded-full text-surface-500 hover:text-red-400",children:r.jsx(fe,{className:"w-3 h-3"})})]},w.id)})})]}),r.jsx("div",{className:"max-h-56 overflow-y-auto",children:f?r.jsx("div",{className:"p-4 text-center",children:r.jsx("div",{className:"w-5 h-5 border-2 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto"})}):E.length>0?E.map(w=>{const D=y.includes(w.id);return r.jsxs("button",{onClick:()=>T(w),className:`w-full flex items-center gap-3 px-3 py-2.5 hover:bg-surface-700 transition-colors ${D?"bg-primary-600/10":""}`,children:[r.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs text-white font-medium flex-shrink-0",style:{backgroundColor:R(w)},children:M(w)}),r.jsxs("div",{className:"flex-1 text-left min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-surface-200 truncate",children:w.fullName||w.email}),r.jsx("p",{className:"text-xs text-surface-500 truncate",children:w.role==="owner"?"Propritaire":w.role==="admin"?"Admin":"Membre"})]}),D&&r.jsx(sa,{className:"w-4 h-4 text-primary-400 flex-shrink-0"})]},w.id)}):r.jsxs("div",{className:"p-4 text-center text-sm text-surface-500",children:[r.jsx(Le,{className:"w-6 h-6 mx-auto mb-2 text-surface-600"}),l?"Aucun membre trouv":"Aucun membre disponible"]})})]},"person-cell-menu");return r.jsxs("div",{className:"relative",style:{pointerEvents:"auto"},children:[r.jsx("button",{type:"button",ref:x,onClick:N,onMouseDown:w=>w.stopPropagation(),className:"w-full flex items-center gap-1 min-h-[32px] cursor-pointer rounded-md hover:bg-surface-700/50 px-1 py-0.5 transition-colors bg-transparent border-none text-left relative z-10",style:{pointerEvents:"auto"},children:g.length>0?r.jsxs("div",{className:"flex items-center gap-1.5",children:[r.jsxs("div",{className:"flex items-center -space-x-2",children:[g.slice(0,3).map((w,D)=>r.jsxs("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-[10px] text-white font-medium ring-2 ring-surface-900 group relative",style:{backgroundColor:R(w),zIndex:3-D},title:w.fullName||w.email,children:[M(w),r.jsx("span",{role:"button",tabIndex:0,onClick:C=>k(w.id,C),onKeyDown:C=>C.key==="Enter"&&k(w.id,C),className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full items-center justify-center text-white opacity-0 group-hover:opacity-100 hidden group-hover:flex transition-opacity cursor-pointer",children:r.jsx(fe,{className:"w-2.5 h-2.5"})})]},w.id)),g.length>3&&r.jsxs("div",{className:"w-7 h-7 rounded-full bg-surface-700 flex items-center justify-center text-[10px] text-surface-400 font-medium ring-2 ring-surface-900",children:["+",g.length-3]})]}),g.length===1&&r.jsx("span",{className:"text-xs text-surface-400 truncate max-w-[80px]",children:g[0].firstName||((S=g[0].email)==null?void 0:S.split("@")[0])})]}):r.jsxs("span",{className:"text-sm text-surface-500 flex items-center gap-1.5",children:[r.jsx(Wn,{className:"w-4 h-4"}),r.jsx("span",{children:"Assigner"})]})}),rn.createPortal(r.jsx(re,{children:n&&P}),document.body)]})}const w6=["Lu","Ma","Me","Je","Ve","Sa","Di"],k6=[{label:"Aujourd'hui",getValue:()=>new Date},{label:"Demain",getValue:()=>{const e=new Date;return e.setDate(e.getDate()+1),e}},{label:"Dans 1 semaine",getValue:()=>{const e=new Date;return e.setDate(e.getDate()+7),e}},{label:"Dans 2 semaines",getValue:()=>{const e=new Date;return e.setDate(e.getDate()+14),e}},{label:"Fin du mois",getValue:()=>Np(new Date)}];function C6({item:e,column:t,value:s}){const[n,a]=v.useState(!1),[i,o]=v.useState({top:0,left:0}),[l,c]=v.useState(new Date),[u,d]=v.useState(!1),[f,m]=v.useState("09:00"),x=v.useRef(null),h=v.useRef(null),j=pe(P=>P.updateItemValue),b=typeof s=="object"?s==null?void 0:s.date:s,y=b?new Date(b):null,p=y&&bp(y)&&!isNaN(y.getTime());v.useEffect(()=>{p&&(c(y),(y.getHours()!==0||y.getMinutes()!==0)&&(d(!0),m(As(y,"HH:mm"))))},[p]),v.useEffect(()=>{const P=S=>{h.current&&!h.current.contains(S.target)&&x.current&&!x.current.contains(S.target)&&a(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]);const g=P=>{if(P==null||P.preventDefault(),P==null||P.stopPropagation(),console.log("DateCell handleOpen called",{isOpen:n,item:e==null?void 0:e.id}),x.current){const S=x.current.getBoundingClientRect();o({top:Math.min(S.bottom+4,window.innerHeight-420),left:Math.min(S.left,window.innerWidth-320)})}a(!n)},N=v.useMemo(()=>{const P=ST(l),S=Np(l),w=CT({start:P,end:S}),D=P.getDay(),C=D===0?6:D-1,U=[];for(let H=C-1;H>=0;H--){const L=new Date(P);L.setDate(L.getDate()-H-1),U.push({date:L,isCurrentMonth:!1})}const W=S.getDay(),B=W===0?0:7-W,_=[];for(let H=1;H<=B;H++){const L=new Date(S);L.setDate(L.getDate()+H),_.push({date:L,isCurrentMonth:!1})}return[...U,...w.map(H=>({date:H,isCurrentMonth:!0})),..._]},[l]),E=async P=>{let S=P;if(u&&f){const[D,C]=f.split(":").map(Number);S=new Date(P),S.setHours(D,C,0,0)}const w=S.toISOString();try{await we.updateValue(e.id,t.id,w),j(e.id,t.id,w),V.success("Date mise  jour"),a(!1)}catch{V.error("Erreur lors de la mise  jour")}},T=async P=>{P.stopPropagation();try{await we.updateValue(e.id,t.id,null),j(e.id,t.id,null),V.success("Date efface")}catch{V.error("Erreur lors de la mise  jour")}},M=(()=>{if(!p)return null;const P=new Date;if(P.setHours(0,0,0,0),sy(y))return{label:"Aujourd'hui",color:"#3b82f6"};if(ty(y))return{label:`${Gg(P,y)}j en retard`,color:"#ef4444",isLate:!0};const S=Gg(y,P);return S===1?{label:"Demain",color:"#f97316"}:S<=7?{label:`Dans ${S}j`,color:"#eab308"}:null})(),R=r.jsxs(F.div,{ref:h,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"fixed z-[9999] w-80 bg-surface-800 border border-surface-700 rounded-xl shadow-2xl overflow-hidden",style:{top:i.top,left:i.left},children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-surface-700",children:[r.jsx("button",{onClick:()=>c(CA(l)),className:"p-1.5 hover:bg-surface-700 rounded-lg text-surface-400 hover:text-surface-200",children:r.jsx(xp,{className:"w-4 h-4"})}),r.jsx("span",{className:"text-sm font-medium text-surface-200",children:As(l,"MMMM yyyy",{locale:xr})}),r.jsx("button",{onClick:()=>c(DN(l,1)),className:"p-1.5 hover:bg-surface-700 rounded-lg text-surface-400 hover:text-surface-200",children:r.jsx(Ws,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"p-2",children:[r.jsx("div",{className:"grid grid-cols-7 mb-1",children:w6.map(P=>r.jsx("div",{className:"text-center text-xs font-medium text-surface-500 py-1",children:P},P))}),r.jsx("div",{className:"grid grid-cols-7 gap-0.5",children:N.map(({date:P,isCurrentMonth:S},w)=>{const D=p&&LN(P,y),C=sy(P),U=ty(P)&&!C;return r.jsx("button",{onClick:()=>E(P),className:`
                  w-full aspect-square flex items-center justify-center text-sm rounded-lg transition-all
                  ${S?"text-surface-200":"text-surface-600"}
                  ${D?"bg-primary-500 text-white font-medium":"hover:bg-surface-700"}
                  ${C&&!D?"ring-1 ring-primary-500 text-primary-400":""}
                  ${U&&!D?"text-surface-500":""}
                `,children:As(P,"d")},w)})})]}),r.jsxs("div",{className:"px-3 py-2 border-t border-surface-700",children:[r.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[r.jsxs("span",{className:"flex items-center gap-2 text-sm text-surface-300",children:[r.jsx(nt,{className:"w-4 h-4"}),"Inclure l'heure"]}),r.jsx("input",{type:"checkbox",checked:u,onChange:P=>d(P.target.checked),className:"w-4 h-4 rounded border-surface-600 bg-surface-700 text-primary-500"})]}),u&&r.jsx("input",{type:"time",value:f,onChange:P=>m(P.target.value),className:"mt-2 w-full px-3 py-1.5 bg-surface-700 border-none rounded-lg text-sm text-surface-200 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),r.jsxs("div",{className:"px-3 py-2 border-t border-surface-700",children:[r.jsx("p",{className:"text-xs text-surface-500 mb-2",children:"Raccourcis"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:k6.map((P,S)=>r.jsx("button",{onClick:()=>E(P.getValue()),className:"px-2 py-1 text-xs bg-surface-700 hover:bg-surface-600 text-surface-300 rounded-lg transition-colors",children:P.label},S))})]}),p&&r.jsx("div",{className:"p-2 border-t border-surface-700",children:r.jsxs("button",{onClick:T,className:"w-full flex items-center justify-center gap-2 py-2 text-sm text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:[r.jsx(fe,{className:"w-4 h-4"}),"Effacer la date"]})})]},"date-cell-menu");return r.jsxs("div",{className:"relative",style:{pointerEvents:"auto"},children:[r.jsx("button",{type:"button",ref:x,onClick:g,onMouseDown:P=>P.stopPropagation(),className:"w-full flex items-center gap-2 text-sm group rounded-md hover:bg-surface-700/50 px-1.5 py-1 transition-colors cursor-pointer bg-transparent border-none text-left relative z-10",style:{pointerEvents:"auto"},children:p?r.jsxs(r.Fragment,{children:[r.jsx(Ze,{className:`w-4 h-4 flex-shrink-0 ${M!=null&&M.isLate?"text-red-400":"text-primary-400"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("span",{className:`${M!=null&&M.isLate?"text-red-300":"text-surface-200"}`,children:As(y,"d MMM yyyy",{locale:xr})}),u&&r.jsx("span",{className:"text-surface-500 ml-1",children:As(y,"HH:mm")})]}),M&&r.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 rounded-full flex-shrink-0",style:{backgroundColor:`${M.color}20`,color:M.color},children:M.label}),r.jsx("span",{role:"button",tabIndex:0,onClick:T,onKeyDown:P=>P.key==="Enter"&&T(P),className:"opacity-0 group-hover:opacity-100 p-0.5 rounded hover:bg-surface-600 flex-shrink-0 cursor-pointer",children:r.jsx(fe,{className:"w-3.5 h-3.5 text-surface-500"})})]}):r.jsxs(r.Fragment,{children:[r.jsx(ID,{className:"w-4 h-4 text-surface-500"}),r.jsx("span",{className:"text-surface-500",children:"Dfinir une date"})]})}),rn.createPortal(r.jsx(re,{children:n&&R}),document.body)]})}function ew({item:e,column:t,value:s}){var f,m;const[n,a]=v.useState(!1),[i,o]=v.useState((s==null?void 0:s.text)||""),l=v.useRef(null),c=pe(x=>x.updateItemValue);v.useEffect(()=>{o((s==null?void 0:s.text)||"")},[s]),v.useEffect(()=>{n&&l.current&&(l.current.focus(),l.current.select())},[n]);const u=async()=>{if(i!==((s==null?void 0:s.text)||""))try{await we.updateValue(e.id,t.id,{text:i}),c(e.id,t.id,{text:i})}catch{V.error("Erreur lors de la mise  jour"),o((s==null?void 0:s.text)||"")}a(!1)},d=x=>{x.key==="Enter"?u():x.key==="Escape"&&(o((s==null?void 0:s.text)||""),a(!1))};return n?r.jsx("input",{ref:l,type:"text",value:i,onChange:x=>o(x.target.value),onBlur:u,onKeyDown:d,className:"w-full bg-transparent border-none text-sm text-surface-200 focus:outline-none",placeholder:((f=t.settings)==null?void 0:f.placeholder)||"Entrez du texte..."}):r.jsx("button",{onClick:()=>a(!0),className:"w-full text-left text-sm truncate",children:(s==null?void 0:s.text)||r.jsx("span",{className:"text-surface-500",children:((m=t.settings)==null?void 0:m.placeholder)||"Texte..."})})}function S6({item:e,column:t,value:s}){var h,j,b;const[n,a]=v.useState(!1),[i,o]=v.useState(((h=s==null?void 0:s.number)==null?void 0:h.toString())||""),l=v.useRef(null),c=pe(y=>y.updateItemValue),u=((j=t.settings)==null?void 0:j.prefix)||"",d=((b=t.settings)==null?void 0:b.suffix)||"";v.useEffect(()=>{var y;o(((y=s==null?void 0:s.number)==null?void 0:y.toString())||"")},[s]),v.useEffect(()=>{n&&l.current&&(l.current.focus(),l.current.select())},[n]);const f=async()=>{var p;const y=parseFloat(i);if(!isNaN(y)&&y!==(s==null?void 0:s.number))try{await we.updateValue(e.id,t.id,{number:y}),c(e.id,t.id,{number:y})}catch{V.error("Erreur lors de la mise  jour"),o(((p=s==null?void 0:s.number)==null?void 0:p.toString())||"")}else if(i===""&&(s==null?void 0:s.number)!==void 0)try{await we.updateValue(e.id,t.id,{number:null}),c(e.id,t.id,{number:null})}catch{V.error("Erreur lors de la mise  jour")}a(!1)},m=y=>{var p;y.key==="Enter"?f():y.key==="Escape"&&(o(((p=s==null?void 0:s.number)==null?void 0:p.toString())||""),a(!1))},x=y=>y==null?"":`${u}${y.toLocaleString("fr-FR")}${d}`;return n?r.jsx("input",{ref:l,type:"number",value:i,onChange:y=>o(y.target.value),onBlur:f,onKeyDown:m,className:"w-full bg-transparent border-none text-sm text-surface-200 focus:outline-none",placeholder:"0"}):r.jsx("button",{onClick:()=>a(!0),className:"w-full text-left text-sm",children:(s==null?void 0:s.number)!==void 0&&(s==null?void 0:s.number)!==null?r.jsx("span",{className:"text-surface-200",children:x(s.number)}):r.jsx("span",{className:"text-surface-500",children:"-"})})}function E6({item:e,column:t,value:s}){const n=pe(o=>o.updateItemValue),a=(s==null?void 0:s.checked)||!1,i=async()=>{try{await we.updateValue(e.id,t.id,{checked:!a}),n(e.id,t.id,{checked:!a})}catch{V.error("Erreur lors de la mise  jour")}};return r.jsx("button",{onClick:i,className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all ${a?"bg-primary-500 border-primary-500":"border-surface-600 hover:border-surface-500"}`,children:a&&r.jsx(sa,{className:"w-3.5 h-3.5 text-white"})})}const cy=[{level:0,label:"Basse",color:"#22c55e"},{level:1,label:"Moyenne",color:"#eab308"},{level:2,label:"Haute",color:"#f97316"},{level:3,label:"Critique",color:"#ef4444"}];function P6({item:e,column:t,value:s}){var b,y;const[n,a]=v.useState(!1),[i,o]=v.useState({top:0,left:0}),l=v.useRef(null),c=v.useRef(null),u=pe(p=>p.updateItemValue),d=((y=(b=t.settings)==null?void 0:b.levels)==null?void 0:y.map((p,g)=>{var N;return{level:g,label:p,color:((N=cy[g])==null?void 0:N.color)||"#6b7280"}}))||cy,f=typeof s=="object"?s==null?void 0:s.level:s,m=d.find(p=>p.level===f);v.useEffect(()=>{if(!n)return;const p=N=>{c.current&&!c.current.contains(N.target)&&l.current&&!l.current.contains(N.target)&&a(!1)},g=setTimeout(()=>{document.addEventListener("mousedown",p)},10);return()=>{clearTimeout(g),document.removeEventListener("mousedown",p)}},[n]);const x=v.useCallback(p=>{if(p==null||p.preventDefault(),p==null||p.stopPropagation(),l.current){const g=l.current.getBoundingClientRect();o({top:g.bottom+4,left:g.left})}a(g=>!g)},[]),h=async p=>{try{await we.updateValue(e.id,t.id,p.level),u(e.id,t.id,p.level),V.success("Priorit mise  jour")}catch{V.error("Erreur lors de la mise  jour")}a(!1)},j=n&&r.jsxs(F.div,{ref:c,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"fixed z-[100] min-w-[160px] py-2 bg-surface-800 border border-surface-700 rounded-xl shadow-2xl",style:{top:i.top,left:i.left},children:[r.jsx("div",{className:"px-3 py-2 text-xs font-medium text-surface-500 uppercase tracking-wider",children:"Niveau de priorit"}),d.map(p=>r.jsxs("button",{onClick:()=>h(p),className:"w-full flex items-center justify-between gap-3 px-3 py-2 hover:bg-surface-700 transition-colors",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:p.color}}),r.jsx("span",{className:"text-sm text-surface-200",children:p.label})]}),f===p.level&&r.jsx(sa,{className:"w-4 h-4 text-primary-400"})]},p.level))]});return r.jsxs("div",{className:"relative w-full",onClick:p=>p.stopPropagation(),children:[r.jsxs("button",{type:"button",ref:l,onClick:x,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all hover:scale-105 active:scale-95 cursor-pointer w-full",style:{backgroundColor:m?`${m.color}20`:"rgba(71, 85, 105, 0.3)",border:m?`1px solid ${m.color}40`:"1px dashed #475569"},children:[m?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0",style:{backgroundColor:m.color}}),r.jsx("span",{className:"text-sm font-medium flex-1 text-left",style:{color:m.color},children:m.label})]}):r.jsxs(r.Fragment,{children:[r.jsx(rs,{className:"w-4 h-4 text-surface-500 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-surface-500 flex-1 text-left",children:"Priorit"})]}),r.jsx(yr,{className:`w-3.5 h-3.5 text-surface-500 transition-transform ${n?"rotate-180":""}`})]}),r.jsx(re,{children:n&&rn.createPortal(j,document.body)})]})}const M6=[0,25,50,75,100];function D6({item:e,column:t,value:s}){const[n,a]=v.useState(!1),[i,o]=v.useState({top:0,left:0}),[l,c]=v.useState(0),[u,d]=v.useState(!1),f=v.useRef(null),m=v.useRef(null),x=v.useRef(null),h=pe(S=>S.updateItemValue),j=v.useMemo(()=>typeof s=="object"?(s==null?void 0:s.progress)??0:parseInt(s)||0,[s]);v.useEffect(()=>{c(j)},[j]),v.useEffect(()=>{const S=w=>{m.current&&!m.current.contains(w.target)&&f.current&&!f.current.contains(w.target)&&a(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const b=S=>{if(S==null||S.preventDefault(),S==null||S.stopPropagation(),console.log("ProgressCell handleOpen called",{isOpen:n,item:e==null?void 0:e.id}),f.current){const w=f.current.getBoundingClientRect();o({top:w.bottom+4,left:Math.min(w.left,window.innerWidth-260)})}a(!n)},y=async S=>{const w=Math.max(0,Math.min(100,S));try{await we.updateValue(e.id,t.id,{progress:w}),h(e.id,t.id,{progress:w})}catch{V.error("Erreur lors de la mise  jour"),c(j)}},p=S=>{const w=parseInt(S.target.value);c(w)},g=()=>{l!==j&&y(l),d(!1)},N=()=>{const S=Math.min(100,l+5);c(S),y(S)},E=()=>{const S=Math.max(0,l-5);c(S),y(S)},T=S=>{c(S),y(S)},k=(S=l)=>S>=100?{bg:"#22c55e",text:"#22c55e",bgLight:"rgba(34, 197, 94, 0.2)"}:S>=75?{bg:"#84cc16",text:"#84cc16",bgLight:"rgba(132, 204, 22, 0.2)"}:S>=50?{bg:"#eab308",text:"#eab308",bgLight:"rgba(234, 179, 8, 0.2)"}:S>=25?{bg:"#f97316",text:"#f97316",bgLight:"rgba(249, 115, 22, 0.2)"}:{bg:"#ef4444",text:"#ef4444",bgLight:"rgba(239, 68, 68, 0.2)"},M=(S=l)=>S>=100?"Termin":S>=75?"Presque fini":S>=50?"En cours":S>=25?"Dmarr":S>0?"Dbut":"Non dmarr",R=k(),P=r.jsxs(F.div,{ref:m,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"fixed z-[9999] w-60 bg-surface-800 border border-surface-700 rounded-xl shadow-2xl overflow-hidden",style:{top:i.top,left:i.left},children:[r.jsxs("div",{className:"p-3 border-b border-surface-700",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium text-surface-200",children:"Progression"}),r.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full",style:{backgroundColor:R.bgLight,color:R.text},children:M()})]}),r.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[r.jsx("button",{onClick:E,className:"p-1.5 rounded-lg hover:bg-surface-700 text-surface-400 hover:text-surface-200 transition-colors",children:r.jsx(jp,{className:"w-4 h-4"})}),r.jsxs("div",{className:"relative w-16 h-16",children:[r.jsxs("svg",{className:"w-16 h-16 transform -rotate-90",children:[r.jsx("circle",{cx:"32",cy:"32",r:"28",strokeWidth:"6",fill:"none",className:"stroke-surface-700"}),r.jsx("circle",{cx:"32",cy:"32",r:"28",strokeWidth:"6",fill:"none",strokeDasharray:`${2*Math.PI*28}`,strokeDashoffset:`${2*Math.PI*28*(1-l/100)}`,strokeLinecap:"round",style:{stroke:R.bg},className:"transition-all duration-300"})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("span",{className:"text-lg font-bold text-surface-100",children:[l,"%"]})})]}),r.jsx("button",{onClick:N,className:"p-1.5 rounded-lg hover:bg-surface-700 text-surface-400 hover:text-surface-200 transition-colors",children:r.jsx(ie,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"px-3 py-2",children:r.jsx("input",{ref:x,type:"range",min:"0",max:"100",value:l,onChange:p,onMouseDown:()=>d(!0),onMouseUp:g,onTouchEnd:g,className:"w-full h-2 rounded-full appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${R.bg} 0%, ${R.bg} ${l}%, #374151 ${l}%, #374151 100%)`}})}),r.jsxs("div",{className:"p-2 border-t border-surface-700",children:[r.jsx("p",{className:"text-xs text-surface-500 mb-2 px-1",children:"Valeurs rapides"}),r.jsx("div",{className:"flex gap-1",children:M6.map(S=>{const w=k(S),D=l===S;return r.jsxs("button",{onClick:()=>T(S),className:`flex-1 py-1.5 text-xs font-medium rounded-lg transition-all ${D?"ring-2 ring-offset-2 ring-offset-surface-800":"hover:opacity-80"}`,style:{backgroundColor:w.bgLight,color:w.text,ringColor:D?w.bg:"transparent"},children:[S,"%"]},S)})})]}),r.jsxs("div",{className:"p-2 border-t border-surface-700 flex gap-2",children:[r.jsxs("button",{onClick:()=>T(0),className:"flex-1 flex items-center justify-center gap-1.5 py-2 text-xs text-surface-400 hover:text-surface-200 hover:bg-surface-700 rounded-lg transition-colors",children:[r.jsx(FD,{className:"w-3.5 h-3.5"}),"Rinitialiser"]}),r.jsxs("button",{onClick:()=>T(100),className:"flex-1 flex items-center justify-center gap-1.5 py-2 text-xs text-green-400 hover:text-green-300 hover:bg-green-500/10 rounded-lg transition-colors",children:[r.jsx(qn,{className:"w-3.5 h-3.5"}),"Terminer"]})]})]},"progress-cell-menu");return r.jsxs("div",{className:"relative",style:{pointerEvents:"auto"},children:[r.jsxs("button",{type:"button",ref:f,onClick:b,onMouseDown:S=>S.stopPropagation(),className:"w-full flex items-center gap-2 group bg-transparent border-none cursor-pointer relative z-10",style:{pointerEvents:"auto"},children:[r.jsxs("div",{className:"flex-1 h-2.5 bg-surface-700 rounded-full overflow-hidden relative",children:[r.jsx(F.div,{className:"h-full rounded-full",style:{backgroundColor:R.bg},initial:!1,animate:{width:`${j}%`},transition:{duration:.3,ease:"easeOut"}}),j>0&&j<100&&r.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-full",style:{width:`${j}%`},children:r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer",style:{animationDuration:"2s"}})})]}),r.jsxs("span",{className:"text-xs font-medium w-10 text-right transition-colors",style:{color:R.text},children:[j,"%"]}),j>=100&&r.jsx(qn,{className:"w-4 h-4 text-green-500 opacity-0 group-hover:opacity-100 transition-opacity"})]}),rn.createPortal(r.jsx(re,{children:n&&P}),document.body)]})}const T6={pdf:{icon:gs,color:"#ef4444"},doc:{icon:gs,color:"#3b82f6"},docx:{icon:gs,color:"#3b82f6"},txt:{icon:gs,color:"#6b7280"},rtf:{icon:gs,color:"#6b7280"},xls:{icon:co,color:"#22c55e"},xlsx:{icon:co,color:"#22c55e"},csv:{icon:co,color:"#22c55e"},ppt:{icon:Pm,color:"#f97316"},pptx:{icon:Pm,color:"#f97316"},jpg:{icon:da,color:"#8b5cf6"},jpeg:{icon:da,color:"#8b5cf6"},png:{icon:da,color:"#8b5cf6"},gif:{icon:da,color:"#8b5cf6"},svg:{icon:da,color:"#8b5cf6"},webp:{icon:da,color:"#8b5cf6"},mp4:{icon:_l,color:"#ec4899"},avi:{icon:_l,color:"#ec4899"},mov:{icon:_l,color:"#ec4899"},mkv:{icon:_l,color:"#ec4899"},mp3:{icon:qd,color:"#14b8a6"},wav:{icon:qd,color:"#14b8a6"},flac:{icon:qd,color:"#14b8a6"},zip:{icon:Il,color:"#eab308"},rar:{icon:Il,color:"#eab308"},"7z":{icon:Il,color:"#eab308"},tar:{icon:Il,color:"#eab308"}},uy=e=>{var s;const t=((s=e==null?void 0:e.split(".").pop())==null?void 0:s.toLowerCase())||"";return T6[t]||{icon:Pm,color:"#6b7280"}},A6=e=>{if(!e)return"0 B";const t=1024,s=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(1))+" "+s[n]},R6=e=>{var s,n;if(!(e!=null&&e.url))return null;const t=(n=(s=e.name)==null?void 0:s.split(".").pop())==null?void 0:n.toLowerCase();return["doc","docx"].includes(t)?`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(e.url)}`:["xls","xlsx"].includes(t)?`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(e.url)}`:["ppt","pptx"].includes(t)?`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(e.url)}`:null};function dy({item:e,column:t,value:s}){const[n,a]=v.useState(!1),[i,o]=v.useState({top:0,left:0}),[l,c]=v.useState(!1),[u,d]=v.useState(null),f=v.useRef(null),m=v.useRef(null),x=v.useRef(null),h=pe(R=>R.updateItemValue),j=Array.isArray(s)?s:(s==null?void 0:s.files)||[];v.useEffect(()=>{const R=P=>{m.current&&!m.current.contains(P.target)&&f.current&&!f.current.contains(P.target)&&a(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const b=R=>{if(R==null||R.preventDefault(),R==null||R.stopPropagation(),console.log("FilesCell handleOpen called",{isOpen:n,item:e==null?void 0:e.id}),f.current){const P=f.current.getBoundingClientRect();o({top:P.bottom+4,left:Math.min(P.left,window.innerWidth-350)})}a(!n)},y=async R=>{const P=Array.from(R.target.files);if(!P.length)return;c(!0);const S=[...j];for(const w of P)try{const D=new FormData;D.append("file",w),D.append("itemId",e.id),D.append("columnId",t.id);const C=new FileReader,U=await new Promise(W=>{C.onload=B=>W(B.target.result),C.readAsDataURL(w)});S.push({id:`file-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:w.name,size:w.size,type:w.type,url:U,uploadedAt:new Date().toISOString()})}catch(D){console.error("Upload error:",D),V.error(`Erreur lors de l'upload de ${w.name}`)}try{await we.updateValue(e.id,t.id,S),h(e.id,t.id,S),V.success(`${P.length} fichier(s) ajout(s)`)}catch{V.error("Erreur lors de la sauvegarde")}c(!1),x.current&&(x.current.value="")},p=async R=>{const P=j.filter(S=>S.id!==R);try{await we.updateValue(e.id,t.id,P),h(e.id,t.id,P),V.success("Fichier supprim")}catch{V.error("Erreur lors de la suppression")}},g=R=>{const P=document.createElement("a");P.href=R.url,P.download=R.name,document.body.appendChild(P),P.click(),document.body.removeChild(P)},N=R=>{const P=R6(R);P?window.open(P,"_blank"):V.error("Ce type de fichier ne peut pas tre ouvert dans Office Online")},E=R=>{var S,w;const P=(w=(S=R.name)==null?void 0:S.split(".").pop())==null?void 0:w.toLowerCase();return["doc","docx","xls","xlsx","ppt","pptx"].includes(P)},T=R=>{var S,w;const P=(w=(S=R.name)==null?void 0:S.split(".").pop())==null?void 0:w.toLowerCase();return["jpg","jpeg","png","gif","svg","webp"].includes(P)},k=r.jsxs(F.div,{ref:m,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"fixed z-[9999] w-80 bg-surface-800 border border-surface-700 rounded-xl shadow-2xl overflow-hidden",style:{top:i.top,left:i.left},children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-surface-700",children:[r.jsxs("span",{className:"text-sm font-medium text-surface-200",children:["Fichiers (",j.length,")"]}),r.jsx("input",{ref:x,type:"file",multiple:!0,onChange:y,className:"hidden"}),r.jsxs("button",{onClick:()=>{var R;return(R=x.current)==null?void 0:R.click()},disabled:l,className:"flex items-center gap-1.5 px-2 py-1 text-xs font-medium text-primary-400 hover:bg-primary-500/10 rounded-lg transition-colors disabled:opacity-50",children:[l?r.jsx(Hu,{className:"w-3.5 h-3.5 animate-spin"}):r.jsx(Kg,{className:"w-3.5 h-3.5"}),"Ajouter"]})]}),r.jsx("div",{className:"max-h-64 overflow-y-auto",children:j.length>0?r.jsx("div",{className:"divide-y divide-surface-700/50",children:j.map(R=>{const{icon:P,color:S}=uy(R.name);return r.jsx("div",{className:"p-2 hover:bg-surface-700/30 transition-colors group",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${S}20`},children:r.jsx(P,{className:"w-4 h-4",style:{color:S}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm text-surface-200 truncate",title:R.name,children:R.name}),r.jsx("p",{className:"text-xs text-surface-500",children:A6(R.size)})]}),r.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[T(R)&&r.jsx("button",{onClick:()=>d(R),className:"p-1 hover:bg-surface-600 rounded text-surface-400 hover:text-surface-200",title:"Aperu",children:r.jsx(ra,{className:"w-3.5 h-3.5"})}),E(R)&&r.jsx("button",{onClick:()=>N(R),className:"p-1 hover:bg-surface-600 rounded text-primary-400 hover:text-primary-300",title:"Ouvrir dans Office Online",children:r.jsx(UD,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>g(R),className:"p-1 hover:bg-surface-600 rounded text-surface-400 hover:text-surface-200",title:"Tlcharger",children:r.jsx(jN,{className:"w-3.5 h-3.5"})}),r.jsx("button",{onClick:()=>p(R.id),className:"p-1 hover:bg-red-500/20 rounded text-surface-400 hover:text-red-400",title:"Supprimer",children:r.jsx(Qe,{className:"w-3.5 h-3.5"})})]})]})},R.id)})}):r.jsxs("div",{className:"p-6 text-center",children:[r.jsx(Kg,{className:"w-8 h-8 text-surface-600 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-surface-500",children:"Aucun fichier"}),r.jsx("p",{className:"text-xs text-surface-600 mt-1",children:"Glissez-dposez ou cliquez pour ajouter"})]})}),r.jsx("div",{className:"p-2 border-t border-surface-700 bg-surface-850",onDragOver:R=>R.preventDefault(),onDrop:R=>{R.preventDefault();const P=R.dataTransfer;P.files.length&&(x.current.files=P.files,y({target:{files:P.files}}))},children:r.jsx("div",{className:"border-2 border-dashed border-surface-600 rounded-lg p-3 text-center hover:border-primary-500 transition-colors",children:r.jsx("p",{className:"text-xs text-surface-500",children:"Glissez vos fichiers ici"})})})]},"files-cell-menu"),M=u&&r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",onClick:()=>d(null),children:r.jsxs(F.div,{initial:{scale:.9},animate:{scale:1},className:"relative max-w-4xl max-h-[90vh]",onClick:R=>R.stopPropagation(),children:[r.jsx("button",{onClick:()=>d(null),className:"absolute -top-3 -right-3 w-8 h-8 bg-surface-800 rounded-full flex items-center justify-center text-surface-400 hover:text-white",children:r.jsx(fe,{className:"w-5 h-5"})}),r.jsx("img",{src:u.url,alt:u.name,className:"max-w-full max-h-[85vh] rounded-lg"}),r.jsx("p",{className:"text-center text-surface-400 mt-2 text-sm",children:u.name})]})});return r.jsxs("div",{className:"relative",style:{pointerEvents:"auto"},children:[r.jsx("button",{type:"button",ref:f,onClick:b,onMouseDown:R=>R.stopPropagation(),className:"w-full flex items-center gap-1.5 min-h-[28px] cursor-pointer rounded-md hover:bg-surface-700/50 px-1 py-0.5 transition-colors bg-transparent border-none text-left relative z-10",style:{pointerEvents:"auto"},children:j.length>0?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex items-center -space-x-1",children:j.slice(0,3).map((R,P)=>{const{icon:S,color:w}=uy(R.name);return r.jsx("div",{className:"w-6 h-6 rounded flex items-center justify-center ring-2 ring-surface-900",style:{backgroundColor:`${w}20`,zIndex:3-P},children:r.jsx(S,{className:"w-3 h-3",style:{color:w}})},R.id)})}),r.jsxs("span",{className:"text-xs text-surface-400",children:[j.length," fichier",j.length>1?"s":""]})]}):r.jsxs("span",{className:"text-sm text-surface-500 flex items-center gap-1",children:[r.jsx(ie,{className:"w-3 h-3"}),"Fichiers"]})}),rn.createPortal(r.jsx(re,{children:n&&k}),document.body),rn.createPortal(r.jsx(re,{children:u&&M}),document.body)]})}const O6={status:b6,person:N6,date:C6,text:ew,number:S6,checkbox:E6,priority:P6,progress:D6,files:dy,file:dy};function L6({item:e,column:t,value:s}){const n=O6[t.type]||ew;return r.jsx(n,{item:e,column:t,value:s})}const fy={text:Vo,number:NN,date:Ze,person:ls,status:Ue,priority:rs,progress:on,checkbox:Ue};function Pp({isOpen:e,onClose:t,item:s,workspaceId:n}){const{columns:a,groups:i,updateItem:o,updateItemValue:l,deleteItem:c,currentBoard:u,addGroup:d}=pe(),[f,m]=v.useState(!1),[x,h]=v.useState([]),[j,b]=v.useState(!1),[y,p]=v.useState(""),[g,N]=v.useState("#6366f1"),[E,T]=v.useState({name:"",groupId:"",values:{}});v.useEffect(()=>{s&&T({name:s.name||"",groupId:s.groupId||"",values:{...s.values}})},[s]),v.useEffect(()=>{(async()=>{const C=n||(u==null?void 0:u.workspaceId);if(C&&e)try{const{data:U}=await vt.getByWorkspace(C);h(U)}catch(U){console.error("Error loading members:",U)}})()},[n,u==null?void 0:u.workspaceId,e]);const k=D=>{const C=x.find(U=>U.id===D);return C?`${C.firstName} ${C.lastName}`:D},M=(D,C)=>{T(U=>({...U,values:{...U.values,[D]:C}}))},R=async D=>{var C;if(D&&D.preventDefault(),!(!E.name.trim()||!s||f)){m(!0);try{await we.update(s.id,{name:E.name.trim(),groupId:E.groupId||null});const U=[];for(const[W,B]of Object.entries(E.values))((C=s.values)==null?void 0:C[W])!==B&&U.push(we.updateValue(s.id,W,B));U.length>0&&await Promise.all(U),o(s.id,{name:E.name.trim(),groupId:E.groupId||null,values:E.values}),V.success("Item modifi avec succs"),t()}catch{V.error("Erreur lors de la modification")}finally{m(!1)}}},P=async()=>{if(confirm("tes-vous sr de vouloir supprimer cet item ?"))try{await we.delete(s.id),c(s.id),V.success("Item supprim"),t()}catch{V.error("Erreur lors de la suppression")}},S=async()=>{if(!(!y.trim()||!u))try{const{data:D}=await m3.create({boardId:u.id,name:y.trim(),color:g});d(D),T({...E,groupId:D.id}),b(!1),p(""),V.success("Groupe cr")}catch{V.error("Erreur lors de la cration du groupe")}},w=D=>{var U;const C=E.values[D.id];switch(fy[D.type],D.type){case"text":return r.jsx("input",{type:"text",value:C||"",onChange:z=>M(D.id,z.target.value),placeholder:`Entrer ${D.title}...`,className:"input"});case"number":return r.jsx("input",{type:"number",value:C||"",onChange:z=>M(D.id,z.target.value),placeholder:"0",className:"input"});case"date":let W="";if(C){const z=new Date(C);isNaN(z.getTime())||(W=z.toISOString().split("T")[0])}return r.jsx("input",{type:"date",value:W,onChange:z=>M(D.id,z.target.value),className:"input"});case"status":return r.jsx("div",{className:"flex flex-wrap gap-2",children:(U=D.labels)==null?void 0:U.map(z=>r.jsx("button",{type:"button",onClick:()=>M(D.id,z.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${C===z.id?"ring-2 ring-white/50 scale-105":"opacity-70 hover:opacity-100"}`,style:{backgroundColor:z.color,color:"white"},children:z.label||z.name},z.id))});case"priority":const B=[{id:"low",name:"Basse",color:"#6b7280"},{id:"medium",name:"Moyenne",color:"#f59e0b"},{id:"high",name:"Haute",color:"#ef4444"},{id:"critical",name:"Critique",color:"#7c3aed"}];return r.jsx("div",{className:"flex flex-wrap gap-2",children:B.map(z=>r.jsx("button",{type:"button",onClick:()=>M(D.id,z.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${C===z.id?"ring-2 ring-white/50 scale-105":"opacity-70 hover:opacity-100"}`,style:{backgroundColor:z.color,color:"white"},children:z.name},z.id))});case"progress":const _=typeof C=="object"?(C==null?void 0:C.progress)??0:C??0;return r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"range",min:"0",max:"100",value:_,onChange:z=>M(D.id,{progress:parseInt(z.target.value)}),className:"w-full h-2 bg-surface-700 rounded-lg appearance-none cursor-pointer accent-primary-500"}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-surface-500",children:"0%"}),r.jsxs("span",{className:"text-primary-400 font-medium",children:[_,"%"]}),r.jsx("span",{className:"text-surface-500",children:"100%"})]})]});case"checkbox":return r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:C||!1,onChange:z=>M(D.id,z.target.checked),className:"w-5 h-5 rounded border-surface-600 bg-surface-800 text-primary-500 focus:ring-primary-500"}),r.jsx("span",{className:"text-surface-300",children:C?"Oui":"Non"})]});case"person":const H=Array.isArray(C)?C:C?[C]:[];return r.jsxs("div",{className:"space-y-2",children:[H.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:H.map(z=>r.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-500/20 text-primary-400 rounded-lg text-sm",children:[r.jsx(ls,{className:"w-3 h-3"}),k(z),r.jsx("button",{type:"button",onClick:()=>{const Q=H.filter(I=>I!==z);M(D.id,Q.length>0?Q:null)},className:"ml-1 hover:text-red-400",children:r.jsx(fe,{className:"w-3 h-3"})})]},z))}),r.jsxs("select",{value:"",onChange:z=>{if(z.target.value){const Q=[...H,z.target.value];M(D.id,Q)}},className:"input text-sm",children:[r.jsx("option",{value:"",children:"+ Ajouter un responsable..."}),x.filter(z=>!H.includes(z.id)).map(z=>r.jsxs("option",{value:z.id,children:[z.firstName," ",z.lastName]},z.id))]})]});case"files":const L=Array.isArray(C)?C:[];return r.jsx("div",{className:"text-sm text-surface-400 italic",children:L.length>0?`${L.length} fichier(s) attach(s)`:"Utilisez le tableau pour grer les fichiers"});default:return r.jsx("input",{type:"text",value:C||"",onChange:z=>M(D.id,z.target.value),placeholder:`Entrer ${D.title}...`,className:"input"})}};return!e||!s?null:r.jsx(re,{children:r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:r.jsxs(F.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",onClick:D=>D.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-600/20 flex items-center justify-center",children:r.jsx(uo,{className:"w-5 h-5 text-primary-400"})}),r.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Modifier l'item"})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:R,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom de l'item *"}),r.jsx("input",{type:"text",value:E.name,onChange:D=>T({...E,name:D.target.value}),placeholder:"Nom de l'item...",className:"input text-lg font-medium",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Groupe"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("select",{value:E.groupId,onChange:D=>T({...E,groupId:D.target.value}),className:"input flex-1",children:[r.jsx("option",{value:"",children:"Aucun groupe"}),i.map(D=>r.jsx("option",{value:D.id,children:D.name},D.id))]}),r.jsx("button",{type:"button",onClick:()=>b(!j),className:"btn btn-secondary px-3",title:"Crer un groupe",children:r.jsx(qD,{className:"w-4 h-4"})})]}),r.jsx(re,{children:j&&r.jsx(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:r.jsxs("div",{className:"mt-3 p-3 bg-surface-800/50 rounded-lg border border-surface-700 space-y-3",children:[r.jsx("p",{className:"text-sm font-medium text-surface-300",children:"Nouveau groupe"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:y,onChange:D=>p(D.target.value),placeholder:"Nom du groupe",className:"input flex-1"}),r.jsx("input",{type:"color",value:g,onChange:D=>N(D.target.value),className:"w-10 h-10 rounded-lg cursor-pointer border-0 bg-transparent"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{type:"button",onClick:()=>{b(!1),p("")},className:"btn btn-ghost text-sm flex-1",children:"Annuler"}),r.jsxs("button",{type:"button",onClick:S,disabled:!y.trim(),className:"btn btn-primary text-sm flex-1",children:[r.jsx(ie,{className:"w-4 h-4"}),"Crer"]})]})]})})})]}),a.length>0&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-sm font-medium text-surface-400 uppercase tracking-wider",children:"Proprits"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(D=>{const C=fy[D.type]||Vo;return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-surface-300",children:[r.jsx(C,{className:"w-4 h-4 text-surface-500"}),D.title]}),w(D)]},D.id)})})]})]}),r.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-surface-700 bg-surface-800/50",children:[r.jsxs("button",{type:"button",onClick:P,className:"btn btn-ghost text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[r.jsx(Qe,{className:"w-4 h-4"}),r.jsx("span",{children:"Supprimer"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),r.jsx("button",{type:"button",onClick:R,disabled:f||!E.name.trim(),className:"btn btn-primary",children:f?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(uo,{className:"w-4 h-4"}),r.jsx("span",{children:"Enregistrer"})]})})]})]})]})})})}function I6(){var S;const{currentBoard:e,columns:t,groups:s,items:n,selectedItems:a,toggleItemSelection:i,selectAllItems:o,clearSelection:l,toggleGroupCollapse:c,addItem:u,deleteItem:d}=pe(),[f,m]=v.useState(null),[x,h]=v.useState({}),[j,b]=v.useState({}),[y,p]=v.useState(null),g=v.useRef(null);v.useEffect(()=>{const w=D=>{g.current&&!g.current.contains(D.target)&&m(null)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const N=v.useMemo(()=>{const w={};return s.forEach(D=>{w[D.id]=n.filter(C=>C.groupId===D.id).sort((C,U)=>C.position-U.position)}),w.ungrouped=n.filter(D=>!D.groupId).sort((D,C)=>D.position-C.position),w},[s,n]),E=async w=>{const D=x[w];if(D!=null&&D.trim())try{const C=await we.create({boardId:e.id,groupId:w!=="ungrouped"?w:null,name:D.trim()});u(C.data),h({...x,[w]:""}),b({...j,[w]:!1})}catch{V.error("Erreur lors de la cration")}},T=async w=>{try{await we.delete(w),d(w),V.success("Item supprim")}catch{V.error("Erreur lors de la suppression")}m(null)},k=async w=>{try{const D=await we.duplicate(w);u(D.data),V.success("Item dupliqu")}catch{V.error("Erreur lors de la duplication")}m(null)},M=t.filter(w=>w.isVisible!==!1),R=(w,D)=>r.jsxs("div",{className:"board-row flex items-center group hover:bg-surface-800/30",children:[r.jsx("div",{className:"w-10 flex-shrink-0 flex items-center justify-center",children:r.jsx(bN,{className:"w-4 h-4 text-surface-600 cursor-grab opacity-0 group-hover:opacity-100 transition-opacity"})}),r.jsx("div",{className:"w-8 flex-shrink-0 flex items-center justify-center",children:r.jsx("input",{type:"checkbox",checked:a.includes(w.id),onChange:()=>i(w.id),onClick:C=>C.stopPropagation(),className:"w-4 h-4 rounded border-surface-600 bg-surface-800 text-primary-500 focus:ring-primary-500 cursor-pointer"})}),r.jsx("div",{className:"flex-1 min-w-[200px] board-cell font-medium text-surface-200 cursor-pointer hover:text-primary-400 transition-colors truncate",onClick:()=>p(w),children:w.name}),M.map(C=>{var U;return r.jsx("div",{className:"board-cell flex-shrink-0",style:{width:C.width||150},children:r.jsx(L6,{item:w,column:C,value:(U=w.values)==null?void 0:U[C.id]})},C.id)}),r.jsx("div",{className:"w-12 flex-shrink-0 flex items-center justify-center",ref:f===w.id?g:null,children:r.jsx("button",{onClick:C=>{C.stopPropagation(),m(f===w.id?null:w.id)},className:"p-1.5 rounded-lg hover:bg-surface-700 text-surface-500 opacity-0 group-hover:opacity-100 transition-all",children:r.jsx(ji,{className:"w-4 h-4"})})})]},w.id),P=w=>{var D,C;return f!==w.id?null:r.jsxs("div",{className:"fixed z-50 bg-surface-800 border border-surface-700 rounded-xl shadow-xl py-2 min-w-[160px]",style:{top:((D=g.current)==null?void 0:D.getBoundingClientRect().bottom)+4||30,right:((C=g.current)==null?void 0:C.getBoundingClientRect().right)||30},children:[r.jsxs("button",{onClick:()=>{p(w),m(null)},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-surface-300 hover:bg-surface-700 hover:text-surface-100 transition-colors",children:[r.jsx(ci,{className:"w-4 h-4"}),r.jsx("span",{children:"Modifier"})]}),r.jsxs("button",{onClick:()=>k(w.id),className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-surface-300 hover:bg-surface-700 hover:text-surface-100 transition-colors",children:[r.jsx(BD,{className:"w-4 h-4"}),r.jsx("span",{children:"Dupliquer"})]}),r.jsx("div",{className:"border-t border-surface-700 my-1"}),r.jsxs("button",{onClick:()=>T(w.id),className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-colors",children:[r.jsx(Qe,{className:"w-4 h-4"}),r.jsx("span",{children:"Supprimer"})]})]})};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"card p-0 overflow-hidden flex flex-col h-full",children:r.jsx("div",{className:"overflow-x-auto flex-1",children:r.jsxs("div",{className:"min-w-max",children:[r.jsxs("div",{className:"board-header flex border-b border-surface-700 sticky top-0 bg-surface-900 z-10",children:[r.jsx("div",{className:"w-10 flex-shrink-0"}),r.jsx("div",{className:"w-8 flex-shrink-0 flex items-center justify-center",children:r.jsx("input",{type:"checkbox",onChange:w=>w.target.checked?o():l(),checked:a.length===n.length&&n.length>0,className:"w-4 h-4 rounded border-surface-600 bg-surface-800 text-primary-500 focus:ring-primary-500 cursor-pointer"})}),r.jsx("div",{className:"flex-1 min-w-[200px] board-header-cell font-semibold",children:"Item"}),M.map(w=>r.jsx("div",{className:"board-header-cell flex-shrink-0 font-semibold",style:{width:w.width||150},children:w.title},w.id)),r.jsx("div",{className:"w-12 flex-shrink-0"})]}),s.map(w=>{var D,C;return r.jsxs("div",{className:"border-b border-surface-800 last:border-0",children:[r.jsxs("button",{onClick:()=>c(w.id),className:"group-header w-full flex items-center gap-3 px-4 py-3 hover:bg-surface-800/30 transition-colors",style:{borderLeftColor:w.color,borderLeftWidth:4},children:[w.isCollapsed?r.jsx(Ws,{className:"w-5 h-5 text-surface-500"}):r.jsx(yr,{className:"w-5 h-5 text-surface-500"}),r.jsx("span",{className:"font-semibold text-surface-200",children:w.name}),r.jsx("span",{className:"text-sm text-surface-500 bg-surface-800 px-2 py-0.5 rounded-full",children:((D=N[w.id])==null?void 0:D.length)||0})]}),r.jsx(re,{children:!w.isCollapsed&&r.jsxs(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:[(C=N[w.id])==null?void 0:C.map(U=>R(U,w.id)),r.jsxs("div",{className:"flex items-center px-4 py-2 border-t border-surface-800/50",children:[r.jsx("div",{className:"w-10 flex-shrink-0"}),r.jsx("div",{className:"w-8 flex-shrink-0"}),j[w.id]?r.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[r.jsx("input",{type:"text",placeholder:"Nom de l'item...",value:x[w.id]||"",onChange:U=>h({...x,[w.id]:U.target.value}),onKeyDown:U=>{U.key==="Enter"&&E(w.id),U.key==="Escape"&&b({...j,[w.id]:!1})},autoFocus:!0,className:"flex-1 bg-surface-800 border border-surface-700 rounded-lg px-3 py-1.5 text-sm text-surface-200 placeholder-surface-500 focus:outline-none focus:border-primary-500"}),r.jsx("button",{onClick:()=>E(w.id),className:"btn btn-primary py-1.5 px-3 text-sm",children:"Ajouter"}),r.jsx("button",{onClick:()=>b({...j,[w.id]:!1}),className:"p-1.5 hover:bg-surface-700 rounded-lg text-surface-500",children:r.jsx(fe,{className:"w-4 h-4"})})]}):r.jsxs("button",{onClick:()=>b({...j,[w.id]:!0}),className:"flex items-center gap-2 text-sm text-surface-500 hover:text-primary-400 transition-colors",children:[r.jsx(ie,{className:"w-4 h-4"}),r.jsx("span",{children:"Ajouter un item"})]})]})]})})]},w.id)}),((S=N.ungrouped)==null?void 0:S.length)>0&&r.jsxs("div",{className:"border-t border-surface-700",children:[r.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-surface-800/20",children:[r.jsx("span",{className:"font-semibold text-surface-400",children:"Sans groupe"}),r.jsx("span",{className:"text-sm text-surface-500 bg-surface-800 px-2 py-0.5 rounded-full",children:N.ungrouped.length})]}),N.ungrouped.map(w=>R(w))]}),n.length===0&&r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[r.jsx("p",{className:"text-surface-400 mb-2",children:"Aucun item dans ce tableau"}),r.jsx("p",{className:"text-sm text-surface-500",children:'Cliquez sur "Ajouter un item" pour commencer'})]})]})})}),f&&n.find(w=>w.id===f)&&P(n.find(w=>w.id===f)),r.jsx(Pp,{isOpen:!!y,onClose:()=>p(null),item:y,workspaceId:e==null?void 0:e.workspaceId})]})}function _6({isOpen:e,onClose:t,boardId:s}){const n=pe(f=>f.addColumn),[a,i]=v.useState(!1),[o,l]=v.useState({title:"",type:"text"}),{data:c}=Vs({queryKey:["columnTypes"],queryFn:async()=>(await z0.getTypes()).data,enabled:e}),u=async f=>{if(f.preventDefault(),!(!o.title.trim()||!s)){i(!0);try{const m=await z0.create({boardId:s,title:o.title.trim(),type:o.type});n(m.data),V.success("Colonne cre avec succs"),t(),l({title:"",type:"text"})}catch{V.error("Erreur lors de la cration")}finally{i(!1)}}};if(!e)return null;const d={text:" Texte",status:" Statut",person:" Personne",date:" Date",number:" Nombre",dropdown:" Liste droulante",checkbox:" Case  cocher",timeline:" Timeline",files:" Fichiers",link:" Lien",email:" Email",phone:" Tlphone",rating:" Note",tags:" Tags",priority:" Priorit",progress:" Progression"};return r.jsx(re,{children:r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:r.jsxs(F.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content max-w-md",onClick:f=>f.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-600/20 flex items-center justify-center",children:r.jsx(VD,{className:"w-5 h-5 text-primary-400"})}),r.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Ajouter une colonne"})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Titre de la colonne"}),r.jsx("input",{type:"text",value:o.title,onChange:f=>l({...o,title:f.target.value}),placeholder:"Ma colonne",className:"input",required:!0,autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Type de colonne"}),r.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-64 overflow-y-auto",children:c==null?void 0:c.map(f=>r.jsx("button",{type:"button",onClick:()=>l({...o,type:f.name}),className:`p-3 rounded-xl text-left text-sm transition-all ${o.type===f.name?"bg-primary-600/20 border-2 border-primary-500 text-primary-300":"bg-surface-800 border-2 border-transparent hover:border-surface-600 text-surface-300"}`,children:d[f.name]||f.name},f.name))})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),r.jsx("button",{type:"submit",disabled:a||!o.title.trim(),className:"btn btn-primary",children:a?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Ajouter"})]})]})]})})})}const F6={status_changed:qt,item_created:ie,date_arrived:Ze,column_changed:di,person_assigned:Le},$6={change_status:qt,assign_person:Le,notify_person:or,notify_owner:or,set_date:Ze,move_to_group:tt,create_item:ie,send_email:or};function V6({boardId:e,onClose:t}){const[s,n]=v.useState([]),[a,i]=v.useState([]),[o,l]=v.useState({}),[c,u]=v.useState({}),[d,f]=v.useState(!0),[m,x]=v.useState(!1),[h,j]=v.useState(null);v.useEffect(()=>{b()},[e]);const b=async()=>{try{const[N,E]=await Promise.all([Hi.getByBoard(e),Hi.getTemplates()]);n(N.data),i(E.data.templates),l(E.data.triggers),u(E.data.actions)}catch(N){console.error("Error loading automations:",N),V.error("Erreur de chargement")}finally{f(!1)}},y=async N=>{try{const{data:E}=await Hi.toggle(N);n(T=>T.map(k=>k.id===N?{...k,isActive:E.isActive}:k)),V.success(E.isActive?"Automation active":"Automation dsactive")}catch{V.error("Erreur")}},p=async N=>{if(confirm("Supprimer cette automation ?"))try{await Hi.delete(N),n(E=>E.filter(T=>T.id!==N)),V.success("Automation supprime")}catch{V.error("Erreur")}},g=async N=>{j(N),x(!0)};return r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t,children:r.jsxs(F.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-surface-900 rounded-2xl w-full max-w-4xl shadow-2xl max-h-[90vh] overflow-hidden flex flex-col",onClick:N=>N.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-500/20 flex items-center justify-center",children:r.jsx(Vt,{className:"w-5 h-5 text-primary-400"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:"Automatisations"}),r.jsxs("p",{className:"text-sm text-surface-400",children:[s.length," automation",s.length!==1&&"s"," configure",s.length!==1&&"s"]})]})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:d?r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):r.jsxs(r.Fragment,{children:[s.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-surface-300 mb-3",children:"Automations actives"}),r.jsx("div",{className:"space-y-2",children:s.map(N=>{var k,M;const E=F6[N.trigger]||Vt,T=$6[N.action]||Ue;return r.jsx("div",{className:`p-4 rounded-xl border transition-colors ${N.isActive?"bg-surface-800/50 border-surface-700":"bg-surface-900 border-surface-800 opacity-60"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${N.isActive?"bg-primary-500/20 text-primary-400":"bg-surface-700 text-surface-400"}`,children:r.jsx(Vt,{className:"w-4 h-4"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium text-surface-100",children:N.name}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-surface-400",children:[r.jsx(E,{className:"w-3 h-3"}),r.jsx("span",{children:((k=o[N.trigger])==null?void 0:k.name)||N.trigger}),r.jsx(Ws,{className:"w-3 h-3"}),r.jsx(T,{className:"w-3 h-3"}),r.jsx("span",{children:((M=c[N.action])==null?void 0:M.name)||N.action})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[N.executionCount>0&&r.jsxs("span",{className:"text-xs text-surface-500",children:[N.executionCount," excution",N.executionCount>1&&"s"]}),r.jsx("button",{onClick:()=>y(N.id),className:`p-2 rounded-lg transition-colors ${N.isActive?"bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30":"bg-surface-700 text-surface-400 hover:bg-surface-600"}`,title:N.isActive?"Dsactiver":"Activer",children:N.isActive?r.jsx(Da,{className:"w-4 h-4"}):r.jsx(CN,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>p(N.id),className:"p-2 rounded-lg bg-surface-700 text-surface-400 hover:bg-red-500/20 hover:text-red-400 transition-colors",children:r.jsx(Qe,{className:"w-4 h-4"})})]})]})},N.id)})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-surface-300 mb-3",children:"Ajouter une automation"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:a.map(N=>r.jsx("button",{onClick:()=>g(N),className:"p-4 rounded-xl bg-surface-800/50 border border-surface-700 hover:border-primary-500/50 hover:bg-surface-800 transition-colors text-left group",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"text-2xl",children:N.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-surface-100 group-hover:text-primary-400 transition-colors",children:N.name}),r.jsx("p",{className:"text-sm text-surface-400 mt-1",children:N.description})]}),r.jsx(ie,{className:"w-5 h-5 text-surface-500 group-hover:text-primary-400 transition-colors"})]})},N.id))})]}),s.length===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Vt,{className:"w-12 h-12 text-surface-600 mx-auto mb-3"}),r.jsx("p",{className:"text-surface-400",children:"Aucune automation configure. Choisissez un template ci-dessus pour commencer."})]})]})}),r.jsx(re,{children:m&&h&&r.jsx(B6,{boardId:e,template:h,triggers:o,actions:c,onClose:()=>{x(!1),j(null)},onCreated:N=>{n(E=>[N,...E]),x(!1),j(null)}})})]})})}function B6({boardId:e,template:t,triggers:s,actions:n,onClose:a,onCreated:i}){const[o,l]=v.useState({name:t.name,description:t.description,trigger:t.trigger,action:t.action,triggerConfig:{},actionConfig:{}}),[c,u]=v.useState(!1),d=async f=>{f.preventDefault(),u(!0);try{const{data:m}=await Hi.create({boardId:e,...o});i({id:m.id,name:o.name,description:o.description,trigger:o.trigger,action:o.action,isActive:!0,executionCount:0}),V.success("Automation cre")}catch(m){console.error("Error creating automation:",m),V.error("Erreur")}finally{u(!1)}};return r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[60] p-4",onClick:a,children:r.jsxs(F.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-surface-900 rounded-2xl w-full max-w-lg shadow-2xl",onClick:f=>f.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:t.icon}),r.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Nouvelle automation"})]}),r.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom"}),r.jsx("input",{type:"text",value:o.name,onChange:f=>l({...o,name:f.target.value}),className:"input w-full",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),r.jsx("textarea",{value:o.description,onChange:f=>l({...o,description:f.target.value}),className:"input w-full h-20 resize-none"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Dclencheur"}),r.jsx("select",{value:o.trigger,onChange:f=>l({...o,trigger:f.target.value}),className:"input w-full",children:Object.entries(s).map(([f,m])=>r.jsx("option",{value:f,children:m.name},f))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Action"}),r.jsx("select",{value:o.action,onChange:f=>l({...o,action:f.target.value}),className:"input w-full",children:Object.entries(n).map(([f,m])=>r.jsx("option",{value:f,children:m.name},f))})]})]}),o.trigger==="status_changed"&&r.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-xl space-y-3",children:[r.jsx("p",{className:"text-sm text-surface-400",children:"Configuration du dclencheur"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-surface-400 mb-1",children:"Statut source (optionnel)"}),r.jsx("input",{type:"text",value:o.triggerConfig.fromStatus||"",onChange:f=>l({...o,triggerConfig:{...o.triggerConfig,fromStatus:f.target.value}}),className:"input w-full text-sm",placeholder:"Ex: En cours"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-surface-400 mb-1",children:"Statut cible"}),r.jsx("input",{type:"text",value:o.triggerConfig.toStatus||"",onChange:f=>l({...o,triggerConfig:{...o.triggerConfig,toStatus:f.target.value}}),className:"input w-full text-sm",placeholder:"Ex: Termin"})]})]})]}),(o.action==="notify_owner"||o.action==="notify_person")&&r.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-xl",children:[r.jsx("label",{className:"block text-xs text-surface-400 mb-1",children:"Message de notification"}),r.jsx("input",{type:"text",value:o.actionConfig.message||"",onChange:f=>l({...o,actionConfig:{...o.actionConfig,message:f.target.value}}),className:"input w-full text-sm",placeholder:"Ex: L'item a t mis  jour"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:a,className:"btn-secondary flex-1",children:"Annuler"}),r.jsx("button",{type:"submit",disabled:c||!o.name,className:"btn-primary flex-1",children:c?"Cration...":"Crer"})]})]})]})})}const z6=[{id:"table",label:"Tableau",icon:lT},{id:"kanban",label:"Kanban",icon:KD},{id:"calendar",label:"Calendrier",icon:Ze},{id:"timeline",label:"Timeline",icon:WD},{id:"chart",label:"Graphiques",icon:on}];function U6(){var z,Q;const{currentBoard:e,activeView:t,setActiveView:s,selectedItems:n,clearSelection:a,deleteItems:i,columns:o,setFilter:l,filter:c}=pe(),[u,d]=v.useState(!1),[f,m]=v.useState(!1),[x,h]=v.useState(!1),[j,b]=v.useState(!1),[y,p]=v.useState(!1),[g,N]=v.useState(""),[E,T]=v.useState(""),[k,M]=v.useState(""),R=v.useRef(null),P=v.useRef(null);v.useEffect(()=>{const I=X=>{R.current&&!R.current.contains(X.target)&&m(!1),P.current&&!P.current.contains(X.target)&&b(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]),v.useEffect(()=>{l&&l({searchTerm:g,status:E,priority:k})},[g,E,k,l]);const S=g||E||k,w=()=>{N(""),T(""),M("")},D=o==null?void 0:o.find(I=>I.type==="status"),C=o==null?void 0:o.find(I=>I.type==="priority"),U=((z=D==null?void 0:D.config)==null?void 0:z.options)||[{value:"todo",label:" faire",color:"#6b7280"},{value:"in_progress",label:"En cours",color:"#f59e0b"},{value:"done",label:"Termin",color:"#10b981"}],W=((Q=C==null?void 0:C.config)==null?void 0:Q.options)||[{value:"low",label:"Basse",color:"#6b7280"},{value:"medium",label:"Moyenne",color:"#f59e0b"},{value:"high",label:"Haute",color:"#ef4444"},{value:"critical",label:"Critique",color:"#dc2626"}],B=async()=>{if(confirm(`tes-vous sr de vouloir supprimer ${n.length} item(s) ?`))try{await we.batchDelete(n),i(n),a(),V.success(`${n.length} item(s) supprim(s)`)}catch{V.error("Erreur lors de la suppression")}},_=async I=>{if(!(!(e!=null&&e.id)||y)){p(!0),m(!1);try{if(I==="csv"){const X=await Dd.board(e.id,"csv"),te=new Blob([X.data],{type:"text/csv;charset=utf-8;"});H(te,`${e.name}.csv`),V.success("Export CSV tlcharg")}else if(I==="excel"){const{data:X}=await Dd.board(e.id,"json"),te=L(X.items),ee=new Blob(["\uFEFF"+te],{type:"application/vnd.ms-excel;charset=utf-8;"});H(ee,`${e.name}.xls`),V.success("Export Excel tlcharg")}else if(I==="json"){const{data:X}=await Dd.board(e.id,"json"),te=new Blob([JSON.stringify(X,null,2)],{type:"application/json"});H(te,`${e.name}.json`),V.success("Export JSON tlcharg")}}catch(X){console.error("Export error:",X),V.error("Erreur lors de l'export")}finally{p(!1)}}},H=(I,X)=>{const te=window.URL.createObjectURL(I),ee=document.createElement("a");ee.href=te,ee.download=X,document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),window.URL.revokeObjectURL(te)},L=I=>{if(!I||I.length===0)return"";const X=Object.keys(I[0]),te=[X.join(",")];return I.forEach(ee=>{const de=X.map(xn=>`"${(ee[xn]||"").toString().replace(/"/g,'""')}"`);te.push(de.join(","))}),te.join(`
`)};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-1 p-1 bg-surface-800/50 rounded-xl",children:z6.map(I=>r.jsxs("button",{onClick:()=>s(I.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${t===I.id?"bg-surface-700 text-surface-100":"text-surface-400 hover:text-surface-200"}`,children:[r.jsx(I.icon,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:I.label})]},I.id))}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-surface-400"}),r.jsx("input",{type:"text",value:g,onChange:I=>N(I.target.value),placeholder:"Rechercher...",className:"pl-9 pr-4 py-2 bg-surface-800/50 border border-surface-700 rounded-lg text-sm text-surface-200 placeholder-surface-500 focus:border-primary-500 focus:outline-none w-40 md:w-56"})]}),r.jsxs("div",{className:"relative",ref:P,children:[r.jsxs("button",{onClick:()=>b(!j),className:`btn btn-ghost ${S?"text-primary-400 bg-primary-500/10":""}`,children:[r.jsx(yp,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Filtres"}),S&&r.jsx("span",{className:"w-5 h-5 rounded-full bg-primary-500 text-white text-xs flex items-center justify-center",children:[g,E,k].filter(Boolean).length})]}),r.jsx(re,{children:j&&r.jsxs(F.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 top-full mt-2 w-72 bg-surface-800 border border-surface-700 rounded-xl shadow-xl z-50 p-4 space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-medium text-surface-200",children:"Filtres avancs"}),S&&r.jsx("button",{onClick:w,className:"text-xs text-primary-400 hover:text-primary-300",children:"Rinitialiser"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-surface-400 mb-1",children:"Statut"}),r.jsxs("select",{value:E,onChange:I=>T(I.target.value),className:"input w-full text-sm",children:[r.jsx("option",{value:"",children:"Tous les statuts"}),U.map(I=>r.jsx("option",{value:I.value,children:I.label},I.value))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs text-surface-400 mb-1",children:"Priorit"}),r.jsxs("select",{value:k,onChange:I=>M(I.target.value),className:"input w-full text-sm",children:[r.jsx("option",{value:"",children:"Toutes les priorits"}),W.map(I=>r.jsx("option",{value:I.value,children:I.label},I.value))]})]})]})})]}),r.jsxs("button",{onClick:()=>h(!0),className:"btn btn-ghost",children:[r.jsx(Vt,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Automations"})]}),n.length>0&&r.jsxs(F.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center gap-2 px-4 py-2 bg-surface-800 rounded-xl",children:[r.jsxs("span",{className:"text-sm text-surface-300",children:[n.length," slectionn(s)"]}),r.jsx("button",{onClick:B,className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:r.jsx(Qe,{className:"w-4 h-4"})}),r.jsx("button",{onClick:a,className:"text-sm text-surface-400 hover:text-surface-200",children:"Annuler"})]}),r.jsxs("div",{className:"relative",ref:R,children:[r.jsxs("button",{onClick:()=>m(!f),disabled:y,className:"btn btn-ghost",children:[y?r.jsx("div",{className:"w-4 h-4 border-2 border-surface-400 border-t-transparent rounded-full animate-spin"}):r.jsx(jN,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Exporter"}),r.jsx(yr,{className:"w-4 h-4"})]}),r.jsx(re,{children:f&&r.jsxs(F.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 top-full mt-2 w-48 bg-surface-800 border border-surface-700 rounded-xl shadow-xl z-50 overflow-hidden",children:[r.jsxs("button",{onClick:()=>_("csv"),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-surface-700 transition-colors text-left",children:[r.jsx(gs,{className:"w-4 h-4 text-green-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-surface-200 text-sm font-medium",children:"CSV"}),r.jsx("p",{className:"text-surface-500 text-xs",children:"Format universel"})]})]}),r.jsxs("button",{onClick:()=>_("excel"),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-surface-700 transition-colors text-left",children:[r.jsx(co,{className:"w-4 h-4 text-emerald-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-surface-200 text-sm font-medium",children:"Excel"}),r.jsx("p",{className:"text-surface-500 text-xs",children:"Compatible Microsoft Excel"})]})]}),r.jsxs("button",{onClick:()=>_("json"),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-surface-700 transition-colors text-left",children:[r.jsx(gs,{className:"w-4 h-4 text-blue-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-surface-200 text-sm font-medium",children:"JSON"}),r.jsx("p",{className:"text-surface-500 text-xs",children:"Donnes brutes"})]})]})]})})]}),r.jsxs("button",{onClick:()=>d(!0),className:"btn btn-secondary",children:[r.jsx(ie,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Colonne"})]})]})]}),r.jsx(_6,{isOpen:u,onClose:()=>d(!1),boardId:e==null?void 0:e.id}),r.jsx(re,{children:x&&(e==null?void 0:e.id)&&r.jsx(V6,{boardId:e.id,onClose:()=>h(!1)})})]})}function q6(){const{currentBoard:e,columns:t,groups:s,items:n,addItem:a,updateItemValue:i,deleteItem:o}=pe(),[l,c]=v.useState({}),[u,d]=v.useState({}),[f,m]=v.useState(null),[x,h]=v.useState(null),[j,b]=v.useState([]),[y,p]=v.useState(null);v.useEffect(()=>{(async()=>{if(e!=null&&e.workspaceId)try{const C=await vt.getByWorkspace(e.workspaceId);b(C.data||[])}catch(C){console.error("Failed to load members:",C)}})()},[e==null?void 0:e.workspaceId]);const g=D=>{var U;const C=j.find(W=>W.id===D);return C?`${C.firstName||""} ${C.lastName||""}`.trim()||((U=C.email)==null?void 0:U.split("@")[0])||"Membre":null},N=(D,C)=>{if(!C)return null;switch(D.type){case"person":{let U=[];if(Array.isArray(C)?U=C:typeof C=="string"?U=[C]:C!=null&&C.userIds&&(U=Array.isArray(C.userIds)?C.userIds:[C.userIds]),U.length===0)return null;const W=U.map(B=>g(B)).filter(Boolean);return W.length===0?null:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ls,{className:"w-3 h-3 text-primary-400"}),r.jsx("span",{className:"text-surface-200 truncate font-medium",children:W.join(", ")})]})}case"date":{const U=typeof C=="object"?C==null?void 0:C.date:C;if(!U)return null;const W=new Date(U);return bp(W)?r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ze,{className:"w-3 h-3 text-surface-500"}),r.jsx("span",{className:"text-surface-300",children:As(W,"d MMM",{locale:xr})})]}):null}case"progress":{const U=typeof C=="object"?(C==null?void 0:C.progress)??0:parseInt(C)||0,W=U>=100?"#22c55e":U>=50?"#eab308":"#ef4444";return r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-12 h-1.5 bg-surface-700 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${U}%`,backgroundColor:W}})}),r.jsxs("span",{className:"text-surface-400 text-[10px]",children:[U,"%"]})]})}case"priority":{const W=(D.labels||[]).find(B=>B.id===C||B.name===C);return W?r.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium",style:{backgroundColor:`${W.color}20`,color:W.color},children:W.name||W.label}):r.jsx("span",{className:"text-surface-400",children:String(C)})}default:return typeof C=="object"?null:r.jsx("span",{className:"text-surface-400 truncate",children:String(C)})}},E=v.useMemo(()=>t.find(D=>D.type==="status")||t[0],[t]),T=v.useMemo(()=>{var D;return((D=E==null?void 0:E.labels)==null?void 0:D.length)>0?E.labels:[{id:"todo",name:" faire",color:"#6b7280"},{id:"in_progress",name:"En cours",color:"#3b82f6"},{id:"done",name:"Termin",color:"#10b981"}]},[E]),k=v.useMemo(()=>{const D={};return T.forEach(C=>{D[C.id]=n.filter(U=>{var B,_;const W=(B=U.values)==null?void 0:B[E==null?void 0:E.id];return W===C.id||!W&&C.id===((_=T[0])==null?void 0:_.id)})}),D},[n,E,T]),M=async D=>{const C=l[D];if(C!=null&&C.trim())try{const U=await we.create({boardId:e.id,name:C.trim()});E&&await we.updateValue(U.data.id,E.id,D),a({...U.data,values:{[E==null?void 0:E.id]:D}}),c({...l,[D]:""}),d({...u,[D]:!1})}catch{V.error("Erreur lors de la cration")}},R=(D,C)=>{h(C),D.dataTransfer.effectAllowed="move"},P=D=>{D.preventDefault(),D.dataTransfer.dropEffect="move"},S=async(D,C)=>{if(D.preventDefault(),!(!x||!E)){try{await we.updateValue(x.id,E.id,C),i(x.id,E.id,C),V.success("Statut mis  jour")}catch{V.error("Erreur")}h(null)}},w=async D=>{try{await we.delete(D),o(D),V.success("Item supprim")}catch{V.error("Erreur")}m(null)};return E?r.jsxs("div",{className:"flex gap-4 h-full overflow-x-auto pb-4",children:[T.map(D=>{var C,U;return r.jsxs("div",{className:"flex-shrink-0 w-72 flex flex-col bg-surface-800/30 rounded-xl",onDragOver:P,onDrop:W=>S(W,D.id),children:[r.jsx("div",{className:"p-3 border-b border-surface-700/50",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:D.color||"#6b7280"}}),r.jsx("span",{className:"font-medium text-surface-200 text-sm",children:D.name||D.label||"Sans nom"}),r.jsx("span",{className:"text-sm text-surface-500",children:((C=k[D.id])==null?void 0:C.length)||0})]})})}),r.jsxs("div",{className:"flex-1 p-2 space-y-2 overflow-y-auto min-h-[200px]",children:[r.jsx(re,{children:(U=k[D.id])==null?void 0:U.map(W=>r.jsx(F.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},draggable:!0,onDragStart:B=>R(B,W),className:`group p-3 bg-surface-800 rounded-lg border border-surface-700 cursor-grab hover:border-surface-600 transition-colors ${(x==null?void 0:x.id)===W.id?"opacity-50":""}`,children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(bN,{className:"w-4 h-4 text-surface-600 mt-0.5 opacity-0 group-hover:opacity-100 transition-opacity"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-surface-200 text-sm hover:text-primary-400 cursor-pointer transition-colors",onClick:()=>p(W),children:W.name}),r.jsx("div",{className:"mt-2 space-y-1.5",children:t.filter(B=>B.id!==E.id&&B.type!=="status").slice(0,3).map(B=>{var L;const _=(L=W.values)==null?void 0:L[B.id],H=N(B,_);return H?r.jsx("div",{className:"text-xs",children:H},B.id):null})})]}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>m(f===W.id?null:W.id),className:"p-1 rounded hover:bg-surface-700 text-surface-500 opacity-0 group-hover:opacity-100 transition-all",children:r.jsx(ji,{className:"w-4 h-4"})}),f===W.id&&r.jsxs("div",{className:"absolute right-0 top-6 z-10 bg-surface-800 border border-surface-700 rounded-lg shadow-lg py-1 min-w-[120px]",children:[r.jsxs("button",{onClick:()=>{p(W),m(null)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-surface-300 hover:bg-surface-700",children:[r.jsx(ci,{className:"w-4 h-4"}),"Modifier"]}),r.jsxs("button",{onClick:()=>w(W.id),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-400 hover:bg-surface-700",children:[r.jsx(Qe,{className:"w-4 h-4"}),"Supprimer"]})]})]})]})},W.id))}),x&&r.jsx("div",{className:"h-16 border-2 border-dashed border-primary-500/30 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-sm text-primary-400",children:"Dposer ici"})})]}),r.jsx("div",{className:"p-2 border-t border-surface-700/50",children:u[D.id]?r.jsxs("div",{className:"space-y-2",children:[r.jsx("input",{type:"text",placeholder:"Nom de l'item...",value:l[D.id]||"",onChange:W=>c({...l,[D.id]:W.target.value}),onKeyDown:W=>{W.key==="Enter"&&M(D.id),W.key==="Escape"&&d({...u,[D.id]:!1})},autoFocus:!0,className:"w-full px-3 py-2 bg-surface-700 border border-surface-600 rounded-lg text-sm text-surface-200 focus:outline-none focus:border-primary-500"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>M(D.id),className:"flex-1 px-3 py-1.5 bg-primary-500 text-white rounded-lg text-sm font-medium hover:bg-primary-400",children:"Ajouter"}),r.jsx("button",{onClick:()=>d({...u,[D.id]:!1}),className:"px-3 py-1.5 text-surface-400 hover:text-surface-200 text-sm",children:"Annuler"})]})]}):r.jsxs("button",{onClick:()=>d({...u,[D.id]:!0}),className:"w-full flex items-center justify-center gap-2 py-2 text-sm text-surface-500 hover:text-surface-300 hover:bg-surface-700/50 rounded-lg transition-colors",children:[r.jsx(ie,{className:"w-4 h-4"}),"Ajouter un item"]})})]},D.id)}),r.jsx(Pp,{isOpen:!!y,onClose:()=>p(null),item:y,workspaceId:e==null?void 0:e.workspaceId})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[r.jsx("p",{className:"text-surface-400 mb-4",children:'Ajoutez une colonne "Statut" pour utiliser la vue Kanban'}),r.jsx("p",{className:"text-sm text-surface-500",children:"La vue Kanban utilise une colonne de type Statut pour organiser les items"})]})}const W6=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],H6=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"];function K6(){const{currentBoard:e,columns:t,items:s}=pe(),[n,a]=v.useState(new Date),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(null),[x,h]=v.useState([]);v.useEffect(()=>{(async()=>{if(e!=null&&e.workspaceId)try{const _=await vt.getByWorkspace(e.workspaceId);h(_.data||[])}catch(_){console.error("Failed to load members:",_)}})()},[e==null?void 0:e.workspaceId]);const{startDateColumn:j,endDateColumn:b,dateColumns:y}=v.useMemo(()=>{const B=t.filter(L=>L.type==="date"||L.type==="timeline"),_=B.find(L=>L.title.toLowerCase().includes("dbut")||L.title.toLowerCase().includes("start")||L.title.toLowerCase().includes("lancement")||L.title.toLowerCase().includes("cration"))||B[0],H=B.find(L=>L.title.toLowerCase().includes("fin")||L.title.toLowerCase().includes("end")||L.title.toLowerCase().includes("deadline")||L.title.toLowerCase().includes("chance")||L.title.toLowerCase().includes("limite"))||B[1]||B[0];return{startDateColumn:_,endDateColumn:H!==_?H:null,dateColumns:B}},[t]),p=v.useMemo(()=>s.map(B=>{var L,z;let _=null,H=null;if(j){const Q=(L=B.values)==null?void 0:L[j.id];if(Q){const I=new Date(typeof Q=="object"?Q.date:Q);isNaN(I.getTime())||(_=I)}}if(b){const Q=(z=B.values)==null?void 0:z[b.id];if(Q){const I=new Date(typeof Q=="object"?Q.date:Q);isNaN(I.getTime())||(H=I)}}return!H&&_&&(H=_),!_&&H&&(_=H),{...B,startDate:_,endDate:H,hasTimeline:_!==null&&H!==null,isRange:_&&H&&_.getTime()!==H.getTime()}}),[s,j,b]),g=v.useMemo(()=>p.filter(B=>B.hasTimeline),[p]),N=v.useMemo(()=>p.filter(B=>!B.hasTimeline),[p]),E=v.useMemo(()=>{const B=n.getFullYear(),_=n.getMonth(),H=new Date(B,_,1),L=new Date(B,_+1,0),z=(H.getDay()+6)%7,Q=L.getDate(),I=[],X=new Date(B,_,0);for(let ee=z-1;ee>=0;ee--)I.push({date:new Date(B,_-1,X.getDate()-ee),isCurrentMonth:!1});for(let ee=1;ee<=Q;ee++)I.push({date:new Date(B,_,ee),isCurrentMonth:!0});const te=42-I.length;for(let ee=1;ee<=te;ee++)I.push({date:new Date(B,_+1,ee),isCurrentMonth:!1});return I},[n]),T=(B,_)=>B.getDate()===_.getDate()&&B.getMonth()===_.getMonth()&&B.getFullYear()===_.getFullYear(),k=B=>g.filter(_=>{const H=_.startDate,L=_.endDate,z=new Date(B.getFullYear(),B.getMonth(),B.getDate());new Date(B.getFullYear(),B.getMonth(),B.getDate(),23,59,59);const Q=new Date(H.getFullYear(),H.getMonth(),H.getDate()),I=new Date(L.getFullYear(),L.getMonth(),L.getDate());return z>=Q&&z<=I}).map(_=>(new Date(_.startDate.getFullYear(),_.startDate.getMonth(),_.startDate.getDate()),new Date(_.endDate.getFullYear(),_.endDate.getMonth(),_.endDate.getDate()),new Date(B.getFullYear(),B.getMonth(),B.getDate()),{..._,isStart:T(_.startDate,B),isEnd:T(_.endDate,B),isMiddle:!T(_.startDate,B)&&!T(_.endDate,B),isSingleDay:T(_.startDate,_.endDate)})),M=B=>T(B,new Date),R=B=>{a(new Date(n.getFullYear(),n.getMonth()+B,1))},P=()=>{a(new Date)},S=(B,_)=>{_.stopPropagation();const H=s.find(L=>L.id===B.id);H&&(o(H),c(!0))},w=(B,_)=>{_.length>0&&(d(_),m(B))},D=()=>{d(null),m(null)},C=B=>{var z,Q;const _=t.find(I=>I.type==="status");if(!_)return"#6366f1";const H=(z=B.values)==null?void 0:z[_.id],L=(Q=_.labels)==null?void 0:Q.find(I=>I.id===H);return(L==null?void 0:L.color)||"#6366f1"},U=()=>t.find(B=>B.type==="person"),W=B=>{var z;const _=U();if(!_)return[];const H=(z=B.values)==null?void 0:z[_.id],L=Array.isArray(H)?H:(H==null?void 0:H.userIds)||[];return x.filter(Q=>L.includes(Q.id))};return y.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[r.jsx(Ze,{className:"w-12 h-12 text-surface-600 mb-4"}),r.jsx("p",{className:"text-surface-400 mb-2",children:'Ajoutez une colonne "Date" pour utiliser le calendrier'}),r.jsx("p",{className:"text-sm text-surface-500",children:"Le calendrier affiche les items ayant une date dfinie"})]}):r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("h2",{className:"text-xl font-semibold text-surface-100",children:[H6[n.getMonth()]," ",n.getFullYear()]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>R(-1),className:"p-2 hover:bg-surface-700 rounded-lg transition-colors",children:r.jsx(xp,{className:"w-5 h-5 text-surface-400"})}),r.jsx("button",{onClick:P,className:"px-3 py-1.5 text-sm text-surface-400 hover:text-surface-200 hover:bg-surface-700 rounded-lg transition-colors",children:"Aujourd'hui"}),r.jsx("button",{onClick:()=>R(1),className:"p-2 hover:bg-surface-700 rounded-lg transition-colors",children:r.jsx(Ws,{className:"w-5 h-5 text-surface-400"})})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 text-surface-500",children:[r.jsx(Da,{className:"w-3 h-3 text-green-500"}),r.jsx("span",{children:"Dbut"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-surface-500",children:[r.jsx(rs,{className:"w-3 h-3 text-red-500"}),r.jsx("span",{children:"Deadline"})]}),r.jsxs("span",{className:"text-surface-500",children:[g.length," item(s) planifi(s)"]}),N.length>0&&r.jsxs("span",{className:"text-amber-500",children:[N.length," sans date"]})]})]}),r.jsxs("div",{className:"flex-1 flex gap-4 overflow-hidden",children:[r.jsxs("div",{className:"flex-1 card p-0 overflow-hidden flex flex-col",children:[r.jsx("div",{className:"grid grid-cols-7 border-b border-surface-700",children:W6.map(B=>r.jsx("div",{className:"px-2 py-3 text-center text-sm font-medium text-surface-400 bg-surface-800/50",children:B},B))}),r.jsx("div",{className:"grid grid-cols-7 flex-1 auto-rows-fr",children:E.map((B,_)=>{const H=k(B.date),L=M(B.date);return r.jsxs("div",{onClick:()=>w(B.date,H),className:`min-h-[100px] border-b border-r border-surface-800 p-1 cursor-pointer hover:bg-surface-800/30 transition-colors ${B.isCurrentMonth?"":"bg-surface-900/50"}`,children:[r.jsx("div",{className:`flex items-center justify-center w-7 h-7 rounded-full text-sm mb-1 ${L?"bg-primary-500 text-white font-bold":B.isCurrentMonth?"text-surface-300":"text-surface-600"}`,children:B.date.getDate()}),r.jsxs("div",{className:"space-y-0.5",children:[H.slice(0,4).map(z=>{const Q=C(z);let I={};return z.isSingleDay?I={backgroundColor:`${Q}30`,borderLeft:`3px solid ${Q}`}:z.isStart?I={backgroundColor:`${Q}30`,borderLeft:`3px solid ${Q}`,borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px",marginRight:"-4px"}:z.isEnd?I={backgroundColor:`${Q}30`,borderRight:`3px solid ${Q}`,borderTopRightRadius:"4px",borderBottomRightRadius:"4px",marginLeft:"-4px"}:I={backgroundColor:`${Q}20`,marginLeft:"-4px",marginRight:"-4px"},r.jsx(F.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:X=>S(z,X),className:"px-1.5 py-0.5 text-xs cursor-pointer hover:opacity-80 transition-all relative overflow-hidden",style:I,children:r.jsxs("div",{className:"flex items-center gap-1 truncate",children:[z.isStart&&!z.isSingleDay&&r.jsx(Da,{className:"w-2.5 h-2.5 flex-shrink-0 text-green-400"}),z.isEnd&&!z.isSingleDay&&r.jsx(rs,{className:"w-2.5 h-2.5 flex-shrink-0 text-red-400"}),r.jsx("span",{className:"truncate",style:{color:z.isMiddle?`${Q}90`:Q},children:z.isStart||z.isSingleDay?z.name:""})]})},`${z.id}-${B.date.getTime()}`)}),H.length>4&&r.jsxs("div",{className:"text-xs text-primary-400 text-center font-medium hover:underline",children:["+",H.length-4," autre(s)"]})]})]},_)})})]}),r.jsxs("div",{className:"w-80 card p-0 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"p-3 border-b border-surface-700 bg-surface-800/50",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(GD,{className:"w-4 h-4 text-surface-400"}),r.jsx("span",{className:"font-medium text-surface-200",children:"Toutes les tches"}),r.jsxs("span",{className:"text-xs text-surface-500",children:["(",s.length,")"]})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:[p.map(B=>{const _=W(B),H=C(B);return r.jsxs("div",{onClick:()=>{const L=s.find(z=>z.id===B.id);o(L),c(!0)},className:"p-3 rounded-lg bg-surface-800/50 hover:bg-surface-700/50 cursor-pointer transition-colors group border-l-2",style:{borderLeftColor:H},children:[r.jsx("p",{className:"text-sm font-medium text-surface-200 truncate group-hover:text-surface-100 mb-2",children:B.name}),B.hasTimeline&&r.jsxs("div",{className:"flex items-center gap-2 text-xs mb-2",children:[r.jsxs("div",{className:"flex items-center gap-1 text-green-400",children:[r.jsx(Da,{className:"w-3 h-3"}),r.jsx("span",{children:B.startDate.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})]}),B.isRange&&r.jsxs(r.Fragment,{children:[r.jsx(tt,{className:"w-3 h-3 text-surface-500"}),r.jsxs("div",{className:"flex items-center gap-1 text-red-400",children:[r.jsx(rs,{className:"w-3 h-3"}),r.jsx("span",{children:B.endDate.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})]})]})]}),!B.hasTimeline&&r.jsx("p",{className:"text-xs text-amber-500/70 mb-2",children:"Sans date"}),_.length>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[_.slice(0,3).map((L,z)=>{var Q,I,X;return r.jsx("div",{className:"w-5 h-5 rounded-full bg-primary-600 flex items-center justify-center text-[8px] text-white font-medium ring-1 ring-surface-800",style:{marginLeft:z>0?"-4px":0},title:L.fullName||L.email,children:((Q=L.firstName)==null?void 0:Q[0])||((X=(I=L.email)==null?void 0:I[0])==null?void 0:X.toUpperCase())},L.id)}),_.length>3&&r.jsxs("span",{className:"text-xs text-surface-500 ml-1",children:["+",_.length-3]})]})]},B.id)}),s.length===0&&r.jsx("div",{className:"text-center text-surface-500 py-8 text-sm",children:"Aucun item"})]})]})]}),r.jsx(re,{children:u&&r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:D,children:r.jsxs(F.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-surface-800 border border-surface-700 rounded-xl shadow-2xl w-full max-w-lg max-h-[70vh] overflow-hidden",onClick:B=>B.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-surface-100",children:f==null?void 0:f.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),r.jsxs("p",{className:"text-sm text-surface-400",children:[u.length," tche(s) en cours"]})]}),r.jsx("button",{onClick:D,className:"p-2 hover:bg-surface-700 rounded-lg transition-colors",children:r.jsx(fe,{className:"w-5 h-5 text-surface-400"})})]}),r.jsx("div",{className:"p-4 space-y-2 overflow-y-auto max-h-[50vh]",children:u.map(B=>{const _=C(B),H=W(B);return r.jsx("div",{onClick:L=>{S(B,L),D()},className:"p-3 rounded-lg bg-surface-700/50 hover:bg-surface-700 cursor-pointer transition-colors",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsxs("div",{className:"mt-1",children:[B.isStart&&!B.isSingleDay&&r.jsx(Da,{className:"w-4 h-4 text-green-400"}),B.isEnd&&!B.isSingleDay&&r.jsx(rs,{className:"w-4 h-4 text-red-400"}),(B.isMiddle||B.isSingleDay)&&r.jsx("div",{className:"w-3 h-3 rounded-full mt-0.5",style:{backgroundColor:_}})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-surface-200",children:B.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-surface-500",children:[B.isStart&&!B.isSingleDay&&r.jsx("span",{className:"text-green-400",children:"Dbut"}),B.isEnd&&!B.isSingleDay&&r.jsx("span",{className:"text-red-400",children:"Deadline"}),B.isMiddle&&r.jsx("span",{children:"En cours"}),B.isSingleDay&&r.jsx("span",{children:"chance"}),B.isRange&&r.jsxs("span",{className:"text-surface-600",children:["(",B.startDate.toLocaleDateString("fr-FR",{day:"numeric",month:"short"}),"  ",B.endDate.toLocaleDateString("fr-FR",{day:"numeric",month:"short"}),")"]})]}),H.length>0&&r.jsx("div",{className:"flex items-center gap-1 mt-2",children:H.map(L=>{var z;return r.jsx("span",{className:"text-xs text-surface-400 bg-surface-600 px-2 py-0.5 rounded-full",children:L.firstName||((z=L.email)==null?void 0:z.split("@")[0])},L.id)})})]})]})},B.id)})})]})})}),r.jsx(Pp,{isOpen:l,onClose:()=>{c(!1),o(null)},item:i,workspaceId:e==null?void 0:e.workspaceId})]})}function Q6(){const{columns:e=[],items:t=[],groups:s=[]}=pe(),[n,a]=v.useState("status"),i=v.useMemo(()=>e.find(m=>(m==null?void 0:m.type)==="status")||null,[e]),o=v.useMemo(()=>e.filter(m=>(m==null?void 0:m.type)==="number")||[],[e]),l=v.useMemo(()=>!(i!=null&&i.labels)||!Array.isArray(i.labels)?[]:i.labels.filter(m=>m!=null).map((m,x)=>({id:m.id||`status-${x}`,label:m.name||m.label||`Statut ${x+1}`,color:m.color||"#6b7280",count:t.filter(h=>{var j;return((j=h==null?void 0:h.values)==null?void 0:j[i.id])===m.id}).length})),[i,t]),c=v.useMemo(()=>Array.isArray(s)?s.filter(m=>m!=null).map((m,x)=>({id:m.id||`group-${x}`,label:m.name||`Groupe ${x+1}`,color:m.color||"#6b7280",count:t.filter(h=>(h==null?void 0:h.groupId)===m.id).length})):[],[s,t]),u=v.useMemo(()=>{const m=(t==null?void 0:t.length)||0;let x=0;if(i!=null&&i.labels&&Array.isArray(i.labels)){const h=i.labels.find(j=>{if(!j)return!1;const b=String(j.name||j.label||"").toLowerCase();return b.includes("termin")||b.includes("done")||b.includes("complet")});h&&(x=t.filter(j=>{var b;return((b=j==null?void 0:j.values)==null?void 0:b[i.id])===h.id}).length)}return{total:m,completed:x,completionRate:m>0?Math.round(x/m*100):0,groups:(s==null?void 0:s.length)||0}},[t,s,i]),d=v.useMemo(()=>l.length===0?1:Math.max(...l.map(m=>m.count),1),[l]),f=[{id:"status",label:"Par statut",icon:ui},{id:"groups",label:"Par groupe",icon:on}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-surface-400 text-sm",children:"Total items"}),r.jsx(_o,{className:"w-4 h-4 text-primary-500"})]}),r.jsx("p",{className:"text-3xl font-bold text-surface-100",children:u.total})]}),r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-surface-400 text-sm",children:"Termins"}),r.jsx(Rt,{className:"w-4 h-4 text-emerald-500"})]}),r.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:u.completed})]}),r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-surface-400 text-sm",children:"Taux completion"}),r.jsx(ui,{className:"w-4 h-4 text-blue-500"})]}),r.jsxs("p",{className:"text-3xl font-bold text-blue-400",children:[u.completionRate,"%"]})]}),r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-surface-400 text-sm",children:"Groupes"}),r.jsx(on,{className:"w-4 h-4 text-amber-500"})]}),r.jsx("p",{className:"text-3xl font-bold text-amber-400",children:u.groups})]})]}),r.jsx("div",{className:"flex gap-2",children:f.map(m=>r.jsxs("button",{onClick:()=>a(m.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===m.id?"bg-primary-500/20 text-primary-400":"text-surface-400 hover:bg-surface-800"}`,children:[r.jsx(m.icon,{className:"w-4 h-4"}),m.label]},m.id))}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n==="status"&&r.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},className:"card p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-6",children:"Distribution par statut"}),l.length>0?r.jsx("div",{className:"space-y-4",children:l.map((m,x)=>r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:m.color}}),r.jsx("span",{className:"text-surface-300",children:m.label})]}),r.jsx("span",{className:"text-surface-400",children:m.count})]}),r.jsx("div",{className:"h-6 bg-surface-800 rounded-lg overflow-hidden",children:r.jsx(F.div,{initial:{width:0},animate:{width:`${m.count/d*100}%`},transition:{delay:x*.1,duration:.5},className:"h-full rounded-lg",style:{backgroundColor:m.color}})})]},m.id||`status-${x}`))}):r.jsx("p",{className:"text-center text-surface-500 py-8",children:"Ajoutez une colonne Statut avec des labels"})]}),n==="groups"&&r.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},className:"card p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-6",children:"Distribution par groupe"}),c.length>0?r.jsx("div",{className:"space-y-4",children:c.map((m,x)=>{const h=Math.max(...c.map(j=>j.count),1);return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:m.color}}),r.jsx("span",{className:"text-surface-300",children:m.label})]}),r.jsx("span",{className:"text-surface-400",children:m.count})]}),r.jsx("div",{className:"h-6 bg-surface-800 rounded-lg overflow-hidden",children:r.jsx(F.div,{initial:{width:0},animate:{width:`${m.count/h*100}%`},transition:{delay:x*.1,duration:.5},className:"h-full rounded-lg",style:{backgroundColor:m.color}})})]},m.id||`group-${x}`)})}):r.jsx("p",{className:"text-center text-surface-500 py-8",children:"Ajoutez des groupes pour voir les statistiques"})]}),r.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},className:"card p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-6",children:"Rpartition"}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"relative w-48 h-48",children:l.length>0&&t.length>0?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-full h-full rounded-full",style:{background:(()=>{let m="",x=0;return l.forEach(h=>{const j=h.count/t.length*100;m+=`${h.color} ${x}% ${x+j}%, `,x+=j}),`conic-gradient(${m.slice(0,-2)})`})()}}),r.jsx("div",{className:"absolute inset-4 bg-surface-900 rounded-full flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-surface-100",children:t.length}),r.jsx("p",{className:"text-xs text-surface-500",children:"items"})]})})]}):r.jsx("div",{className:"w-full h-full rounded-full bg-surface-800 flex items-center justify-center",children:r.jsx("span",{className:"text-surface-500 text-sm text-center px-4",children:"Pas de donnes"})})})}),r.jsx("div",{className:"mt-6 flex flex-wrap justify-center gap-4",children:l.map((m,x)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:m.color}}),r.jsx("span",{className:"text-sm text-surface-400",children:m.label})]},m.id||`legend-${x}`))})]})]}),o.length>0&&r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-4",children:"Colonnes numriques"}),r.jsx("div",{className:"grid grid-cols-4 gap-4",children:o.map((m,x)=>{const h=t.map(y=>{var p;return Number((p=y==null?void 0:y.values)==null?void 0:p[m.id])||0}),j=h.reduce((y,p)=>y+p,0),b=h.length>0?j/h.length:0;return r.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-surface-400 mb-2",children:m.title||`Colonne ${x+1}`}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-surface-500",children:"Total"}),r.jsx("p",{className:"font-bold text-surface-200",children:j.toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-surface-500",children:"Moyenne"}),r.jsx("p",{className:"font-bold text-surface-200",children:b.toFixed(1)})]})]})]},m.id||`numcol-${x}`)})})]})]})}const zl={day:{label:"Jour",days:1,width:120},week:{label:"Semaine",days:7,width:80},month:{label:"Mois",days:30,width:40},quarter:{label:"Trimestre",days:90,width:20}};function G6(){const{items:e,columns:t,groups:s}=pe(),[n,a]=v.useState("week"),[i,o]=v.useState(()=>{const P=new Date;return P.setDate(P.getDate()-7),P}),l=v.useRef(null),[c,u]=v.useState(0);v.useEffect(()=>{const P=()=>{l.current&&u(l.current.clientWidth)};return P(),window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const d=v.useMemo(()=>(t==null?void 0:t.filter(P=>P.type==="date"))||[],[t]),f=d.find(P=>{const S=(P.name||"").toLowerCase();return S.includes("dbut")||S.includes("start")||S.includes("lancement")})||d[0],m=d.find(P=>{const S=(P.name||"").toLowerCase();return S.includes("fin")||S.includes("end")||S.includes("deadline")||S.includes("limite")||S.includes("chance")})||d[1]||f,x=t==null?void 0:t.find(P=>P.type==="status"),h=v.useMemo(()=>!e||!f?[]:e.map(P=>{var _,H,L,z;const S=(_=P.values)==null?void 0:_[f.id],w=m?(H=P.values)==null?void 0:H[m.id]:null,D=x?(L=P.values)==null?void 0:L[x.id]:null;let C=S?new Date(S):null,U=w?new Date(w):null;if(!C||isNaN(C.getTime()))return null;(!U||isNaN(U.getTime()))&&(U=new Date(C),U.setDate(U.getDate()+1));let W="#6366f1";if(D&&((z=x==null?void 0:x.config)!=null&&z.options)){const Q=x.config.options.find(I=>I.value===D);Q!=null&&Q.color&&(W=Q.color)}const B=s==null?void 0:s.find(Q=>Q.id===P.groupId);return{id:P.id,name:P.name,start:C,end:U,color:W,status:D,groupName:(B==null?void 0:B.name)||"Sans groupe",groupId:P.groupId,isOverdue:U<new Date&&D!=="done"&&D!=="completed"}}).filter(Boolean).sort((P,S)=>P.start-S.start),[e,f,m,x,s]),j=zl[n],b=Math.ceil(c/j.width)+7,y=v.useMemo(()=>{const P=[],S=new Date(i);for(let w=0;w<b;w++)P.push(new Date(S)),S.setDate(S.getDate()+1);return P},[i,b]),p=y[y.length-1],g=v.useMemo(()=>{const P={};return h.forEach(S=>{P[S.groupId]||(P[S.groupId]={name:S.groupName,items:[]}),P[S.groupId].items.push(S)}),Object.entries(P)},[h]),N=P=>{const S=i.getTime(),w=p.getTime(),D=w-S,C=Math.max(P.start.getTime(),S),U=Math.min(P.end.getTime(),w);if(U<S||C>w)return{visible:!1};const W=(C-S)/D*100,B=(U-C)/D*100;return{visible:!0,left:`${Math.max(0,W)}%`,width:`${Math.min(100-W,B)}%`}},E=P=>{const S=new Date(i),w=P*j.days*7;S.setDate(S.getDate()+w),o(S)},T=()=>{const P=new Date;P.setDate(P.getDate()-3),o(P)},k=P=>P.toLocaleDateString("fr-FR",{day:"numeric",month:"short"}),M=P=>{const S=new Date;return P.toDateString()===S.toDateString()},R=P=>{const S=P.getDay();return S===0||S===6};return f?r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-surface-800",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:T,className:"btn btn-secondary text-sm",children:"Aujourd'hui"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>E(-1),className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:r.jsx(xp,{className:"w-5 h-5"})}),r.jsxs("span",{className:"px-3 text-sm text-surface-300 min-w-[180px] text-center",children:[k(i)," - ",k(p)]}),r.jsx("button",{onClick:()=>E(1),className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:r.jsx(Ws,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>{const P=Object.keys(zl),S=P.indexOf(n);S>0&&a(P[S-1])},disabled:n==="day",className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400 disabled:opacity-50",children:r.jsx(cT,{className:"w-4 h-4"})}),r.jsx("div",{className:"flex gap-1 bg-surface-800 rounded-lg p-1",children:Object.entries(zl).map(([P,S])=>r.jsx("button",{onClick:()=>a(P),className:`px-3 py-1 rounded-md text-sm transition-colors ${n===P?"bg-surface-700 text-surface-100":"text-surface-400 hover:text-surface-200"}`,children:S.label},P))}),r.jsx("button",{onClick:()=>{const P=Object.keys(zl),S=P.indexOf(n);S<P.length-1&&a(P[S+1])},disabled:n==="quarter",className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400 disabled:opacity-50",children:r.jsx(uT,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{ref:l,className:"flex-1 overflow-auto",children:[r.jsx("div",{className:"sticky top-0 z-10 bg-surface-900 border-b border-surface-800",children:r.jsxs("div",{className:"flex",style:{minWidth:`${y.length*j.width}px`},children:[r.jsx("div",{className:"w-48 shrink-0 p-3 border-r border-surface-800 bg-surface-900",children:r.jsx("span",{className:"text-sm font-medium text-surface-400",children:"Tches"})}),r.jsx("div",{className:"flex",children:y.map((P,S)=>r.jsxs("div",{style:{width:j.width},className:`shrink-0 p-2 text-center border-r border-surface-800 ${M(P)?"bg-primary-500/10":R(P)?"bg-surface-800/30":""}`,children:[r.jsx("div",{className:`text-xs ${M(P)?"text-primary-400 font-bold":"text-surface-400"}`,children:P.toLocaleDateString("fr-FR",{weekday:"short"})}),r.jsx("div",{className:`text-sm ${M(P)?"text-primary-400 font-bold":"text-surface-300"}`,children:P.getDate()})]},S))})]})}),r.jsxs("div",{style:{minWidth:`${y.length*j.width}px`},children:[g.map(([P,S])=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex border-b border-surface-800 bg-surface-800/30",children:[r.jsxs("div",{className:"w-48 shrink-0 p-3 border-r border-surface-800",children:[r.jsx("span",{className:"text-sm font-medium text-surface-200",children:S.name}),r.jsxs("span",{className:"text-xs text-surface-500 ml-2",children:["(",S.items.length,")"]})]}),r.jsx("div",{className:"flex-1"})]}),S.items.map(w=>{const D=N(w);return D.visible?r.jsxs("div",{className:"flex border-b border-surface-800 hover:bg-surface-800/20",children:[r.jsxs("div",{className:"w-48 shrink-0 p-3 border-r border-surface-800 flex items-center gap-2",children:[w.isOverdue&&r.jsx(xN,{className:"w-4 h-4 text-red-400 shrink-0"}),r.jsx("span",{className:"text-sm text-surface-200 truncate",title:w.name,children:w.name})]}),r.jsxs("div",{className:"flex-1 relative h-12",children:[y.some(C=>M(C))&&r.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-primary-500 z-10",style:{left:`${(new Date().getTime()-i.getTime())/(p.getTime()-i.getTime())*100}%`}}),r.jsx(F.div,{initial:{opacity:0,scaleX:0},animate:{opacity:1,scaleX:1},className:"absolute top-2 h-8 rounded-md flex items-center px-2 text-xs font-medium text-white shadow-sm cursor-pointer hover:brightness-110 transition-all",style:{left:D.left,width:D.width,backgroundColor:w.color,transformOrigin:"left"},title:`${w.name}: ${k(w.start)} - ${k(w.end)}`,children:r.jsx("span",{className:"truncate",children:w.name})})]})]},w.id):null})]},P)),h.length===0&&r.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-surface-400",children:[r.jsx(nt,{className:"w-8 h-8 mb-2 text-surface-600"}),r.jsx("p",{className:"text-sm",children:"Aucun item avec des dates  afficher"})]})]})]})]}):r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-surface-400",children:[r.jsx(Ze,{className:"w-12 h-12 mb-4 text-surface-600"}),r.jsx("p",{className:"text-lg font-medium text-surface-300",children:"Vue Timeline non disponible"}),r.jsx("p",{className:"text-sm mt-2",children:'Ajoutez une colonne de type "Date" pour utiliser la vue Timeline.'})]})}function Y6(){const{boardId:e}=mt(),{setBoard:t,clearBoard:s,activeView:n}=pe(),{data:a,isLoading:i}=Vs({queryKey:["board",e],queryFn:async()=>(await Ro.getOne(e)).data});return v.useEffect(()=>(a&&(t(a),o6(e)),()=>{s(),l6(e)}),[a,e,t,s]),i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):r.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},className:"h-[calc(100vh-8rem)]",children:[r.jsx(U6,{}),r.jsxs("div",{className:"mt-4 h-full overflow-auto",children:[n==="table"&&r.jsx(I6,{}),n==="kanban"&&r.jsx(q6,{}),n==="calendar"&&r.jsx(K6,{}),n==="timeline"&&r.jsx(G6,{}),n==="chart"&&r.jsx(Q6,{})]})]})}function X6(){var E,T;const{user:e,updateUser:t}=dt(),[s,n]=v.useState("profile"),[a,i]=v.useState(!1),[o,l]=v.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||""}),[c,u]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[d,f]=v.useState({emailNotifications:!0,pushNotifications:!0,mentionNotifications:!0,taskAssigned:!0,taskCompleted:!0,comments:!0,deadlineReminder:!0,weeklyDigest:!1}),[m,x]=v.useState({theme:"dark",accentColor:"#6366f1",fontSize:"medium",compactMode:!1,animations:!0});v.useEffect(()=>{const k=localStorage.getItem("notificationSettings");if(k)try{f(JSON.parse(k))}catch{}const M=localStorage.getItem("appearanceSettings");if(M)try{x(JSON.parse(M))}catch{}},[]);const h=[{id:"profile",label:"Profil",icon:ls},{id:"security",label:"Scurit",icon:na},{id:"notifications",label:"Notifications",icon:or},{id:"appearance",label:"Apparence",icon:sT}],j=async()=>{i(!0);try{const k=await h3.updateProfile(o);t(k.data),V.success("Profil mis  jour")}catch{V.error("Erreur lors de la mise  jour")}finally{i(!1)}},b=async()=>{var k,M;if(c.newPassword!==c.confirmPassword){V.error("Les mots de passe ne correspondent pas");return}if(c.newPassword.length<6){V.error("Le mot de passe doit contenir au moins 6 caractres");return}i(!0);try{await Kb.changePassword({currentPassword:c.currentPassword,newPassword:c.newPassword}),V.success("Mot de passe modifi"),u({currentPassword:"",newPassword:"",confirmPassword:""})}catch(R){V.error(((M=(k=R.response)==null?void 0:k.data)==null?void 0:M.error)||"Erreur lors du changement de mot de passe")}finally{i(!1)}},y=()=>{localStorage.setItem("notificationSettings",JSON.stringify(d)),V.success("Prfrences de notifications enregistres")},p=()=>{localStorage.setItem("appearanceSettings",JSON.stringify(m)),document.documentElement.style.setProperty("--accent-color",m.accentColor),V.success("Prfrences d'apparence enregistres")},g=[{name:"Indigo",value:"#6366f1"},{name:"Violet",value:"#8b5cf6"},{name:"Rose",value:"#ec4899"},{name:"Cyan",value:"#06b6d4"},{name:"meraude",value:"#10b981"},{name:"Ambre",value:"#f59e0b"},{name:"Rouge",value:"#ef4444"}],N=({label:k,description:M,icon:R,checked:P,onChange:S})=>r.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-surface-700/50 last:border-0",children:[r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-surface-800 flex items-center justify-center",children:r.jsx(R,{className:"w-5 h-5 text-surface-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-surface-200",children:k}),r.jsx("p",{className:"text-sm text-surface-500",children:M})]})]}),r.jsx("button",{onClick:()=>S(!P),className:`relative w-12 h-6 rounded-full transition-colors ${P?"bg-primary-500":"bg-surface-700"}`,children:r.jsx(F.div,{animate:{x:P?24:2},className:"absolute top-1 w-4 h-4 bg-white rounded-full"})})]});return r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-display font-bold text-surface-100",children:"Paramtres"}),r.jsx("p",{className:"text-surface-400",children:"Grez votre compte et vos prfrences"})]}),r.jsxs("div",{className:"flex gap-8",children:[r.jsx("nav",{className:"w-48 space-y-1 flex-shrink-0",children:h.map(k=>r.jsxs("button",{onClick:()=>n(k.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${s===k.id?"bg-primary-600/20 text-primary-400":"text-surface-400 hover:text-surface-200 hover:bg-surface-800"}`,children:[r.jsx(k.icon,{className:"w-5 h-5"}),r.jsx("span",{className:"font-medium",children:k.label})]},k.id))}),r.jsxs("div",{className:"flex-1 min-w-0",children:[s==="profile"&&r.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},className:"card",children:[r.jsx("h2",{className:"text-xl font-semibold text-surface-100 mb-6",children:"Informations du profil"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsxs("div",{className:"avatar w-20 h-20 text-2xl",children:[(E=e==null?void 0:e.firstName)==null?void 0:E[0],(T=e==null?void 0:e.lastName)==null?void 0:T[0]]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-surface-100",children:"Photo de profil"}),r.jsx("p",{className:"text-sm text-surface-500 mb-2",children:"JPG, PNG ou GIF. Max 2MB."}),r.jsx("button",{className:"btn btn-secondary text-sm py-2",children:"Changer"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Prnom"}),r.jsx("input",{type:"text",value:o.firstName,onChange:k=>l({...o,firstName:k.target.value}),className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom"}),r.jsx("input",{type:"text",value:o.lastName,onChange:k=>l({...o,lastName:k.target.value}),className:"input"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Email"}),r.jsx("input",{type:"email",value:e==null?void 0:e.email,disabled:!0,className:"input bg-surface-800/30 text-surface-500"})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:j,disabled:a,className:"btn btn-primary",children:a?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(uo,{className:"w-4 h-4"}),r.jsx("span",{children:"Enregistrer"})]})})})]})]}),s==="security"&&r.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},className:"card",children:[r.jsx("h2",{className:"text-xl font-semibold text-surface-100 mb-6",children:"Changer le mot de passe"}),r.jsxs("div",{className:"space-y-4 max-w-md",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Mot de passe actuel"}),r.jsx("input",{type:"password",value:c.currentPassword,onChange:k=>u({...c,currentPassword:k.target.value}),className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nouveau mot de passe"}),r.jsx("input",{type:"password",value:c.newPassword,onChange:k=>u({...c,newPassword:k.target.value}),className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Confirmer le mot de passe"}),r.jsx("input",{type:"password",value:c.confirmPassword,onChange:k=>u({...c,confirmPassword:k.target.value}),className:"input"})]}),r.jsx("div",{className:"pt-4",children:r.jsx("button",{onClick:b,disabled:a,className:"btn btn-primary",children:a?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(na,{className:"w-4 h-4"}),r.jsx("span",{children:"Changer le mot de passe"})]})})})]})]}),s==="notifications"&&r.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},className:"card",children:[r.jsx("h2",{className:"text-xl font-semibold text-surface-100 mb-6",children:"Prfrences de notifications"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx(N,{label:"Notifications par email",description:"Recevez des emails pour les mises  jour importantes",icon:cl,checked:d.emailNotifications,onChange:k=>f({...d,emailNotifications:k})}),r.jsx(N,{label:"Notifications push",description:"Notifications en temps rel dans l'application",icon:or,checked:d.pushNotifications,onChange:k=>f({...d,pushNotifications:k})}),r.jsx(N,{label:"Mentions",description:"Quand quelqu'un vous mentionne dans un commentaire",icon:ZD,checked:d.mentionNotifications,onChange:k=>f({...d,mentionNotifications:k})}),r.jsx(N,{label:"Tches assignes",description:"Quand une tche vous est assigne",icon:ls,checked:d.taskAssigned,onChange:k=>f({...d,taskAssigned:k})}),r.jsx(N,{label:"Tches termines",description:"Quand une tche que vous suivez est termine",icon:Ue,checked:d.taskCompleted,onChange:k=>f({...d,taskCompleted:k})}),r.jsx(N,{label:"Rappels d'chance",description:"Rappels pour les tches dont l'chance approche",icon:os,checked:d.deadlineReminder,onChange:k=>f({...d,deadlineReminder:k})}),r.jsx(N,{label:"Rsum hebdomadaire",description:"Recevez un rsum de votre activit chaque semaine",icon:HD,checked:d.weeklyDigest,onChange:k=>f({...d,weeklyDigest:k})})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsxs("button",{onClick:y,className:"btn btn-primary",children:[r.jsx(uo,{className:"w-4 h-4"}),r.jsx("span",{children:"Enregistrer"})]})})]}),s==="appearance"&&r.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[r.jsxs("div",{className:"card",children:[r.jsx("h2",{className:"text-xl font-semibold text-surface-100 mb-6",children:"Thme"}),r.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{id:"light",label:"Clair",icon:oT},{id:"dark",label:"Sombre",icon:eT},{id:"system",label:"Systme",icon:kN}].map(k=>r.jsxs("button",{onClick:()=>x({...m,theme:k.id}),className:`p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${m.theme===k.id?"border-primary-500 bg-primary-500/10":"border-surface-700 hover:border-surface-600"}`,children:[r.jsx(k.icon,{className:`w-6 h-6 ${m.theme===k.id?"text-primary-400":"text-surface-400"}`}),r.jsx("span",{className:m.theme===k.id?"text-primary-400":"text-surface-400",children:k.label}),m.theme===k.id&&r.jsx(sa,{className:"w-4 h-4 text-primary-400"})]},k.id))})]}),r.jsxs("div",{className:"card",children:[r.jsx("h2",{className:"text-xl font-semibold text-surface-100 mb-6",children:"Couleur d'accent"}),r.jsx("div",{className:"flex flex-wrap gap-3",children:g.map(k=>r.jsx("button",{onClick:()=>x({...m,accentColor:k.value}),className:`w-12 h-12 rounded-xl transition-all relative ${m.accentColor===k.value?"ring-2 ring-offset-2 ring-offset-surface-900":"hover:scale-110"}`,style:{backgroundColor:k.value,ringColor:k.value},title:k.name,children:m.accentColor===k.value&&r.jsx(sa,{className:"w-5 h-5 text-white absolute inset-0 m-auto"})},k.value))})]}),r.jsxs("div",{className:"card",children:[r.jsx("h2",{className:"text-xl font-semibold text-surface-100 mb-6",children:"Options d'affichage"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-surface-200",children:"Mode compact"}),r.jsx("p",{className:"text-sm text-surface-500",children:"Rduit l'espacement pour afficher plus de contenu"})]}),r.jsx("button",{onClick:()=>x({...m,compactMode:!m.compactMode}),className:`relative w-12 h-6 rounded-full transition-colors ${m.compactMode?"bg-primary-500":"bg-surface-700"}`,children:r.jsx(F.div,{animate:{x:m.compactMode?24:2},className:"absolute top-1 w-4 h-4 bg-white rounded-full"})})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-surface-200",children:"Animations"}),r.jsx("p",{className:"text-sm text-surface-500",children:"Activer les animations et transitions"})]}),r.jsx("button",{onClick:()=>x({...m,animations:!m.animations}),className:`relative w-12 h-6 rounded-full transition-colors ${m.animations?"bg-primary-500":"bg-surface-700"}`,children:r.jsx(F.div,{animate:{x:m.animations?24:2},className:"absolute top-1 w-4 h-4 bg-white rounded-full"})})]}),r.jsxs("div",{className:"py-3",children:[r.jsx("p",{className:"font-medium text-surface-200 mb-2",children:"Taille du texte"}),r.jsx("div",{className:"flex gap-2",children:["small","medium","large"].map(k=>r.jsx("button",{onClick:()=>x({...m,fontSize:k}),className:`px-4 py-2 rounded-lg text-sm transition-colors ${m.fontSize===k?"bg-primary-500/20 text-primary-400":"bg-surface-800 text-surface-400 hover:text-surface-200"}`,children:k==="small"?"Petit":k==="medium"?"Normal":"Grand"},k))})]})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsxs("button",{onClick:p,className:"btn btn-primary",children:[r.jsx(uo,{className:"w-4 h-4"}),r.jsx("span",{children:"Enregistrer"})]})})]})]})]})]})]})}const Im={owner:zD,admin:iT,member:ln,viewer:ra},pc={owner:"Propritaire",admin:"Administrateur",member:"Membre",viewer:"Observateur"},my={owner:"text-yellow-400 bg-yellow-400/10",admin:"text-purple-400 bg-purple-400/10",member:"text-blue-400 bg-blue-400/10",viewer:"text-surface-400 bg-surface-400/10"};function J6(){const{workspaceId:e}=mt(),t=qs(),[s,n]=v.useState(!1),[a,i]=v.useState(null),[o,l]=v.useState(null),{data:c=[],isLoading:u}=Vs({queryKey:["members",e],queryFn:async()=>(await vt.getByWorkspace(e)).data}),{data:d=[]}=Vs({queryKey:["invitations",e],queryFn:async()=>(await vt.getInvitations(e)).data}),f=zr({mutationFn:({memberId:b,role:y})=>vt.updateRole(e,b,{role:y}),onSuccess:()=>{t.invalidateQueries(["members",e]),V.success("Rle mis  jour"),l(null)},onError:b=>{var y,p;V.error(((p=(y=b.response)==null?void 0:y.data)==null?void 0:p.error)||"Erreur")}}),m=zr({mutationFn:b=>vt.remove(e,b),onSuccess:()=>{t.invalidateQueries(["members",e]),V.success("Membre retir")},onError:b=>{var y,p;V.error(((p=(y=b.response)==null?void 0:y.data)==null?void 0:p.error)||"Erreur")}}),x=zr({mutationFn:b=>vt.cancelInvitation(b),onSuccess:()=>{t.invalidateQueries(["invitations",e]),V.success("Invitation annule")}}),h=zr({mutationFn:b=>vt.resendInvitation(b),onSuccess:()=>{V.success("Invitation renvoye")}}),j=b=>{confirm("tes-vous sr de vouloir retirer ce membre ?")&&m.mutate(b),i(null)};return r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-display font-bold text-surface-100 flex items-center gap-3",children:[r.jsx(Le,{className:"w-8 h-8 text-primary-400"}),"Gestion des membres"]}),r.jsxs("p",{className:"text-surface-400 mt-1",children:[c.length," membre",c.length>1?"s":""," dans ce workspace"]})]}),r.jsxs("button",{onClick:()=>n(!0),className:"btn btn-primary",children:[r.jsx(Wn,{className:"w-4 h-4"}),r.jsx("span",{children:"Inviter"})]})]}),r.jsxs("div",{className:"card mb-8",children:[r.jsx("h2",{className:"text-lg font-semibold text-surface-100 mb-4",children:"Membres"}),u?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):r.jsx("div",{className:"space-y-2",children:c.map((b,y)=>{var g,N;const p=Im[b.role];return r.jsxs(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:y*.05},className:"flex items-center justify-between p-4 rounded-xl bg-surface-800/50 hover:bg-surface-800 transition-colors group",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"avatar",children:[(g=b.firstName)==null?void 0:g[0],(N=b.lastName)==null?void 0:N[0]]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-surface-100",children:b.fullName}),r.jsx("p",{className:"text-sm text-surface-500",children:b.email})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"hidden md:flex items-center gap-4 text-sm text-surface-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(_o,{className:"w-4 h-4"}),b.stats.itemsCreated," items"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(nt,{className:"w-4 h-4"}),b.lastLogin?iu(new Date(b.lastLogin),{addSuffix:!0,locale:xr}):"Jamais connect"]})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>b.role!=="owner"&&l(o===b.id?null:b.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium ${my[b.role]} ${b.role!=="owner"?"cursor-pointer hover:opacity-80":""}`,children:[r.jsx(p,{className:"w-4 h-4"}),pc[b.role]]}),r.jsx(re,{children:o===b.id&&r.jsx(F.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"dropdown right-0 top-full mt-2",children:["admin","member","viewer"].map(E=>{const T=Im[E];return r.jsxs("button",{onClick:()=>f.mutate({memberId:b.id,role:E}),className:`dropdown-item ${b.role===E?"bg-surface-700":""}`,children:[r.jsx(T,{className:"w-4 h-4"}),pc[E]]},E)})})})]}),b.role!=="owner"&&r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>i(a===b.id?null:b.id),className:"p-2 rounded-lg hover:bg-surface-700 text-surface-500 opacity-0 group-hover:opacity-100 transition-all",children:r.jsx(ji,{className:"w-4 h-4"})}),r.jsx(re,{children:a===b.id&&r.jsx(F.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"dropdown right-0 top-full mt-2",children:r.jsxs("button",{onClick:()=>j(b.id),className:"dropdown-item text-red-400 hover:text-red-300",children:[r.jsx(Qe,{className:"w-4 h-4"}),"Retirer"]})})})]})]})]},b.id)})})]}),d.length>0&&r.jsxs("div",{className:"card",children:[r.jsx("h2",{className:"text-lg font-semibold text-surface-100 mb-4",children:"Invitations en attente"}),r.jsx("div",{className:"space-y-2",children:d.map(b=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-surface-800/50",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-surface-700 flex items-center justify-center",children:r.jsx(cl,{className:"w-5 h-5 text-surface-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-surface-200",children:b.email}),r.jsxs("p",{className:"text-sm text-surface-500",children:["Expire"," ",iu(new Date(b.expiresAt),{addSuffix:!0,locale:xr})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${my[b.role]}`,children:pc[b.role]}),r.jsx("button",{onClick:()=>h.mutate(b.id),className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",title:"Renvoyer",children:r.jsx(qt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>x.mutate(b.id),className:"p-2 rounded-lg hover:bg-surface-700 text-red-400",title:"Annuler",children:r.jsx(fe,{className:"w-4 h-4"})})]})]},b.id))})]}),r.jsx(Z6,{isOpen:s,onClose:()=>n(!1),workspaceId:e})]})}function Z6({isOpen:e,onClose:t,workspaceId:s}){const n=qs(),[a,i]=v.useState(""),[o,l]=v.useState("member"),[c,u]=v.useState(!1),d=async f=>{var m,x;if(f.preventDefault(),!!a.trim()){u(!0);try{await vt.invite(s,{email:a,role:o}),n.invalidateQueries(["members",s]),n.invalidateQueries(["invitations",s]),V.success("Invitation envoye"),t(),i(""),l("member")}catch(h){V.error(((x=(m=h.response)==null?void 0:m.data)==null?void 0:x.error)||"Erreur lors de l'envoi")}finally{u(!1)}}};return e?r.jsx(re,{children:r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:r.jsxs(F.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content max-w-md",onClick:f=>f.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-600/20 flex items-center justify-center",children:r.jsx(Wn,{className:"w-5 h-5 text-primary-400"})}),r.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Inviter un membre"})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Adresse email"}),r.jsx("input",{type:"email",value:a,onChange:f=>i(f.target.value),placeholder:"collegue@exemple.com",className:"input",required:!0,autoFocus:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Rle"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:["admin","member","viewer"].map(f=>{const m=Im[f];return r.jsxs("button",{type:"button",onClick:()=>l(f),className:`flex flex-col items-center gap-2 p-3 rounded-xl border-2 transition-all ${o===f?"border-primary-500 bg-primary-500/10":"border-surface-700 hover:border-surface-600"}`,children:[r.jsx(m,{className:`w-5 h-5 ${o===f?"text-primary-400":"text-surface-400"}`}),r.jsx("span",{className:`text-xs font-medium ${o===f?"text-primary-300":"text-surface-400"}`,children:pc[f]})]},f)})})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),r.jsx("button",{type:"submit",disabled:c||!a.trim(),className:"btn btn-primary",children:c?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Envoyer l'invitation"})]})]})]})})}):null}function e8(){const{workspaceId:e}=mt(),t=cs(),s=qs(),[n,a]=v.useState(!1),[i,o]=v.useState(null),{data:l=[],isLoading:c}=Vs({queryKey:["budgets",e],queryFn:async()=>(await ta.getByWorkspace(e)).data}),u=zr({mutationFn:x=>ta.delete(x),onSuccess:()=>{s.invalidateQueries(["budgets",e]),V.success("Budget supprim")},onError:x=>{var h,j;V.error(((j=(h=x.response)==null?void 0:h.data)==null?void 0:j.error)||"Erreur")}}),d=(x,h)=>{h.stopPropagation(),confirm("tes-vous sr de vouloir supprimer ce budget ?")&&u.mutate(x),o(null)},f=l.reduce((x,h)=>({total:x.total+h.totalAmount,spent:x.spent+h.spentAmount,remaining:x.remaining+h.remainingAmount}),{total:0,spent:0,remaining:0}),m=(x,h="XAF")=>h==="XAF"?new Intl.NumberFormat("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0}).format(x)+" FCFA":new Intl.NumberFormat("fr-FR",{style:"currency",currency:h,minimumFractionDigits:0,maximumFractionDigits:0}).format(x);return r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-display font-bold text-surface-100 flex items-center gap-3",children:[r.jsx(Hn,{className:"w-8 h-8 text-primary-400"}),"Gestion des budgets"]}),r.jsx("p",{className:"text-surface-400 mt-1",children:"Suivez et grez les budgets de vos projets"})]}),r.jsxs("button",{onClick:()=>a(!0),className:"btn btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),r.jsx("span",{children:"Nouveau budget"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-500/20 flex items-center justify-center",children:r.jsx(eu,{className:"w-6 h-6 text-blue-400"})})}),r.jsx("p",{className:"text-3xl font-display font-bold text-surface-100",children:m(f.total)}),r.jsx("p",{className:"text-sm text-surface-400",children:"Budget total"})]}),r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-500/20 flex items-center justify-center",children:r.jsx(Ku,{className:"w-6 h-6 text-red-400"})})}),r.jsx("p",{className:"text-3xl font-display font-bold text-surface-100",children:m(f.spent)}),r.jsx("p",{className:"text-sm text-surface-400",children:"Dpens"})]}),r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-500/20 flex items-center justify-center",children:r.jsx(Rt,{className:"w-6 h-6 text-green-400"})})}),r.jsx("p",{className:"text-3xl font-display font-bold text-surface-100",children:m(f.remaining)}),r.jsx("p",{className:"text-sm text-surface-400",children:"Restant"})]})]}),c?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):l.length===0?r.jsxs(F.div,{initial:{opacity:0},animate:{opacity:1},className:"card text-center py-16",children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-500/20 to-purple-500/20 flex items-center justify-center mx-auto mb-6",children:r.jsx(Hn,{className:"w-8 h-8 text-primary-400"})}),r.jsx("h3",{className:"text-xl font-display font-semibold text-surface-100 mb-2",children:"Crez votre premier budget"}),r.jsx("p",{className:"text-surface-400 max-w-md mx-auto mb-6",children:"Les budgets vous permettent de suivre les dpenses et de contrler les cots de vos projets."}),r.jsxs("button",{onClick:()=>a(!0),className:"btn btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),r.jsx("span",{children:"Crer un budget"})]})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map((x,h)=>r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.05},onClick:()=>t(`/workspace/${e}/budget/${x.id}`),className:"card p-6 cursor-pointer hover:border-primary-500/50 transition-all group",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:`${x.color}20`},children:r.jsx(Hn,{className:"w-6 h-6",style:{color:x.color}})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[x.name,r.jsx(tt,{className:"w-4 h-4 text-surface-500 opacity-0 group-hover:opacity-100 transition-opacity"})]}),x.description&&r.jsx("p",{className:"text-sm text-surface-500 line-clamp-1",children:x.description})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:j=>{j.stopPropagation(),o(i===x.id?null:x.id)},className:"p-2 rounded-lg hover:bg-surface-700 text-surface-500 opacity-0 group-hover:opacity-100 transition-all",children:r.jsx(ji,{className:"w-4 h-4"})}),i===x.id&&r.jsx("div",{className:"dropdown right-0 top-full mt-1",children:r.jsxs("button",{onClick:j=>d(x.id,j),className:"dropdown-item text-red-400 hover:text-red-300",children:[r.jsx(Qe,{className:"w-4 h-4"}),"Supprimer"]})})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[r.jsxs("span",{className:"text-surface-400",children:[m(x.spentAmount,x.currency)," dpens"]}),r.jsxs("span",{className:"text-surface-300 font-medium",children:[x.percentUsed,"%"]})]}),r.jsx("div",{className:"h-2 bg-surface-700 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${Math.min(x.percentUsed,100)}%`,backgroundColor:x.percentUsed>90?"#ef4444":x.percentUsed>75?"#f97316":x.color}})})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-surface-400",children:["Budget: ",m(x.totalAmount,x.currency)]}),x.endDate&&r.jsxs("span",{className:"flex items-center gap-1 text-surface-500",children:[r.jsx(Ze,{className:"w-3.5 h-3.5"}),As(new Date(x.endDate),"d MMM yyyy",{locale:xr})]})]}),r.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-surface-700/50 text-xs text-surface-500",children:[r.jsxs("span",{children:[x.categoryCount," catgories"]}),r.jsxs("span",{children:[x.expenseCount," dpenses"]})]})]},x.id))}),r.jsx(t8,{isOpen:n,onClose:()=>a(!1),workspaceId:e})]})}function t8({isOpen:e,onClose:t,workspaceId:s}){const n=qs(),[a,i]=v.useState(!1),[o,l]=v.useState({name:"",description:"",totalAmount:"",currency:"XAF",startDate:"",endDate:"",color:"#6366f1"}),c=["#6366f1","#8b5cf6","#ec4899","#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#06b6d4","#3b82f6"],u=async d=>{var f,m;if(d.preventDefault(),!(!o.name.trim()||!o.totalAmount)){i(!0);try{await ta.create({workspaceId:s,name:o.name,description:o.description||null,totalAmount:parseFloat(o.totalAmount),currency:o.currency,startDate:o.startDate||null,endDate:o.endDate||null,color:o.color}),n.invalidateQueries(["budgets",s]),V.success("Budget cr avec succs"),t(),l({name:"",description:"",totalAmount:"",currency:"XAF",startDate:"",endDate:"",color:"#6366f1"})}catch(x){V.error(((m=(f=x.response)==null?void 0:f.data)==null?void 0:m.error)||"Erreur lors de la cration")}finally{i(!1)}}};return e?r.jsx(re,{children:r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:r.jsxs(F.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content",onClick:d=>d.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-600/20 flex items-center justify-center",children:r.jsx(Hn,{className:"w-5 h-5 text-primary-400"})}),r.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Nouveau budget"})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom du budget"}),r.jsx("input",{type:"text",value:o.name,onChange:d=>l({...o,name:d.target.value}),placeholder:"Ex: Marketing Q1",className:"input",required:!0,autoFocus:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Description ",r.jsx("span",{className:"text-surface-500",children:"(optionnel)"})]}),r.jsx("textarea",{value:o.description,onChange:d=>l({...o,description:d.target.value}),placeholder:"Description du budget...",className:"input resize-none h-20"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Montant total"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:o.totalAmount,onChange:d=>l({...o,totalAmount:d.target.value}),placeholder:"10000",className:"input",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Devise"}),r.jsxs("select",{value:o.currency,onChange:d=>l({...o,currency:d.target.value}),className:"input",children:[r.jsx("option",{value:"XAF",children:"XAF (FCFA)"}),r.jsx("option",{value:"EUR",children:"EUR ()"}),r.jsx("option",{value:"USD",children:"USD ($)"}),r.jsx("option",{value:"GBP",children:"GBP ()"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Date de dbut"}),r.jsx("input",{type:"date",value:o.startDate,onChange:d=>l({...o,startDate:d.target.value}),className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Date de fin"}),r.jsx("input",{type:"date",value:o.endDate,onChange:d=>l({...o,endDate:d.target.value}),className:"input"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Couleur"}),r.jsx("div",{className:"flex gap-2",children:c.map(d=>r.jsx("button",{type:"button",onClick:()=>l({...o,color:d}),className:`w-8 h-8 rounded-full transition-transform ${o.color===d?"ring-2 ring-offset-2 ring-offset-surface-900 ring-white scale-110":"hover:scale-110"}`,style:{backgroundColor:d}},d))})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),r.jsx("button",{type:"submit",disabled:a||!o.name.trim()||!o.totalAmount,className:"btn btn-primary",children:a?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Crer le budget"})]})]})]})})}):null}function s8(){const{workspaceId:e,budgetId:t}=mt(),s=cs(),n=qs(),[a,i]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(null),{data:d,isLoading:f}=Vs({queryKey:["budget",t],queryFn:async()=>(await ta.getOne(t)).data}),m=zr({mutationFn:h=>ta.deleteExpense(t,h),onSuccess:()=>{n.invalidateQueries(["budget",t]),V.success("Dpense supprime")}}),x=(h,j="XAF")=>j==="XAF"?new Intl.NumberFormat("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0}).format(h)+" FCFA":new Intl.NumberFormat("fr-FR",{style:"currency",currency:j,minimumFractionDigits:0,maximumFractionDigits:2}).format(h);return f?r.jsx("div",{className:"flex justify-center py-16",children:r.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):d?r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[r.jsxs("button",{onClick:()=>s(`/workspace/${e}/budgets`),className:"flex items-center gap-2 text-surface-400 hover:text-surface-200 mb-4",children:[r.jsx(Wu,{className:"w-4 h-4"}),"Retour aux budgets"]}),r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center",style:{backgroundColor:`${d.color}20`},children:r.jsx(Hn,{className:"w-8 h-8",style:{color:d.color}})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-display font-bold text-surface-100",children:d.name}),d.description&&r.jsx("p",{className:"text-surface-400 mt-1",children:d.description})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>l(!0),className:"btn btn-secondary",children:[r.jsx(EN,{className:"w-4 h-4"}),r.jsx("span",{children:"Catgorie"})]}),r.jsxs("button",{onClick:()=>i(!0),className:"btn btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),r.jsx("span",{children:"Dpense"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-5",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:r.jsx(Hn,{className:"w-5 h-5 text-blue-400"})}),r.jsx("span",{className:"text-sm text-surface-400",children:"Budget total"})]}),r.jsx("p",{className:"text-2xl font-bold text-surface-100",children:x(d.totalAmount,d.currency)})]}),r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-5",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:r.jsx(Ku,{className:"w-5 h-5 text-red-400"})}),r.jsx("span",{className:"text-sm text-surface-400",children:"Dpens"})]}),r.jsx("p",{className:"text-2xl font-bold text-surface-100",children:x(d.spentAmount,d.currency)})]}),r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-5",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:r.jsx(Rt,{className:"w-5 h-5 text-green-400"})}),r.jsx("span",{className:"text-sm text-surface-400",children:"Restant"})]}),r.jsx("p",{className:"text-2xl font-bold text-surface-100",children:x(d.remainingAmount,d.currency)})]}),r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card p-5",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:r.jsx(ui,{className:"w-5 h-5 text-purple-400"})}),r.jsx("span",{className:"text-sm text-surface-400",children:"Utilis"})]}),r.jsxs("p",{className:"text-2xl font-bold text-surface-100",children:[d.percentUsed,"%"]})]})]}),r.jsxs("div",{className:"card p-6 mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"text-sm font-medium text-surface-300",children:"Progression du budget"}),r.jsxs("span",{className:"text-sm text-surface-400",children:[x(d.spentAmount,d.currency)," /"," ",x(d.totalAmount,d.currency)]})]}),r.jsx("div",{className:"h-4 bg-surface-700 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${Math.min(d.percentUsed,100)}%`,backgroundColor:d.percentUsed>90?"#ef4444":d.percentUsed>75?"#f97316":d.color}})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"card",children:[r.jsx("h2",{className:"text-lg font-semibold text-surface-100 mb-4",children:"Catgories"}),d.categories.length===0?r.jsx("p",{className:"text-surface-500 text-sm py-4 text-center",children:"Aucune catgorie"}):r.jsx("div",{className:"space-y-3",children:d.categories.map(h=>r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-surface-800/50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:h.color}}),r.jsx("span",{className:"text-sm text-surface-200",children:h.name})]}),r.jsx("span",{className:"text-sm font-medium text-surface-300",children:x(h.spentAmount,d.currency)})]},h.id))})]})}),r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Dpenses rcentes"}),r.jsxs("span",{className:"text-sm text-surface-500",children:[d.expenses.length," dpense(s)"]})]}),d.expenses.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx($o,{className:"w-12 h-12 text-surface-600 mx-auto mb-3"}),r.jsx("p",{className:"text-surface-500",children:"Aucune dpense enregistre"})]}):r.jsx("div",{className:"space-y-2",children:d.expenses.map(h=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-surface-800/50 hover:bg-surface-800 transition-colors group",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:h.categoryColor?`${h.categoryColor}20`:"rgb(51 65 85 / 0.5)"},children:r.jsx($o,{className:"w-5 h-5",style:{color:h.categoryColor||"#94a3b8"}})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-surface-200",children:h.description}),r.jsxs("div",{className:"flex items-center gap-3 text-xs text-surface-500",children:[h.categoryName&&r.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${h.categoryColor}20`,color:h.categoryColor},children:h.categoryName}),h.vendor&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(li,{className:"w-3 h-3"}),h.vendor]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ze,{className:"w-3 h-3"}),As(new Date(h.expenseDate),"d MMM yyyy",{locale:xr})]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-lg font-semibold text-surface-100",children:["-",x(h.amount,d.currency)]}),r.jsxs("div",{className:"relative",children:[r.jsx("button",{onClick:()=>u(c===h.id?null:h.id),className:"p-2 rounded-lg hover:bg-surface-700 text-surface-500 opacity-0 group-hover:opacity-100 transition-all",children:r.jsx(ji,{className:"w-4 h-4"})}),c===h.id&&r.jsx("div",{className:"dropdown right-0 top-full mt-1",children:r.jsxs("button",{onClick:()=>{confirm("Supprimer cette dpense ?")&&m.mutate(h.id),u(null)},className:"dropdown-item text-red-400 hover:text-red-300",children:[r.jsx(Qe,{className:"w-4 h-4"}),"Supprimer"]})})]})]})]},h.id))})]})})]}),r.jsx(r8,{isOpen:a,onClose:()=>i(!1),budget:d}),r.jsx(n8,{isOpen:o,onClose:()=>l(!1),budgetId:t})]}):r.jsx("div",{className:"text-center py-16",children:r.jsx("p",{className:"text-surface-400",children:"Budget non trouv"})})}function r8({isOpen:e,onClose:t,budget:s}){const n=qs(),[a,i]=v.useState(!1),[o,l]=v.useState({description:"",amount:"",categoryId:"",expenseDate:As(new Date,"yyyy-MM-dd"),vendor:"",notes:""}),c=async u=>{var d,f;if(u.preventDefault(),!(!o.description.trim()||!o.amount)){i(!0);try{await ta.addExpense(s.id,{description:o.description,amount:parseFloat(o.amount),categoryId:o.categoryId||null,expenseDate:o.expenseDate,vendor:o.vendor||null,notes:o.notes||null}),n.invalidateQueries(["budget",s.id]),V.success("Dpense ajoute"),t(),l({description:"",amount:"",categoryId:"",expenseDate:As(new Date,"yyyy-MM-dd"),vendor:"",notes:""})}catch(m){V.error(((f=(d=m.response)==null?void 0:d.data)==null?void 0:f.error)||"Erreur")}finally{i(!1)}}};return e?r.jsx(re,{children:r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:r.jsxs(F.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content",onClick:u=>u.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-600/20 flex items-center justify-center",children:r.jsx($o,{className:"w-5 h-5 text-red-400"})}),r.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Nouvelle dpense"})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),r.jsx("input",{type:"text",value:o.description,onChange:u=>l({...o,description:u.target.value}),placeholder:"Ex: Achat de matriel",className:"input",required:!0,autoFocus:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Montant (",s.currency,")"]}),r.jsx("input",{type:"number",min:"0.01",step:"0.01",value:o.amount,onChange:u=>l({...o,amount:u.target.value}),placeholder:"0.00",className:"input",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Date"}),r.jsx("input",{type:"date",value:o.expenseDate,onChange:u=>l({...o,expenseDate:u.target.value}),className:"input"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Catgorie"}),r.jsxs("select",{value:o.categoryId,onChange:u=>l({...o,categoryId:u.target.value}),className:"input",children:[r.jsx("option",{value:"",children:"Sans catgorie"}),s.categories.map(u=>r.jsx("option",{value:u.id,children:u.name},u.id))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Fournisseur ",r.jsx("span",{className:"text-surface-500",children:"(optionnel)"})]}),r.jsx("input",{type:"text",value:o.vendor,onChange:u=>l({...o,vendor:u.target.value}),placeholder:"Ex: Amazon",className:"input"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Notes ",r.jsx("span",{className:"text-surface-500",children:"(optionnel)"})]}),r.jsx("textarea",{value:o.notes,onChange:u=>l({...o,notes:u.target.value}),placeholder:"Notes supplmentaires...",className:"input resize-none h-20"})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),r.jsx("button",{type:"submit",disabled:a||!o.description.trim()||!o.amount,className:"btn btn-primary",children:a?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Ajouter"})]})]})]})})}):null}function n8({isOpen:e,onClose:t,budgetId:s}){const n=qs(),[a,i]=v.useState(!1),[o,l]=v.useState({name:"",allocatedAmount:"",color:"#6366f1"}),c=["#6366f1","#8b5cf6","#ec4899","#ef4444","#f97316","#eab308","#22c55e","#14b8a6"],u=async d=>{var f,m;if(d.preventDefault(),!!o.name.trim()){i(!0);try{await ta.addCategory(s,{name:o.name,allocatedAmount:o.allocatedAmount?parseFloat(o.allocatedAmount):0,color:o.color}),n.invalidateQueries(["budget",s]),V.success("Catgorie ajoute"),t(),l({name:"",allocatedAmount:"",color:"#6366f1"})}catch(x){V.error(((m=(f=x.response)==null?void 0:f.data)==null?void 0:m.error)||"Erreur")}finally{i(!1)}}};return e?r.jsx(re,{children:r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:r.jsxs(F.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content max-w-md",onClick:d=>d.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-600/20 flex items-center justify-center",children:r.jsx(EN,{className:"w-5 h-5 text-primary-400"})}),r.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Nouvelle catgorie"})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom de la catgorie"}),r.jsx("input",{type:"text",value:o.name,onChange:d=>l({...o,name:d.target.value}),placeholder:"Ex: Marketing",className:"input",required:!0,autoFocus:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Budget allou ",r.jsx("span",{className:"text-surface-500",children:"(optionnel)"})]}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:o.allocatedAmount,onChange:d=>l({...o,allocatedAmount:d.target.value}),placeholder:"0",className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Couleur"}),r.jsx("div",{className:"flex gap-2",children:c.map(d=>r.jsx("button",{type:"button",onClick:()=>l({...o,color:d}),className:`w-8 h-8 rounded-full transition-transform ${o.color===d?"ring-2 ring-offset-2 ring-offset-surface-900 ring-white scale-110":"hover:scale-110"}`,style:{backgroundColor:d}},d))})]}),r.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),r.jsx("button",{type:"submit",disabled:a||!o.name.trim(),className:"btn btn-primary",children:a?r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Ajouter"})]})]})]})})}):null}const a8=({value:e,size:t=80,strokeWidth:s=8,color:n="#6366f1"})=>{const a=(t-s)/2,i=a*2*Math.PI,o=i-e/100*i;return r.jsxs("div",{className:"relative",style:{width:t,height:t},children:[r.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[r.jsx("circle",{cx:t/2,cy:t/2,r:a,stroke:"currentColor",strokeWidth:s,fill:"none",className:"text-surface-700"}),r.jsx("circle",{cx:t/2,cy:t/2,r:a,stroke:n,strokeWidth:s,fill:"none",strokeDasharray:i,strokeDashoffset:o,strokeLinecap:"round",className:"transition-all duration-700"})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("span",{className:"text-lg font-bold",style:{color:n},children:[e,"%"]})})]})},i8=({data:e,maxValue:t})=>{const s=t||Math.max(...e.map(n=>n.value),1);return r.jsx("div",{className:"space-y-3",children:e.map((n,a)=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[r.jsx("span",{className:"text-surface-300 truncate",children:n.label}),r.jsx("span",{className:"text-surface-400 font-medium",children:n.value})]}),r.jsx("div",{className:"h-3 bg-surface-800 rounded-full overflow-hidden",children:r.jsx(F.div,{initial:{width:0},animate:{width:`${n.value/s*100}%`},transition:{delay:a*.1,duration:.6},className:"h-full rounded-full",style:{backgroundColor:n.color}})})]},a))})},o8=({data:e,size:t=200})=>{const s=t/2,n=t*.4,a=2*Math.PI/e.length,i=(l,c)=>{const u=a*c-Math.PI/2,d=l/100*n;return{x:s+d*Math.cos(u),y:s+d*Math.sin(u)}},o=[25,50,75,100];return r.jsxs("svg",{width:t,height:t,className:"overflow-visible",children:[o.map(l=>{const c=l/100*n,u=e.map((d,f)=>{const m=a*f-Math.PI/2;return`${s+c*Math.cos(m)},${s+c*Math.sin(m)}`}).join(" ");return r.jsx("polygon",{points:u,fill:"none",stroke:"currentColor",strokeWidth:"1",className:"text-surface-700"},l)}),e.map((l,c)=>{const u=a*c-Math.PI/2,d=s+n*Math.cos(u),f=s+n*Math.sin(u);return r.jsxs("g",{children:[r.jsx("line",{x1:s,y1:s,x2:d,y2:f,stroke:"currentColor",strokeWidth:"1",className:"text-surface-700"}),r.jsx("text",{x:s+(n+20)*Math.cos(u),y:s+(n+20)*Math.sin(u),textAnchor:"middle",dominantBaseline:"middle",className:"fill-surface-400 text-xs",children:l.label})]},c)}),r.jsx(F.polygon,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},points:e.map((l,c)=>{const u=i(l.value,c);return`${u.x},${u.y}`}).join(" "),fill:"rgba(99, 102, 241, 0.2)",stroke:"#6366f1",strokeWidth:"2"}),e.map((l,c)=>{const u=i(l.value,c);return r.jsx(F.circle,{initial:{r:0},animate:{r:4},transition:{delay:c*.1},cx:u.x,cy:u.y,fill:"#6366f1"},c)})]})},l8=({data:e,size:t=120})=>{const s=e.reduce((o,l)=>o+l.value,0),n=t/2,a=t*.4;let i=-Math.PI/2;return r.jsxs("svg",{width:t,height:t,children:[e.map((o,l)=>{const u=(s>0?o.value/s:0)*2*Math.PI,d=i,f=i+u;i=f;const m=n+a*Math.cos(d),x=n+a*Math.sin(d),h=n+a*Math.cos(f),j=n+a*Math.sin(f),b=u>Math.PI?1:0;return r.jsx(F.path,{initial:{opacity:0},animate:{opacity:1},transition:{delay:l*.1},d:`M ${n} ${n} L ${m} ${x} A ${a} ${a} 0 ${b} 1 ${h} ${j} Z`,fill:o.color,className:"cursor-pointer hover:opacity-80 transition-opacity"},l)}),r.jsx("circle",{cx:n,cy:n,r:a*.5,fill:"currentColor",className:"text-surface-900"}),r.jsx("text",{x:n,y:n,textAnchor:"middle",dominantBaseline:"middle",className:"fill-surface-200 text-lg font-bold",children:s})]})},c8=({score:e})=>{let t={icon:SN,label:"Standard",color:"text-surface-400",bg:"bg-surface-700"};e>=90?t={icon:PN,label:"Excellence",color:"text-yellow-400",bg:"bg-yellow-500/20"}:e>=75?t={icon:JD,label:"Performant",color:"text-green-400",bg:"bg-green-500/20"}:e>=50?t={icon:Vt,label:"En progrs",color:"text-blue-400",bg:"bg-blue-500/20"}:e>=25&&(t={icon:os,label:" amliorer",color:"text-orange-400",bg:"bg-orange-500/20"});const s=t.icon;return r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${t.bg} ${t.color}`,children:[r.jsx(s,{className:"w-3 h-3"}),t.label]})},u8=({member:e,rank:t})=>{var o,l;const[s,n]=v.useState(!1),{metrics:a}=e,i=c=>c>=75?"#22c55e":c>=50?"#3b82f6":c>=25?"#f59e0b":"#ef4444";return r.jsxs(F.div,{layout:!0,className:"card p-4 hover:bg-surface-800/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>n(!s),children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${t===1?"bg-yellow-500/20 text-yellow-400":t===2?"bg-gray-400/20 text-gray-300":t===3?"bg-orange-500/20 text-orange-400":"bg-surface-700 text-surface-400"}`,children:t}),r.jsxs("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary-500 to-purple-600 flex items-center justify-center text-white font-semibold text-lg",children:[(o=e.firstName)==null?void 0:o[0],(l=e.lastName)==null?void 0:l[0]]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-surface-100 truncate",children:e.fullName}),r.jsx("p",{className:"text-sm text-surface-500",children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(a8,{value:a.performanceScore,size:60,strokeWidth:6,color:i(a.performanceScore)}),r.jsx(c8,{score:a.performanceScore})]}),r.jsx("button",{className:"p-2 hover:bg-surface-700 rounded-lg transition-colors",children:s?r.jsx(gp,{className:"w-5 h-5"}):r.jsx(yr,{className:"w-5 h-5"})})]}),r.jsx(re,{children:s&&r.jsxs(F.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4 pt-4 border-t border-surface-700",children:[r.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-surface-100",children:a.totalTasks}),r.jsx("div",{className:"text-xs text-surface-500",children:"Tches assignes"})]}),r.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-400",children:a.completedTasks}),r.jsx("div",{className:"text-xs text-surface-500",children:"Termines"})]}),r.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-400",children:a.inProgressTasks}),r.jsx("div",{className:"text-xs text-surface-500",children:"En cours"})]}),r.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-400",children:a.overdueTasks}),r.jsx("div",{className:"text-xs text-surface-500",children:"En retard"})]})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-surface-400",children:"Taux de compltion"}),r.jsxs("span",{className:"font-semibold text-surface-200",children:[a.completionRate,"%"]})]}),r.jsx("div",{className:"h-2 bg-surface-700 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-400 rounded-full transition-all duration-500",style:{width:`${a.completionRate}%`}})})]}),r.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-surface-400",children:"Progression moyenne"}),r.jsxs("span",{className:"font-semibold text-surface-200",children:[a.averageProgress,"%"]})]}),r.jsx("div",{className:"h-2 bg-surface-700 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-cyan-400 rounded-full transition-all duration-500",style:{width:`${a.averageProgress}%`}})})]})]})]})})]})};function d8(){const{workspaceId:e}=mt(),[t,s]=v.useState(!0),[n,a]=v.useState(null),[i,o]=v.useState(null),l=async()=>{var d,f;try{s(!0),o(null);const m=await vt.getEvaluation(e);a(m.data)}catch(m){o(((f=(d=m.response)==null?void 0:d.data)==null?void 0:f.error)||"Erreur lors du chargement")}finally{s(!1)}};if(v.useEffect(()=>{e&&l()},[e]),t)return r.jsx("div",{className:"p-6 flex items-center justify-center min-h-[400px]",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx(qt,{className:"w-8 h-8 animate-spin text-primary-500"}),r.jsx("p",{className:"text-surface-400",children:"Calcul des performances en cours..."})]})});if(i)return r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"card p-8 text-center",children:[r.jsx(os,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-surface-200 mb-2",children:"Erreur"}),r.jsx("p",{className:"text-surface-400 mb-4",children:i}),r.jsx("button",{onClick:l,className:"btn-primary",children:"Ressayer"})]})});const{teamMetrics:c,members:u}=n||{teamMetrics:{},members:[]};return r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(me,{to:`/workspace/${e}`,className:"p-2 hover:bg-surface-700 rounded-lg transition-colors",children:r.jsx(Wu,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-surface-100 flex items-center gap-3",children:[r.jsx(gN,{className:"w-7 h-7 text-primary-400"}),"valuation de l'quipe"]}),r.jsx("p",{className:"text-surface-400 mt-1",children:"Performance des membres base sur les tches assignes"})]})]}),r.jsxs("button",{onClick:l,className:"btn-secondary flex items-center gap-2",children:[r.jsx(qt,{className:"w-4 h-4"}),"Actualiser"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-4 bg-gradient-to-br from-primary-600/20 to-purple-600/20 border-primary-500/30",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-primary-500/20 rounded-xl",children:r.jsx(Rt,{className:"w-6 h-6 text-primary-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-surface-400",children:"Performance moyenne"}),r.jsxs("p",{className:"text-2xl font-bold text-surface-100",children:[c.avgPerformance,"%"]})]})]})}),r.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"card p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl",children:r.jsx(Le,{className:"w-6 h-6 text-blue-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-surface-400",children:"Membres"}),r.jsx("p",{className:"text-2xl font-bold text-surface-100",children:c.totalMembers})]})]})}),r.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-cyan-500/20 rounded-xl",children:r.jsx(Fs,{className:"w-6 h-6 text-cyan-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-surface-400",children:"Tches totales"}),r.jsx("p",{className:"text-2xl font-bold text-surface-100",children:c.totalTasks})]})]})}),r.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"card p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-green-500/20 rounded-xl",children:r.jsx(qn,{className:"w-6 h-6 text-green-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-surface-400",children:"Termines"}),r.jsx("p",{className:"text-2xl font-bold text-surface-100",children:c.totalCompleted})]})]})}),r.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 bg-red-500/20 rounded-xl",children:r.jsx(nt,{className:"w-6 h-6 text-red-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-surface-400",children:"En retard"}),r.jsx("p",{className:"text-2xl font-bold text-surface-100",children:c.totalOverdue})]})]})})]}),c.totalTasks>0&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:"card p-5",children:[r.jsxs("h3",{className:"text-sm font-medium text-surface-300 mb-4 flex items-center gap-2",children:[r.jsx(Fs,{className:"w-4 h-4 text-primary-400"}),"Comptences quipe"]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(o8,{data:[{label:"Perf.",value:c.avgPerformance||0},{label:"Qualit",value:c.totalTasks>0?Math.round(c.totalCompleted/c.totalTasks*100):0},{label:"Dlais",value:c.totalTasks>0?Math.round(100-c.totalOverdue/c.totalTasks*100):0},{label:"Charge",value:c.totalMembers>0?Math.min(Math.round(c.totalTasks/c.totalMembers*10),100):0}],size:180})})]}),r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card p-5",children:[r.jsxs("h3",{className:"text-sm font-medium text-surface-300 mb-4 flex items-center gap-2",children:[r.jsx(ui,{className:"w-4 h-4 text-cyan-400"}),"Distribution des tches"]}),r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx(l8,{data:[{value:c.totalCompleted,color:"#22c55e"},{value:Math.max(0,c.totalTasks-c.totalCompleted-c.totalOverdue),color:"#3b82f6"},{value:c.totalOverdue,color:"#ef4444"}].filter(d=>d.value>0),size:120})}),r.jsxs("div",{className:"flex justify-center gap-4 text-xs",children:[c.totalCompleted>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),r.jsxs("span",{className:"text-surface-400",children:["Termines (",c.totalCompleted,")"]})]}),c.totalTasks-c.totalCompleted-c.totalOverdue>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),r.jsxs("span",{className:"text-surface-400",children:["En cours (",c.totalTasks-c.totalCompleted-c.totalOverdue,")"]})]}),c.totalOverdue>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),r.jsxs("span",{className:"text-surface-400",children:["En retard (",c.totalOverdue,")"]})]})]})]}),u.length>0&&r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},className:"card p-5",children:[r.jsxs("h3",{className:"text-sm font-medium text-surface-300 mb-4 flex items-center gap-2",children:[r.jsx(PN,{className:"w-4 h-4 text-yellow-400"}),"Top performers"]}),r.jsx(i8,{data:u.slice(0,5).map((d,f)=>{var m,x;return{label:((m=d.fullName)==null?void 0:m.split(" ")[0])||d.firstName||"Membre",value:((x=d.metrics)==null?void 0:x.performanceScore)||0,color:f===0?"#eab308":f===1?"#9ca3af":f===2?"#f97316":"#6366f1"}}),maxValue:100})]})]}),r.jsxs("div",{className:"card p-4",children:[r.jsxs("h3",{className:"text-sm font-medium text-surface-300 mb-3 flex items-center gap-2",children:[r.jsx(on,{className:"w-4 h-4"}),"Calcul de la performance"]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-surface-400",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),r.jsx("span",{children:"Taux de compltion (40%)"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),r.jsx("span",{children:"Progression moyenne (30%)"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),r.jsx("span",{children:"Respect des dlais (30%)"})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h2",{className:"text-lg font-semibold text-surface-200 flex items-center gap-2",children:[r.jsx(ui,{className:"w-5 h-5 text-primary-400"}),"Classement des membres"]}),r.jsx("span",{className:"text-sm text-surface-500",children:"Tri par performance dcroissante"})]}),u.length===0?r.jsxs("div",{className:"card p-8 text-center",children:[r.jsx(Le,{className:"w-12 h-12 text-surface-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold text-surface-300 mb-2",children:"Aucun membre"}),r.jsx("p",{className:"text-surface-500",children:"Il n'y a pas encore de membres dans cet espace de travail."})]}):r.jsx("div",{className:"space-y-3",children:u.map((d,f)=>r.jsx(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:f*.05},children:r.jsx(u8,{member:d,rank:f+1})},d.id))})]})]})}const _i={low:{label:"Basse",color:"bg-surface-600",text:"text-surface-300"},medium:{label:"Moyenne",color:"bg-blue-500",text:"text-blue-400"},high:{label:"Haute",color:"bg-orange-500",text:"text-orange-400"},critical:{label:"Critique",color:"bg-red-500",text:"text-red-400"}},f8={low:{label:"Faible",color:"bg-surface-600"},normal:{label:"Normal",color:"bg-blue-500"},high:{label:"Urgent",color:"bg-orange-500"},critical:{label:"Critique",color:"bg-red-500"}},Fi={pending:{label:"En attente",color:"bg-surface-600",icon:nt},assigned:{label:"Assign",color:"bg-blue-500",icon:Ue},in_progress:{label:"En cours",color:"bg-amber-500",icon:Hu},resolved:{label:"Rsolu",color:"bg-emerald-500",icon:Ue},closed:{label:"Ferm",color:"bg-surface-500",icon:Ue},cancelled:{label:"Annul",color:"bg-red-500",icon:Bo}};function m8(){var P,S,w,D;const{workspaceId:e}=mt();cs();const{user:t}=dt(),[s,n]=v.useState([]),[a,i]=v.useState([]),[o,l]=v.useState(!0),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[m,x]=v.useState(null),[h,j]=v.useState("all"),[b,y]=v.useState(!1),[p,g]=v.useState({title:"",description:"",category:"general",priority:"medium",urgency:"normal",location:"",equipment:"",requestedDate:""});v.useEffect(()=>{E(),N()},[e]);const N=async()=>{try{const{data:C}=await vt.getByWorkspace(e),U=C.find(W=>W.userId===(t==null?void 0:t.id));y((U==null?void 0:U.role)==="owner"||(U==null?void 0:U.role)==="admin")}catch(C){console.error("Error checking admin status:",C)}},E=async()=>{l(!0);try{const[C,U]=await Promise.all([er.getCategories(),er.getMyTickets()]);n(C.data),i(U.data)}catch{V.error("Erreur lors du chargement")}finally{l(!1)}},T=async C=>{if(C.preventDefault(),!p.title.trim()){V.error("Le titre est requis");return}u(!0);try{await er.create({...p,workspaceId:e}),V.success("Ticket soumis avec succs !"),f(!1),g({title:"",description:"",category:"general",priority:"medium",urgency:"normal",location:"",equipment:"",requestedDate:""}),E()}catch{V.error("Erreur lors de la soumission")}finally{u(!1)}},k=async C=>{if(confirm("Voulez-vous annuler ce ticket ?"))try{await er.cancel(C),V.success("Ticket annul"),E(),x(null)}catch{V.error("Impossible d'annuler ce ticket")}},M=a.filter(C=>h==="all"?!0:h==="active"?["pending","assigned","in_progress"].includes(C.status):h==="resolved"?["resolved","closed"].includes(C.status):C.status===h),R=C=>s.find(U=>U.id===C)||{name:C,icon:""};return o?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-display font-bold text-surface-100 flex items-center gap-3",children:[r.jsx(_a,{className:"w-7 h-7 text-primary-400"}),"Mes tickets d'intervention"]}),r.jsx("p",{className:"text-surface-400 mt-1",children:"Soumettez vos demandes d'intervention technique"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[b&&r.jsxs(me,{to:`/workspace/${e}/tickets/admin`,className:"btn btn-secondary",children:[r.jsx(di,{className:"w-4 h-4"}),"Gestion tickets"]}),r.jsxs("button",{onClick:()=>f(!0),className:"btn btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),"Nouveau ticket"]})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs("div",{className:"card p-4 text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-surface-100",children:a.length}),r.jsx("p",{className:"text-xs text-surface-500",children:"Total"})]}),r.jsxs("div",{className:"card p-4 text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-amber-400",children:a.filter(C=>C.status==="pending").length}),r.jsx("p",{className:"text-xs text-surface-500",children:"En attente"})]}),r.jsxs("div",{className:"card p-4 text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-blue-400",children:a.filter(C=>["assigned","in_progress"].includes(C.status)).length}),r.jsx("p",{className:"text-xs text-surface-500",children:"En cours"})]}),r.jsxs("div",{className:"card p-4 text-center",children:[r.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:a.filter(C=>["resolved","closed"].includes(C.status)).length}),r.jsx("p",{className:"text-xs text-surface-500",children:"Rsolus"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 border-b border-surface-800 pb-2",children:[[{id:"all",label:"Tous"},{id:"active",label:"Actifs"},{id:"pending",label:"En attente"},{id:"resolved",label:"Rsolus"}].map(C=>r.jsx("button",{onClick:()=>j(C.id),className:`px-4 py-2 text-sm rounded-lg transition-colors ${h===C.id?"bg-primary-500/20 text-primary-400":"text-surface-400 hover:text-surface-200 hover:bg-surface-800"}`,children:C.label},C.id)),r.jsx("div",{className:"flex-1"}),r.jsx("button",{onClick:E,className:"btn btn-sm btn-ghost",children:r.jsx(qt,{className:"w-4 h-4"})})]}),r.jsx("div",{className:"space-y-3",children:M.length>0?M.map(C=>{var B,_,H,L,z;const U=R(C.category),W=((B=Fi[C.status])==null?void 0:B.icon)||nt;return r.jsx(F.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"card p-4 hover:bg-surface-800/50 transition-colors cursor-pointer group",onClick:()=>x(C),children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"text-2xl",children:U.icon}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-xs font-mono text-surface-500",children:C.ticketNumber}),r.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${(_=Fi[C.status])==null?void 0:_.color} text-white flex items-center gap-1`,children:[r.jsx(W,{className:"w-3 h-3"}),(H=Fi[C.status])==null?void 0:H.label]}),r.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${(L=_i[C.priority])==null?void 0:L.color} text-white`,children:(z=_i[C.priority])==null?void 0:z.label})]}),r.jsx("h3",{className:"font-medium text-surface-200 group-hover:text-surface-100 transition-colors",children:C.title}),C.description&&r.jsx("p",{className:"text-sm text-surface-500 line-clamp-2 mt-1",children:C.description}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-surface-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ze,{className:"w-3 h-3"}),new Date(C.createdAt).toLocaleDateString("fr-FR")]}),C.location&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Hg,{className:"w-3 h-3"}),C.location]}),C.assignedToName&&r.jsxs("span",{className:"text-primary-400",children:["Assign : ",C.assignedToName]})]})]}),r.jsx(ra,{className:"w-5 h-5 text-surface-600 group-hover:text-surface-400 transition-colors"})]})},C.id)}):r.jsxs("div",{className:"card p-12 text-center",children:[r.jsx(_a,{className:"w-12 h-12 mx-auto text-surface-600 mb-3"}),r.jsx("p",{className:"text-surface-500",children:"Aucun ticket trouv"}),r.jsxs("button",{onClick:()=>f(!0),className:"btn btn-primary mt-4",children:[r.jsx(ie,{className:"w-4 h-4"}),"Crer un ticket"]})]})}),r.jsx(re,{children:d&&r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>f(!1),children:r.jsxs(F.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:C=>C.stopPropagation(),className:"bg-surface-900 rounded-2xl border border-surface-700 w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[r.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[r.jsx(_a,{className:"w-5 h-5 text-primary-400"}),"Nouveau ticket d'intervention"]}),r.jsx("button",{onClick:()=>f(!1),className:"p-1.5 hover:bg-surface-800 rounded-lg",children:r.jsx(fe,{className:"w-4 h-4"})})]}),r.jsxs("form",{onSubmit:T,className:"p-4 space-y-4 overflow-y-auto max-h-[calc(90vh-120px)]",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Titre de la demande *"}),r.jsx("input",{type:"text",value:p.title,onChange:C=>g({...p,title:C.target.value}),className:"input",placeholder:"Ex: Problme d'imprimante bureau 201",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Description dtaille"}),r.jsx("textarea",{value:p.description,onChange:C=>g({...p,description:C.target.value}),className:"input min-h-[100px]",placeholder:"Dcrivez votre problme en dtail..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Catgorie"}),r.jsx("select",{value:p.category,onChange:C=>g({...p,category:C.target.value}),className:"input",children:s.map(C=>r.jsxs("option",{value:C.id,children:[C.icon," ",C.name]},C.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Priorit"}),r.jsx("select",{value:p.priority,onChange:C=>g({...p,priority:C.target.value}),className:"input",children:Object.entries(_i).map(([C,U])=>r.jsx("option",{value:C,children:U.label},C))})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Urgence"}),r.jsx("select",{value:p.urgency,onChange:C=>g({...p,urgency:C.target.value}),className:"input",children:Object.entries(f8).map(([C,U])=>r.jsx("option",{value:C,children:U.label},C))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Date souhaite"}),r.jsx("input",{type:"date",value:p.requestedDate,onChange:C=>g({...p,requestedDate:C.target.value}),className:"input"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm text-surface-400 mb-1",children:[r.jsx(Hg,{className:"w-3 h-3 inline mr-1"}),"Localisation"]}),r.jsx("input",{type:"text",value:p.location,onChange:C=>g({...p,location:C.target.value}),className:"input",placeholder:"Ex: Bureau 201, Btiment A"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm text-surface-400 mb-1",children:[r.jsx(kN,{className:"w-3 h-3 inline mr-1"}),"quipement concern"]}),r.jsx("input",{type:"text",value:p.equipment,onChange:C=>g({...p,equipment:C.target.value}),className:"input",placeholder:"Ex: PC-2024-001"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-surface-800",children:[r.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-secondary",children:"Annuler"}),r.jsx("button",{type:"submit",disabled:c,className:"btn btn-primary",children:c?r.jsxs(r.Fragment,{children:[r.jsx(Hu,{className:"w-4 h-4 animate-spin"}),"Envoi..."]}):r.jsxs(r.Fragment,{children:[r.jsx(aT,{className:"w-4 h-4"}),"Soumettre"]})})]})]})]})})}),r.jsx(re,{children:m&&r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>x(null),children:r.jsxs(F.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:C=>C.stopPropagation(),className:"bg-surface-900 rounded-2xl border border-surface-700 w-full max-w-lg",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:R(m.category).icon}),r.jsx("span",{className:"font-mono text-surface-500",children:m.ticketNumber})]}),r.jsx("button",{onClick:()=>x(null),className:"p-1.5 hover:bg-surface-800 rounded-lg",children:r.jsx(fe,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${(P=Fi[m.status])==null?void 0:P.color} text-white`,children:(S=Fi[m.status])==null?void 0:S.label}),r.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${(w=_i[m.priority])==null?void 0:w.color} text-white`,children:(D=_i[m.priority])==null?void 0:D.label})]}),r.jsx("h3",{className:"text-lg font-semibold text-surface-100",children:m.title})]}),m.description&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-surface-400 mb-1",children:"Description"}),r.jsx("p",{className:"text-surface-300 whitespace-pre-wrap",children:m.description})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.location&&r.jsxs("div",{children:[r.jsx("p",{className:"text-surface-500",children:"Localisation"}),r.jsx("p",{className:"text-surface-300",children:m.location})]}),m.equipment&&r.jsxs("div",{children:[r.jsx("p",{className:"text-surface-500",children:"quipement"}),r.jsx("p",{className:"text-surface-300",children:m.equipment})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-surface-500",children:"Cr le"}),r.jsx("p",{className:"text-surface-300",children:new Date(m.createdAt).toLocaleString("fr-FR")})]}),m.assignedToName&&r.jsxs("div",{children:[r.jsx("p",{className:"text-surface-500",children:"Assign "}),r.jsx("p",{className:"text-primary-400",children:m.assignedToName})]})]}),m.status==="pending"&&r.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t border-surface-800",children:r.jsxs("button",{onClick:()=>k(m.id),className:"btn btn-secondary text-red-400 hover:bg-red-500/20",children:[r.jsx(Bo,{className:"w-4 h-4"}),"Annuler le ticket"]})})]})]})})})]})}const $i={low:{label:"Basse",color:"bg-surface-600",text:"text-surface-300"},medium:{label:"Moyenne",color:"bg-blue-500",text:"text-blue-400"},high:{label:"Haute",color:"bg-orange-500",text:"text-orange-400"},critical:{label:"Critique",color:"bg-red-500",text:"text-red-400"}},hy={low:{label:"Faible",color:"bg-surface-600"},normal:{label:"Normal",color:"bg-blue-500"},high:{label:"Urgent",color:"bg-orange-500"},critical:{label:"Critique",color:"bg-red-500"}},ma={pending:{label:"En attente",color:"bg-surface-600",icon:nt},assigned:{label:"Assign",color:"bg-blue-500",icon:Wn},in_progress:{label:"En cours",color:"bg-amber-500",icon:Hu},resolved:{label:"Rsolu",color:"bg-emerald-500",icon:Ue},closed:{label:"Ferm",color:"bg-surface-500",icon:Ue},cancelled:{label:"Annul",color:"bg-red-500",icon:Bo}};function h8(){var C,U,W,B,_,H;const{workspaceId:e}=mt(),[t,s]=v.useState([]),[n,a]=v.useState([]),[i,o]=v.useState(null),[l,c]=v.useState([]),[u,d]=v.useState([]),[f,m]=v.useState(!0),[x,h]=v.useState({status:"",category:"",priority:""}),[j,b]=v.useState(""),[y,p]=v.useState(null),[g,N]=v.useState(!1),[E,T]=v.useState(!1),[k,M]=v.useState({boardId:"",assignedTo:"",dueDate:"",createItem:!0});v.useEffect(()=>{R()},[e,x]);const R=async()=>{var L;m(!0),T(!1);try{const[z,Q,I,X,te]=await Promise.all([er.getCategories(),er.getByWorkspace(e,x),er.getStats(e),Ro.getByWorkspace(e),vt.getByWorkspace(e)]);s(z.data),a(Q.data),o(I.data),c(X.data),d(te.data)}catch(z){((L=z.response)==null?void 0:L.status)===403?T(!0):V.error("Erreur lors du chargement")}finally{m(!1)}},P=async L=>{if(L.preventDefault(),!!y)try{await er.assign(y.id,k),V.success("Ticket assign avec succs !"),N(!1),M({boardId:"",assignedTo:"",dueDate:"",createItem:!0}),p(null),R()}catch{V.error("Erreur lors de l'assignation")}},S=async(L,z,Q=null)=>{try{await er.updateStatus(L,{status:z,resolutionNotes:Q}),V.success("Statut mis  jour"),R(),(y==null?void 0:y.id)===L&&p(null)}catch{V.error("Erreur")}},w=n.filter(L=>{var z;if(j){const Q=j.toLowerCase();return L.title.toLowerCase().includes(Q)||L.ticketNumber.toLowerCase().includes(Q)||((z=L.submitterName)==null?void 0:z.toLowerCase().includes(Q))}return!0}),D=L=>t.find(z=>z.id===L)||{name:L,icon:""};return f?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):E?r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[r.jsx(os,{className:"w-16 h-16 text-amber-400 mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-surface-100 mb-2",children:"Accs restreint"}),r.jsx("p",{className:"text-surface-400 mb-4",children:"Vous devez tre administrateur pour accder  cette page."}),r.jsxs(me,{to:`/workspace/${e}/tickets`,className:"btn btn-primary",children:[r.jsx(_a,{className:"w-4 h-4"}),"Mes tickets"]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-display font-bold text-surface-100 flex items-center gap-3",children:[r.jsx(_a,{className:"w-7 h-7 text-primary-400"}),"Gestion des tickets"]}),r.jsx("p",{className:"text-surface-400 mt-1",children:"Administration et assignation des demandes d'intervention"})]}),r.jsxs("button",{onClick:R,className:"btn btn-ghost",children:[r.jsx(qt,{className:"w-4 h-4"}),"Actualiser"]})]}),i&&r.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[r.jsxs("div",{className:"card p-4 text-center border-l-4 border-surface-600",children:[r.jsx("p",{className:"text-2xl font-bold text-surface-100",children:i.total}),r.jsx("p",{className:"text-xs text-surface-500",children:"Total"})]}),r.jsxs("div",{className:"card p-4 text-center border-l-4 border-amber-500",children:[r.jsx("p",{className:"text-2xl font-bold text-amber-400",children:i.pending}),r.jsx("p",{className:"text-xs text-surface-500",children:"En attente"})]}),r.jsxs("div",{className:"card p-4 text-center border-l-4 border-blue-500",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-400",children:i.assigned}),r.jsx("p",{className:"text-xs text-surface-500",children:"Assigns"})]}),r.jsxs("div",{className:"card p-4 text-center border-l-4 border-purple-500",children:[r.jsx("p",{className:"text-2xl font-bold text-purple-400",children:i.in_progress}),r.jsx("p",{className:"text-xs text-surface-500",children:"En cours"})]}),r.jsxs("div",{className:"card p-4 text-center border-l-4 border-emerald-500",children:[r.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:i.resolved}),r.jsx("p",{className:"text-xs text-surface-500",children:"Rsolus"})]}),r.jsxs("div",{className:"card p-4 text-center border-l-4 border-red-500",children:[r.jsx("p",{className:"text-2xl font-bold text-red-400",children:i.critical}),r.jsx("p",{className:"text-xs text-surface-500",children:"Critiques"})]})]}),r.jsx("div",{className:"card p-4",children:r.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(yp,{className:"w-4 h-4 text-surface-500"}),r.jsx("span",{className:"text-sm text-surface-400",children:"Filtres:"})]}),r.jsxs("select",{value:x.status,onChange:L=>h({...x,status:L.target.value}),className:"input py-1.5 px-3 text-sm w-40",children:[r.jsx("option",{value:"",children:"Tous statuts"}),Object.entries(ma).map(([L,z])=>r.jsx("option",{value:L,children:z.label},L))]}),r.jsxs("select",{value:x.category,onChange:L=>h({...x,category:L.target.value}),className:"input py-1.5 px-3 text-sm w-40",children:[r.jsx("option",{value:"",children:"Toutes catgories"}),t.map(L=>r.jsx("option",{value:L.id,children:L.name},L.id))]}),r.jsxs("select",{value:x.priority,onChange:L=>h({...x,priority:L.target.value}),className:"input py-1.5 px-3 text-sm w-40",children:[r.jsx("option",{value:"",children:"Toutes priorits"}),Object.entries($i).map(([L,z])=>r.jsx("option",{value:L,children:z.label},L))]}),r.jsx("div",{className:"flex-1"}),r.jsxs("div",{className:"relative",children:[r.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-surface-500"}),r.jsx("input",{type:"text",value:j,onChange:L=>b(L.target.value),placeholder:"Rechercher...",className:"input py-1.5 pl-9 pr-3 text-sm w-64"})]})]})}),r.jsx("div",{className:"card overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-surface-800/50",children:r.jsxs("tr",{className:"text-left text-xs text-surface-400 uppercase",children:[r.jsx("th",{className:"p-3",children:"Ticket"}),r.jsx("th",{className:"p-3",children:"Demandeur"}),r.jsx("th",{className:"p-3",children:"Catgorie"}),r.jsx("th",{className:"p-3",children:"Priorit"}),r.jsx("th",{className:"p-3",children:"Statut"}),r.jsx("th",{className:"p-3",children:"Assign "}),r.jsx("th",{className:"p-3",children:"Date"}),r.jsx("th",{className:"p-3 text-right",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-surface-800",children:w.length>0?w.map(L=>{var I,X,te,ee,de;const z=D(L.category),Q=((I=ma[L.status])==null?void 0:I.icon)||nt;return r.jsxs("tr",{className:"hover:bg-surface-800/30 transition-colors",children:[r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:z.icon}),r.jsxs("div",{children:[r.jsx("p",{className:"font-mono text-xs text-surface-500",children:L.ticketNumber}),r.jsx("p",{className:"font-medium text-surface-200 text-sm max-w-[200px] truncate",children:L.title})]})]})}),r.jsxs("td",{className:"p-3",children:[r.jsx("p",{className:"text-sm text-surface-300",children:L.submitterName}),r.jsx("p",{className:"text-xs text-surface-500",children:L.submitterEmail})]}),r.jsx("td",{className:"p-3",children:r.jsx("span",{className:"text-sm text-surface-400",children:z.name})}),r.jsx("td",{className:"p-3",children:r.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${(X=$i[L.priority])==null?void 0:X.color} text-white`,children:(te=$i[L.priority])==null?void 0:te.label})}),r.jsx("td",{className:"p-3",children:r.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${(ee=ma[L.status])==null?void 0:ee.color} text-white flex items-center gap-1 w-fit`,children:[r.jsx(Q,{className:"w-3 h-3"}),(de=ma[L.status])==null?void 0:de.label]})}),r.jsx("td",{className:"p-3",children:L.assignedToName?r.jsx("span",{className:"text-sm text-primary-400",children:L.assignedToName}):r.jsx("span",{className:"text-sm text-surface-600",children:"Non assign"})}),r.jsx("td",{className:"p-3 text-sm text-surface-500",children:new Date(L.createdAt).toLocaleDateString("fr-FR")}),r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex items-center justify-end gap-2",children:[L.status==="pending"&&r.jsxs("button",{onClick:()=>{p(L),N(!0)},className:"btn btn-sm btn-primary",children:[r.jsx(Wn,{className:"w-3 h-3"}),"Assigner"]}),L.status==="assigned"&&r.jsx("button",{onClick:()=>S(L.id,"in_progress"),className:"btn btn-sm btn-ghost text-amber-400",children:"Dmarrer"}),L.status==="in_progress"&&r.jsx("button",{onClick:()=>S(L.id,"resolved"),className:"btn btn-sm btn-ghost text-emerald-400",children:"Rsoudre"}),r.jsx("button",{onClick:()=>p(L),className:"btn btn-sm btn-ghost",children:"Dtails"})]})})]},L.id)}):r.jsx("tr",{children:r.jsx("td",{colSpan:"8",className:"p-8 text-center text-surface-500",children:"Aucun ticket trouv"})})})]})}),r.jsx(re,{children:g&&y&&r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>N(!1),children:r.jsxs(F.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:L=>L.stopPropagation(),className:"bg-surface-900 rounded-2xl border border-surface-700 w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[r.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[r.jsx(Wn,{className:"w-5 h-5 text-primary-400"}),"Assigner le ticket"]}),r.jsx("button",{onClick:()=>N(!1),className:"p-1.5 hover:bg-surface-800 rounded-lg",children:r.jsx(fe,{className:"w-4 h-4"})})]}),r.jsxs("form",{onSubmit:P,className:"p-4 space-y-4",children:[r.jsxs("div",{className:"p-3 bg-surface-800/50 rounded-lg",children:[r.jsx("p",{className:"font-mono text-xs text-surface-500",children:y.ticketNumber}),r.jsx("p",{className:"font-medium text-surface-200",children:y.title}),r.jsxs("p",{className:"text-xs text-surface-500 mt-1",children:["De: ",y.submitterName]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm text-surface-400 mb-1",children:[r.jsx(Mm,{className:"w-3 h-3 inline mr-1"}),"Tableau de destination"]}),r.jsxs("select",{value:k.boardId,onChange:L=>M({...k,boardId:L.target.value}),className:"input",children:[r.jsx("option",{value:"",children:"Slectionner un tableau..."}),l.map(L=>r.jsx("option",{value:L.id,children:L.name},L.id))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm text-surface-400 mb-1",children:[r.jsx(ls,{className:"w-3 h-3 inline mr-1"}),"Assigner "]}),r.jsxs("select",{value:k.assignedTo,onChange:L=>M({...k,assignedTo:L.target.value}),className:"input",children:[r.jsx("option",{value:"",children:"Slectionner un membre..."}),u.map(L=>r.jsxs("option",{value:L.id,children:[L.firstName," ",L.lastName]},L.id))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm text-surface-400 mb-1",children:[r.jsx(Ze,{className:"w-3 h-3 inline mr-1"}),"Date limite"]}),r.jsx("input",{type:"date",value:k.dueDate,onChange:L=>M({...k,dueDate:L.target.value}),className:"input"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:k.createItem,onChange:L=>M({...k,createItem:L.target.checked}),className:"rounded"}),r.jsx("span",{className:"text-surface-300 text-sm",children:"Crer un lment dans le tableau"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-surface-800",children:[r.jsx("button",{type:"button",onClick:()=>N(!1),className:"btn btn-secondary",children:"Annuler"}),r.jsxs("button",{type:"submit",className:"btn btn-primary",children:[r.jsx(tt,{className:"w-4 h-4"}),"Assigner"]})]})]})]})})}),r.jsx(re,{children:y&&!g&&r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>p(null),children:r.jsxs(F.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:L=>L.stopPropagation(),className:"bg-surface-900 rounded-2xl border border-surface-700 w-full max-w-lg",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:D(y.category).icon}),r.jsx("span",{className:"font-mono text-surface-500",children:y.ticketNumber})]}),r.jsx("button",{onClick:()=>p(null),className:"p-1.5 hover:bg-surface-800 rounded-lg",children:r.jsx(fe,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"p-4 space-y-4 max-h-[70vh] overflow-y-auto",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${(C=ma[y.status])==null?void 0:C.color} text-white`,children:(U=ma[y.status])==null?void 0:U.label}),r.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${(W=$i[y.priority])==null?void 0:W.color} text-white`,children:(B=$i[y.priority])==null?void 0:B.label}),r.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${(_=hy[y.urgency])==null?void 0:_.color} text-white`,children:(H=hy[y.urgency])==null?void 0:H.label})]}),r.jsx("h3",{className:"text-lg font-semibold text-surface-100",children:y.title})]}),y.description&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-surface-400 mb-1",children:"Description"}),r.jsx("p",{className:"text-surface-300 whitespace-pre-wrap",children:y.description})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-surface-500",children:"Demandeur"}),r.jsx("p",{className:"text-surface-300",children:y.submitterName}),r.jsx("p",{className:"text-xs text-surface-500",children:y.submitterEmail})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-surface-500",children:"Cr le"}),r.jsx("p",{className:"text-surface-300",children:new Date(y.createdAt).toLocaleString("fr-FR")})]}),y.location&&r.jsxs("div",{children:[r.jsx("p",{className:"text-surface-500",children:"Localisation"}),r.jsx("p",{className:"text-surface-300",children:y.location})]}),y.equipment&&r.jsxs("div",{children:[r.jsx("p",{className:"text-surface-500",children:"quipement"}),r.jsx("p",{className:"text-surface-300",children:y.equipment})]}),y.assignedToName&&r.jsxs("div",{children:[r.jsx("p",{className:"text-surface-500",children:"Assign "}),r.jsx("p",{className:"text-primary-400",children:y.assignedToName})]}),y.boardName&&r.jsxs("div",{children:[r.jsx("p",{className:"text-surface-500",children:"Tableau"}),r.jsx("p",{className:"text-surface-300",children:y.boardName})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-2 pt-4 border-t border-surface-800",children:[y.status==="pending"&&r.jsxs("button",{onClick:()=>N(!0),className:"btn btn-sm btn-primary",children:[r.jsx(Wn,{className:"w-3 h-3"}),"Assigner"]}),y.status==="assigned"&&r.jsx("button",{onClick:()=>S(y.id,"in_progress"),className:"btn btn-sm btn-ghost text-amber-400",children:"Dmarrer"}),y.status==="in_progress"&&r.jsxs("button",{onClick:()=>S(y.id,"resolved"),className:"btn btn-sm btn-ghost text-emerald-400",children:[r.jsx(Ue,{className:"w-3 h-3"}),"Marquer rsolu"]}),y.status==="resolved"&&r.jsx("button",{onClick:()=>S(y.id,"closed"),className:"btn btn-sm btn-ghost",children:"Clturer"})]})]})]})})})]})}const py={planned:"bg-surface-600",in_progress:"bg-blue-500",completed:"bg-emerald-500",on_hold:"bg-amber-500",cancelled:"bg-red-500"},p8={planned:"Planifi",in_progress:"En cours",completed:"Termin",on_hold:"En pause",cancelled:"Annul"},Ul={excellent:{bg:"bg-emerald-500",text:"text-emerald-400",label:"Excellent"},good:{bg:"bg-green-500",text:"text-green-400",label:"Bon"},warning:{bg:"bg-amber-500",text:"text-amber-400",label:"Attention"},critical:{bg:"bg-red-500",text:"text-red-400",label:"Critique"}};function x8(){var N,E;const{workspaceId:e}=mt(),[t,s]=v.useState(null),[n,a]=v.useState(!0),[i,o]=v.useState(!1),[l,c]=v.useState(new Date),[u,d]=v.useState(!0);v.useEffect(()=>{f();const T=setInterval(()=>{f(!0)},5*60*1e3);return()=>clearInterval(T)},[e]);const f=async(T=!1)=>{T?o(!0):a(!0);try{const{data:k}=await ae.getDashboard(e);s(k),c(new Date),T&&V.success("Donnes actualises")}catch(k){console.error("Error loading SDSI dashboard:",k),T||V.error("Erreur lors du chargement")}finally{a(!1),o(!1)}},m=v.useMemo(()=>{var P,S,w,D,C,U;if(!t)return[];const T=[],k=((P=t.summary)==null?void 0:P.totalBudget)>0?t.summary.spentBudget/t.summary.totalBudget*100:0;k>90?T.push({type:"critical",icon:lo,title:"Budget critique",message:`${k.toFixed(1)}% du budget global consomm`,action:"Revoir les allocations"}):k>75&&T.push({type:"warning",icon:lo,title:"Budget lev",message:`${k.toFixed(1)}% du budget global consomm`,action:"Surveiller les dpenses"}),((S=t.kpisStatus)==null?void 0:S.critical)>0&&T.push({type:"critical",icon:Ku,title:"KPIs critiques",message:`${t.kpisStatus.critical} indicateur(s) en zone critique`,action:"Analyser les KPIs"}),((w=t.kpisStatus)==null?void 0:w.at_risk)>0&&T.push({type:"warning",icon:os,title:"KPIs  risque",message:`${t.kpisStatus.at_risk} indicateur(s)  surveiller`,action:"Prendre des mesures"});const M=(D=t.upcomingMilestones)==null?void 0:D.filter(W=>W.is_critical&&new Date(W.due_date)<new Date(Date.now()+7*24*60*60*1e3));(M==null?void 0:M.length)>0&&T.push({type:"warning",icon:rs,title:"Jalons critiques imminents",message:`${M.length} jalon(s) critique(s) dans les 7 jours`,action:"Voir les jalons"});const R=((U=(C=t.byStatus)==null?void 0:C.find(W=>W.status==="on_hold"))==null?void 0:U.count)||0;return R>0&&T.push({type:"info",icon:nt,title:"Projets en pause",message:`${R} projet(s) actuellement en pause`,action:"Revoir les priorits"}),T},[t]),x=v.useMemo(()=>{if(!t)return"good";const T=m.filter(M=>M.type==="critical").length,k=m.filter(M=>M.type==="warning").length;return T>0?"critical":k>2?"warning":k>0?"good":"excellent"},[m,t]);if(n)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})});const{summary:h,byStatus:j,byAxis:b,upcomingMilestones:y,kpisStatus:p}=t||{},g=(h==null?void 0:h.totalBudget)>0?h.spentBudget/h.totalBudget*100:0;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-display font-bold text-surface-100",children:"Schma Directeur SI"}),r.jsx("p",{className:"text-surface-400 mt-1",children:"Vue d'ensemble de la stratgie des systmes d'information"})]}),r.jsxs("div",{className:`px-4 py-2 rounded-xl ${Ul[x].bg}/20 flex items-center gap-2`,children:[r.jsx(_o,{className:`w-5 h-5 ${Ul[x].text}`}),r.jsx("span",{className:`font-medium ${Ul[x].text}`,children:Ul[x].label})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>f(!0),disabled:i,className:"btn-ghost btn-sm",title:"Actualiser les donnes",children:r.jsx(qt,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),r.jsxs("span",{className:"text-xs text-surface-500",children:["Mise  jour: ",l.toLocaleTimeString("fr-FR")]}),r.jsxs(me,{to:`/workspace/${e}/sdsi/roadmap`,className:"btn-primary",children:[r.jsx(Ze,{className:"w-4 h-4"}),"Voir la Roadmap"]})]})]}),r.jsx(re,{children:u&&m.length>0&&r.jsxs(F.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"card p-4 border-l-4 border-amber-500",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(or,{className:"w-5 h-5 text-amber-400"}),r.jsxs("h3",{className:"font-semibold text-surface-100",children:["Alertes et Notifications (",m.length,")"]})]}),r.jsx("button",{onClick:()=>d(!1),className:"text-surface-400 hover:text-surface-200 text-sm",children:"Masquer"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:m.map((T,k)=>r.jsx(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:k*.1},className:`p-3 rounded-lg ${T.type==="critical"?"bg-red-500/10 border border-red-500/20":T.type==="warning"?"bg-amber-500/10 border border-amber-500/20":"bg-blue-500/10 border border-blue-500/20"}`,children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(T.icon,{className:`w-4 h-4 mt-0.5 ${T.type==="critical"?"text-red-400":T.type==="warning"?"text-amber-400":"text-blue-400"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-surface-200",children:T.title}),r.jsx("p",{className:"text-xs text-surface-400 mt-0.5",children:T.message}),r.jsxs("button",{className:"text-xs text-primary-400 hover:text-primary-300 mt-1 flex items-center gap-1",children:[T.action," ",r.jsx(Ws,{className:"w-3 h-3"})]})]})]})},k))})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-5 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-indigo-500/10 rounded-full -mr-8 -mt-8"}),r.jsxs("div",{className:"flex items-center gap-4 relative",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-500/20 flex items-center justify-center",children:r.jsx(Fs,{className:"w-6 h-6 text-indigo-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-surface-100",children:(h==null?void 0:h.axesCount)||0}),r.jsx("p",{className:"text-sm text-surface-400",children:"Axes stratgiques"})]})]}),r.jsxs(me,{to:`/workspace/${e}/sdsi/axes`,className:"mt-3 text-xs text-primary-400 hover:text-primary-300 flex items-center gap-1",children:["Grer ",r.jsx(tt,{className:"w-3 h-3"})]})]}),r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-5 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-purple-500/10 rounded-full -mr-8 -mt-8"}),r.jsxs("div",{className:"flex items-center gap-4 relative",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-500/20 flex items-center justify-center",children:r.jsx(Fo,{className:"w-6 h-6 text-purple-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-surface-100",children:(h==null?void 0:h.projectsCount)||0}),r.jsx("p",{className:"text-sm text-surface-400",children:"Projets"})]})]}),r.jsxs("div",{className:"mt-3 flex gap-2 text-xs",children:[r.jsxs("span",{className:"px-2 py-1 rounded-full bg-blue-500/20 text-blue-400 flex items-center gap-1",children:[r.jsx(nT,{className:"w-3 h-3"}),(h==null?void 0:h.projectsInProgress)||0," en cours"]}),r.jsxs("span",{className:"px-2 py-1 rounded-full bg-emerald-500/20 text-emerald-400 flex items-center gap-1",children:[r.jsx(Ue,{className:"w-3 h-3"}),(h==null?void 0:h.projectsCompleted)||0," termins"]})]})]}),r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-5 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-cyan-500/10 rounded-full -mr-8 -mt-8"}),r.jsxs("div",{className:"flex items-center gap-4 relative",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-cyan-500/20 flex items-center justify-center",children:r.jsx(su,{className:"w-6 h-6 text-cyan-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-surface-100",children:(h==null?void 0:h.applicationsCount)||0}),r.jsx("p",{className:"text-sm text-surface-400",children:"Applications"})]})]}),r.jsxs(me,{to:`/workspace/${e}/sdsi/applications`,className:"mt-3 text-xs text-primary-400 hover:text-primary-300 flex items-center gap-1",children:["Inventaire ",r.jsx(tt,{className:"w-3 h-3"})]})]}),r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card p-5 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-emerald-500/10 rounded-full -mr-8 -mt-8"}),r.jsxs("div",{className:"flex items-center gap-4 relative",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-500/20 flex items-center justify-center",children:r.jsx(Rt,{className:"w-6 h-6 text-emerald-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-surface-100",children:(h==null?void 0:h.kpisCount)||0}),r.jsx("p",{className:"text-sm text-surface-400",children:"Indicateurs KPI"})]})]}),r.jsxs("div",{className:"mt-3 flex gap-2 text-xs",children:[(p==null?void 0:p.on_target)>0&&r.jsxs("span",{className:"px-2 py-1 rounded-full bg-emerald-500/20 text-emerald-400",children:[p.on_target," sur cible"]}),(p==null?void 0:p.at_risk)>0&&r.jsxs("span",{className:"px-2 py-1 rounded-full bg-amber-500/20 text-amber-400",children:[p.at_risk,"  risque"]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card p-6",children:[r.jsxs("h2",{className:"text-lg font-semibold text-surface-100 mb-4 flex items-center gap-2",children:[r.jsx(lo,{className:"w-5 h-5 text-primary-400"}),"Budget Global",g>75&&r.jsx("span",{className:`ml-auto text-xs px-2 py-1 rounded-full ${g>90?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400"}`,children:g>90?"Critique":"lev"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[r.jsx("span",{className:"text-surface-400",children:"Consomm"}),r.jsxs("span",{className:"text-surface-200 font-mono",children:[(N=h==null?void 0:h.spentBudget)==null?void 0:N.toLocaleString("fr-FR")," / ",(E=h==null?void 0:h.totalBudget)==null?void 0:E.toLocaleString("fr-FR")," FCFA"]})]}),r.jsxs("div",{className:"h-4 bg-surface-800 rounded-full overflow-hidden relative",children:[r.jsx(F.div,{initial:{width:0},animate:{width:`${Math.min(g,100)}%`},className:`h-full rounded-full ${g>90?"bg-gradient-to-r from-red-500 to-red-400":g>75?"bg-gradient-to-r from-amber-500 to-amber-400":"bg-gradient-to-r from-emerald-500 to-emerald-400"}`}),r.jsx("div",{className:"absolute top-0 left-[75%] w-0.5 h-full bg-surface-600"})]}),r.jsxs("div",{className:"flex justify-between text-xs text-surface-500 mt-1",children:[r.jsx("span",{children:"0%"}),r.jsx("span",{children:"75%"}),r.jsx("span",{children:"100%"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[r.jsxs("div",{className:"text-center p-3 bg-surface-800/50 rounded-lg",children:[r.jsxs("p",{className:`text-xl font-bold ${g>90?"text-red-400":g>75?"text-amber-400":"text-surface-100"}`,children:[g.toFixed(1),"%"]}),r.jsx("p",{className:"text-xs text-surface-400",children:"Consomm"})]}),r.jsxs("div",{className:"text-center p-3 bg-surface-800/50 rounded-lg",children:[r.jsx("p",{className:"text-xl font-bold text-emerald-400",children:(((h==null?void 0:h.totalBudget)||0)-((h==null?void 0:h.spentBudget)||0)).toLocaleString("fr-FR")}),r.jsx("p",{className:"text-xs text-surface-400",children:"FCFA Restant"})]})]})]})]}),r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"card p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-surface-100 mb-4",children:"Projets par Statut"}),r.jsxs("div",{className:"space-y-3",children:[j==null?void 0:j.map(T=>{const k=j.reduce((R,P)=>R+P.count,0),M=k>0?T.count/k*100:0;return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:`w-3 h-3 rounded-full ${py[T.status]}`}),r.jsx("span",{className:"text-surface-300 text-sm",children:p8[T.status]})]}),r.jsx("span",{className:"font-semibold text-surface-100",children:T.count})]}),r.jsx("div",{className:"h-1.5 bg-surface-800 rounded-full overflow-hidden",children:r.jsx(F.div,{initial:{width:0},animate:{width:`${M}%`},className:`h-full rounded-full ${py[T.status]}`})})]},T.status)}),(!j||j.length===0)&&r.jsx("p",{className:"text-surface-500 text-center py-4",children:"Aucun projet"})]})]}),r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"card p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"tat des KPIs"}),r.jsx(me,{to:`/workspace/${e}/sdsi/kpis`,className:"text-xs text-primary-400 hover:text-primary-300",children:"Voir tout"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-emerald-500/10 rounded-lg border border-emerald-500/20",children:[r.jsx(Ue,{className:"w-5 h-5 text-emerald-400"}),r.jsx("span",{className:"flex-1 text-surface-300",children:"Sur cible"}),r.jsx("span",{className:"font-bold text-emerald-400",children:(p==null?void 0:p.on_target)||0})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-amber-500/10 rounded-lg border border-amber-500/20",children:[r.jsx(os,{className:"w-5 h-5 text-amber-400"}),r.jsx("span",{className:"flex-1 text-surface-300",children:" risque"}),r.jsx("span",{className:"font-bold text-amber-400",children:(p==null?void 0:p.at_risk)||0})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-500/10 rounded-lg border border-red-500/20",children:[r.jsx(xN,{className:"w-5 h-5 text-red-400"}),r.jsx("span",{className:"flex-1 text-surface-300",children:"Critique"}),r.jsx("span",{className:"font-bold text-red-400",children:(p==null?void 0:p.critical)||0})]})]}),((p==null?void 0:p.at_risk)>0||(p==null?void 0:p.critical)>0)&&r.jsxs(me,{to:`/workspace/${e}/sdsi/kpis`,className:"btn-warning btn-sm w-full mt-4",children:[r.jsx(Vt,{className:"w-4 h-4"}),"Analyser les KPIs  risque"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"card p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Projets par Axe Stratgique"}),r.jsxs(me,{to:`/workspace/${e}/sdsi/axes`,className:"text-sm text-primary-400 hover:text-primary-300 flex items-center gap-1",children:["Voir tous ",r.jsx(tt,{className:"w-4 h-4"})]})]}),r.jsxs("div",{className:"space-y-3",children:[b==null?void 0:b.slice(0,5).map((T,k)=>{const M=Math.max(...(b==null?void 0:b.map(P=>P.count))||[1]),R=T.count/M*100;return r.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+k*.05},children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:T.color}}),r.jsx("span",{className:"text-surface-300 truncate max-w-[200px]",children:T.name})]}),r.jsx("span",{className:"font-semibold text-surface-100",children:T.count})]}),r.jsx("div",{className:"h-2 bg-surface-800 rounded-full overflow-hidden",children:r.jsx(F.div,{initial:{width:0},animate:{width:`${R}%`},className:"h-full rounded-full",style:{backgroundColor:T.color}})})]},T.name)}),(!b||b.length===0)&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Fs,{className:"w-12 h-12 text-surface-600 mx-auto mb-3"}),r.jsx("p",{className:"text-surface-500 mb-4",children:"Aucun axe stratgique dfini"}),r.jsxs(me,{to:`/workspace/${e}/sdsi/axes`,className:"btn-primary btn-sm",children:[r.jsx(ie,{className:"w-4 h-4"}),"Crer un axe"]})]})]})]}),r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"card p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Prochains Jalons"}),r.jsxs(me,{to:`/workspace/${e}/sdsi/projects`,className:"text-sm text-primary-400 hover:text-primary-300 flex items-center gap-1",children:["Voir tous ",r.jsx(tt,{className:"w-4 h-4"})]})]}),r.jsxs("div",{className:"space-y-3",children:[y==null?void 0:y.slice(0,5).map((T,k)=>{const M=new Date(T.due_date),P=Math.ceil((M-new Date)/(1e3*60*60*24)),S=P<=7,w=P<0;return r.jsxs(F.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8+k*.05},className:`flex items-start gap-3 p-3 rounded-lg ${w?"bg-red-500/10 border border-red-500/20":S?"bg-amber-500/10 border border-amber-500/20":"bg-surface-800/50"}`,children:[r.jsx(rs,{className:`w-4 h-4 mt-0.5 ${w?"text-red-400":T.is_critical?"text-amber-400":"text-primary-400"}`}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-surface-200 truncate",children:T.name}),r.jsx("p",{className:"text-xs text-surface-500 truncate",children:T.project_name})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`flex items-center gap-1 text-xs ${w?"text-red-400":S?"text-amber-400":"text-surface-400"}`,children:[r.jsx(nt,{className:"w-3 h-3"}),M.toLocaleDateString("fr-FR")]}),w?r.jsx("span",{className:"text-xs text-red-400",children:"En retard"}):S?r.jsxs("span",{className:"text-xs text-amber-400",children:[P,"j restants"]}):r.jsxs("span",{className:"text-xs text-surface-500",children:[P,"j restants"]})]})]},T.id)}),(!y||y.length===0)&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(rs,{className:"w-12 h-12 text-surface-600 mx-auto mb-3"}),r.jsx("p",{className:"text-surface-500",children:"Aucun jalon  venir"})]})]})]})]}),r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs(me,{to:`/workspace/${e}/sdsi/axes`,className:"card p-4 hover:bg-surface-800/80 hover:border-indigo-500/30 transition-all group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Fs,{className:"w-8 h-8 text-indigo-400"}),r.jsx(tt,{className:"w-4 h-4 text-surface-600 group-hover:text-indigo-400 group-hover:translate-x-1 transition-all"})]}),r.jsx("h3",{className:"font-medium text-surface-200 group-hover:text-surface-100",children:"Axes Stratgiques"}),r.jsx("p",{className:"text-sm text-surface-500",children:"Grer les orientations"})]}),r.jsxs(me,{to:`/workspace/${e}/sdsi/projects`,className:"card p-4 hover:bg-surface-800/80 hover:border-purple-500/30 transition-all group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Fo,{className:"w-8 h-8 text-purple-400"}),r.jsx(tt,{className:"w-4 h-4 text-surface-600 group-hover:text-purple-400 group-hover:translate-x-1 transition-all"})]}),r.jsx("h3",{className:"font-medium text-surface-200 group-hover:text-surface-100",children:"Projets"}),r.jsx("p",{className:"text-sm text-surface-500",children:"Portefeuille de projets"})]}),r.jsxs(me,{to:`/workspace/${e}/sdsi/applications`,className:"card p-4 hover:bg-surface-800/80 hover:border-cyan-500/30 transition-all group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(su,{className:"w-8 h-8 text-cyan-400"}),r.jsx(tt,{className:"w-4 h-4 text-surface-600 group-hover:text-cyan-400 group-hover:translate-x-1 transition-all"})]}),r.jsx("h3",{className:"font-medium text-surface-200 group-hover:text-surface-100",children:"Applications"}),r.jsx("p",{className:"text-sm text-surface-500",children:"Inventaire du SI"})]}),r.jsxs(me,{to:`/workspace/${e}/sdsi/kpis`,className:"card p-4 hover:bg-surface-800/80 hover:border-emerald-500/30 transition-all group",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Rt,{className:"w-8 h-8 text-emerald-400"}),r.jsx(tt,{className:"w-4 h-4 text-surface-600 group-hover:text-emerald-400 group-hover:translate-x-1 transition-all"})]}),r.jsx("h3",{className:"font-medium text-surface-200 group-hover:text-surface-100",children:"Indicateurs KPI"}),r.jsx("p",{className:"text-sm text-surface-500",children:"Mesurer la performance"})]})]})]})}const Qd={planned:{label:"Planifi",color:"bg-surface-500",textColor:"text-surface-300"},in_progress:{label:"En cours",color:"bg-blue-500",textColor:"text-blue-400"},completed:{label:"Termin",color:"bg-emerald-500",textColor:"text-emerald-400"},on_hold:{label:"En pause",color:"bg-amber-500",textColor:"text-amber-400"},cancelled:{label:"Annul",color:"bg-red-500",textColor:"text-red-400"}},xy={low:{label:"Basse",color:"text-surface-400"},medium:{label:"Moyenne",color:"text-amber-400"},high:{label:"Haute",color:"text-orange-400"},critical:{label:"Critique",color:"text-red-400"}};function g8(){const{workspaceId:e}=mt(),[t,s]=v.useState([]),[n,a]=v.useState([]),[i,o]=v.useState(!0),[l,c]=v.useState(""),[u,d]=v.useState(""),[f,m]=v.useState(""),[x,h]=v.useState(!1);v.useEffect(()=>{j()},[e]);const j=async()=>{try{const[y,p]=await Promise.all([ae.getProjects(e,{}),ae.getAxes(e)]);s(y.data),a(p.data)}catch(y){console.error("Error loading data:",y)}finally{o(!1)}},b=t.filter(y=>!(l&&!y.name.toLowerCase().includes(l.toLowerCase())||u&&y.axisId!==u||f&&y.status!==f));return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-display font-bold text-surface-100",children:"Projets SDSI"}),r.jsx("p",{className:"text-surface-400 mt-1",children:"Portefeuille de projets du schma directeur"})]}),r.jsxs("button",{onClick:()=>h(!0),className:"btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),"Nouveau Projet"]})]}),r.jsx("div",{className:"card p-4",children:r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsxs("div",{className:"relative",children:[r.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-surface-400"}),r.jsx("input",{type:"text",value:l,onChange:y=>c(y.target.value),placeholder:"Rechercher un projet...",className:"input w-full pl-10"})]})}),r.jsxs("select",{value:u,onChange:y=>d(y.target.value),className:"input w-48",children:[r.jsx("option",{value:"",children:"Tous les axes"}),n.map(y=>r.jsx("option",{value:y.id,children:y.name},y.id))]}),r.jsxs("select",{value:f,onChange:y=>m(y.target.value),className:"input w-40",children:[r.jsx("option",{value:"",children:"Tous les statuts"}),Object.entries(Qd).map(([y,{label:p}])=>r.jsx("option",{value:y,children:p},y))]})]})}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:b.map((y,p)=>{var g,N,E,T;return r.jsx(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.05},children:r.jsx(me,{to:`/workspace/${e}/sdsi/project/${y.id}`,className:"card p-5 block hover:bg-surface-800/80 transition-colors group",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:y.axisColor?`${y.axisColor}20`:"rgba(99, 102, 241, 0.2)"},children:r.jsx(Fo,{className:"w-5 h-5",style:{color:y.axisColor||"#6366f1"}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.code&&r.jsx("span",{className:"text-xs text-surface-500 font-mono",children:y.code}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${(g=Qd[y.status])==null?void 0:g.color} text-white`,children:(N=Qd[y.status])==null?void 0:N.label}),r.jsx("span",{className:`text-xs ${(E=xy[y.priority])==null?void 0:E.color}`,children:(T=xy[y.priority])==null?void 0:T.label})]}),r.jsx("h3",{className:"font-semibold text-surface-100 group-hover:text-white truncate",children:y.name}),y.axisName&&r.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[r.jsx(Fs,{className:"w-3 h-3",style:{color:y.axisColor}}),r.jsx("span",{className:"text-xs text-surface-400",children:y.axisName})]}),y.description&&r.jsx("p",{className:"text-sm text-surface-400 mt-2 line-clamp-2",children:y.description}),r.jsxs("div",{className:"mt-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[r.jsx("span",{className:"text-surface-400",children:"Progression"}),r.jsxs("span",{className:"text-surface-300",children:[y.progress,"%"]})]}),r.jsx("div",{className:"h-1.5 bg-surface-700 rounded-full overflow-hidden",children:r.jsx(F.div,{initial:{width:0},animate:{width:`${y.progress}%`},className:"h-full bg-primary-500 rounded-full"})})]}),r.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-surface-400",children:[y.startDate&&y.endDate&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ze,{className:"w-3 h-3"}),new Date(y.startDate).toLocaleDateString("fr-FR",{month:"short",year:"numeric"})," ","-"," ",new Date(y.endDate).toLocaleDateString("fr-FR",{month:"short",year:"numeric"})]}),y.estimatedBudget&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(lo,{className:"w-3 h-3"}),y.estimatedBudget.toLocaleString("fr-FR")," FCFA"]}),y.projectManager&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ls,{className:"w-3 h-3"}),y.projectManager]})]})]}),r.jsx(Ws,{className:"w-5 h-5 text-surface-500 group-hover:text-surface-300 shrink-0"})]})})},y.id)})}),b.length===0&&r.jsxs("div",{className:"card p-12 text-center",children:[r.jsx(Fo,{className:"w-16 h-16 text-surface-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-surface-300 mb-2",children:l||u||f?"Aucun projet trouv":"Aucun projet"}),r.jsx("p",{className:"text-surface-500 mb-6",children:l||u||f?"Essayez de modifier vos filtres":"Crez votre premier projet SDSI"}),!l&&!u&&!f&&r.jsxs("button",{onClick:()=>h(!0),className:"btn-primary mx-auto",children:[r.jsx(ie,{className:"w-4 h-4"}),"Crer un projet"]})]}),r.jsx(re,{children:x&&r.jsx(y8,{workspaceId:e,axes:n,onClose:()=>h(!1),onSave:y=>{s(p=>[y,...p]),h(!1)}})})]})}function y8({workspaceId:e,axes:t,onClose:s,onSave:n}){const[a,i]=v.useState({name:"",code:"",description:"",objectives:"",axisId:"",priority:"medium",status:"planned",complexity:"medium",strategicValue:5,urgency:5,estimatedBudget:"",startDate:"",endDate:"",sponsor:""}),[o,l]=v.useState(!1),c=async u=>{u.preventDefault(),l(!0);try{const{data:d}=await ae.createProject({...a,workspaceId:e,estimatedBudget:a.estimatedBudget?parseFloat(a.estimatedBudget):null});n(d)}catch(d){console.error("Error creating project:",d)}finally{l(!1)}};return r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:s,children:r.jsxs(F.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-surface-900 rounded-2xl w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-hidden",onClick:u=>u.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[r.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:"Nouveau Projet SDSI"}),r.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:c,className:"p-6 space-y-4 overflow-y-auto max-h-[calc(90vh-140px)]",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom du projet *"}),r.jsx("input",{type:"text",value:a.name,onChange:u=>i({...a,name:u.target.value}),className:"input w-full",placeholder:"Ex: Migration ERP",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Code"}),r.jsx("input",{type:"text",value:a.code,onChange:u=>i({...a,code:u.target.value.toUpperCase()}),className:"input w-full font-mono",placeholder:"PRJ-001",maxLength:20})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),r.jsx("textarea",{value:a.description,onChange:u=>i({...a,description:u.target.value}),className:"input w-full h-24 resize-none",placeholder:"Dcrivez le projet..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Objectifs"}),r.jsx("textarea",{value:a.objectives,onChange:u=>i({...a,objectives:u.target.value}),className:"input w-full h-20 resize-none",placeholder:"Quels sont les objectifs de ce projet ?"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Axe stratgique"}),r.jsxs("select",{value:a.axisId,onChange:u=>i({...a,axisId:u.target.value}),className:"input w-full",children:[r.jsx("option",{value:"",children:"Slectionner un axe"}),t.map(u=>r.jsxs("option",{value:u.id,children:[u.icon," ",u.name]},u.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Sponsor"}),r.jsx("input",{type:"text",value:a.sponsor,onChange:u=>i({...a,sponsor:u.target.value}),className:"input w-full",placeholder:"Nom du sponsor"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Priorit"}),r.jsxs("select",{value:a.priority,onChange:u=>i({...a,priority:u.target.value}),className:"input w-full",children:[r.jsx("option",{value:"low",children:"Basse"}),r.jsx("option",{value:"medium",children:"Moyenne"}),r.jsx("option",{value:"high",children:"Haute"}),r.jsx("option",{value:"critical",children:"Critique"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Complexit"}),r.jsxs("select",{value:a.complexity,onChange:u=>i({...a,complexity:u.target.value}),className:"input w-full",children:[r.jsx("option",{value:"low",children:"Faible"}),r.jsx("option",{value:"medium",children:"Moyenne"}),r.jsx("option",{value:"high",children:"leve"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Budget estim (FCFA)"}),r.jsx("input",{type:"number",value:a.estimatedBudget,onChange:u=>i({...a,estimatedBudget:u.target.value}),className:"input w-full",placeholder:"0",min:0})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Valeur stratgique (1-10)"}),r.jsx("input",{type:"range",value:a.strategicValue,onChange:u=>i({...a,strategicValue:parseInt(u.target.value)}),className:"w-full",min:1,max:10}),r.jsxs("div",{className:"flex justify-between text-xs text-surface-400",children:[r.jsx("span",{children:"Faible"}),r.jsx("span",{className:"font-bold text-primary-400",children:a.strategicValue}),r.jsx("span",{children:"leve"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Urgence (1-10)"}),r.jsx("input",{type:"range",value:a.urgency,onChange:u=>i({...a,urgency:parseInt(u.target.value)}),className:"w-full",min:1,max:10}),r.jsxs("div",{className:"flex justify-between text-xs text-surface-400",children:[r.jsx("span",{children:"Faible"}),r.jsx("span",{className:"font-bold text-primary-400",children:a.urgency}),r.jsx("span",{children:"leve"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Date de dbut"}),r.jsx("input",{type:"date",value:a.startDate,onChange:u=>i({...a,startDate:u.target.value}),className:"input w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Date de fin"}),r.jsx("input",{type:"date",value:a.endDate,onChange:u=>i({...a,endDate:u.target.value}),className:"input w-full"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:s,className:"btn-secondary flex-1",children:"Annuler"}),r.jsx("button",{type:"submit",disabled:o||!a.name,className:"btn-primary flex-1",children:o?"Cration...":"Crer le projet"})]})]})]})})}const Gd={planned:{label:"Planifi",color:"bg-surface-500",icon:nt},in_progress:{label:"En cours",color:"bg-blue-500",icon:Da},completed:{label:"Termin",color:"bg-emerald-500",icon:Ue},on_hold:{label:"En pause",color:"bg-amber-500",icon:CN},cancelled:{label:"Annul",color:"bg-red-500",icon:fe}},Vi={pending:{label:"En attente",color:"bg-surface-600"},in_progress:{label:"En cours",color:"bg-blue-500"},completed:{label:"Termin",color:"bg-emerald-500"},on_hold:{label:"En pause",color:"bg-amber-500"}},Yd=e=>e>=15?{label:"Critique",color:"bg-red-500",text:"text-red-400"}:e>=10?{label:"Important",color:"bg-orange-500",text:"text-orange-400"}:e>=5?{label:"Modr",color:"bg-amber-500",text:"text-amber-400"}:{label:"Ngligeable",color:"bg-emerald-500",text:"text-emerald-400"},It=e=>e?new Intl.NumberFormat("fr-FR").format(e)+" XAF":"-";function v8(){var Dp,Tp,Ap,Rp,Op,Lp,Ip,_p,Fp,$p,Vp,Bp,zp,Up,qp,Wp;const{workspaceId:e,projectId:t}=mt(),[s,n]=v.useState(null),[a,i]=v.useState(!0),[o,l]=v.useState("definition"),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[m,x]=v.useState(!1),[h,j]=v.useState(!1),[b,y]=v.useState(null),[p,g]=v.useState([]),[N,E]=v.useState([]),[T,k]=v.useState(!1),[M,R]=v.useState({name:"",description:"",startDate:"",endDate:"",deliverables:""}),[P,S]=v.useState({name:"",description:"",dueDate:"",isCritical:!1}),[w,D]=v.useState({name:"",description:"",category:"operational",probability:3,impact:3,mitigationStrategy:""}),[C,U]=v.useState({category:"other",description:"",amount:"",expenseDate:new Date().toISOString().split("T")[0],vendor:"",invoiceNumber:"",notes:""});v.useEffect(()=>{W(),B(),_()},[t]);const W=async()=>{try{const{data:O}=await ae.getProject(t);n(O)}catch{V.error("Erreur lors du chargement")}finally{i(!1)}},B=async()=>{k(!0);try{const{data:O}=await ae.getExpenses(t);g(O)}catch(O){console.error("Error loading expenses:",O)}finally{k(!1)}},_=async()=>{try{const{data:O}=await ae.getExpenseCategories();E(O)}catch(O){console.error("Error loading expense categories:",O)}},H=async O=>{O.preventDefault();try{await ae.createPhase(t,M),V.success("Phase ajoute"),u(!1),R({name:"",description:"",startDate:"",endDate:"",deliverables:""}),W()}catch{V.error("Erreur")}},L=async(O,le)=>{try{await ae.updatePhase(O,le),W()}catch{V.error("Erreur")}},z=async O=>{if(confirm("Supprimer cette phase ?"))try{await ae.deletePhase(O),V.success("Phase supprime"),W()}catch{V.error("Erreur")}},Q=async O=>{O.preventDefault();try{await ae.createMilestone(t,P),V.success("Jalon ajout"),f(!1),S({name:"",description:"",dueDate:"",isCritical:!1}),W()}catch{V.error("Erreur")}},I=async(O,le)=>{try{await ae.updateMilestone(O,le),W()}catch{V.error("Erreur")}},X=async O=>{if(confirm("Supprimer ce jalon ?"))try{await ae.deleteMilestone(O),V.success("Jalon supprim"),W()}catch{V.error("Erreur")}},te=async O=>{O.preventDefault();try{await ae.createRisk(t,w),V.success("Risque ajout"),x(!1),D({name:"",description:"",category:"operational",probability:3,impact:3,mitigationStrategy:""}),W()}catch{V.error("Erreur")}},ee=async O=>{if(confirm("Supprimer ce risque ?"))try{await ae.deleteRisk(O),V.success("Risque supprim"),W()}catch{V.error("Erreur")}},de=async O=>{if(O.preventDefault(),!C.description||!C.amount){V.error("Description et montant requis");return}try{await ae.addExpense(t,{...C,amount:parseFloat(C.amount)}),V.success("Dpense ajoute"),j(!1),U({category:"other",description:"",amount:"",expenseDate:new Date().toISOString().split("T")[0],vendor:"",invoiceNumber:"",notes:""}),B(),W()}catch{V.error("Erreur lors de l'ajout")}},xn=async O=>{if(confirm("Supprimer cette dpense ?"))try{await ae.deleteExpense(O),V.success("Dpense supprime"),B(),W()}catch{V.error("Erreur")}},[Kt,Qt]=v.useState(!1),Ot=async()=>{Qt(!0);try{const{data:O}=await ae.syncProgress(t);V.success(`Progression mise  jour: ${O.progress}%`),W()}catch{V.error("Erreur lors de la synchronisation")}finally{Qt(!1)}},at=async()=>{try{const{data:O}=await ae.checkCompletion(t);O.canComplete?(V.success(O.message||"Projet marqu comme termin"),W()):V.info(`${O.pendingPhases} phases et ${O.pendingCriticalMilestones} jalons critiques restants`)}catch{V.error("Erreur")}},Yu=async()=>{try{const{data:O}=await ae.syncProjectKPIs(t);V.success(`${O.synced} KPIs synchroniss`)}catch{V.error("Erreur lors de la synchronisation des KPIs")}};if(a)return r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})});if(!s)return r.jsxs("div",{className:"card p-12 text-center",children:[r.jsx("h2",{className:"text-xl font-medium text-surface-300",children:"Projet non trouv"}),r.jsx(me,{to:`/workspace/${e}/sdsi/projects`,className:"btn btn-primary mt-4",children:"Retour aux projets"})]});const tw=((Dp=Gd[s.status])==null?void 0:Dp.icon)||nt,Lt=s.estimatedBudget?(s.actualBudget||0)/s.estimatedBudget*100:0,ca={critical:((Tp=s.risks)==null?void 0:Tp.filter(O=>O.score>=15).length)||0,important:((Ap=s.risks)==null?void 0:Ap.filter(O=>O.score>=10&&O.score<15).length)||0,moderate:((Rp=s.risks)==null?void 0:Rp.filter(O=>O.score>=5&&O.score<10).length)||0,low:((Op=s.risks)==null?void 0:Op.filter(O=>O.score<5).length)||0},sw=[{id:"definition",label:"Dfinition",icon:gs},{id:"gestion",label:"Gestion",icon:Mm},{id:"budget",label:"Budget",icon:eu},{id:"suivi",label:"Suivi",icon:Rt}],gn=p.reduce((O,le)=>O+(le.amount||0),0),Mp=p.reduce((O,le)=>{const Ge=le.category||"other";return O[Ge]=(O[Ge]||0)+le.amount,O},{});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(me,{to:`/workspace/${e}/sdsi/projects`,className:"flex items-center gap-2 text-surface-400 hover:text-surface-200 transition-colors",children:[r.jsx(Wu,{className:"w-4 h-4"}),"Retour"]}),r.jsx("div",{className:"flex items-center gap-2 px-3 py-1 bg-primary-500/20 text-primary-400 rounded-full text-sm font-medium",children:"PROJET"}),r.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 ${(Lp=Gd[s.status])==null?void 0:Lp.color} text-white rounded-full text-sm font-medium`,children:[r.jsx(tw,{className:"w-3 h-3"}),(Ip=Gd[s.status])==null?void 0:Ip.label]}),r.jsxs("h1",{className:"text-xl font-display font-bold text-surface-100 flex-1",children:[s.code&&r.jsx("span",{className:"text-surface-500 mr-2",children:s.code}),s.name]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:Ot,disabled:Kt,className:"btn btn-sm btn-ghost",title:"Synchroniser la progression",children:[r.jsx(qt,{className:`w-4 h-4 ${Kt?"animate-spin":""}`}),"Sync"]}),r.jsxs("button",{onClick:Yu,className:"btn btn-sm btn-ghost",title:"Synchroniser les KPIs",children:[r.jsx(Rt,{className:"w-4 h-4"}),"KPIs"]}),s.status!=="completed"&&r.jsxs("button",{onClick:at,className:"btn btn-sm btn-primary",title:"Vrifier la compltion",children:[r.jsx(Ue,{className:"w-4 h-4"}),"Terminer"]})]})]}),r.jsx("div",{className:"flex items-center gap-1 border-b border-surface-800",children:sw.map(O=>{const le=O.icon;return r.jsxs("button",{onClick:()=>l(O.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 -mb-px ${o===O.id?"text-primary-400 border-primary-500":"text-surface-400 border-transparent hover:text-surface-200"}`,children:[r.jsx(le,{className:"w-4 h-4"}),O.label]},O.id)})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o==="definition"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs("div",{className:"card p-4 text-center",children:[r.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Progression"}),r.jsxs("p",{className:"text-2xl font-bold text-primary-400",children:[s.progress,"%"]})]}),r.jsxs("div",{className:"card p-4 text-center",children:[r.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Budget"}),r.jsx("p",{className:"text-lg font-bold text-surface-100",children:It(s.estimatedBudget)})]}),r.jsxs("div",{className:"card p-4 text-center",children:[r.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Jalons"}),r.jsxs("p",{className:"text-2xl font-bold text-surface-100",children:[((_p=s.milestones)==null?void 0:_p.filter(O=>O.status==="completed").length)||0,r.jsxs("span",{className:"text-surface-500",children:["/",((Fp=s.milestones)==null?void 0:Fp.length)||0]})]})]}),r.jsxs("div",{className:"card p-4 text-center",children:[r.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Avancement"}),r.jsx("div",{className:"w-full h-2 bg-surface-700 rounded-full mt-2",children:r.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${s.progress}%`}})})]})]}),r.jsxs("div",{className:"card p-6",children:[r.jsx("h3",{className:"font-semibold text-surface-100 mb-4",children:"Description du projet"}),r.jsx("p",{className:"text-surface-300 whitespace-pre-wrap",children:s.description||"Aucune description"}),s.objectives&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"font-medium text-surface-200 mb-2",children:"Objectifs"}),r.jsx("p",{className:"text-surface-400 whitespace-pre-wrap",children:s.objectives})]}),s.expectedBenefits&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"font-medium text-surface-200 mb-2",children:"Bnfices attendus"}),r.jsx("p",{className:"text-surface-400 whitespace-pre-wrap",children:s.expectedBenefits})]})]}),r.jsxs("div",{className:"card p-6",children:[r.jsx("h3",{className:"font-semibold text-surface-100 mb-4",children:"Planning"}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ze,{className:"w-4 h-4 text-surface-500"}),r.jsx("span",{className:"text-surface-400",children:"Dbut:"}),r.jsx("span",{className:"text-surface-200",children:s.startDate?new Date(s.startDate).toLocaleDateString("fr-FR"):"-"})]}),r.jsx(Ws,{className:"w-4 h-4 text-surface-600"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ze,{className:"w-4 h-4 text-surface-500"}),r.jsx("span",{className:"text-surface-400",children:"Fin:"}),r.jsx("span",{className:"text-surface-200",children:s.endDate?new Date(s.endDate).toLocaleDateString("fr-FR"):"-"})]})]}),s.phases&&s.phases.length>0&&r.jsx("div",{className:"mt-6 space-y-2",children:s.phases.map((O,le)=>{var Ge;return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-32 text-xs text-surface-400 truncate",children:O.name}),r.jsxs("div",{className:"flex-1 h-6 bg-surface-800 rounded-lg overflow-hidden relative",children:[r.jsx("div",{className:`h-full ${(Ge=Vi[O.status])==null?void 0:Ge.color} transition-all`,style:{width:`${O.progress||0}%`}}),r.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-white font-medium",children:[O.progress||0,"%"]})]})]},O.id)})})]})]}),o==="gestion"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"card p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[r.jsx(Mm,{className:"w-5 h-5 text-purple-400"}),"Phases (",(($p=s.phases)==null?void 0:$p.length)||0,")"]}),r.jsxs("button",{onClick:()=>u(!0),className:"btn btn-sm btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),"Ajouter"]})]}),s.phases&&s.phases.length>0?r.jsx("div",{className:"space-y-3",children:s.phases.map((O,le)=>{var Ge,wi;return r.jsxs("div",{className:"p-3 bg-surface-800/50 rounded-lg group",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"w-6 h-6 rounded bg-purple-500/20 text-purple-400 text-xs font-bold flex items-center justify-center shrink-0",children:le+1}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-surface-200 truncate",children:O.name}),r.jsxs("div",{className:"flex items-center gap-3 text-xs text-surface-500",children:[O.startDate&&r.jsx("span",{children:new Date(O.startDate).toLocaleDateString("fr-FR")}),O.startDate&&O.endDate&&r.jsx("span",{children:""}),O.endDate&&r.jsx("span",{children:new Date(O.endDate).toLocaleDateString("fr-FR")})]})]}),r.jsx("select",{value:O.status,onChange:vr=>L(O.id,{status:vr.target.value}),className:`px-2 py-1 rounded text-xs ${(Ge=Vi[O.status])==null?void 0:Ge.color} text-white border-0`,children:Object.entries(Vi).map(([vr,rw])=>r.jsx("option",{value:vr,children:rw.label},vr))}),r.jsx("button",{onClick:()=>z(O.id),className:"p-1.5 opacity-0 group-hover:opacity-100 hover:bg-red-500/20 rounded transition-all",children:r.jsx(Qe,{className:"w-4 h-4 text-red-400"})})]}),r.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[r.jsx("span",{className:"text-xs text-surface-500 w-20",children:"Progression"}),r.jsxs("div",{className:"flex-1 relative group/progress",children:[r.jsx("input",{type:"range",min:"0",max:"100",value:O.progress||0,onChange:vr=>L(O.id,{progress:parseInt(vr.target.value)}),className:"w-full h-2 bg-surface-700 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:bg-primary-500 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:cursor-pointer"}),r.jsx("div",{className:`absolute top-0 left-0 h-2 rounded-full pointer-events-none ${(wi=Vi[O.status])==null?void 0:wi.color}`,style:{width:`${O.progress||0}%`}})]}),r.jsxs("span",{className:"text-sm font-bold text-primary-400 w-12 text-right",children:[O.progress||0,"%"]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>L(O.id,{progress:0}),className:"px-2 py-0.5 text-xs bg-surface-700 hover:bg-surface-600 rounded",children:"0%"}),r.jsx("button",{onClick:()=>L(O.id,{progress:50}),className:"px-2 py-0.5 text-xs bg-surface-700 hover:bg-surface-600 rounded",children:"50%"}),r.jsx("button",{onClick:()=>L(O.id,{progress:100,status:"completed"}),className:"px-2 py-0.5 text-xs bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 rounded",children:"100%"})]})]})]},O.id)})}):r.jsx("p",{className:"text-center text-surface-500 py-6",children:"Aucune phase dfinie"})]}),r.jsxs("div",{className:"card p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[r.jsx(rs,{className:"w-5 h-5 text-amber-400"}),"Jalons (",((Vp=s.milestones)==null?void 0:Vp.length)||0,")"]}),r.jsxs("button",{onClick:()=>f(!0),className:"btn btn-sm btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),"Ajouter"]})]}),s.milestones&&s.milestones.length>0?r.jsx("div",{className:"space-y-2",children:s.milestones.map(O=>{const le=O.dueDate&&new Date(O.dueDate)<new Date&&O.status!=="completed";return r.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg group ${le?"bg-red-500/10 border border-red-500/30":"bg-surface-800/50"}`,children:[r.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${O.status==="completed"?"bg-emerald-500/20":le?"bg-red-500/20":"bg-surface-700"}`,children:O.status==="completed"?r.jsx(Ue,{className:"w-4 h-4 text-emerald-400"}):r.jsx(rs,{className:`w-4 h-4 ${O.isCritical?"text-amber-400":"text-surface-400"}`})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"font-medium text-surface-200",children:O.name}),O.isCritical&&r.jsx("span",{className:"px-1.5 py-0.5 bg-amber-500/20 text-amber-400 text-[10px] rounded",children:"Critique"})]}),O.description&&r.jsx("p",{className:"text-xs text-surface-500 truncate",children:O.description})]}),r.jsxs("div",{className:"text-right text-xs",children:[r.jsx("p",{className:le?"text-red-400":"text-surface-400",children:O.dueDate&&new Date(O.dueDate).toLocaleDateString("fr-FR")}),le&&r.jsx("p",{className:"text-red-400 font-medium",children:"En retard"})]}),r.jsxs("select",{value:O.status,onChange:Ge=>I(O.id,{status:Ge.target.value,completedDate:Ge.target.value==="completed"?new Date().toISOString().split("T")[0]:null}),className:"px-2 py-1 rounded text-xs bg-surface-700 text-surface-200 border-0",children:[r.jsx("option",{value:"pending",children:" venir"}),r.jsx("option",{value:"in_progress",children:"En cours"}),r.jsx("option",{value:"completed",children:"Termin"})]}),r.jsx("button",{onClick:()=>X(O.id),className:"p-1.5 opacity-0 group-hover:opacity-100 hover:bg-red-500/20 rounded transition-all",children:r.jsx(Qe,{className:"w-4 h-4 text-red-400"})})]},O.id)})}):r.jsx("p",{className:"text-center text-surface-500 py-6",children:"Aucun jalon dfini"})]}),r.jsxs("div",{className:"card p-6",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[r.jsx(Le,{className:"w-5 h-5 text-blue-400"}),"Ressources alloues"]})}),s.allocations&&s.allocations.length>0?r.jsx("div",{className:"space-y-2",children:s.allocations.map(O=>{var le;return r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-800/50 rounded-lg",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center text-blue-400 font-bold text-sm",children:(le=O.resourceName)==null?void 0:le.charAt(0)}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-surface-200",children:O.resourceName}),r.jsx("p",{className:"text-xs text-surface-500",children:O.role||O.resourceType})]}),r.jsxs("span",{className:"text-primary-400 font-bold",children:[O.percentage,"%"]})]},O.id)})}):r.jsx("p",{className:"text-center text-surface-500 py-6",children:"Aucune ressource alloue"})]})]}),o==="budget"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"card p-4",children:[r.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Budget estim"}),r.jsx("p",{className:"text-2xl font-bold text-surface-100",children:It(s.estimatedBudget)})]}),r.jsxs("div",{className:"card p-4",children:[r.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Dpens"}),r.jsx("p",{className:"text-2xl font-bold text-amber-400",children:It(s.actualBudget||gn)})]}),r.jsxs("div",{className:"card p-4",children:[r.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Disponible"}),r.jsx("p",{className:`text-2xl font-bold ${(s.estimatedBudget||0)-(s.actualBudget||gn)<0?"text-red-400":"text-emerald-400"}`,children:It((s.estimatedBudget||0)-(s.actualBudget||gn))})]})]}),r.jsxs("div",{className:"card p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"font-semibold text-surface-100",children:"Consommation du budget"}),r.jsxs("span",{className:`text-sm font-bold ${Lt>100?"text-red-400":Lt>80?"text-amber-400":"text-emerald-400"}`,children:[Lt.toFixed(1),"%"]})]}),r.jsx("div",{className:"h-4 bg-surface-700 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full rounded-full transition-all ${Lt>100?"bg-red-500":Lt>80?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${Math.min(Lt,100)}%`}})}),Lt>100&&r.jsxs("p",{className:"text-red-400 text-sm mt-2 flex items-center gap-2",children:[r.jsx(os,{className:"w-4 h-4"}),"Dpassement de ",It((s.actualBudget||gn)-(s.estimatedBudget||0))]})]}),Object.keys(Mp).length>0&&r.jsxs("div",{className:"card p-6",children:[r.jsx("h3",{className:"font-semibold text-surface-100 mb-4",children:"Rpartition par catgorie"}),r.jsx("div",{className:"space-y-3",children:Object.entries(Mp).map(([O,le])=>{const Ge=N.find(vr=>vr.id===O)||{name:O,icon:""},wi=gn>0?le/gn*100:0;return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xl",children:Ge.icon}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-sm text-surface-300",children:Ge.name}),r.jsx("span",{className:"text-sm text-surface-400",children:It(le)})]}),r.jsx("div",{className:"h-2 bg-surface-700 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-primary-500 rounded-full",style:{width:`${wi}%`}})})]}),r.jsxs("span",{className:"text-xs text-surface-500 w-12 text-right",children:[wi.toFixed(0),"%"]})]},O)})})]}),r.jsxs("div",{className:"card p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[r.jsx($o,{className:"w-5 h-5 text-primary-400"}),"Dpenses (",p.length,")"]}),r.jsxs("button",{onClick:()=>j(!0),className:"btn btn-sm btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),"Ajouter"]})]}),T?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("div",{className:"w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):p.length>0?r.jsx("div",{className:"space-y-2",children:p.map(O=>{const le=N.find(Ge=>Ge.id===O.category)||{name:O.category,icon:""};return r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-800/50 rounded-lg group hover:bg-surface-800 transition-colors",children:[r.jsx("span",{className:"text-xl",children:le.icon}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-surface-200 truncate",children:O.description}),r.jsxs("div",{className:"flex items-center gap-3 text-xs text-surface-500",children:[r.jsx("span",{children:new Date(O.expenseDate).toLocaleDateString("fr-FR")}),O.vendor&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(li,{className:"w-3 h-3"}),O.vendor]})]}),O.invoiceNumber&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(co,{className:"w-3 h-3"}),O.invoiceNumber]})]})]})]}),r.jsx("span",{className:"text-primary-400 font-bold whitespace-nowrap",children:It(O.amount)}),r.jsx("button",{onClick:()=>xn(O.id),className:"p-1.5 opacity-0 group-hover:opacity-100 hover:bg-red-500/20 rounded transition-all",children:r.jsx(Qe,{className:"w-4 h-4 text-red-400"})})]},O.id)})}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx($o,{className:"w-12 h-12 mx-auto text-surface-600 mb-3"}),r.jsx("p",{className:"text-surface-500",children:"Aucune dpense enregistre"}),r.jsxs("button",{onClick:()=>j(!0),className:"btn btn-sm btn-primary mt-4",children:[r.jsx(ie,{className:"w-4 h-4"}),"Ajouter une dpense"]})]})]})]}),o==="suivi"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"card p-6 border-l-4 border-primary-500",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[r.jsx(Vt,{className:"w-5 h-5 text-primary-400"}),"Suivi automatique"]}),r.jsxs("button",{onClick:Ot,disabled:Kt,className:"btn btn-sm btn-primary",children:[r.jsx(qt,{className:`w-4 h-4 ${Kt?"animate-spin":""}`}),"Actualiser"]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-lg text-center",children:[r.jsxs("p",{className:"text-3xl font-bold text-primary-400",children:[s.progress,"%"]}),r.jsx("p",{className:"text-xs text-surface-400 mt-1",children:"Progression globale"})]}),r.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-lg text-center",children:[r.jsxs("p",{className:"text-3xl font-bold text-surface-100",children:[((Bp=s.phases)==null?void 0:Bp.filter(O=>O.status==="completed").length)||0,r.jsxs("span",{className:"text-surface-500 text-lg",children:["/",((zp=s.phases)==null?void 0:zp.length)||0]})]}),r.jsx("p",{className:"text-xs text-surface-400 mt-1",children:"Phases termines"})]}),r.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-lg text-center",children:[r.jsxs("p",{className:"text-3xl font-bold text-surface-100",children:[((Up=s.milestones)==null?void 0:Up.filter(O=>O.status==="completed").length)||0,r.jsxs("span",{className:"text-surface-500 text-lg",children:["/",((qp=s.milestones)==null?void 0:qp.length)||0]})]}),r.jsx("p",{className:"text-xs text-surface-400 mt-1",children:"Jalons atteints"})]})]}),s.phases&&s.phases.length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"text-sm font-medium text-surface-300 mb-3",children:"Progression des phases"}),r.jsx("div",{className:"space-y-2",children:s.phases.map(O=>{var le;return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-28 text-xs text-surface-400 truncate",children:O.name}),r.jsx("div",{className:"flex-1 h-2 bg-surface-700 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full rounded-full ${(le=Vi[O.status])==null?void 0:le.color}`,style:{width:`${O.progress||0}%`}})}),r.jsxs("span",{className:"text-xs text-surface-300 w-10 text-right",children:[O.progress||0,"%"]})]},O.id)})})]})]}),r.jsxs("div",{className:"card p-6",children:[r.jsxs("h3",{className:"font-semibold text-surface-100 mb-4 flex items-center gap-2",children:[r.jsx(eu,{className:"w-5 h-5 text-emerald-400"}),"Budget"]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Budget estim"}),r.jsx("p",{className:"text-xl font-bold text-surface-100",children:It(s.estimatedBudget)})]}),r.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Consomm"}),r.jsx("p",{className:"text-xl font-bold text-amber-400",children:It(s.actualBudget)})]}),r.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Reste"}),r.jsx("p",{className:`text-xl font-bold ${s.estimatedBudget-(s.actualBudget||0)<0?"text-red-400":"text-emerald-400"}`,children:It((s.estimatedBudget||0)-(s.actualBudget||0))})]})]}),r.jsx("div",{className:"h-3 bg-surface-700 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full rounded-full transition-all ${Lt>100?"bg-red-500":Lt>80?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${Math.min(Lt,100)}%`}})}),r.jsxs("p",{className:"text-xs text-surface-500 mt-2 text-center",children:[Lt.toFixed(1),"% du budget consomm"]})]}),r.jsxs("div",{className:"card p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[r.jsx(ln,{className:"w-5 h-5 text-red-400"}),"Risques (",((Wp=s.risks)==null?void 0:Wp.length)||0,")"]}),r.jsxs("button",{onClick:()=>x(!0),className:"btn btn-sm btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),"Ajouter"]})]}),s.risks&&s.risks.length>0?r.jsx("div",{className:"space-y-2",children:s.risks.map(O=>{const le=Yd(O.score);return r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-800/50 rounded-lg group",children:[r.jsx("div",{className:`w-10 h-10 rounded-lg ${le.color} flex items-center justify-center`,children:r.jsx("span",{className:"text-white font-bold text-sm",children:O.score})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium text-surface-200",children:O.name}),r.jsxs("p",{className:"text-xs text-surface-500",children:[O.category,"  P:",O.probability,"  I:",O.impact]})]}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${le.text} bg-surface-700`,children:le.label}),r.jsx("button",{onClick:()=>ee(O.id),className:"p-1.5 opacity-0 group-hover:opacity-100 hover:bg-red-500/20 rounded transition-all",children:r.jsx(Qe,{className:"w-4 h-4 text-red-400"})})]},O.id)})}):r.jsx("p",{className:"text-center text-surface-500 py-6",children:"Aucun risque identifi"})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"card p-4",children:[r.jsx("h4",{className:"font-medium text-surface-200 mb-4",children:"Situation"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-surface-400 text-sm",children:"Budget"}),r.jsx("div",{className:`w-3 h-3 rounded-full ${Lt>100?"bg-red-500":Lt>80?"bg-amber-500":"bg-emerald-500"}`})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-surface-400 text-sm",children:"Planning"}),r.jsx("div",{className:`w-3 h-3 rounded-full ${s.progress>=80?"bg-emerald-500":s.progress>=50?"bg-amber-500":"bg-red-500"}`})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-surface-400 text-sm",children:"Risques"}),r.jsx("div",{className:`w-3 h-3 rounded-full ${ca.critical>0?"bg-red-500":ca.important>0?"bg-amber-500":"bg-emerald-500"}`})]})]})]}),r.jsxs("div",{className:"card p-4",children:[r.jsx("h4",{className:"font-medium text-surface-200 mb-4",children:"Risques"}),r.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[r.jsxs("div",{children:[r.jsx("div",{className:"w-10 h-10 mx-auto rounded-full bg-emerald-500 flex items-center justify-center text-white font-bold",children:ca.low}),r.jsx("p",{className:"text-[10px] text-surface-500 mt-1",children:"Ngligeable"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"w-10 h-10 mx-auto rounded-full bg-amber-500 flex items-center justify-center text-white font-bold",children:ca.moderate}),r.jsx("p",{className:"text-[10px] text-surface-500 mt-1",children:"Modr"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"w-10 h-10 mx-auto rounded-full bg-orange-500 flex items-center justify-center text-white font-bold",children:ca.important}),r.jsx("p",{className:"text-[10px] text-surface-500 mt-1",children:"Important"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"w-10 h-10 mx-auto rounded-full bg-red-500 flex items-center justify-center text-white font-bold",children:ca.critical}),r.jsx("p",{className:"text-[10px] text-surface-500 mt-1",children:"Critique"})]})]})]}),r.jsxs("div",{className:"card p-4",children:[r.jsx("h4",{className:"font-medium text-surface-200 mb-4",children:"quipe"}),s.projectManager&&r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"avatar",children:s.projectManager.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"text-surface-200 text-sm font-medium",children:s.projectManager}),r.jsx("p",{className:"text-surface-500 text-xs",children:"Chef de projet"})]})]}),s.sponsor&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"avatar avatar-sm bg-amber-500/20 text-amber-400",children:s.sponsor.charAt(0)}),r.jsxs("div",{children:[r.jsx("p",{className:"text-surface-200 text-sm",children:s.sponsor}),r.jsx("p",{className:"text-surface-500 text-xs",children:"Sponsor"})]})]})]}),s.axisName&&r.jsxs("div",{className:"card p-4",children:[r.jsx("h4",{className:"font-medium text-surface-200 mb-3",children:"Axe stratgique"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.axisColor}}),r.jsx("span",{className:"text-surface-300",children:s.axisName})]})]})]})]}),r.jsx(re,{children:c&&r.jsx(ql,{title:"Ajouter une phase",onClose:()=>u(!1),children:r.jsxs("form",{onSubmit:H,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Nom *"}),r.jsx("input",{type:"text",value:M.name,onChange:O=>R({...M,name:O.target.value}),className:"input",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Description"}),r.jsx("textarea",{value:M.description,onChange:O=>R({...M,description:O.target.value}),className:"input min-h-[80px]"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Date dbut"}),r.jsx("input",{type:"date",value:M.startDate,onChange:O=>R({...M,startDate:O.target.value}),className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Date fin"}),r.jsx("input",{type:"date",value:M.endDate,onChange:O=>R({...M,endDate:O.target.value}),className:"input"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-secondary",children:"Annuler"}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:"Ajouter"})]})]})})}),r.jsx(re,{children:d&&r.jsx(ql,{title:"Ajouter un jalon",onClose:()=>f(!1),children:r.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Nom *"}),r.jsx("input",{type:"text",value:P.name,onChange:O=>S({...P,name:O.target.value}),className:"input",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Description"}),r.jsx("textarea",{value:P.description,onChange:O=>S({...P,description:O.target.value}),className:"input min-h-[80px]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Date d'chance"}),r.jsx("input",{type:"date",value:P.dueDate,onChange:O=>S({...P,dueDate:O.target.value}),className:"input"})]}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:P.isCritical,onChange:O=>S({...P,isCritical:O.target.checked}),className:"rounded"}),r.jsx("span",{className:"text-surface-300",children:"Jalon critique"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-secondary",children:"Annuler"}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:"Ajouter"})]})]})})}),r.jsx(re,{children:m&&r.jsx(ql,{title:"Ajouter un risque",onClose:()=>x(!1),children:r.jsxs("form",{onSubmit:te,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Nom *"}),r.jsx("input",{type:"text",value:w.name,onChange:O=>D({...w,name:O.target.value}),className:"input",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Description"}),r.jsx("textarea",{value:w.description,onChange:O=>D({...w,description:O.target.value}),className:"input min-h-[60px]"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Catgorie"}),r.jsxs("select",{value:w.category,onChange:O=>D({...w,category:O.target.value}),className:"input",children:[r.jsx("option",{value:"technical",children:"Technique"}),r.jsx("option",{value:"operational",children:"Oprationnel"}),r.jsx("option",{value:"financial",children:"Financier"}),r.jsx("option",{value:"security",children:"Scurit"}),r.jsx("option",{value:"legal",children:"Juridique"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm text-surface-400 mb-1",children:["Probabilit: ",w.probability]}),r.jsx("input",{type:"range",min:"1",max:"5",value:w.probability,onChange:O=>D({...w,probability:parseInt(O.target.value)}),className:"w-full"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm text-surface-400 mb-1",children:["Impact: ",w.impact]}),r.jsx("input",{type:"range",min:"1",max:"5",value:w.impact,onChange:O=>D({...w,impact:parseInt(O.target.value)}),className:"w-full"})]})]}),r.jsxs("div",{className:`p-3 rounded-lg text-center ${Yd(w.probability*w.impact).color}`,children:[r.jsxs("span",{className:"text-white font-bold",children:["Score: ",w.probability*w.impact]}),r.jsxs("span",{className:"text-white/80 ml-2",children:["(",Yd(w.probability*w.impact).label,")"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Stratgie de mitigation"}),r.jsx("textarea",{value:w.mitigationStrategy,onChange:O=>D({...w,mitigationStrategy:O.target.value}),className:"input min-h-[60px]"})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>x(!1),className:"btn btn-secondary",children:"Annuler"}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:"Ajouter"})]})]})})}),r.jsx(re,{children:h&&r.jsx(ql,{title:"Ajouter une dpense",onClose:()=>j(!1),children:r.jsxs("form",{onSubmit:de,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Catgorie"}),r.jsx("select",{value:C.category,onChange:O=>U({...C,category:O.target.value}),className:"input",children:N.map(O=>r.jsxs("option",{value:O.id,children:[O.icon," ",O.name]},O.id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Description *"}),r.jsx("input",{type:"text",value:C.description,onChange:O=>U({...C,description:O.target.value}),className:"input",placeholder:"Ex: Licence Microsoft 365",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Montant (XAF) *"}),r.jsx("input",{type:"number",value:C.amount,onChange:O=>U({...C,amount:O.target.value}),className:"input",placeholder:"0",min:"0",step:"1",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Date"}),r.jsx("input",{type:"date",value:C.expenseDate,onChange:O=>U({...C,expenseDate:O.target.value}),className:"input"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Fournisseur"}),r.jsx("input",{type:"text",value:C.vendor,onChange:O=>U({...C,vendor:O.target.value}),className:"input",placeholder:"Ex: Microsoft"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"N Facture"}),r.jsx("input",{type:"text",value:C.invoiceNumber,onChange:O=>U({...C,invoiceNumber:O.target.value}),className:"input",placeholder:"Ex: FAC-2026-001"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Notes"}),r.jsx("textarea",{value:C.notes,onChange:O=>U({...C,notes:O.target.value}),className:"input min-h-[60px]",placeholder:"Informations complmentaires..."})]}),C.amount&&r.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-lg border border-surface-700",children:[r.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Aperu"}),r.jsx("p",{className:"text-2xl font-bold text-primary-400",children:It(parseFloat(C.amount)||0)}),s.estimatedBudget&&r.jsxs("p",{className:"text-xs text-surface-500 mt-1",children:["Nouveau total: ",It((s.actualBudget||gn)+(parseFloat(C.amount)||0))," / ",It(s.estimatedBudget)]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>j(!1),className:"btn btn-secondary",children:"Annuler"}),r.jsxs("button",{type:"submit",className:"btn btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),"Ajouter"]})]})]})})})]})}function ql({title:e,children:t,onClose:s}){return r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:s,children:r.jsxs(F.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:n=>n.stopPropagation(),className:"bg-surface-900 rounded-2xl border border-surface-700 w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[r.jsx("h3",{className:"font-semibold text-surface-100",children:e}),r.jsx("button",{onClick:s,className:"p-1.5 hover:bg-surface-800 rounded-lg",children:r.jsx(fe,{className:"w-4 h-4"})})]}),r.jsx("div",{className:"p-4",children:t})]})})}const lu={production:{label:"Production",color:"bg-emerald-500",icon:Ue},development:{label:"Dveloppement",color:"bg-blue-500",icon:$D},maintenance:{label:"Maintenance",color:"bg-amber-500",icon:nt},deprecated:{label:"Obsolte",color:"bg-red-500",icon:os},planned:{label:"Planifi",color:"bg-surface-500",icon:nt}},cu={low:{label:"Faible",color:"text-surface-400",bg:"bg-surface-700"},medium:{label:"Moyenne",color:"text-amber-400",bg:"bg-amber-500/20"},high:{label:"leve",color:"text-orange-400",bg:"bg-orange-500/20"},critical:{label:"Critique",color:"text-red-400",bg:"bg-red-500/20"}},uu={erp:"",crm:"",hr:"",finance:"",infrastructure:"",security:"",collaboration:"",analytics:"",default:""};function j8(){const{workspaceId:e}=mt(),[t,s]=v.useState([]),[n,a]=v.useState(!0),[i,o]=v.useState(""),[l,c]=v.useState(""),[u,d]=v.useState(""),[f,m]=v.useState(!1),[x,h]=v.useState(null);v.useEffect(()=>{j()},[e]);const j=async()=>{try{const{data:p}=await ae.getApplications(e);s(p)}catch(p){console.error("Error loading applications:",p)}finally{a(!1)}},b=t.filter(p=>!(i&&!p.name.toLowerCase().includes(i.toLowerCase())||l&&p.status!==l||u&&p.criticality!==u)),y={total:t.length,production:t.filter(p=>p.status==="production").length,deprecated:t.filter(p=>p.status==="deprecated").length,critical:t.filter(p=>p.criticality==="critical").length,totalCost:t.reduce((p,g)=>p+(g.annualCost||0),0)};return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-display font-bold text-surface-100",children:"Inventaire des Applications"}),r.jsx("p",{className:"text-surface-400 mt-1",children:"Cartographie du systme d'information"})]}),r.jsxs("button",{onClick:()=>m(!0),className:"btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),"Nouvelle Application"]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"card p-4",children:[r.jsx("p",{className:"text-2xl font-bold text-surface-100",children:y.total}),r.jsx("p",{className:"text-sm text-surface-400",children:"Applications"})]}),r.jsxs("div",{className:"card p-4",children:[r.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:y.production}),r.jsx("p",{className:"text-sm text-surface-400",children:"En production"})]}),r.jsxs("div",{className:"card p-4",children:[r.jsx("p",{className:"text-2xl font-bold text-red-400",children:y.deprecated}),r.jsx("p",{className:"text-sm text-surface-400",children:"Obsoltes"})]}),r.jsxs("div",{className:"card p-4",children:[r.jsx("p",{className:"text-2xl font-bold text-orange-400",children:y.critical}),r.jsx("p",{className:"text-sm text-surface-400",children:"Critiques"})]}),r.jsxs("div",{className:"card p-4",children:[r.jsxs("p",{className:"text-2xl font-bold text-primary-400",children:[y.totalCost.toLocaleString("fr-FR")," FCFA"]}),r.jsx("p",{className:"text-sm text-surface-400",children:"Cot annuel total"})]})]}),r.jsx("div",{className:"card p-4",children:r.jsxs("div",{className:"flex flex-wrap gap-4",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsxs("div",{className:"relative",children:[r.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-surface-400"}),r.jsx("input",{type:"text",value:i,onChange:p=>o(p.target.value),placeholder:"Rechercher une application...",className:"input w-full pl-10"})]})}),r.jsxs("select",{value:l,onChange:p=>c(p.target.value),className:"input w-40",children:[r.jsx("option",{value:"",children:"Tous les statuts"}),Object.entries(lu).map(([p,{label:g}])=>r.jsx("option",{value:p,children:g},p))]}),r.jsxs("select",{value:u,onChange:p=>d(p.target.value),className:"input w-40",children:[r.jsx("option",{value:"",children:"Toutes criticits"}),Object.entries(cu).map(([p,{label:g}])=>r.jsx("option",{value:p,children:g},p))]})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map((p,g)=>{var T;const N=lu[p.status],E=cu[p.criticality];return N!=null&&N.icon,r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.05},className:"card p-5 hover:bg-surface-800/80 transition-colors cursor-pointer",onClick:()=>h(p),children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-surface-800 flex items-center justify-center text-2xl",children:uu[(T=p.category)==null?void 0:T.toLowerCase()]||uu.default}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.code&&r.jsx("span",{className:"text-xs text-surface-500 font-mono",children:p.code}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${N==null?void 0:N.color} text-white`,children:N==null?void 0:N.label})]}),r.jsx("h3",{className:"font-semibold text-surface-100 truncate",children:p.name}),p.vendor&&r.jsx("p",{className:"text-sm text-surface-400",children:p.vendor})]})]}),p.description&&r.jsx("p",{className:"text-sm text-surface-400 mt-3 line-clamp-2",children:p.description}),r.jsxs("div",{className:"flex items-center gap-4 mt-4 text-xs text-surface-400",children:[r.jsx("span",{className:`px-2 py-1 rounded ${E==null?void 0:E.bg} ${E==null?void 0:E.color}`,children:E==null?void 0:E.label}),p.usersCount&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Le,{className:"w-3 h-3"}),p.usersCount]}),p.annualCost&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(lo,{className:"w-3 h-3"}),p.annualCost.toLocaleString("fr-FR")]})]}),p.technologyStack&&p.technologyStack.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[p.technologyStack.slice(0,3).map(k=>r.jsx("span",{className:"px-2 py-0.5 bg-surface-700 rounded text-xs text-surface-300",children:k},k)),p.technologyStack.length>3&&r.jsxs("span",{className:"px-2 py-0.5 text-xs text-surface-500",children:["+",p.technologyStack.length-3]})]}),p.endOfLifeDate&&new Date(p.endOfLifeDate)<new Date(Date.now()+365*24*60*60*1e3)&&r.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-amber-400",children:[r.jsx(os,{className:"w-3 h-3"}),"Fin de vie: ",new Date(p.endOfLifeDate).toLocaleDateString("fr-FR")]})]},p.id)})}),b.length===0&&r.jsxs("div",{className:"card p-12 text-center",children:[r.jsx(su,{className:"w-16 h-16 text-surface-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-surface-300 mb-2",children:i||l||u?"Aucune application trouve":"Aucune application"}),r.jsx("p",{className:"text-surface-500 mb-6",children:i||l||u?"Essayez de modifier vos filtres":"Commencez  inventorier vos applications"}),!i&&!l&&!u&&r.jsxs("button",{onClick:()=>m(!0),className:"btn-primary mx-auto",children:[r.jsx(ie,{className:"w-4 h-4"}),"Ajouter une application"]})]}),r.jsxs(re,{children:[f&&r.jsx(b8,{workspaceId:e,onClose:()=>m(!1),onSave:p=>{s(g=>[p,...g]),m(!1)}}),x&&r.jsx(N8,{app:x,onClose:()=>h(null)})]})]})}function b8({workspaceId:e,onClose:t,onSave:s}){const[n,a]=v.useState({name:"",code:"",description:"",category:"",vendor:"",version:"",technologyStack:"",status:"production",criticality:"medium",dataSensitivity:"internal",usersCount:"",annualCost:"",owner:"",technicalContact:"",goLiveDate:"",endOfLifeDate:""}),[i,o]=v.useState(!1),l=async c=>{c.preventDefault(),o(!0);try{const{data:u}=await ae.createApplication({...n,workspaceId:e,technologyStack:n.technologyStack?n.technologyStack.split(",").map(d=>d.trim()):[],usersCount:n.usersCount?parseInt(n.usersCount):null,annualCost:n.annualCost?parseFloat(n.annualCost):null});s(u)}catch(u){console.error("Error creating application:",u)}finally{o(!1)}};return r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t,children:r.jsxs(F.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-surface-900 rounded-2xl w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-hidden",onClick:c=>c.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[r.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:"Nouvelle Application"}),r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:l,className:"p-6 space-y-4 overflow-y-auto max-h-[calc(90vh-140px)]",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom *"}),r.jsx("input",{type:"text",value:n.name,onChange:c=>a({...n,name:c.target.value}),className:"input w-full",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Code"}),r.jsx("input",{type:"text",value:n.code,onChange:c=>a({...n,code:c.target.value.toUpperCase()}),className:"input w-full font-mono"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),r.jsx("textarea",{value:n.description,onChange:c=>a({...n,description:c.target.value}),className:"input w-full h-20 resize-none"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Catgorie"}),r.jsxs("select",{value:n.category,onChange:c=>a({...n,category:c.target.value}),className:"input w-full",children:[r.jsx("option",{value:"",children:"Slectionner"}),r.jsx("option",{value:"erp",children:"ERP"}),r.jsx("option",{value:"crm",children:"CRM"}),r.jsx("option",{value:"hr",children:"RH"}),r.jsx("option",{value:"finance",children:"Finance"}),r.jsx("option",{value:"infrastructure",children:"Infrastructure"}),r.jsx("option",{value:"security",children:"Scurit"}),r.jsx("option",{value:"collaboration",children:"Collaboration"}),r.jsx("option",{value:"analytics",children:"Analytics"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"diteur"}),r.jsx("input",{type:"text",value:n.vendor,onChange:c=>a({...n,vendor:c.target.value}),className:"input w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Version"}),r.jsx("input",{type:"text",value:n.version,onChange:c=>a({...n,version:c.target.value}),className:"input w-full"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Technologies (spares par des virgules)"}),r.jsx("input",{type:"text",value:n.technologyStack,onChange:c=>a({...n,technologyStack:c.target.value}),className:"input w-full",placeholder:"Java, PostgreSQL, React..."})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Statut"}),r.jsx("select",{value:n.status,onChange:c=>a({...n,status:c.target.value}),className:"input w-full",children:Object.entries(lu).map(([c,{label:u}])=>r.jsx("option",{value:c,children:u},c))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Criticit"}),r.jsx("select",{value:n.criticality,onChange:c=>a({...n,criticality:c.target.value}),className:"input w-full",children:Object.entries(cu).map(([c,{label:u}])=>r.jsx("option",{value:c,children:u},c))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Sensibilit donnes"}),r.jsxs("select",{value:n.dataSensitivity,onChange:c=>a({...n,dataSensitivity:c.target.value}),className:"input w-full",children:[r.jsx("option",{value:"public",children:"Publique"}),r.jsx("option",{value:"internal",children:"Interne"}),r.jsx("option",{value:"confidential",children:"Confidentielle"}),r.jsx("option",{value:"restricted",children:"Restreinte"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nb utilisateurs"}),r.jsx("input",{type:"number",value:n.usersCount,onChange:c=>a({...n,usersCount:c.target.value}),className:"input w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Cot annuel (FCFA)"}),r.jsx("input",{type:"number",value:n.annualCost,onChange:c=>a({...n,annualCost:c.target.value}),className:"input w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Fin de vie"}),r.jsx("input",{type:"date",value:n.endOfLifeDate,onChange:c=>a({...n,endOfLifeDate:c.target.value}),className:"input w-full"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1",children:"Annuler"}),r.jsx("button",{type:"submit",disabled:i||!n.name,className:"btn-primary flex-1",children:i?"Cration...":"Ajouter"})]})]})]})})}function N8({app:e,onClose:t}){var a;const s=lu[e.status],n=cu[e.criticality];return r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t,children:r.jsxs(F.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-surface-900 rounded-2xl w-full max-w-lg shadow-2xl",onClick:i=>i.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-surface-800 flex items-center justify-center text-2xl",children:uu[(a=e.category)==null?void 0:a.toLowerCase()]||uu.default}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:e.name}),e.code&&r.jsx("p",{className:"text-sm text-surface-400 font-mono",children:e.code})]})]}),r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${s==null?void 0:s.color} text-white`,children:s==null?void 0:s.label}),r.jsxs("span",{className:`px-3 py-1 rounded-full text-sm ${n==null?void 0:n.bg} ${n==null?void 0:n.color}`,children:["Criticit: ",n==null?void 0:n.label]})]}),e.description&&r.jsx("p",{className:"text-surface-300",children:e.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-surface-800",children:[e.vendor&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-surface-500",children:"diteur"}),r.jsx("p",{className:"text-surface-200",children:e.vendor})]}),e.version&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-surface-500",children:"Version"}),r.jsx("p",{className:"text-surface-200",children:e.version})]}),e.usersCount&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-surface-500",children:"Utilisateurs"}),r.jsx("p",{className:"text-surface-200",children:e.usersCount})]}),e.annualCost&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-surface-500",children:"Cot annuel"}),r.jsxs("p",{className:"text-surface-200",children:[e.annualCost.toLocaleString("fr-FR")," FCFA"]})]}),e.owner&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-surface-500",children:"Responsable"}),r.jsx("p",{className:"text-surface-200",children:e.owner})]}),e.technicalContact&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-surface-500",children:"Contact technique"}),r.jsx("p",{className:"text-surface-200",children:e.technicalContact})]})]}),e.technologyStack&&e.technologyStack.length>0&&r.jsxs("div",{className:"pt-4 border-t border-surface-800",children:[r.jsx("p",{className:"text-xs text-surface-500 mb-2",children:"Technologies"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.technologyStack.map(i=>r.jsx("span",{className:"px-3 py-1 bg-surface-800 rounded-lg text-sm text-surface-300",children:i},i))})]})]})]})})}const w8={up:Rt,down:Ku,stable:jp},gy={performance:"#6366f1",quality:"#10b981",efficiency:"#f59e0b",security:"#ef4444",satisfaction:"#8b5cf6",cost:"#06b6d4"};function k8(){const{workspaceId:e}=mt(),[t,s]=v.useState([]),[n,a]=v.useState([]),[i,o]=v.useState([]),[l,c]=v.useState(!0),[u,d]=v.useState(!1),[f,m]=v.useState(!1),[x,h]=v.useState(null),[j,b]=v.useState(""),[y,p]=v.useState("");v.useEffect(()=>{g()},[e]);const g=async()=>{try{const[S,w,D]=await Promise.all([ae.getKPIs(e),ae.getProjects(e),ae.getAxes(e)]);s(S.data),a(w.data),o(D.data)}catch(S){console.error("Error loading data:",S),V.error("Erreur de chargement")}finally{c(!1)}},N=async()=>{d(!0);try{const{data:S}=await ae.syncAllKPIs(e);V.success(`${S.synced} KPI(s) synchronis(s)`),g()}catch(S){console.error("Sync error:",S),V.error("Erreur de synchronisation")}finally{d(!1)}},E=async(S,w)=>{var D,C;w.stopPropagation();try{const{data:U}=await ae.syncKPI(S);s(W=>W.map(B=>B.id===S?{...B,currentValue:U.newValue,trend:U.trend}:B)),V.success("KPI synchronis")}catch(U){V.error(((C=(D=U.response)==null?void 0:D.data)==null?void 0:C.error)||"Erreur")}},T=t.filter(S=>!(j&&S.category!==j||y==="auto"&&!S.calculationMethod||y==="manual"&&S.calculationMethod)),k=[...new Set(t.map(S=>S.category).filter(Boolean))],M=t.filter(S=>S.calculationMethod).length,R=S=>{if(!S.targetValue||S.currentValue===null||S.currentValue===void 0)return"neutral";const w=S.currentValue/S.targetValue*100;return w>=100?"success":w>=80?"warning":"danger"},P=S=>{switch(S){case"success":return"text-emerald-400";case"warning":return"text-amber-400";case"danger":return"text-red-400";default:return"text-surface-400"}};return l?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-display font-bold text-surface-100",children:"Indicateurs de Performance"}),r.jsx("p",{className:"text-surface-400 mt-1",children:"Suivez les KPIs cls de votre stratgie SI"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[M>0&&r.jsxs("button",{onClick:N,disabled:u,className:"btn-secondary flex items-center gap-2",children:[r.jsx(qt,{className:`w-4 h-4 ${u?"animate-spin":""}`}),"Synchroniser tout"]}),r.jsxs("button",{onClick:()=>m(!0),className:"btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),"Nouveau KPI"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsx("div",{className:"card p-5",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center",children:r.jsx(Ue,{className:"w-5 h-5 text-emerald-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:t.filter(S=>R(S)==="success").length}),r.jsx("p",{className:"text-sm text-surface-400",children:"Sur cible"})]})]})}),r.jsx("div",{className:"card p-5",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-500/20 flex items-center justify-center",children:r.jsx(os,{className:"w-5 h-5 text-amber-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-amber-400",children:t.filter(S=>R(S)==="warning").length}),r.jsx("p",{className:"text-sm text-surface-400",children:" surveiller"})]})]})}),r.jsx("div",{className:"card p-5",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:r.jsx(os,{className:"w-5 h-5 text-red-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-red-400",children:t.filter(S=>R(S)==="danger").length}),r.jsx("p",{className:"text-sm text-surface-400",children:"En alerte"})]})]})}),r.jsx("div",{className:"card p-5",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-500/20 flex items-center justify-center",children:r.jsx(Vt,{className:"w-5 h-5 text-primary-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-primary-400",children:M}),r.jsx("p",{className:"text-sm text-surface-400",children:"Automatiss"})]})]})}),r.jsx("div",{className:"card p-5",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-surface-700 flex items-center justify-center",children:r.jsx(on,{className:"w-5 h-5 text-surface-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-surface-200",children:t.length}),r.jsx("p",{className:"text-sm text-surface-400",children:"Total KPIs"})]})]})})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("div",{className:"flex gap-1 p-1 bg-surface-800 rounded-lg",children:[r.jsx("button",{onClick:()=>p(""),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${y?"text-surface-400 hover:text-surface-200":"bg-surface-700 text-surface-100"}`,children:"Tous"}),r.jsxs("button",{onClick:()=>p("auto"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors flex items-center gap-1 ${y==="auto"?"bg-primary-500/20 text-primary-400":"text-surface-400 hover:text-surface-200"}`,children:[r.jsx(Vt,{className:"w-3 h-3"}),"Automatiss"]}),r.jsx("button",{onClick:()=>p("manual"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${y==="manual"?"bg-surface-700 text-surface-100":"text-surface-400 hover:text-surface-200"}`,children:"Manuels"})]}),k.length>0&&r.jsxs("div",{className:"flex gap-1 p-1 bg-surface-800 rounded-lg",children:[r.jsx("button",{onClick:()=>b(""),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${j?"text-surface-400 hover:text-surface-200":"bg-surface-700 text-surface-100"}`,children:"Toutes catgories"}),k.map(S=>r.jsx("button",{onClick:()=>b(S),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${j===S?"bg-surface-700 text-surface-100":"text-surface-400 hover:text-surface-200"}`,children:S},S))]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map((S,w)=>{var H;const D=R(S),C=w8[S.trend]||jp,U=S.currentValue??0,W=S.targetValue??100,B=W>0?U/W*100:0,_=!!S.calculationMethod;return r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.03},className:"card p-5 cursor-pointer hover:bg-surface-800/80 transition-colors relative group",onClick:()=>h(S),children:[_&&r.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1",children:[r.jsx("button",{onClick:L=>E(S.id,L),className:"p-1.5 rounded-lg bg-primary-500/20 text-primary-400 hover:bg-primary-500/30 transition-colors opacity-0 group-hover:opacity-100",title:"Synchroniser",children:r.jsx(qt,{className:"w-3.5 h-3.5"})}),r.jsxs("div",{className:"px-2 py-1 rounded-md bg-primary-500/20 flex items-center gap-1",children:[r.jsx(Vt,{className:"w-3 h-3 text-primary-400"}),r.jsx("span",{className:"text-xs font-medium text-primary-400",children:"Auto"})]})]}),r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1 pr-20",children:[S.category&&r.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full mb-2 inline-block",style:{backgroundColor:`${gy[S.category.toLowerCase()]||"#6366f1"}20`,color:gy[S.category.toLowerCase()]||"#6366f1"},children:S.category}),r.jsx("h3",{className:"font-semibold text-surface-100",children:S.name}),S.description&&r.jsx("p",{className:"text-sm text-surface-400 mt-1 line-clamp-2",children:S.description})]}),!_&&S.trend&&r.jsx(C,{className:`w-5 h-5 ${S.trend==="up"?"text-emerald-400":S.trend==="down"?"text-red-400":"text-surface-400"}`})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-end justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-surface-500",children:"Valeur actuelle"}),r.jsxs("p",{className:`text-3xl font-bold ${P(D)}`,children:[((H=S.currentValue)==null?void 0:H.toLocaleString("fr-FR"))??"-",S.unit&&r.jsx("span",{className:"text-sm text-surface-400 ml-1",children:S.unit})]})]}),S.targetValue&&r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-xs text-surface-500",children:"Cible"}),r.jsxs("p",{className:"text-lg text-surface-300",children:[S.targetValue.toLocaleString("fr-FR")," ",S.unit]})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"h-2 bg-surface-700 rounded-full overflow-hidden",children:r.jsx(F.div,{initial:{width:0},animate:{width:`${Math.min(Math.max(B,0),100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full rounded-full ${D==="success"?"bg-emerald-500":D==="warning"?"bg-amber-500":D==="danger"?"bg-red-500":"bg-primary-500"}`})}),r.jsxs("div",{className:"flex justify-between text-xs text-surface-500 mt-1",children:[r.jsxs("span",{children:[U.toLocaleString("fr-FR")," / ",W.toLocaleString("fr-FR")," ",S.unit]}),r.jsxs("span",{className:D==="success"?"text-emerald-400":D==="warning"?"text-amber-400":D==="danger"?"text-red-400":"",children:[B.toFixed(0),"%"]})]})]}),r.jsxs("div",{className:"flex items-center gap-3 pt-2 text-xs text-surface-400",children:[S.axisName&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Fs,{className:"w-3 h-3"}),S.axisName]}),S.projectName&&r.jsxs("div",{className:"flex items-center gap-1 truncate",children:[r.jsx(wN,{className:"w-3 h-3"}),S.projectName]})]})]})]},S.id)})}),T.length===0&&r.jsxs("div",{className:"card p-12 text-center",children:[r.jsx(Rt,{className:"w-16 h-16 text-surface-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-surface-300 mb-2",children:j||y?"Aucun KPI correspondant":"Aucun KPI dfini"}),r.jsx("p",{className:"text-surface-500 mb-6",children:"Crez des indicateurs pour suivre la performance de votre stratgie"}),!j&&!y&&r.jsxs("button",{onClick:()=>m(!0),className:"btn-primary mx-auto",children:[r.jsx(ie,{className:"w-4 h-4"}),"Crer un KPI"]})]}),r.jsxs(re,{children:[f&&r.jsx(C8,{workspaceId:e,projects:n,axes:i,onClose:()=>m(!1),onSave:S=>{s(w=>[S,...w]),m(!1)}}),x&&r.jsx(S8,{kpi:x,projects:n,axes:i,onClose:()=>h(null),onUpdate:S=>{s(w=>w.map(D=>D.id===S.id?S:D)),h(S)},onDelete:S=>{s(w=>w.filter(D=>D.id!==S)),h(null)}})]})]})}function C8({workspaceId:e,projects:t,axes:s,onClose:n,onSave:a}){const[i,o]=v.useState({name:"",description:"",category:"",unit:"%",targetValue:"100",currentValue:"",baselineValue:"",minThreshold:"",frequency:"monthly",projectId:"",axisId:"",calculationMethod:""}),[l,c]=v.useState([]),[u,d]=v.useState(!1);v.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:h}=await ae.getCalculationMethods();c(h)}catch(h){console.error("Error loading methods:",h)}},m=async h=>{h.preventDefault(),d(!0);try{const{data:j}=await ae.createKPI({...i,workspaceId:e,targetValue:i.targetValue?parseFloat(i.targetValue):null,currentValue:i.currentValue?parseFloat(i.currentValue):null,baselineValue:i.baselineValue?parseFloat(i.baselineValue):null,minThreshold:i.minThreshold?parseFloat(i.minThreshold):null,projectId:i.projectId||null,axisId:i.axisId||null,calculationMethod:i.calculationMethod||null});if(i.calculationMethod)try{await ae.syncKPI(j.id)}catch{}a(j),V.success("KPI cr")}catch(j){console.error("Error creating KPI:",j),V.error("Erreur")}finally{d(!1)}},x=l.find(h=>h.id===i.calculationMethod);return r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:n,children:r.jsxs(F.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-surface-900 rounded-2xl w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-hidden flex flex-col",onClick:h=>h.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[r.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:"Nouveau KPI"}),r.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:m,className:"flex-1 overflow-y-auto p-6 space-y-5",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom du KPI *"}),r.jsx("input",{type:"text",value:i.name,onChange:h=>o({...i,name:h.target.value}),className:"input w-full",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),r.jsx("textarea",{value:i.description,onChange:h=>o({...i,description:h.target.value}),className:"input w-full h-20 resize-none"})]}),r.jsxs("div",{className:"p-4 bg-primary-500/10 border border-primary-500/20 rounded-xl space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vt,{className:"w-5 h-5 text-primary-400"}),r.jsx("h3",{className:"font-medium text-primary-400",children:"Calcul automatique"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Lier  un projet"}),r.jsxs("select",{value:i.projectId,onChange:h=>o({...i,projectId:h.target.value}),className:"input w-full",children:[r.jsx("option",{value:"",children:"Aucun projet"}),t.map(h=>r.jsxs("option",{value:h.id,children:[h.code?`[${h.code}] `:"",h.name]},h.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Ou lier  un axe"}),r.jsxs("select",{value:i.axisId,onChange:h=>o({...i,axisId:h.target.value}),className:"input w-full",children:[r.jsx("option",{value:"",children:"Aucun axe"}),s.map(h=>r.jsx("option",{value:h.id,children:h.name},h.id))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Mthode de calcul"}),r.jsxs("select",{value:i.calculationMethod,onChange:h=>o({...i,calculationMethod:h.target.value}),className:"input w-full",children:[r.jsx("option",{value:"",children:"Manuel (pas d'automatisation)"}),l.filter(h=>!(h.requiresProject&&!i.projectId||h.requiresAxis&&!i.axisId)).map(h=>r.jsx("option",{value:h.id,children:h.name},h.id))]}),x&&r.jsx("p",{className:"text-xs text-surface-400 mt-2",children:x.description})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Catgorie"}),r.jsxs("select",{value:i.category,onChange:h=>o({...i,category:h.target.value}),className:"input w-full",children:[r.jsx("option",{value:"",children:"Slectionner"}),r.jsx("option",{value:"Performance",children:"Performance"}),r.jsx("option",{value:"Quality",children:"Qualit"}),r.jsx("option",{value:"Efficiency",children:"Efficacit"}),r.jsx("option",{value:"Security",children:"Scurit"}),r.jsx("option",{value:"Satisfaction",children:"Satisfaction"}),r.jsx("option",{value:"Cost",children:"Cot"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Unit"}),r.jsx("input",{type:"text",value:i.unit,onChange:h=>o({...i,unit:h.target.value}),className:"input w-full",placeholder:"%, FCFA, jours..."})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Valeur cible"}),r.jsx("input",{type:"number",value:i.targetValue,onChange:h=>o({...i,targetValue:h.target.value}),className:"input w-full",step:"any"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Valeur actuelle ",i.calculationMethod&&"(auto)"]}),r.jsx("input",{type:"number",value:i.currentValue,onChange:h=>o({...i,currentValue:h.target.value}),className:"input w-full",step:"any",disabled:!!i.calculationMethod,placeholder:i.calculationMethod?"Calcule auto":""})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Seuil min"}),r.jsx("input",{type:"number",value:i.minThreshold,onChange:h=>o({...i,minThreshold:h.target.value}),className:"input w-full",step:"any"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Frquence de mesure"}),r.jsxs("select",{value:i.frequency,onChange:h=>o({...i,frequency:h.target.value}),className:"input w-full",children:[r.jsx("option",{value:"daily",children:"Quotidienne"}),r.jsx("option",{value:"weekly",children:"Hebdomadaire"}),r.jsx("option",{value:"monthly",children:"Mensuelle"}),r.jsx("option",{value:"quarterly",children:"Trimestrielle"}),r.jsx("option",{value:"yearly",children:"Annuelle"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"btn-secondary flex-1",children:"Annuler"}),r.jsx("button",{type:"submit",disabled:u||!i.name,className:"btn-primary flex-1",children:u?"Cration...":"Crer"})]})]})]})})}function S8({kpi:e,projects:t,axes:s,onClose:n,onUpdate:a,onDelete:i}){var E;const[o,l]=v.useState(""),[c,u]=v.useState([]),[d,f]=v.useState(!1),[m,x]=v.useState(!1),[h,j]=v.useState(!1),b=e.targetValue&&e.currentValue!==null?e.currentValue/e.targetValue*100>=100?"success":e.currentValue/e.targetValue*100>=80?"warning":"danger":"neutral",y=async()=>{f(!0);try{const{data:T}=await ae.getKPIHistory(e.id);u(T),x(!0)}catch{V.error("Erreur")}finally{f(!1)}},p=async()=>{if(o)try{await ae.addKPIValue(e.id,{value:parseFloat(o),recordedAt:new Date().toISOString()}),a({...e,currentValue:parseFloat(o)}),l(""),V.success("Valeur ajoute")}catch{V.error("Erreur")}},g=async()=>{var T,k;j(!0);try{const{data:M}=await ae.syncKPI(e.id);a({...e,currentValue:M.newValue,trend:M.trend}),V.success("KPI synchronis")}catch(M){V.error(((k=(T=M.response)==null?void 0:T.data)==null?void 0:k.error)||"Erreur")}finally{j(!1)}},N=async()=>{if(confirm("Supprimer ce KPI ?"))try{await ae.deleteKPI(e.id),i(e.id),V.success("KPI supprim")}catch{V.error("Erreur")}};return r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:n,children:r.jsxs(F.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-surface-900 rounded-2xl w-full max-w-lg shadow-2xl max-h-[90vh] overflow-hidden flex flex-col",onClick:T=>T.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:e.name}),e.calculationMethod&&r.jsxs("span",{className:"px-2 py-0.5 bg-primary-500/20 text-primary-400 rounded-full text-xs flex items-center gap-1",children:[r.jsx(Vt,{className:"w-3 h-3"})," Auto"]})]}),e.category&&r.jsx("span",{className:"text-sm text-primary-400",children:e.category})]}),r.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.description&&r.jsx("p",{className:"text-surface-300",children:e.description}),r.jsxs("div",{className:"text-center py-6 bg-surface-800/50 rounded-xl",children:[r.jsx("p",{className:"text-sm text-surface-400 mb-2",children:"Valeur actuelle"}),r.jsxs("p",{className:`text-5xl font-bold ${b==="success"?"text-emerald-400":b==="warning"?"text-amber-400":b==="danger"?"text-red-400":"text-surface-200"}`,children:[((E=e.currentValue)==null?void 0:E.toLocaleString("fr-FR"))??"-",e.unit&&r.jsx("span",{className:"text-xl text-surface-400 ml-2",children:e.unit})]}),e.targetValue&&r.jsxs("p",{className:"text-surface-400 mt-2",children:["Cible: ",e.targetValue.toLocaleString("fr-FR")," ",e.unit]})]}),(e.projectName||e.axisName)&&r.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.projectName&&r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-surface-800/50 rounded-lg text-sm",children:[r.jsx(wN,{className:"w-4 h-4 text-surface-400"}),r.jsxs("span",{className:"text-surface-300",children:["Projet: ",e.projectName]})]}),e.axisName&&r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-surface-800/50 rounded-lg text-sm",children:[r.jsx(Fs,{className:"w-4 h-4 text-surface-400"}),r.jsxs("span",{className:"text-surface-300",children:["Axe: ",e.axisName]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[e.calculationMethod&&r.jsxs("button",{onClick:g,disabled:h,className:"btn-secondary flex-1",children:[r.jsx(qt,{className:`w-4 h-4 ${h?"animate-spin":""}`}),"Synchroniser"]}),r.jsxs("button",{onClick:y,disabled:d,className:"btn-secondary flex-1",children:[r.jsx(vp,{className:"w-4 h-4"}),"Historique"]})]}),m&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"text-sm font-medium text-surface-300",children:"Historique des valeurs"}),c.length>0?r.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1",children:c.map((T,k)=>r.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-surface-800/30 rounded-lg text-sm",children:[r.jsx("span",{className:"text-surface-400",children:new Date(T.recorded_at).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),r.jsxs("span",{className:"font-medium text-surface-200",children:[parseFloat(T.value).toLocaleString("fr-FR")," ",e.unit]})]},k))}):r.jsx("p",{className:"text-sm text-surface-500 text-center py-4",children:"Aucun historique"})]}),!e.calculationMethod&&r.jsxs("div",{className:"pt-4 border-t border-surface-800",children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Ajouter une mesure"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"number",value:o,onChange:T=>l(T.target.value),className:"input flex-1",placeholder:`Nouvelle valeur ${e.unit?`(${e.unit})`:""}`,step:"any"}),r.jsx("button",{onClick:p,disabled:!o,className:"btn-primary",children:"Ajouter"})]})]}),r.jsx("div",{className:"pt-4 border-t border-surface-800",children:r.jsx("button",{onClick:N,className:"text-red-400 hover:text-red-300 text-sm",children:"Supprimer ce KPI"})})]})]})})}const Xd={human:{label:"Humaine",color:"bg-blue-500",icon:ls},technical:{label:"Technique",color:"bg-purple-500",icon:vN},material:{label:"Matrielle",color:"bg-amber-500",icon:tT},external:{label:"Externe",color:"bg-emerald-500",icon:li}},E8=(e,t="XAF")=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e);function P8(){const{workspaceId:e}=mt(),[t,s]=v.useState([]),[n,a]=v.useState([]),[i,o]=v.useState(!0),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,m]=v.useState(null),[x,h]=v.useState(null),[j,b]=v.useState(null),[y,p]=v.useState(""),[g,N]=v.useState(""),[E,T]=v.useState({name:"",type:"human",description:"",capacity:100,unit:"%",costPerUnit:"",currency:"XAF",skills:"",email:"",phone:"",department:""}),[k,M]=v.useState({projectId:"",percentage:50,startDate:"",endDate:"",role:""});v.useEffect(()=>{R()},[e]);const R=async()=>{try{o(!0);const[I,X]=await Promise.all([ae.getResources(e),ae.getProjects(e)]);s(I.data),a(X.data)}catch{V.error("Erreur lors du chargement")}finally{o(!1)}},P=async I=>{try{return(await ae.getResourceAllocations(I)).data}catch{return V.error("Erreur lors du chargement des allocations"),[]}},S=async I=>{I.preventDefault();try{const X={...E,workspaceId:e,skills:E.skills?E.skills.split(",").map(te=>te.trim()):null};f?(await ae.updateResource(f.id,X),V.success("Ressource mise  jour")):(await ae.createResource(X),V.success("Ressource cre")),c(!1),B(),R()}catch{V.error("Erreur lors de l'enregistrement")}},w=async I=>{I.preventDefault();try{await ae.createAllocation(x.id,k),V.success("Allocation cre"),d(!1),_(),R()}catch{V.error("Erreur lors de l'allocation")}},D=I=>{m(I),T({name:I.name,type:I.type,description:I.description||"",capacity:I.capacity||100,unit:I.unit||"%",costPerUnit:I.costPerUnit||"",currency:I.currency||"XAF",skills:Array.isArray(I.skills)?I.skills.join(", "):"",email:I.email||"",phone:I.phone||"",department:I.department||""}),c(!0)},C=async I=>{if(confirm("Supprimer cette ressource ?"))try{await ae.deleteResource(I),V.success("Ressource supprime"),R()}catch{V.error("Erreur lors de la suppression")}},U=async I=>{if(confirm("Supprimer cette allocation ?"))try{await ae.deleteAllocation(I),V.success("Allocation supprime"),R()}catch{V.error("Erreur")}},W=async I=>{if(j===I.id)b(null);else{const X=await P(I.id);s(te=>te.map(ee=>ee.id===I.id?{...ee,allocations:X}:ee)),b(I.id)}},B=()=>{T({name:"",type:"human",description:"",capacity:100,unit:"%",costPerUnit:"",currency:"XAF",skills:"",email:"",phone:"",department:""}),m(null)},_=()=>{M({projectId:"",percentage:50,startDate:"",endDate:"",role:""}),h(null)},H=I=>{h(I),d(!0)},z=t.filter(I=>{var ee;const X=!y||I.type===y,te=!g||I.name.toLowerCase().includes(g.toLowerCase())||((ee=I.department)==null?void 0:ee.toLowerCase().includes(g.toLowerCase()));return X&&te}).reduce((I,X)=>(I[X.type]||(I[X.type]=[]),I[X.type].push(X),I),{}),Q={total:t.length,human:t.filter(I=>I.type==="human").length,technical:t.filter(I=>I.type==="technical").length,overAllocated:t.filter(I=>I.currentAllocation>100).length};return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-10 h-10 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(me,{to:`/workspace/${e}/sdsi`,className:"p-2 hover:bg-surface-800 rounded-lg transition-colors",children:r.jsx(Wu,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-display font-bold text-surface-100 flex items-center gap-3",children:[r.jsx(Le,{className:"w-7 h-7 text-blue-500"}),"Gestion des Ressources"]}),r.jsx("p",{className:"text-surface-400 mt-1",children:"Grez et allouez vos ressources aux projets"})]})]}),r.jsxs("button",{onClick:()=>{B(),c(!0)},className:"btn btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),"Nouvelle ressource"]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs("div",{className:"card p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-surface-400",children:"Total"}),r.jsx(Le,{className:"w-5 h-5 text-surface-500"})]}),r.jsx("p",{className:"text-2xl font-bold text-surface-100 mt-2",children:Q.total})]}),r.jsxs("div",{className:"card p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-surface-400",children:"Humaines"}),r.jsx(ls,{className:"w-5 h-5 text-blue-500"})]}),r.jsx("p",{className:"text-2xl font-bold text-blue-400 mt-2",children:Q.human})]}),r.jsxs("div",{className:"card p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-surface-400",children:"Techniques"}),r.jsx(vN,{className:"w-5 h-5 text-purple-500"})]}),r.jsx("p",{className:"text-2xl font-bold text-purple-400 mt-2",children:Q.technical})]}),r.jsxs("div",{className:"card p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-surface-400",children:"Sur-alloues"}),r.jsx(rT,{className:"w-5 h-5 text-red-500"})]}),r.jsx("p",{className:"text-2xl font-bold text-red-400 mt-2",children:Q.overAllocated})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-surface-500"}),r.jsx("input",{type:"text",value:g,onChange:I=>N(I.target.value),placeholder:"Rechercher une ressource...",className:"input pl-10"})]}),r.jsxs("select",{value:y,onChange:I=>p(I.target.value),className:"input w-56",children:[r.jsx("option",{value:"",children:"Tous les types"}),Object.entries(Xd).map(([I,X])=>r.jsx("option",{value:I,children:X.label},I))]})]}),r.jsxs("div",{className:"space-y-6",children:[Object.entries(z).map(([I,X])=>{const te=Xd[I],ee=(te==null?void 0:te.icon)||ls;return r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"text-lg font-semibold text-surface-200 flex items-center gap-2",children:[r.jsx("div",{className:`w-8 h-8 rounded-lg ${te==null?void 0:te.color} flex items-center justify-center`,children:r.jsx(ee,{className:"w-4 h-4 text-white"})}),"Ressources ",te==null?void 0:te.label,"s (",X.length,")"]}),r.jsx("div",{className:"grid gap-3",children:X.map((de,xn)=>{const Kt=j===de.id,Qt=de.currentAllocation||0,Ot=Qt>100;return r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:xn*.03},className:"card overflow-hidden",children:[r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl ${te==null?void 0:te.color} flex items-center justify-center`,children:r.jsx(ee,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-semibold text-surface-100",children:de.name}),r.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-surface-400",children:[de.department&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(li,{className:"w-3 h-3"}),de.department]}),de.email&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(cl,{className:"w-3 h-3"}),de.email]}),de.costPerUnit&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(eu,{className:"w-3 h-3"}),E8(de.costPerUnit,de.currency),"/",de.unit]})]})]}),r.jsxs("div",{className:"w-40",children:[r.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[r.jsx("span",{className:"text-surface-400",children:"Allocation"}),r.jsxs("span",{className:Ot?"text-red-400":"text-surface-300",children:[Qt.toFixed(0),"%"]})]}),r.jsx("div",{className:"h-2 bg-surface-700 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full rounded-full transition-all ${Ot?"bg-red-500":Qt>80?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${Math.min(Qt,100)}%`}})})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs("button",{onClick:()=>H(de),className:"btn btn-sm btn-secondary",children:[r.jsx(ie,{className:"w-3 h-3"}),"Allouer"]}),r.jsx("button",{onClick:()=>W(de),className:"p-2 hover:bg-surface-700 rounded-lg transition-colors",children:Kt?r.jsx(gp,{className:"w-4 h-4 text-surface-400"}):r.jsx(yr,{className:"w-4 h-4 text-surface-400"})}),r.jsx("button",{onClick:()=>D(de),className:"p-2 hover:bg-surface-700 rounded-lg transition-colors",children:r.jsx(ci,{className:"w-4 h-4 text-surface-400"})}),r.jsx("button",{onClick:()=>C(de.id),className:"p-2 hover:bg-red-500/20 rounded-lg transition-colors",children:r.jsx(Qe,{className:"w-4 h-4 text-red-400"})})]})]}),Array.isArray(de.skills)&&de.skills.length>0&&r.jsx("div",{className:"flex items-center gap-2 mt-3 pl-16",children:de.skills.map((at,Yu)=>r.jsx("span",{className:"px-2 py-0.5 bg-surface-700 text-surface-300 text-xs rounded-full",children:at},Yu))})]}),r.jsx(re,{children:Kt&&de.allocations&&r.jsx(F.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden border-t border-surface-700",children:r.jsxs("div",{className:"p-4 bg-surface-800/50",children:[r.jsxs("h5",{className:"text-sm font-medium text-surface-300 mb-3",children:["Allocations actives (",de.allocations.length,")"]}),de.allocations.length>0?r.jsx("div",{className:"space-y-2",children:de.allocations.map(at=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface-800 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-500/20 flex items-center justify-center",children:r.jsx(LD,{className:"w-4 h-4 text-primary-400"})}),r.jsxs("div",{children:[r.jsxs("span",{className:"text-surface-200 font-medium",children:[at.projectCode," - ",at.projectName]}),at.role&&r.jsx("p",{className:"text-xs text-surface-500",children:at.role})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("span",{className:"text-primary-400 font-medium",children:[at.percentage,"%"]}),at.startDate&&r.jsxs("span",{className:"text-xs text-surface-500",children:[new Date(at.startDate).toLocaleDateString("fr-FR"),at.endDate&&`  ${new Date(at.endDate).toLocaleDateString("fr-FR")}`]}),r.jsx("button",{onClick:()=>U(at.id),className:"p-1 hover:bg-red-500/20 rounded transition-colors",children:r.jsx(Qe,{className:"w-3 h-3 text-red-400"})})]})]},at.id))}):r.jsx("p",{className:"text-sm text-surface-500",children:"Aucune allocation"})]})})})]},de.id)})})]},I)}),Object.keys(z).length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Le,{className:"w-12 h-12 text-surface-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-surface-300 mb-2",children:"Aucune ressource"}),r.jsx("p",{className:"text-surface-500 mb-4",children:"Ajoutez vos premires ressources"}),r.jsxs("button",{onClick:()=>c(!0),className:"btn btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),"Ajouter une ressource"]})]})]}),r.jsx(re,{children:l&&r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>c(!1),children:r.jsxs(F.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:I=>I.stopPropagation(),className:"bg-surface-900 rounded-2xl border border-surface-700 w-full max-w-xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700 sticky top-0 bg-surface-900",children:[r.jsx("h2",{className:"text-xl font-display font-bold text-surface-100",children:f?"Modifier la ressource":"Nouvelle ressource"}),r.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-surface-800 rounded-lg transition-colors",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom *"}),r.jsx("input",{type:"text",value:E.name,onChange:I=>T({...E,name:I.target.value}),className:"input",placeholder:"Ex: Jean Dupont",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Type *"}),r.jsx("select",{value:E.type,onChange:I=>T({...E,type:I.target.value}),className:"input",required:!0,children:Object.entries(Xd).map(([I,X])=>r.jsx("option",{value:I,children:X.label},I))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),r.jsx("textarea",{value:E.description,onChange:I=>T({...E,description:I.target.value}),className:"input min-h-[60px]",placeholder:"Description de la ressource..."})]}),E.type==="human"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Email"}),r.jsx("input",{type:"email",value:E.email,onChange:I=>T({...E,email:I.target.value}),className:"input",placeholder:"email@exemple.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Tlphone"}),r.jsx("input",{type:"text",value:E.phone,onChange:I=>T({...E,phone:I.target.value}),className:"input",placeholder:"+237 6XX XXX XXX"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Dpartement"}),r.jsx("input",{type:"text",value:E.department,onChange:I=>T({...E,department:I.target.value}),className:"input",placeholder:"Ex: DSI, RH, Finance..."})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Capacit"}),r.jsx("input",{type:"number",value:E.capacity,onChange:I=>T({...E,capacity:I.target.value}),className:"input",placeholder:"100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Unit"}),r.jsxs("select",{value:E.unit,onChange:I=>T({...E,unit:I.target.value}),className:"input",children:[r.jsx("option",{value:"%",children:"Pourcentage (%)"}),r.jsx("option",{value:"h",children:"Heures (h)"}),r.jsx("option",{value:"j",children:"Jours (j)"}),r.jsx("option",{value:"u",children:"Units (u)"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Cot par unit"}),r.jsx("input",{type:"number",value:E.costPerUnit,onChange:I=>T({...E,costPerUnit:I.target.value}),className:"input",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Devise"}),r.jsxs("select",{value:E.currency,onChange:I=>T({...E,currency:I.target.value}),className:"input",children:[r.jsx("option",{value:"XAF",children:"XAF (FCFA)"}),r.jsx("option",{value:"EUR",children:"EUR ()"}),r.jsx("option",{value:"USD",children:"USD ($)"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Comptences (spares par des virgules)"}),r.jsx("input",{type:"text",value:E.skills,onChange:I=>T({...E,skills:I.target.value}),className:"input",placeholder:"Ex: Java, React, Management..."})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-secondary",children:"Annuler"}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:f?"Mettre  jour":"Crer"})]})]})]})})}),r.jsx(re,{children:u&&x&&r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>d(!1),children:r.jsxs(F.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:I=>I.stopPropagation(),className:"bg-surface-900 rounded-2xl border border-surface-700 w-full max-w-md",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-display font-bold text-surface-100",children:"Allouer la ressource"}),r.jsx("p",{className:"text-sm text-surface-400 mt-1",children:x.name})]}),r.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-surface-800 rounded-lg transition-colors",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Projet *"}),r.jsxs("select",{value:k.projectId,onChange:I=>M({...k,projectId:I.target.value}),className:"input",required:!0,children:[r.jsx("option",{value:"",children:"Slectionner un projet"}),n.map(I=>r.jsxs("option",{value:I.id,children:[I.code," - ",I.name]},I.id))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Pourcentage d'allocation: ",k.percentage,"%"]}),r.jsx("input",{type:"range",min:"5",max:"100",step:"5",value:k.percentage,onChange:I=>M({...k,percentage:parseInt(I.target.value)}),className:"w-full h-2 bg-surface-700 rounded-lg appearance-none cursor-pointer accent-primary-500"}),r.jsxs("div",{className:"flex justify-between text-xs text-surface-500 mt-1",children:[r.jsx("span",{children:"5%"}),r.jsx("span",{children:"100%"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Rle sur le projet"}),r.jsx("input",{type:"text",value:k.role,onChange:I=>M({...k,role:I.target.value}),className:"input",placeholder:"Ex: Chef de projet, Dveloppeur..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Date de dbut"}),r.jsx("input",{type:"date",value:k.startDate,onChange:I=>M({...k,startDate:I.target.value}),className:"input"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Date de fin"}),r.jsx("input",{type:"date",value:k.endDate,onChange:I=>M({...k,endDate:I.target.value}),className:"input"})]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>d(!1),className:"btn btn-secondary",children:"Annuler"}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:"Allouer"})]})]})]})})})]})}const M8={1:"bg-emerald-500",2:"bg-green-500",3:"bg-amber-500",4:"bg-orange-500",5:"bg-red-500"},yy={active:{label:"Actif",color:"bg-emerald-500"},planning:{label:"Planification",color:"bg-blue-500"},completed:{label:"Termin",color:"bg-surface-500"}};function D8(){const{workspaceId:e}=mt(),[t,s]=v.useState([]),[n,a]=v.useState(!0),[i,o]=v.useState(!1),[l,c]=v.useState(null);v.useEffect(()=>{u()},[e]);const u=async()=>{try{const{data:f}=await ae.getAxes(e);s(f)}catch{V.error("Erreur lors du chargement")}finally{a(!1)}},d=async f=>{if(confirm("Supprimer cet axe stratgique ? Les projets associs seront dsassocis."))try{await ae.deleteAxis(f),V.success("Axe supprim"),u()}catch{V.error("Erreur lors de la suppression")}};return n?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-display font-bold text-surface-100",children:"Axes Stratgiques"}),r.jsx("p",{className:"text-surface-400 mt-1",children:"Dfinissez les grandes orientations de votre schma directeur"})]}),r.jsxs("button",{onClick:()=>{c(null),o(!0)},className:"btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),"Nouvel Axe"]})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:t.map((f,m)=>{var x,h;return r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.05},className:"card p-5 hover:bg-surface-800/80 transition-colors group relative",children:[r.jsxs("div",{className:"absolute top-4 right-4 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx("button",{onClick:()=>{c(f),o(!0)},className:"p-1.5 rounded-lg hover:bg-surface-700 text-surface-400 hover:text-surface-200",children:r.jsx(ci,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>d(f.id),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-surface-400 hover:text-red-400",children:r.jsx(Qe,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shrink-0 text-2xl",style:{backgroundColor:`${f.color}20`},children:f.icon||r.jsx(Fs,{className:"w-6 h-6",style:{color:f.color}})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:`w-2 h-2 rounded-full ${M8[f.priority]||"bg-surface-500"}`}),r.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${((x=yy[f.status])==null?void 0:x.color)||"bg-surface-600"} text-white`,children:((h=yy[f.status])==null?void 0:h.label)||"Actif"})]}),r.jsx("h3",{className:"font-semibold text-surface-100 truncate",children:f.name}),f.description&&r.jsx("p",{className:"text-sm text-surface-400 mt-1 line-clamp-2",children:f.description}),r.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-1 text-surface-400",children:[r.jsx(Fo,{className:"w-4 h-4"}),r.jsxs("span",{children:[f.projectCount," projets"]})]}),r.jsxs("div",{className:"flex items-center gap-1 text-surface-400",children:[r.jsx(Rt,{className:"w-4 h-4"}),r.jsxs("span",{children:[f.kpiCount," KPIs"]})]}),f.startYear&&f.endYear&&r.jsxs("div",{className:"flex items-center gap-1 text-surface-400",children:[r.jsx(Ze,{className:"w-4 h-4"}),r.jsxs("span",{children:[f.startYear," - ",f.endYear]})]})]}),f.objectives&&r.jsx("div",{className:"mt-3 p-2 bg-surface-800/50 rounded-lg",children:r.jsx("p",{className:"text-xs text-surface-500 line-clamp-2",children:f.objectives})})]})]}),r.jsxs(me,{to:`/workspace/${e}/sdsi/projects?axis=${f.id}`,className:"mt-4 flex items-center gap-1 text-sm text-primary-400 hover:text-primary-300",children:["Voir les projets ",r.jsx(Ws,{className:"w-4 h-4"})]})]},f.id)})}),t.length===0&&r.jsxs("div",{className:"card p-12 text-center",children:[r.jsx(Fs,{className:"w-16 h-16 text-surface-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-surface-300 mb-2",children:"Aucun axe stratgique"}),r.jsx("p",{className:"text-surface-500 mb-6",children:"Crez votre premier axe pour structurer votre schma directeur"}),r.jsxs("button",{onClick:()=>o(!0),className:"btn-primary mx-auto",children:[r.jsx(ie,{className:"w-4 h-4"}),"Crer un axe"]})]}),r.jsx(re,{children:i&&r.jsx(T8,{workspaceId:e,axis:l,onClose:()=>{o(!1),c(null)},onSave:()=>{o(!1),c(null),u()}})})]})}function T8({workspaceId:e,axis:t,onClose:s,onSave:n}){const[a,i]=v.useState({name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",objectives:(t==null?void 0:t.objectives)||"",priority:(t==null?void 0:t.priority)||1,color:(t==null?void 0:t.color)||"#6366f1",icon:(t==null?void 0:t.icon)||"",status:(t==null?void 0:t.status)||"active",startYear:(t==null?void 0:t.startYear)||new Date().getFullYear(),endYear:(t==null?void 0:t.endYear)||new Date().getFullYear()+3}),[o,l]=v.useState(!1),c=["#6366f1","#8b5cf6","#ec4899","#ef4444","#f59e0b","#10b981","#06b6d4","#3b82f6","#64748b"],u=async d=>{d.preventDefault(),l(!0);try{t?(await ae.updateAxis(t.id,a),V.success("Axe mis  jour")):(await ae.createAxis({...a,workspaceId:e}),V.success("Axe cr")),n()}catch{V.error("Erreur")}finally{l(!1)}};return r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:s,children:r.jsxs(F.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-surface-900 rounded-2xl w-full max-w-lg shadow-2xl",onClick:d=>d.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[r.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:t?"Modifier l'axe":"Nouvel Axe Stratgique"}),r.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom *"}),r.jsx("input",{type:"text",value:a.name,onChange:d=>i({...a,name:d.target.value}),className:"input w-full",placeholder:"Ex: Transformation digitale",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),r.jsx("textarea",{value:a.description,onChange:d=>i({...a,description:d.target.value}),className:"input w-full h-20 resize-none",placeholder:"Dcrivez cet axe stratgique..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Objectifs"}),r.jsx("textarea",{value:a.objectives,onChange:d=>i({...a,objectives:d.target.value}),className:"input w-full h-20 resize-none",placeholder:"Quels sont les objectifs de cet axe ?"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Priorit"}),r.jsxs("select",{value:a.priority,onChange:d=>i({...a,priority:parseInt(d.target.value)}),className:"input w-full",children:[r.jsx("option",{value:1,children:"1 - Trs haute"}),r.jsx("option",{value:2,children:"2 - Haute"}),r.jsx("option",{value:3,children:"3 - Moyenne"}),r.jsx("option",{value:4,children:"4 - Basse"}),r.jsx("option",{value:5,children:"5 - Trs basse"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Statut"}),r.jsxs("select",{value:a.status,onChange:d=>i({...a,status:d.target.value}),className:"input w-full",children:[r.jsx("option",{value:"active",children:"Actif"}),r.jsx("option",{value:"planning",children:"Planification"}),r.jsx("option",{value:"completed",children:"Termin"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Anne dbut"}),r.jsx("input",{type:"number",value:a.startYear,onChange:d=>i({...a,startYear:parseInt(d.target.value)}),className:"input w-full",min:2020,max:2050})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Anne fin"}),r.jsx("input",{type:"number",value:a.endYear,onChange:d=>i({...a,endYear:parseInt(d.target.value)}),className:"input w-full",min:2020,max:2050})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Couleur"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(d=>r.jsx("button",{type:"button",onClick:()=>i({...a,color:d}),className:`w-8 h-8 rounded-lg transition-transform ${a.color===d?"ring-2 ring-white ring-offset-2 ring-offset-surface-900 scale-110":""}`,style:{backgroundColor:d}},d))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Icne (emoji)"}),r.jsx("input",{type:"text",value:a.icon,onChange:d=>i({...a,icon:d.target.value}),className:"input w-full",placeholder:"",maxLength:2})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:s,className:"btn-secondary flex-1",children:"Annuler"}),r.jsx("button",{type:"submit",disabled:o||!a.name,className:"btn-primary flex-1",children:o?"Enregistrement...":t?"Mettre  jour":"Crer"})]})]})]})})}const A8=[{id:"members",label:"Membres",icon:Le},{id:"roles",label:"Rles",icon:ln},{id:"groups",label:"Groupes",icon:Le},{id:"audit",label:"Audit",icon:vp}];function R8(){const{workspaceId:e}=mt(),[t,s]=v.useState("members"),[n,a]=v.useState([]),[i,o]=v.useState([]),[l,c]=v.useState([]),[u,d]=v.useState([]),[f,m]=v.useState([]),[x,h]=v.useState(!0),[j,b]=v.useState(""),[y,p]=v.useState(!1),[g,N]=v.useState(!1),[E,T]=v.useState(!1),[k,M]=v.useState(null);v.useEffect(()=>{R()},[e]);const R=async()=>{h(!0);try{const[w,D,C,U]=await Promise.all([vt.getByWorkspace(e),Ft.getRoles(e),Ft.getGroups(e),Ft.getPermissions()]);a(w.data),o(D.data),c(C.data),d(U.data.byCategory||{})}catch(w){console.error("Load error:",w),V.error("Erreur de chargement")}finally{h(!1)}},P=async()=>{try{const{data:w}=await Ft.getAuditLogs(e,{limit:100});m(w)}catch(w){console.error("Audit load error:",w)}};v.useEffect(()=>{t==="audit"&&P()},[t]);const S=n.filter(w=>{var C,U;if(!j)return!0;const D=j.toLowerCase();return((C=w.email)==null?void 0:C.toLowerCase().includes(D))||((U=w.fullName)==null?void 0:U.toLowerCase().includes(D))});return x?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-display font-bold text-surface-100",children:"Gestion des Permissions"}),r.jsx("p",{className:"text-surface-400 mt-1",children:"Grez les accs et les rles des utilisateurs de votre espace de travail"})]}),r.jsx("div",{className:"flex gap-1 p-1 bg-surface-800 rounded-xl w-fit",children:A8.map(w=>r.jsxs("button",{onClick:()=>s(w.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t===w.id?"bg-primary-500 text-white":"text-surface-400 hover:text-surface-200 hover:bg-surface-700"}`,children:[r.jsx(w.icon,{className:"w-4 h-4"}),w.label]},w.id))}),t==="members"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"relative flex-1 max-w-sm",children:[r.jsx(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-surface-500"}),r.jsx("input",{type:"text",placeholder:"Rechercher un membre...",value:j,onChange:w=>b(w.target.value),className:"input pl-10 w-full"})]})}),r.jsx("div",{className:"card overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-surface-700",children:[r.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-surface-400",children:"Utilisateur"}),r.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-surface-400",children:"Rle workspace"}),r.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-surface-400",children:"Rles personnaliss"}),r.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-surface-400",children:"Actions"})]})}),r.jsx("tbody",{children:S.map(w=>{var D,C,U;return r.jsxs("tr",{className:"border-b border-surface-800 last:border-0 hover:bg-surface-800/30",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"avatar",children:[(D=w.firstName)==null?void 0:D[0],(C=w.lastName)==null?void 0:C[0]]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-surface-200",children:w.fullName}),r.jsx("p",{className:"text-sm text-surface-500",children:w.email})]})]})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w.role==="owner"?"bg-amber-500/20 text-amber-400":w.role==="admin"?"bg-purple-500/20 text-purple-400":"bg-surface-700 text-surface-300"}`,children:w.role==="owner"?"Propritaire":w.role==="admin"?"Administrateur":"Membre"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("div",{className:"flex flex-wrap gap-1",children:((U=w.customRoles)==null?void 0:U.map(W=>r.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:`${W.color}20`,color:W.color},children:W.name},W.id)))||r.jsx("span",{className:"text-surface-500 text-sm",children:"Aucun"})})}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsx("button",{onClick:()=>{M(w),T(!0)},className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400 hover:text-surface-200",children:r.jsx(di,{className:"w-4 h-4"})})})]},w.id)})})]})})]}),t==="roles"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{onClick:()=>{M(null),p(!0)},className:"btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),"Nouveau rle"]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.map((w,D)=>{var C,U;return r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.05},className:"card p-5",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${w.color}20`},children:r.jsx(ln,{className:"w-5 h-5",style:{color:w.color}})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-surface-100",children:w.name}),r.jsxs("p",{className:"text-sm text-surface-500",children:[w.userCount," utilisateur(s)"]})]})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>{M(w),p(!0)},className:"p-1.5 rounded-lg hover:bg-surface-700 text-surface-400",children:r.jsx(ci,{className:"w-4 h-4"})}),r.jsx("button",{onClick:async()=>{confirm("Supprimer ce rle ?")&&(await Ft.deleteRole(w.id),R(),V.success("Rle supprim"))},className:"p-1.5 rounded-lg hover:bg-surface-700 text-red-400",children:r.jsx(Qe,{className:"w-4 h-4"})})]})]}),w.description&&r.jsx("p",{className:"text-sm text-surface-400 mb-3",children:w.description}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[(C=w.permissions)==null?void 0:C.slice(0,5).map(W=>r.jsx("span",{className:"text-xs px-2 py-0.5 bg-surface-700 text-surface-300 rounded-full",children:W},W)),((U=w.permissions)==null?void 0:U.length)>5&&r.jsxs("span",{className:"text-xs px-2 py-0.5 bg-surface-700 text-surface-400 rounded-full",children:["+",w.permissions.length-5]})]})]},w.id)}),i.length===0&&r.jsxs("div",{className:"col-span-full card p-12 text-center",children:[r.jsx(ln,{className:"w-12 h-12 text-surface-600 mx-auto mb-4"}),r.jsx("p",{className:"text-surface-400",children:"Aucun rle personnalis"}),r.jsx("p",{className:"text-sm text-surface-500 mt-1",children:"Crez des rles pour grer finement les permissions"})]})]})]}),t==="groups"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{onClick:()=>{M(null),N(!0)},className:"btn-primary",children:[r.jsx(ie,{className:"w-4 h-4"}),"Nouveau groupe"]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.map((w,D)=>{var C;return r.jsxs(F.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.05},className:"card p-5",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${w.color}20`},children:r.jsx(Le,{className:"w-5 h-5",style:{color:w.color}})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-surface-100",children:w.name}),r.jsxs("p",{className:"text-sm text-surface-500",children:[w.memberCount," membre(s)"]})]})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>{M(w),N(!0)},className:"p-1.5 rounded-lg hover:bg-surface-700 text-surface-400",children:r.jsx(ci,{className:"w-4 h-4"})}),r.jsx("button",{onClick:async()=>{confirm("Supprimer ce groupe ?")&&(await Ft.deleteGroup(w.id),R(),V.success("Groupe supprim"))},className:"p-1.5 rounded-lg hover:bg-surface-700 text-red-400",children:r.jsx(Qe,{className:"w-4 h-4"})})]})]}),w.description&&r.jsx("p",{className:"text-sm text-surface-400 mb-3",children:w.description}),r.jsxs("div",{className:"flex -space-x-2",children:[(C=w.members)==null?void 0:C.slice(0,5).map((U,W)=>{var B,_;return r.jsxs("div",{className:"avatar avatar-sm ring-2 ring-surface-900",title:`${U.firstName} ${U.lastName}`,children:[(B=U.firstName)==null?void 0:B[0],(_=U.lastName)==null?void 0:_[0]]},U.id)}),w.memberCount>5&&r.jsxs("div",{className:"avatar avatar-sm ring-2 ring-surface-900 bg-surface-700 text-surface-400",children:["+",w.memberCount-5]})]})]},w.id)}),l.length===0&&r.jsxs("div",{className:"col-span-full card p-12 text-center",children:[r.jsx(Le,{className:"w-12 h-12 text-surface-600 mx-auto mb-4"}),r.jsx("p",{className:"text-surface-400",children:"Aucun groupe"}),r.jsx("p",{className:"text-sm text-surface-500 mt-1",children:"Crez des groupes pour grer les accs en masse"})]})]})]}),t==="audit"&&r.jsxs("div",{className:"card overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-surface-700",children:r.jsx("h3",{className:"font-semibold text-surface-200",children:"Journal d'audit des permissions"})}),r.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:f.length>0?r.jsx("div",{className:"divide-y divide-surface-800",children:f.map(w=>{var D;return r.jsx("div",{className:"p-4 hover:bg-surface-800/30",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface-700 flex items-center justify-center mt-0.5",children:r.jsx(vp,{className:"w-4 h-4 text-surface-400"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-surface-200",children:[r.jsx("span",{className:"font-medium",children:((D=w.performer)==null?void 0:D.name)||"Systme"})," ",O8(w.action)," ",w.target&&r.jsx("span",{className:"font-medium",children:w.target.name})]}),r.jsx("p",{className:"text-xs text-surface-500 mt-1",children:new Date(w.createdAt).toLocaleString("fr-FR")})]})]})})},w.id)})}):r.jsx("div",{className:"p-12 text-center text-surface-500",children:"Aucune activit enregistre"})})]}),r.jsxs(re,{children:[y&&r.jsx(L8,{workspaceId:e,role:k,permissions:u,onClose:()=>{p(!1),M(null)},onSave:()=>{R(),p(!1),M(null)}}),g&&r.jsx(I8,{workspaceId:e,group:k,members:n,onClose:()=>{N(!1),M(null)},onSave:()=>{R(),N(!1),M(null)}}),E&&k&&r.jsx(_8,{workspaceId:e,user:k,roles:i,onClose:()=>{T(!1),M(null)},onSave:()=>{R(),T(!1),M(null)}})]})]})}function O8(e){return{role_created:"a cr le rle",role_updated:"a modifi le rle",role_deleted:"a supprim le rle",role_assigned:"a assign un rle ",role_removed:"a retir un rle de",permission_granted:"a accord une permission ",permission_revoked:"a rvoqu une permission de"}[e]||e}function L8({workspaceId:e,role:t,permissions:s,onClose:n,onSave:a}){const[i,o]=v.useState({name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",color:(t==null?void 0:t.color)||"#6366f1",permissions:(t==null?void 0:t.permissions)||[]}),[l,c]=v.useState(!1),u=async f=>{f.preventDefault(),c(!0);try{t?(await Ft.updateRole(t.id,i),V.success("Rle mis  jour")):(await Ft.createRole({...i,workspaceId:e}),V.success("Rle cr")),a()}catch{V.error("Erreur")}finally{c(!1)}},d=f=>{o(m=>({...m,permissions:m.permissions.includes(f)?m.permissions.filter(x=>x!==f):[...m.permissions,f]}))};return r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:n,children:r.jsxs(F.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-surface-900 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",onClick:f=>f.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[r.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:t?"Modifier le rle":"Nouveau rle"}),r.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:u,className:"flex-1 overflow-y-auto p-6 space-y-5",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom *"}),r.jsx("input",{type:"text",value:i.name,onChange:f=>o({...i,name:f.target.value}),className:"input w-full",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Couleur"}),r.jsx("input",{type:"color",value:i.color,onChange:f=>o({...i,color:f.target.value}),className:"w-full h-10 rounded-lg cursor-pointer"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),r.jsx("textarea",{value:i.description,onChange:f=>o({...i,description:f.target.value}),className:"input w-full h-20 resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-3",children:"Permissions"}),r.jsx("div",{className:"space-y-4",children:Object.entries(s).map(([f,m])=>r.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-xl",children:[r.jsx("h4",{className:"font-medium text-surface-200 mb-3 capitalize",children:f}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:m.map(x=>r.jsxs("label",{className:"flex items-center gap-2 p-2 rounded-lg hover:bg-surface-700 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:i.permissions.includes(x.code),onChange:()=>d(x.code),className:"w-4 h-4 rounded border-surface-600 bg-surface-800 text-primary-500"}),r.jsx("span",{className:"text-sm text-surface-300",children:x.name})]},x.code))})]},f))})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"btn-secondary flex-1",children:"Annuler"}),r.jsx("button",{type:"submit",disabled:l||!i.name,className:"btn-primary flex-1",children:l?"Enregistrement...":t?"Mettre  jour":"Crer"})]})]})]})})}function I8({workspaceId:e,group:t,members:s,onClose:n,onSave:a}){var f;const[i,o]=v.useState({name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",color:(t==null?void 0:t.color)||"#6366f1",memberIds:((f=t==null?void 0:t.members)==null?void 0:f.map(m=>m.id))||[]}),[l,c]=v.useState(!1),u=async m=>{m.preventDefault(),c(!0);try{t?(await Ft.updateGroup(t.id,i),V.success("Groupe mis  jour")):(await Ft.createGroup({...i,workspaceId:e}),V.success("Groupe cr")),a()}catch{V.error("Erreur")}finally{c(!1)}},d=m=>{o(x=>({...x,memberIds:x.memberIds.includes(m)?x.memberIds.filter(h=>h!==m):[...x.memberIds,m]}))};return r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:n,children:r.jsxs(F.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-surface-900 rounded-2xl w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col",onClick:m=>m.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[r.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:t?"Modifier le groupe":"Nouveau groupe"}),r.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("form",{onSubmit:u,className:"flex-1 overflow-y-auto p-6 space-y-5",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom *"}),r.jsx("input",{type:"text",value:i.name,onChange:m=>o({...i,name:m.target.value}),className:"input w-full",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Couleur"}),r.jsx("input",{type:"color",value:i.color,onChange:m=>o({...i,color:m.target.value}),className:"w-full h-10 rounded-lg cursor-pointer"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),r.jsx("textarea",{value:i.description,onChange:m=>o({...i,description:m.target.value}),className:"input w-full h-20 resize-none"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-3",children:"Membres"}),r.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1 p-2 bg-surface-800/50 rounded-xl",children:s.map((m,x)=>{var h,j;return r.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-surface-700 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:m.id?i.memberIds.includes(m.id):!1,onChange:()=>m.id&&d(m.id),className:"w-4 h-4 rounded border-surface-600 bg-surface-800 text-primary-500"}),r.jsxs("div",{className:"avatar avatar-sm",children:[(h=m.firstName)==null?void 0:h[0],(j=m.lastName)==null?void 0:j[0]]}),r.jsx("span",{className:"text-sm text-surface-300",children:m.fullName})]},m.id||`member-${x}`)})})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:n,className:"btn-secondary flex-1",children:"Annuler"}),r.jsx("button",{type:"submit",disabled:l||!i.name,className:"btn-primary flex-1",children:l?"Enregistrement...":t?"Mettre  jour":"Crer"})]})]})]})})}function _8({workspaceId:e,user:t,roles:s,onClose:n,onSave:a}){var f,m;const[i,o]=v.useState([]),[l,c]=v.useState(!0);v.useEffect(()=>{t!=null&&t.id&&e&&u()},[t,e]);const u=async()=>{var x;if(!(!(t!=null&&t.id)||!e))try{const{data:h}=await Ft.getUserPermissions(t.id,e);o(((x=h.roles)==null?void 0:x.map(j=>j.id))||[])}catch(h){console.error("Load error:",h)}finally{c(!1)}},d=async x=>{if(t!=null&&t.id)try{i.includes(x)?(await Ft.removeRole(t.id,x,e),o(h=>h.filter(j=>j!==x)),V.success("Rle retir")):(await Ft.assignRole(t.id,{workspaceId:e,roleId:x}),o(h=>[...h,x]),V.success("Rle assign"))}catch{V.error("Erreur")}};return r.jsx(F.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:n,children:r.jsxs(F.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-surface-900 rounded-2xl w-full max-w-md overflow-hidden",onClick:x=>x.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"avatar",children:[(f=t.firstName)==null?void 0:f[0],(m=t.lastName)==null?void 0:m[0]]}),r.jsxs("div",{children:[r.jsx("h2",{className:"font-semibold text-surface-100",children:t.fullName}),r.jsx("p",{className:"text-sm text-surface-500",children:t.email})]})]}),r.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:r.jsx(fe,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-surface-300 mb-3",children:"Rle workspace"}),r.jsx("span",{className:`px-3 py-1.5 rounded-full text-sm font-medium ${t.role==="owner"?"bg-amber-500/20 text-amber-400":t.role==="admin"?"bg-purple-500/20 text-purple-400":"bg-surface-700 text-surface-300"}`,children:t.role==="owner"?"Propritaire":t.role==="admin"?"Administrateur":"Membre"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-surface-300 mb-3",children:"Rles personnaliss"}),l?r.jsx("div",{className:"flex justify-center p-4",children:r.jsx("div",{className:"w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):s.length>0?r.jsx("div",{className:"space-y-2",children:s.map(x=>r.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-surface-800/50 hover:bg-surface-800 cursor-pointer",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:x.color}}),r.jsx("span",{className:"text-surface-200",children:x.name})]}),r.jsx("input",{type:"checkbox",checked:i.includes(x.id),onChange:()=>d(x.id),className:"w-5 h-5 rounded border-surface-600 bg-surface-800 text-primary-500"})]},x.id))}):r.jsx("p",{className:"text-surface-500 text-sm",children:"Aucun rle personnalis disponible"})]}),r.jsx("button",{onClick:n,className:"btn-primary w-full",children:"Termin"})]})]})})}function vy({children:e,allowPasswordChange:t=!1}){const{isAuthenticated:s,isLoading:n,user:a}=dt(),i=mn();return n?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-surface-950",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"}),r.jsx("p",{className:"text-surface-400",children:"Chargement..."})]})}):s?a!=null&&a.mustChangePassword&&!t&&i.pathname!=="/change-password"?r.jsx(Bc,{to:"/change-password",replace:!0}):e:r.jsx(Bc,{to:"/login",replace:!0})}function jy({children:e}){const{isAuthenticated:t}=dt();return t?r.jsx(Bc,{to:"/",replace:!0}):e}function F8(){return r.jsxs(Ck,{children:[r.jsx(Ee,{path:"/login",element:r.jsx(jy,{children:r.jsx(oy,{children:r.jsx(d6,{})})})}),r.jsx(Ee,{path:"/register",element:r.jsx(jy,{children:r.jsx(oy,{children:r.jsx(f6,{})})})}),r.jsx(Ee,{path:"/change-password",element:r.jsx(vy,{allowPasswordChange:!0,children:r.jsx(m6,{})})}),r.jsxs(Ee,{path:"/",element:r.jsx(vy,{children:r.jsx(u6,{})}),children:[r.jsx(Ee,{index:!0,element:r.jsx(x6,{})}),r.jsx(Ee,{path:"workspace/:workspaceId",element:r.jsx(j6,{})}),r.jsx(Ee,{path:"workspace/:workspaceId/members",element:r.jsx(J6,{})}),r.jsx(Ee,{path:"workspace/:workspaceId/budgets",element:r.jsx(e8,{})}),r.jsx(Ee,{path:"workspace/:workspaceId/budget/:budgetId",element:r.jsx(s8,{})}),r.jsx(Ee,{path:"workspace/:workspaceId/evaluation",element:r.jsx(d8,{})}),r.jsx(Ee,{path:"workspace/:workspaceId/tickets",element:r.jsx(m8,{})}),r.jsx(Ee,{path:"workspace/:workspaceId/tickets/admin",element:r.jsx(h8,{})}),r.jsx(Ee,{path:"board/:boardId",element:r.jsx(Y6,{})}),r.jsx(Ee,{path:"workspace/:workspaceId/sdsi",element:r.jsx(x8,{})}),r.jsx(Ee,{path:"workspace/:workspaceId/sdsi/axes",element:r.jsx(D8,{})}),r.jsx(Ee,{path:"workspace/:workspaceId/sdsi/projects",element:r.jsx(g8,{})}),r.jsx(Ee,{path:"workspace/:workspaceId/sdsi/project/:projectId",element:r.jsx(v8,{})}),r.jsx(Ee,{path:"workspace/:workspaceId/sdsi/resources",element:r.jsx(P8,{})}),r.jsx(Ee,{path:"workspace/:workspaceId/sdsi/applications",element:r.jsx(j8,{})}),r.jsx(Ee,{path:"workspace/:workspaceId/sdsi/kpis",element:r.jsx(k8,{})}),r.jsx(Ee,{path:"workspace/:workspaceId/permissions",element:r.jsx(R8,{})}),r.jsx(Ee,{path:"settings",element:r.jsx(X6,{})})]}),r.jsx(Ee,{path:"*",element:r.jsx(Bc,{to:"/",replace:!0})})]})}const $8=new aC({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1,refetchOnWindowFocus:!1}}});Jd.createRoot(document.getElementById("root")).render(r.jsx(Go.StrictMode,{children:r.jsx(iC,{client:$8,children:r.jsxs(Ak,{children:[r.jsx(F8,{}),r.jsx(aS,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1e293b",color:"#f8fafc",borderRadius:"12px",border:"1px solid rgba(148, 163, 184, 0.1)"},success:{iconTheme:{primary:"#22c55e",secondary:"#f8fafc"}},error:{iconTheme:{primary:"#ef4444",secondary:"#f8fafc"}}}})]})})}));
