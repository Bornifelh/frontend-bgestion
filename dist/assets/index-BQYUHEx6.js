var ag=e=>{throw TypeError(e)};var yf=(e,t,s)=>t.has(e)||ag("Cannot "+s);var R=(e,t,s)=>(yf(e,t,"read from private field"),s?s.call(e):t.get(e)),J=(e,t,s)=>t.has(e)?ag("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),X=(e,t,s,n)=>(yf(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s),ue=(e,t,s)=>(yf(e,t,"access private method"),s);var So=(e,t,s,n)=>({set _(r){X(e,t,r,s)},get _(){return R(e,t,n)}});function J5(e,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in e)){const i=Object.getOwnPropertyDescriptor(n,r);i&&Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();function Mp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nj={exports:{}},Rd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS=Symbol.for("react.transitional.element"),tS=Symbol.for("react.fragment");function wj(e,t,s){var n=null;if(s!==void 0&&(n=""+s),t.key!==void 0&&(n=""+t.key),"key"in t){s={};for(var r in t)r!=="key"&&(s[r]=t[r])}else s=t;return t=s.ref,{$$typeof:eS,type:e,key:n,ref:t!==void 0?t:null,props:s}}Rd.Fragment=tS;Rd.jsx=wj;Rd.jsxs=wj;Nj.exports=Rd;var a=Nj.exports,Sj={exports:{}},ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp=Symbol.for("react.transitional.element"),sS=Symbol.for("react.portal"),aS=Symbol.for("react.fragment"),nS=Symbol.for("react.strict_mode"),rS=Symbol.for("react.profiler"),iS=Symbol.for("react.consumer"),lS=Symbol.for("react.context"),cS=Symbol.for("react.forward_ref"),oS=Symbol.for("react.suspense"),uS=Symbol.for("react.memo"),Cj=Symbol.for("react.lazy"),dS=Symbol.for("react.activity"),ng=Symbol.iterator;function fS(e){return e===null||typeof e!="object"?null:(e=ng&&e[ng]||e["@@iterator"],typeof e=="function"?e:null)}var kj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ej=Object.assign,Aj={};function rl(e,t,s){this.props=e,this.context=t,this.refs=Aj,this.updater=s||kj}rl.prototype.isReactComponent={};rl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Tj(){}Tj.prototype=rl.prototype;function Rp(e,t,s){this.props=e,this.context=t,this.refs=Aj,this.updater=s||kj}var Op=Rp.prototype=new Tj;Op.constructor=Rp;Ej(Op,rl.prototype);Op.isPureReactComponent=!0;var rg=Array.isArray;function Oh(){}var Pe={H:null,A:null,T:null,S:null},Mj=Object.prototype.hasOwnProperty;function _p(e,t,s){var n=s.ref;return{$$typeof:Dp,type:e,key:t,ref:n!==void 0?n:null,props:s}}function hS(e,t){return _p(e.type,t,e.props)}function Lp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dp}function mS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var ig=/\/+/g;function bf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mS(""+e.key):t.toString(36)}function pS(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Oh,Oh):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Jr(e,t,s,n,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Dp:case sS:l=!0;break;case Cj:return l=e._init,Jr(l(e._payload),t,s,n,r)}}if(l)return r=r(e),l=n===""?"."+bf(e,0):n,rg(r)?(s="",l!=null&&(s=l.replace(ig,"$&/")+"/"),Jr(r,t,s,"",function(u){return u})):r!=null&&(Lp(r)&&(r=hS(r,s+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(ig,"$&/")+"/")+l)),t.push(r)),1;l=0;var c=n===""?".":n+":";if(rg(e))for(var o=0;o<e.length;o++)n=e[o],i=c+bf(n,o),l+=Jr(n,t,s,i,r);else if(o=fS(e),typeof o=="function")for(e=o.call(e),o=0;!(n=e.next()).done;)n=n.value,i=c+bf(n,o++),l+=Jr(n,t,s,i,r);else if(i==="object"){if(typeof e.then=="function")return Jr(pS(e),t,s,n,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function Co(e,t,s){if(e==null)return e;var n=[],r=0;return Jr(e,n,"","",function(i){return t.call(s,i,r++)}),n}function xS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},gS={map:Co,forEach:function(e,t,s){Co(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Co(e,function(){t++}),t},toArray:function(e){return Co(e,function(t){return t})||[]},only:function(e){if(!Lp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Activity=dS;ie.Children=gS;ie.Component=rl;ie.Fragment=aS;ie.Profiler=rS;ie.PureComponent=Rp;ie.StrictMode=nS;ie.Suspense=oS;ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pe;ie.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Pe.H.useMemoCache(e)}};ie.cache=function(e){return function(){return e.apply(null,arguments)}};ie.cacheSignal=function(){return null};ie.cloneElement=function(e,t,s){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=Ej({},e.props),r=e.key;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)!Mj.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=s;else if(1<i){for(var l=Array(i),c=0;c<i;c++)l[c]=arguments[c+2];n.children=l}return _p(e.type,r,n)};ie.createContext=function(e){return e={$$typeof:lS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:iS,_context:e},e};ie.createElement=function(e,t,s){var n,r={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)Mj.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(r[n]=t[n]);var l=arguments.length-2;if(l===1)r.children=s;else if(1<l){for(var c=Array(l),o=0;o<l;o++)c[o]=arguments[o+2];r.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)r[n]===void 0&&(r[n]=l[n]);return _p(e,i,r)};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:cS,render:e}};ie.isValidElement=Lp;ie.lazy=function(e){return{$$typeof:Cj,_payload:{_status:-1,_result:e},_init:xS}};ie.memo=function(e,t){return{$$typeof:uS,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Pe.T,s={};Pe.T=s;try{var n=e(),r=Pe.S;r!==null&&r(s,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(Oh,lg)}catch(i){lg(i)}finally{t!==null&&s.types!==null&&(t.types=s.types),Pe.T=t}};ie.unstable_useCacheRefresh=function(){return Pe.H.useCacheRefresh()};ie.use=function(e){return Pe.H.use(e)};ie.useActionState=function(e,t,s){return Pe.H.useActionState(e,t,s)};ie.useCallback=function(e,t){return Pe.H.useCallback(e,t)};ie.useContext=function(e){return Pe.H.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e,t){return Pe.H.useDeferredValue(e,t)};ie.useEffect=function(e,t){return Pe.H.useEffect(e,t)};ie.useEffectEvent=function(e){return Pe.H.useEffectEvent(e)};ie.useId=function(){return Pe.H.useId()};ie.useImperativeHandle=function(e,t,s){return Pe.H.useImperativeHandle(e,t,s)};ie.useInsertionEffect=function(e,t){return Pe.H.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return Pe.H.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return Pe.H.useMemo(e,t)};ie.useOptimistic=function(e,t){return Pe.H.useOptimistic(e,t)};ie.useReducer=function(e,t,s){return Pe.H.useReducer(e,t,s)};ie.useRef=function(e){return Pe.H.useRef(e)};ie.useState=function(e){return Pe.H.useState(e)};ie.useSyncExternalStore=function(e,t,s){return Pe.H.useSyncExternalStore(e,t,s)};ie.useTransition=function(){return Pe.H.useTransition()};ie.version="19.2.3";Sj.exports=ie;var b=Sj.exports;const Pp=Mp(b),yS=J5({__proto__:null,default:Pp},[b]);var Dj={exports:{}},Od={},Rj={exports:{}},Oj={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,_){var F=U.length;U.push(_);e:for(;0<F;){var G=F-1>>>1,B=U[G];if(0<r(B,_))U[G]=_,U[F]=B,F=G;else break e}}function s(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var _=U[0],F=U.pop();if(F!==_){U[0]=F;e:for(var G=0,B=U.length,I=B>>>1;G<I;){var Q=2*(G+1)-1,P=U[Q],W=Q+1,se=U[W];if(0>r(P,F))W<B&&0>r(se,P)?(U[G]=se,U[W]=F,G=W):(U[G]=P,U[Q]=F,G=Q);else if(W<B&&0>r(se,F))U[G]=se,U[W]=F,G=W;else break e}}return _}function r(U,_){var F=U.sortIndex-_.sortIndex;return F!==0?F:U.id-_.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var o=[],u=[],d=1,f=null,h=3,p=!1,m=!1,v=!1,j=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function N(U){for(var _=s(u);_!==null;){if(_.callback===null)n(u);else if(_.startTime<=U)n(u),_.sortIndex=_.expirationTime,t(o,_);else break;_=s(u)}}function k(U){if(v=!1,N(U),!m)if(s(o)!==null)m=!0,D||(D=!0,S());else{var _=s(u);_!==null&&q(k,_.startTime-U)}}var D=!1,w=-1,T=5,O=-1;function A(){return j?!0:!(e.unstable_now()-O<T)}function E(){if(j=!1,D){var U=e.unstable_now();O=U;var _=!0;try{e:{m=!1,v&&(v=!1,g(w),w=-1),p=!0;var F=h;try{t:{for(N(U),f=s(o);f!==null&&!(f.expirationTime>U&&A());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var B=G(f.expirationTime<=U);if(U=e.unstable_now(),typeof B=="function"){f.callback=B,N(U),_=!0;break t}f===s(o)&&n(o),N(U)}else n(o);f=s(o)}if(f!==null)_=!0;else{var I=s(u);I!==null&&q(k,I.startTime-U),_=!1}}break e}finally{f=null,h=F,p=!1}_=void 0}}finally{_?S():D=!1}}}var S;if(typeof y=="function")S=function(){y(E)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,C=M.port2;M.port1.onmessage=E,S=function(){C.postMessage(null)}}else S=function(){x(E,0)};function q(U,_){w=x(function(){U(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(U){switch(h){case 1:case 2:case 3:var _=3;break;default:_=h}var F=h;h=_;try{return U()}finally{h=F}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(U,_){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var F=h;h=U;try{return _()}finally{h=F}},e.unstable_scheduleCallback=function(U,_,F){var G=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,U){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=F+B,U={id:d++,callback:_,priorityLevel:U,startTime:F,expirationTime:B,sortIndex:-1},F>G?(U.sortIndex=F,t(u,U),s(o)===null&&U===s(u)&&(v?(g(w),w=-1):v=!0,q(k,F-G))):(U.sortIndex=B,t(o,U),m||p||(m=!0,D||(D=!0,S()))),U},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(U){var _=h;return function(){var F=h;h=_;try{return U.apply(this,arguments)}finally{h=F}}}})(Oj);Rj.exports=Oj;var bS=Rj.exports,_j={exports:{}},Bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vS=b;function Lj(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qa(){}var _t={d:{f:Qa,r:function(){throw Error(Lj(522))},D:Qa,C:Qa,L:Qa,m:Qa,X:Qa,S:Qa,M:Qa},p:0,findDOMNode:null},jS=Symbol.for("react.portal");function NS(e,t,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jS,key:n==null?null:""+n,children:e,containerInfo:t,implementation:s}}var Zl=vS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _d(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t;Bt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Lj(299));return NS(e,t,null,s)};Bt.flushSync=function(e){var t=Zl.T,s=_t.p;try{if(Zl.T=null,_t.p=2,e)return e()}finally{Zl.T=t,_t.p=s,_t.d.f()}};Bt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,_t.d.C(e,t))};Bt.prefetchDNS=function(e){typeof e=="string"&&_t.d.D(e)};Bt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var s=t.as,n=_d(s,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;s==="style"?_t.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:r,fetchPriority:i}):s==="script"&&_t.d.X(e,{crossOrigin:n,integrity:r,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Bt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var s=_d(t.as,t.crossOrigin);_t.d.M(e,{crossOrigin:s,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&_t.d.M(e)};Bt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var s=t.as,n=_d(s,t.crossOrigin);_t.d.L(e,s,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Bt.preloadModule=function(e,t){if(typeof e=="string")if(t){var s=_d(t.as,t.crossOrigin);_t.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:s,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else _t.d.m(e)};Bt.requestFormReset=function(e){_t.d.r(e)};Bt.unstable_batchedUpdates=function(e,t){return e(t)};Bt.useFormState=function(e,t,s){return Zl.H.useFormState(e,t,s)};Bt.useFormStatus=function(){return Zl.H.useHostTransitionStatus()};Bt.version="19.2.3";function Pj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pj)}catch(e){console.error(e)}}Pj(),_j.exports=Bt;var Pn=_j.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ot=bS,Bj=b,wS=Pn;function Y(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function zj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eo(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Vj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uj(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cg(e){if(eo(e)!==e)throw Error(Y(188))}function SS(e){var t=e.alternate;if(!t){if(t=eo(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var s=e,n=t;;){var r=s.return;if(r===null)break;var i=r.alternate;if(i===null){if(n=r.return,n!==null){s=n;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===s)return cg(r),e;if(i===n)return cg(r),t;i=i.sibling}throw Error(Y(188))}if(s.return!==n.return)s=r,n=i;else{for(var l=!1,c=r.child;c;){if(c===s){l=!0,s=r,n=i;break}if(c===n){l=!0,n=r,s=i;break}c=c.sibling}if(!l){for(c=i.child;c;){if(c===s){l=!0,s=i,n=r;break}if(c===n){l=!0,n=i,s=r;break}c=c.sibling}if(!l)throw Error(Y(189))}}if(s.alternate!==n)throw Error(Y(190))}if(s.tag!==3)throw Error(Y(188));return s.stateNode.current===s?e:t}function $j(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=$j(e),t!==null)return t;e=e.sibling}return null}var ze=Object.assign,CS=Symbol.for("react.element"),ko=Symbol.for("react.transitional.element"),ql=Symbol.for("react.portal"),si=Symbol.for("react.fragment"),qj=Symbol.for("react.strict_mode"),_h=Symbol.for("react.profiler"),Fj=Symbol.for("react.consumer"),Ea=Symbol.for("react.context"),Bp=Symbol.for("react.forward_ref"),Lh=Symbol.for("react.suspense"),Ph=Symbol.for("react.suspense_list"),zp=Symbol.for("react.memo"),Ja=Symbol.for("react.lazy"),Bh=Symbol.for("react.activity"),kS=Symbol.for("react.memo_cache_sentinel"),og=Symbol.iterator;function El(e){return e===null||typeof e!="object"?null:(e=og&&e[og]||e["@@iterator"],typeof e=="function"?e:null)}var ES=Symbol.for("react.client.reference");function zh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ES?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case si:return"Fragment";case _h:return"Profiler";case qj:return"StrictMode";case Lh:return"Suspense";case Ph:return"SuspenseList";case Bh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ql:return"Portal";case Ea:return e.displayName||"Context";case Fj:return(e._context.displayName||"Context")+".Consumer";case Bp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zp:return t=e.displayName||null,t!==null?t:zh(e.type)||"Memo";case Ja:t=e._payload,e=e._init;try{return zh(e(t))}catch{}}return null}var Fl=Array.isArray,ee=Bj.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we=wS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vr={pending:!1,data:null,method:null,action:null},Vh=[],ai=-1;function ca(e){return{current:e}}function mt(e){0>ai||(e.current=Vh[ai],Vh[ai]=null,ai--)}function Re(e,t){ai++,Vh[ai]=e.current,e.current=t}var ea=ca(null),bc=ca(null),Sn=ca(null),Ou=ca(null);function _u(e,t){switch(Re(Sn,t),Re(bc,e),Re(ea,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?py(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=py(t),e=o2(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}mt(ea),Re(ea,e)}function $i(){mt(ea),mt(bc),mt(Sn)}function Uh(e){e.memoizedState!==null&&Re(Ou,e);var t=ea.current,s=o2(t,e.type);t!==s&&(Re(bc,e),Re(ea,s))}function Lu(e){bc.current===e&&(mt(ea),mt(bc)),Ou.current===e&&(mt(Ou),Mc._currentValue=vr)}var vf,ug;function tr(e){if(vf===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);vf=t&&t[1]||"",ug=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vf+e+ug}var jf=!1;function Nf(e,t){if(!e||jf)return"";jf=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var h=p}Reflect.construct(e,[],f)}else{try{f.call()}catch(p){h=p}e.call(f.prototype)}}else{try{throw Error()}catch(p){h=p}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),l=i[0],c=i[1];if(l&&c){var o=l.split(`
`),u=c.split(`
`);for(r=n=0;n<o.length&&!o[n].includes("DetermineComponentFrameRoot");)n++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(n===o.length||r===u.length)for(n=o.length-1,r=u.length-1;1<=n&&0<=r&&o[n]!==u[r];)r--;for(;1<=n&&0<=r;n--,r--)if(o[n]!==u[r]){if(n!==1||r!==1)do if(n--,r--,0>r||o[n]!==u[r]){var d=`
`+o[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=r);break}}}finally{jf=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?tr(s):""}function AS(e,t){switch(e.tag){case 26:case 27:case 5:return tr(e.type);case 16:return tr("Lazy");case 13:return e.child!==t&&t!==null?tr("Suspense Fallback"):tr("Suspense");case 19:return tr("SuspenseList");case 0:case 15:return Nf(e.type,!1);case 11:return Nf(e.type.render,!1);case 1:return Nf(e.type,!0);case 31:return tr("Activity");default:return""}}function dg(e){try{var t="",s=null;do t+=AS(e,s),s=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var $h=Object.prototype.hasOwnProperty,Vp=ot.unstable_scheduleCallback,wf=ot.unstable_cancelCallback,TS=ot.unstable_shouldYield,MS=ot.unstable_requestPaint,ns=ot.unstable_now,DS=ot.unstable_getCurrentPriorityLevel,Hj=ot.unstable_ImmediatePriority,Ij=ot.unstable_UserBlockingPriority,Pu=ot.unstable_NormalPriority,RS=ot.unstable_LowPriority,Yj=ot.unstable_IdlePriority,OS=ot.log,_S=ot.unstable_setDisableYieldValue,to=null,rs=null;function xn(e){if(typeof OS=="function"&&_S(e),rs&&typeof rs.setStrictMode=="function")try{rs.setStrictMode(to,e)}catch{}}var is=Math.clz32?Math.clz32:BS,LS=Math.log,PS=Math.LN2;function BS(e){return e>>>=0,e===0?32:31-(LS(e)/PS|0)|0}var Eo=256,Ao=262144,To=4194304;function sr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ld(e,t,s){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var c=n&134217727;return c!==0?(n=c&~i,n!==0?r=sr(n):(l&=c,l!==0?r=sr(l):s||(s=c&~e,s!==0&&(r=sr(s))))):(c=n&~i,c!==0?r=sr(c):l!==0?r=sr(l):s||(s=n&~e,s!==0&&(r=sr(s)))),r===0?0:t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===32&&(s&4194048)!==0)?t:r}function so(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function zS(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gj(){var e=To;return To<<=1,!(To&62914560)&&(To=4194304),e}function Sf(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ao(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function VS(e,t,s,n,r,i){var l=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var c=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(s=l&~s;0<s;){var d=31-is(s),f=1<<d;c[d]=0,o[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var p=h[d];p!==null&&(p.lane&=-536870913)}s&=~f}n!==0&&Kj(e,n,0),i!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=i&~(l&~t))}function Kj(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-is(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|s&261930}function Qj(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-is(s),r=1<<n;r&t|e[n]&t&&(e[n]|=t),s&=~r}}function Xj(e,t){var s=t&-t;return s=s&42?1:Up(s),s&(e.suspendedLanes|t)?0:s}function Up(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $p(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Wj(){var e=we.p;return e!==0?e:(e=window.event,e===void 0?32:v2(e.type))}function fg(e,t){var s=we.p;try{return we.p=e,t()}finally{we.p=s}}var In=Math.random().toString(36).slice(2),bt="__reactFiber$"+In,Gt="__reactProps$"+In,il="__reactContainer$"+In,qh="__reactEvents$"+In,US="__reactListeners$"+In,$S="__reactHandles$"+In,hg="__reactResources$"+In,no="__reactMarker$"+In;function qp(e){delete e[bt],delete e[Gt],delete e[qh],delete e[US],delete e[$S]}function ni(e){var t=e[bt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[il]||s[bt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=vy(e);e!==null;){if(s=e[bt])return s;e=vy(e)}return t}e=s,s=e.parentNode}return null}function ll(e){if(e=e[bt]||e[il]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Hl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(Y(33))}function bi(e){var t=e[hg];return t||(t=e[hg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[no]=!0}var Zj=new Set,Jj={};function qr(e,t){qi(e,t),qi(e+"Capture",t)}function qi(e,t){for(Jj[e]=t,e=0;e<t.length;e++)Zj.add(t[e])}var qS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mg={},pg={};function FS(e){return $h.call(pg,e)?!0:$h.call(mg,e)?!1:qS.test(e)?pg[e]=!0:(mg[e]=!0,!1)}function au(e,t,s){if(FS(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function Mo(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function ha(e,t,s,n){if(n===null)e.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+n)}}function ps(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function e1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function HS(e,t,s){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){s=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fh(e){if(!e._valueTracker){var t=e1(e)?"checked":"value";e._valueTracker=HS(e,t,""+e[t])}}function t1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=e1(e)?e.checked?"true":"false":e.value),e=n,e!==s?(t.setValue(e),!0):!1}function Bu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var IS=/[\n"\\]/g;function bs(e){return e.replace(IS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Hh(e,t,s,n,r,i,l,c){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ps(t)):e.value!==""+ps(t)&&(e.value=""+ps(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?Ih(e,l,ps(t)):s!=null?Ih(e,l,ps(s)):n!=null&&e.removeAttribute("value"),r==null&&i!=null&&(e.defaultChecked=!!i),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+ps(c):e.removeAttribute("name")}function s1(e,t,s,n,r,i,l,c){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||s!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Fh(e);return}s=s!=null?""+ps(s):"",t=t!=null?""+ps(t):s,c||t===e.value||(e.value=t),e.defaultValue=t}n=n??r,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=c?e.checked:!!n,e.defaultChecked=!!n,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l),Fh(e)}function Ih(e,t,s){t==="number"&&Bu(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function vi(e,t,s,n){if(e=e.options,t){t={};for(var r=0;r<s.length;r++)t["$"+s[r]]=!0;for(s=0;s<e.length;s++)r=t.hasOwnProperty("$"+e[s].value),e[s].selected!==r&&(e[s].selected=r),r&&n&&(e[s].defaultSelected=!0)}else{for(s=""+ps(s),t=null,r=0;r<e.length;r++){if(e[r].value===s){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function a1(e,t,s){if(t!=null&&(t=""+ps(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+ps(s):""}function n1(e,t,s,n){if(t==null){if(n!=null){if(s!=null)throw Error(Y(92));if(Fl(n)){if(1<n.length)throw Error(Y(93));n=n[0]}s=n}s==null&&(s=""),t=s}s=ps(t),e.defaultValue=s,n=e.textContent,n===s&&n!==""&&n!==null&&(e.value=n),Fh(e)}function Fi(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var YS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xg(e,t,s){var n=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,s):typeof s!="number"||s===0||YS.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function r1(e,t,s){if(t!=null&&typeof t!="object")throw Error(Y(62));if(e=e.style,s!=null){for(var n in s)!s.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&s[r]!==n&&xg(e,r,n)}else for(var i in t)t.hasOwnProperty(i)&&xg(e,i,t[i])}function Fp(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),KS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nu(e){return KS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Aa(){}var Yh=null;function Hp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ri=null,ji=null;function gg(e){var t=ll(e);if(t&&(e=t.stateNode)){var s=e[Gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Hh(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+bs(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var r=n[Gt]||null;if(!r)throw Error(Y(90));Hh(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<s.length;t++)n=s[t],n.form===e.form&&t1(n)}break e;case"textarea":a1(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&vi(e,!!s.multiple,t,!1)}}}var Cf=!1;function i1(e,t,s){if(Cf)return e(t,s);Cf=!0;try{var n=e(t);return n}finally{if(Cf=!1,(ri!==null||ji!==null)&&(Gd(),ri&&(t=ri,e=ji,ji=ri=null,gg(t),e)))for(t=0;t<e.length;t++)gg(e[t])}}function vc(e,t){var s=e.stateNode;if(s===null)return null;var n=s[Gt]||null;if(n===null)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(Y(231,t,typeof s));return s}var Ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gh=!1;if(Ba)try{var Al={};Object.defineProperty(Al,"passive",{get:function(){Gh=!0}}),window.addEventListener("test",Al,Al),window.removeEventListener("test",Al,Al)}catch{Gh=!1}var gn=null,Ip=null,ru=null;function l1(){if(ru)return ru;var e,t=Ip,s=t.length,n,r="value"in gn?gn.value:gn.textContent,i=r.length;for(e=0;e<s&&t[e]===r[e];e++);var l=s-e;for(n=1;n<=l&&t[s-n]===r[i-n];n++);return ru=r.slice(e,1<n?1-n:void 0)}function iu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Do(){return!0}function yg(){return!1}function Qt(e){function t(s,n,r,i,l){this._reactName=s,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(s=e[c],this[c]=s?s(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Do:yg,this.isPropagationStopped=yg,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Do)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Do)},persist:function(){},isPersistent:Do}),t}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pd=Qt(Fr),ro=ze({},Fr,{view:0,detail:0}),QS=Qt(ro),kf,Ef,Tl,Bd=ze({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tl&&(Tl&&e.type==="mousemove"?(kf=e.screenX-Tl.screenX,Ef=e.screenY-Tl.screenY):Ef=kf=0,Tl=e),kf)},movementY:function(e){return"movementY"in e?e.movementY:Ef}}),bg=Qt(Bd),XS=ze({},Bd,{dataTransfer:0}),WS=Qt(XS),ZS=ze({},ro,{relatedTarget:0}),Af=Qt(ZS),JS=ze({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),eC=Qt(JS),tC=ze({},Fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sC=Qt(tC),aC=ze({},Fr,{data:0}),vg=Qt(aC),nC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iC[e])?!!t[e]:!1}function Yp(){return lC}var cC=ze({},ro,{key:function(e){if(e.key){var t=nC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=iu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yp,charCode:function(e){return e.type==="keypress"?iu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?iu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oC=Qt(cC),uC=ze({},Bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jg=Qt(uC),dC=ze({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yp}),fC=Qt(dC),hC=ze({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),mC=Qt(hC),pC=ze({},Bd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xC=Qt(pC),gC=ze({},Fr,{newState:0,oldState:0}),yC=Qt(gC),bC=[9,13,27,32],Gp=Ba&&"CompositionEvent"in window,Jl=null;Ba&&"documentMode"in document&&(Jl=document.documentMode);var vC=Ba&&"TextEvent"in window&&!Jl,c1=Ba&&(!Gp||Jl&&8<Jl&&11>=Jl),Ng=" ",wg=!1;function o1(e,t){switch(e){case"keyup":return bC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ii=!1;function jC(e,t){switch(e){case"compositionend":return u1(t);case"keypress":return t.which!==32?null:(wg=!0,Ng);case"textInput":return e=t.data,e===Ng&&wg?null:e;default:return null}}function NC(e,t){if(ii)return e==="compositionend"||!Gp&&o1(e,t)?(e=l1(),ru=Ip=gn=null,ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return c1&&t.locale!=="ko"?null:t.data;default:return null}}var wC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wC[e.type]:t==="textarea"}function d1(e,t,s,n){ri?ji?ji.push(n):ji=[n]:ri=n,t=td(t,"onChange"),0<t.length&&(s=new Pd("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var ec=null,jc=null;function SC(e){i2(e,0)}function zd(e){var t=Hl(e);if(t1(t))return e}function Cg(e,t){if(e==="change")return t}var f1=!1;if(Ba){var Tf;if(Ba){var Mf="oninput"in document;if(!Mf){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),Mf=typeof kg.oninput=="function"}Tf=Mf}else Tf=!1;f1=Tf&&(!document.documentMode||9<document.documentMode)}function Eg(){ec&&(ec.detachEvent("onpropertychange",h1),jc=ec=null)}function h1(e){if(e.propertyName==="value"&&zd(jc)){var t=[];d1(t,jc,e,Hp(e)),i1(SC,t)}}function CC(e,t,s){e==="focusin"?(Eg(),ec=t,jc=s,ec.attachEvent("onpropertychange",h1)):e==="focusout"&&Eg()}function kC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zd(jc)}function EC(e,t){if(e==="click")return zd(t)}function AC(e,t){if(e==="input"||e==="change")return zd(t)}function TC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cs=typeof Object.is=="function"?Object.is:TC;function Nc(e,t){if(cs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var r=s[n];if(!$h.call(t,r)||!cs(e[r],t[r]))return!1}return!0}function Ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tg(e,t){var s=Ag(e);e=0;for(var n;s;){if(s.nodeType===3){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ag(s)}}function m1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?m1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function p1(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Bu(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Bu(e.document)}return t}function Kp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var MC=Ba&&"documentMode"in document&&11>=document.documentMode,li=null,Kh=null,tc=null,Qh=!1;function Mg(e,t,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Qh||li==null||li!==Bu(n)||(n=li,"selectionStart"in n&&Kp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),tc&&Nc(tc,n)||(tc=n,n=td(Kh,"onSelect"),0<n.length&&(t=new Pd("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=li)))}function Jn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ci={animationend:Jn("Animation","AnimationEnd"),animationiteration:Jn("Animation","AnimationIteration"),animationstart:Jn("Animation","AnimationStart"),transitionrun:Jn("Transition","TransitionRun"),transitionstart:Jn("Transition","TransitionStart"),transitioncancel:Jn("Transition","TransitionCancel"),transitionend:Jn("Transition","TransitionEnd")},Df={},x1={};Ba&&(x1=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function Hr(e){if(Df[e])return Df[e];if(!ci[e])return e;var t=ci[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in x1)return Df[e]=t[s];return e}var g1=Hr("animationend"),y1=Hr("animationiteration"),b1=Hr("animationstart"),DC=Hr("transitionrun"),RC=Hr("transitionstart"),OC=Hr("transitioncancel"),v1=Hr("transitionend"),j1=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function Us(e,t){j1.set(e,t),qr(t,[e])}var zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},hs=[],oi=0,Qp=0;function Vd(){for(var e=oi,t=Qp=oi=0;t<e;){var s=hs[t];hs[t++]=null;var n=hs[t];hs[t++]=null;var r=hs[t];hs[t++]=null;var i=hs[t];if(hs[t++]=null,n!==null&&r!==null){var l=n.pending;l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r}i!==0&&N1(s,r,i)}}function Ud(e,t,s,n){hs[oi++]=e,hs[oi++]=t,hs[oi++]=s,hs[oi++]=n,Qp|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Xp(e,t,s,n){return Ud(e,t,s,n),Vu(e)}function Ir(e,t){return Ud(e,null,null,t),Vu(e)}function N1(e,t,s){e.lanes|=s;var n=e.alternate;n!==null&&(n.lanes|=s);for(var r=!1,i=e.return;i!==null;)i.childLanes|=s,n=i.alternate,n!==null&&(n.childLanes|=s),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(r=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,r&&t!==null&&(r=31-is(s),e=i.hiddenUpdates,n=e[r],n===null?e[r]=[t]:n.push(t),t.lane=s|536870912),i):null}function Vu(e){if(50<uc)throw uc=0,gm=null,Error(Y(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ui={};function _C(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(e,t,s,n){return new _C(e,t,s,n)}function Wp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ma(e,t){var s=e.alternate;return s===null?(s=ts(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function w1(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function lu(e,t,s,n,r,i){var l=0;if(n=e,typeof e=="function")Wp(e)&&(l=1);else if(typeof e=="string")l=V3(e,s,ea.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Bh:return e=ts(31,s,t,r),e.elementType=Bh,e.lanes=i,e;case si:return jr(s.children,r,i,t);case qj:l=8,r|=24;break;case _h:return e=ts(12,s,t,r|2),e.elementType=_h,e.lanes=i,e;case Lh:return e=ts(13,s,t,r),e.elementType=Lh,e.lanes=i,e;case Ph:return e=ts(19,s,t,r),e.elementType=Ph,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ea:l=10;break e;case Fj:l=9;break e;case Bp:l=11;break e;case zp:l=14;break e;case Ja:l=16,n=null;break e}l=29,s=Error(Y(130,e===null?"null":typeof e,"")),n=null}return t=ts(l,s,t,r),t.elementType=e,t.type=n,t.lanes=i,t}function jr(e,t,s,n){return e=ts(7,e,n,t),e.lanes=s,e}function Rf(e,t,s){return e=ts(6,e,null,t),e.lanes=s,e}function S1(e){var t=ts(18,null,null,0);return t.stateNode=e,t}function Of(e,t,s){return t=ts(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Dg=new WeakMap;function vs(e,t){if(typeof e=="object"&&e!==null){var s=Dg.get(e);return s!==void 0?s:(t={value:e,source:t,stack:dg(t)},Dg.set(e,t),t)}return{value:e,source:t,stack:dg(t)}}var di=[],fi=0,Uu=null,wc=0,xs=[],gs=0,Bn=null,Qs=1,Xs="";function va(e,t){di[fi++]=wc,di[fi++]=Uu,Uu=e,wc=t}function C1(e,t,s){xs[gs++]=Qs,xs[gs++]=Xs,xs[gs++]=Bn,Bn=e;var n=Qs;e=Xs;var r=32-is(n)-1;n&=~(1<<r),s+=1;var i=32-is(t)+r;if(30<i){var l=r-r%5;i=(n&(1<<l)-1).toString(32),n>>=l,r-=l,Qs=1<<32-is(t)+r|s<<r|n,Xs=i+e}else Qs=1<<i|s<<r|n,Xs=e}function Zp(e){e.return!==null&&(va(e,1),C1(e,1,0))}function Jp(e){for(;e===Uu;)Uu=di[--fi],di[fi]=null,wc=di[--fi],di[fi]=null;for(;e===Bn;)Bn=xs[--gs],xs[gs]=null,Xs=xs[--gs],xs[gs]=null,Qs=xs[--gs],xs[gs]=null}function k1(e,t){xs[gs++]=Qs,xs[gs++]=Xs,xs[gs++]=Bn,Qs=t.id,Xs=t.overflow,Bn=e}var vt=null,Le=null,ve=!1,Cn=null,js=!1,Wh=Error(Y(519));function zn(e){var t=Error(Y(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sc(vs(t,e)),Wh}function Rg(e){var t=e.stateNode,s=e.type,n=e.memoizedProps;switch(t[bt]=e,t[Gt]=n,s){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(s=0;s<Ac.length;s++)he(Ac[s],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),s1(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),n1(t,n.value,n.defaultValue,n.children)}s=n.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||n.suppressHydrationWarning===!0||c2(t.textContent,s)?(n.popover!=null&&(he("beforetoggle",t),he("toggle",t)),n.onScroll!=null&&he("scroll",t),n.onScrollEnd!=null&&he("scrollend",t),n.onClick!=null&&(t.onclick=Aa),t=!0):t=!1,t||zn(e,!0)}function Og(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 31:case 13:js=!1;return;case 27:case 3:js=!0;return;default:vt=vt.return}}function Kr(e){if(e!==vt)return!1;if(!ve)return Og(e),ve=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Nm(e.type,e.memoizedProps)),s=!s),s&&Le&&zn(e),Og(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));Le=by(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));Le=by(e)}else t===27?(t=Le,Yn(e.type)?(e=km,km=null,Le=e):Le=t):Le=vt?Cs(e.stateNode.nextSibling):null;return!0}function Mr(){Le=vt=null,ve=!1}function _f(){var e=Cn;return e!==null&&(Ft===null?Ft=e:Ft.push.apply(Ft,e),Cn=null),e}function Sc(e){Cn===null?Cn=[e]:Cn.push(e)}var Zh=ca(null),Yr=null,Ta=null;function tn(e,t,s){Re(Zh,t._currentValue),t._currentValue=s}function Da(e){e._currentValue=Zh.current,mt(Zh)}function Jh(e,t,s){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function em(e,t,s,n){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var i=r.dependencies;if(i!==null){var l=r.child;i=i.firstContext;e:for(;i!==null;){var c=i;i=r;for(var o=0;o<t.length;o++)if(c.context===t[o]){i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),Jh(i.return,s,e),n||(l=null);break e}i=c.next}}else if(r.tag===18){if(l=r.return,l===null)throw Error(Y(341));l.lanes|=s,i=l.alternate,i!==null&&(i.lanes|=s),Jh(l,s,e),l=null}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}}function cl(e,t,s,n){e=null;for(var r=t,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var l=r.alternate;if(l===null)throw Error(Y(387));if(l=l.memoizedProps,l!==null){var c=r.type;cs(r.pendingProps.value,l.value)||(e!==null?e.push(c):e=[c])}}else if(r===Ou.current){if(l=r.alternate,l===null)throw Error(Y(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Mc):e=[Mc])}r=r.return}e!==null&&em(t,e,s,n),t.flags|=262144}function $u(e){for(e=e.firstContext;e!==null;){if(!cs(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dr(e){Yr=e,Ta=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jt(e){return E1(Yr,e)}function Ro(e,t){return Yr===null&&Dr(e),E1(e,t)}function E1(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},Ta===null){if(e===null)throw Error(Y(308));Ta=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ta=Ta.next=t;return s}var LC=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},PC=ot.unstable_scheduleCallback,BC=ot.unstable_NormalPriority,et={$$typeof:Ea,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function e0(){return{controller:new LC,data:new Map,refCount:0}}function io(e){e.refCount--,e.refCount===0&&PC(BC,function(){e.controller.abort()})}var sc=null,tm=0,Hi=0,Ni=null;function zC(e,t){if(sc===null){var s=sc=[];tm=0,Hi=C0(),Ni={status:"pending",value:void 0,then:function(n){s.push(n)}}}return tm++,t.then(_g,_g),t}function _g(){if(--tm===0&&sc!==null){Ni!==null&&(Ni.status="fulfilled");var e=sc;sc=null,Hi=0,Ni=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function VC(e,t){var s=[],n={status:"pending",value:null,reason:null,then:function(r){s.push(r)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var r=0;r<s.length;r++)(0,s[r])(t)},function(r){for(n.status="rejected",n.reason=r,r=0;r<s.length;r++)(0,s[r])(void 0)}),n}var Lg=ee.S;ee.S=function(e,t){$N=ns(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&zC(e,t),Lg!==null&&Lg(e,t)};var Nr=ca(null);function t0(){var e=Nr.current;return e!==null?e:De.pooledCache}function cu(e,t){t===null?Re(Nr,Nr.current):Re(Nr,t.pool)}function A1(){var e=t0();return e===null?null:{parent:et._currentValue,pool:e}}var ol=Error(Y(460)),s0=Error(Y(474)),$d=Error(Y(542)),qu={then:function(){}};function Pg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function T1(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(Aa,Aa),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zg(e),e;default:if(typeof t.status=="string")t.then(Aa,Aa);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(Y(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=n}},function(n){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zg(e),e}throw wr=t,ol}}function ar(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(wr=s,ol):s}}var wr=null;function Bg(){if(wr===null)throw Error(Y(459));var e=wr;return wr=null,e}function zg(e){if(e===ol||e===$d)throw Error(Y(483))}var wi=null,Cc=0;function Oo(e){var t=Cc;return Cc+=1,wi===null&&(wi=[]),T1(wi,e,t)}function Ml(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _o(e,t){throw t.$$typeof===CS?Error(Y(525)):(e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function M1(e){function t(x,g){if(e){var y=x.deletions;y===null?(x.deletions=[g],x.flags|=16):y.push(g)}}function s(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function n(x){for(var g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function r(x,g){return x=Ma(x,g),x.index=0,x.sibling=null,x}function i(x,g,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<g?(x.flags|=67108866,g):y):(x.flags|=67108866,g)):(x.flags|=1048576,g)}function l(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function c(x,g,y,N){return g===null||g.tag!==6?(g=Rf(y,x.mode,N),g.return=x,g):(g=r(g,y),g.return=x,g)}function o(x,g,y,N){var k=y.type;return k===si?d(x,g,y.props.children,N,y.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ja&&ar(k)===g.type)?(g=r(g,y.props),Ml(g,y),g.return=x,g):(g=lu(y.type,y.key,y.props,null,x.mode,N),Ml(g,y),g.return=x,g)}function u(x,g,y,N){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Of(y,x.mode,N),g.return=x,g):(g=r(g,y.children||[]),g.return=x,g)}function d(x,g,y,N,k){return g===null||g.tag!==7?(g=jr(y,x.mode,N,k),g.return=x,g):(g=r(g,y),g.return=x,g)}function f(x,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Rf(""+g,x.mode,y),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ko:return y=lu(g.type,g.key,g.props,null,x.mode,y),Ml(y,g),y.return=x,y;case ql:return g=Of(g,x.mode,y),g.return=x,g;case Ja:return g=ar(g),f(x,g,y)}if(Fl(g)||El(g))return g=jr(g,x.mode,y,null),g.return=x,g;if(typeof g.then=="function")return f(x,Oo(g),y);if(g.$$typeof===Ea)return f(x,Ro(x,g),y);_o(x,g)}return null}function h(x,g,y,N){var k=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return k!==null?null:c(x,g,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ko:return y.key===k?o(x,g,y,N):null;case ql:return y.key===k?u(x,g,y,N):null;case Ja:return y=ar(y),h(x,g,y,N)}if(Fl(y)||El(y))return k!==null?null:d(x,g,y,N,null);if(typeof y.then=="function")return h(x,g,Oo(y),N);if(y.$$typeof===Ea)return h(x,g,Ro(x,y),N);_o(x,y)}return null}function p(x,g,y,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return x=x.get(y)||null,c(g,x,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ko:return x=x.get(N.key===null?y:N.key)||null,o(g,x,N,k);case ql:return x=x.get(N.key===null?y:N.key)||null,u(g,x,N,k);case Ja:return N=ar(N),p(x,g,y,N,k)}if(Fl(N)||El(N))return x=x.get(y)||null,d(g,x,N,k,null);if(typeof N.then=="function")return p(x,g,y,Oo(N),k);if(N.$$typeof===Ea)return p(x,g,y,Ro(g,N),k);_o(g,N)}return null}function m(x,g,y,N){for(var k=null,D=null,w=g,T=g=0,O=null;w!==null&&T<y.length;T++){w.index>T?(O=w,w=null):O=w.sibling;var A=h(x,w,y[T],N);if(A===null){w===null&&(w=O);break}e&&w&&A.alternate===null&&t(x,w),g=i(A,g,T),D===null?k=A:D.sibling=A,D=A,w=O}if(T===y.length)return s(x,w),ve&&va(x,T),k;if(w===null){for(;T<y.length;T++)w=f(x,y[T],N),w!==null&&(g=i(w,g,T),D===null?k=w:D.sibling=w,D=w);return ve&&va(x,T),k}for(w=n(w);T<y.length;T++)O=p(w,x,T,y[T],N),O!==null&&(e&&O.alternate!==null&&w.delete(O.key===null?T:O.key),g=i(O,g,T),D===null?k=O:D.sibling=O,D=O);return e&&w.forEach(function(E){return t(x,E)}),ve&&va(x,T),k}function v(x,g,y,N){if(y==null)throw Error(Y(151));for(var k=null,D=null,w=g,T=g=0,O=null,A=y.next();w!==null&&!A.done;T++,A=y.next()){w.index>T?(O=w,w=null):O=w.sibling;var E=h(x,w,A.value,N);if(E===null){w===null&&(w=O);break}e&&w&&E.alternate===null&&t(x,w),g=i(E,g,T),D===null?k=E:D.sibling=E,D=E,w=O}if(A.done)return s(x,w),ve&&va(x,T),k;if(w===null){for(;!A.done;T++,A=y.next())A=f(x,A.value,N),A!==null&&(g=i(A,g,T),D===null?k=A:D.sibling=A,D=A);return ve&&va(x,T),k}for(w=n(w);!A.done;T++,A=y.next())A=p(w,x,T,A.value,N),A!==null&&(e&&A.alternate!==null&&w.delete(A.key===null?T:A.key),g=i(A,g,T),D===null?k=A:D.sibling=A,D=A);return e&&w.forEach(function(S){return t(x,S)}),ve&&va(x,T),k}function j(x,g,y,N){if(typeof y=="object"&&y!==null&&y.type===si&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ko:e:{for(var k=y.key;g!==null;){if(g.key===k){if(k=y.type,k===si){if(g.tag===7){s(x,g.sibling),N=r(g,y.props.children),N.return=x,x=N;break e}}else if(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ja&&ar(k)===g.type){s(x,g.sibling),N=r(g,y.props),Ml(N,y),N.return=x,x=N;break e}s(x,g);break}else t(x,g);g=g.sibling}y.type===si?(N=jr(y.props.children,x.mode,N,y.key),N.return=x,x=N):(N=lu(y.type,y.key,y.props,null,x.mode,N),Ml(N,y),N.return=x,x=N)}return l(x);case ql:e:{for(k=y.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){s(x,g.sibling),N=r(g,y.children||[]),N.return=x,x=N;break e}else{s(x,g);break}else t(x,g);g=g.sibling}N=Of(y,x.mode,N),N.return=x,x=N}return l(x);case Ja:return y=ar(y),j(x,g,y,N)}if(Fl(y))return m(x,g,y,N);if(El(y)){if(k=El(y),typeof k!="function")throw Error(Y(150));return y=k.call(y),v(x,g,y,N)}if(typeof y.then=="function")return j(x,g,Oo(y),N);if(y.$$typeof===Ea)return j(x,g,Ro(x,y),N);_o(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(s(x,g.sibling),N=r(g,y),N.return=x,x=N):(s(x,g),N=Rf(y,x.mode,N),N.return=x,x=N),l(x)):s(x,g)}return function(x,g,y,N){try{Cc=0;var k=j(x,g,y,N);return wi=null,k}catch(w){if(w===ol||w===$d)throw w;var D=ts(29,w,null,x.mode);return D.lanes=N,D.return=x,D}finally{}}}var Rr=M1(!0),D1=M1(!1),en=!1;function a0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function En(e,t,s){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=Vu(e),N1(e,null,s),t}return Ud(e,n,t,s),Vu(e)}function ac(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Qj(e,s)}}function Lf(e,t){var s=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var r=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var l={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};i===null?r=i=l:i=i.next=l,s=s.next}while(s!==null);i===null?r=i=t:i=i.next=t}else r=i=t;s={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var am=!1;function nc(){if(am){var e=Ni;if(e!==null)throw e}}function rc(e,t,s,n){am=!1;var r=e.updateQueue;en=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,c=r.shared.pending;if(c!==null){r.shared.pending=null;var o=c,u=o.next;o.next=null,l===null?i=u:l.next=u,l=o;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==l&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=o))}if(i!==null){var f=r.baseState;l=0,d=u=o=null,c=i;do{var h=c.lane&-536870913,p=h!==c.lane;if(p?(ye&h)===h:(n&h)===h){h!==0&&h===Hi&&(am=!0),d!==null&&(d=d.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var m=e,v=c;h=t;var j=s;switch(v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(j,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(j,f,h):m,h==null)break e;f=ze({},f,h);break e;case 2:en=!0}}h=c.callback,h!==null&&(e.flags|=64,p&&(e.flags|=8192),p=r.callbacks,p===null?r.callbacks=[h]:p.push(h))}else p={lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=p,o=f):d=d.next=p,l|=h;if(c=c.next,c===null){if(c=r.shared.pending,c===null)break;p=c,c=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);d===null&&(o=f),r.baseState=o,r.firstBaseUpdate=u,r.lastBaseUpdate=d,i===null&&(r.shared.lanes=0),Un|=l,e.lanes=l,e.memoizedState=f}}function R1(e,t){if(typeof e!="function")throw Error(Y(191,e));e.call(t)}function O1(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)R1(s[e],t)}var Ii=ca(null),Fu=ca(0);function Vg(e,t){e=$a,Re(Fu,e),Re(Ii,t),$a=e|t.baseLanes}function nm(){Re(Fu,$a),Re(Ii,Ii.current)}function n0(){$a=Fu.current,mt(Ii),mt(Fu)}var os=ca(null),Ss=null;function sn(e){var t=e.alternate;Re(Ge,Ge.current&1),Re(os,e),Ss===null&&(t===null||Ii.current!==null||t.memoizedState!==null)&&(Ss=e)}function rm(e){Re(Ge,Ge.current),Re(os,e),Ss===null&&(Ss=e)}function _1(e){e.tag===22?(Re(Ge,Ge.current),Re(os,e),Ss===null&&(Ss=e)):an()}function an(){Re(Ge,Ge.current),Re(os,os.current)}function Jt(e){mt(os),Ss===e&&(Ss=null),mt(Ge)}var Ge=ca(0);function Hu(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Sm(s)||Cm(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var za=0,ce=null,Me=null,Ze=null,Iu=!1,Si=!1,Or=!1,Yu=0,kc=0,Ci=null,UC=0;function qe(){throw Error(Y(321))}function r0(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!cs(e[s],t[s]))return!1;return!0}function i0(e,t,s,n,r,i){return za=i,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ee.H=e===null||e.memoizedState===null?dN:g0,Or=!1,i=s(n,r),Or=!1,Si&&(i=P1(t,s,n,r)),L1(e),i}function L1(e){ee.H=Ec;var t=Me!==null&&Me.next!==null;if(za=0,Ze=Me=ce=null,Iu=!1,kc=0,Ci=null,t)throw Error(Y(300));e===null||tt||(e=e.dependencies,e!==null&&$u(e)&&(tt=!0))}function P1(e,t,s,n){ce=e;var r=0;do{if(Si&&(Ci=null),kc=0,Si=!1,25<=r)throw Error(Y(301));if(r+=1,Ze=Me=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}ee.H=fN,i=t(s,n)}while(Si);return i}function $C(){var e=ee.H,t=e.useState()[0];return t=typeof t.then=="function"?lo(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(ce.flags|=1024),t}function l0(){var e=Yu!==0;return Yu=0,e}function c0(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function o0(e){if(Iu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Iu=!1}za=0,Ze=Me=ce=null,Si=!1,kc=Yu=0,Ci=null}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ce.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Ke(){if(Me===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Ze===null?ce.memoizedState:Ze.next;if(t!==null)Ze=t,Me=e;else{if(e===null)throw ce.alternate===null?Error(Y(467)):Error(Y(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Ze===null?ce.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function qd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lo(e){var t=kc;return kc+=1,Ci===null&&(Ci=[]),e=T1(Ci,e,t),t=ce,(Ze===null?t.memoizedState:Ze.next)===null&&(t=t.alternate,ee.H=t===null||t.memoizedState===null?dN:g0),e}function Fd(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return lo(e);if(e.$$typeof===Ea)return jt(e)}throw Error(Y(438,String(e)))}function u0(e){var t=null,s=ce.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var n=ce.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=qd(),ce.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),n=0;n<e;n++)s[n]=kS;return t.index++,s}function Va(e,t){return typeof t=="function"?t(e):t}function ou(e){var t=Ke();return d0(t,Me,e)}function d0(e,t,s){var n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=s;var r=e.baseQueue,i=n.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}t.baseQueue=r=i,n.pending=null}if(i=e.baseState,r===null)e.memoizedState=i;else{t=r.next;var c=l=null,o=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(ye&f)===f:(za&f)===f){var h=u.revertLane;if(h===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Hi&&(d=!0);else if((za&h)===h){u=u.next,h===Hi&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(c=o=f,l=i):o=o.next=f,ce.lanes|=h,Un|=h;f=u.action,Or&&s(i,f),i=u.hasEagerState?u.eagerState:s(i,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(c=o=h,l=i):o=o.next=h,ce.lanes|=f,Un|=f;u=u.next}while(u!==null&&u!==t);if(o===null?l=i:o.next=c,!cs(i,e.memoizedState)&&(tt=!0,d&&(s=Ni,s!==null)))throw s;e.memoizedState=i,e.baseState=l,e.baseQueue=o,n.lastRenderedState=i}return r===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Pf(e){var t=Ke(),s=t.queue;if(s===null)throw Error(Y(311));s.lastRenderedReducer=e;var n=s.dispatch,r=s.pending,i=t.memoizedState;if(r!==null){s.pending=null;var l=r=r.next;do i=e(i,l.action),l=l.next;while(l!==r);cs(i,t.memoizedState)||(tt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),s.lastRenderedState=i}return[i,n]}function B1(e,t,s){var n=ce,r=Ke(),i=ve;if(i){if(s===void 0)throw Error(Y(407));s=s()}else s=t();var l=!cs((Me||r).memoizedState,s);if(l&&(r.memoizedState=s,tt=!0),r=r.queue,f0(U1.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,Yi(9,{destroy:void 0},V1.bind(null,n,r,s,t),null),De===null)throw Error(Y(349));i||za&127||z1(n,t,s)}return s}function z1(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ce.updateQueue,t===null?(t=qd(),ce.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function V1(e,t,s,n){t.value=s,t.getSnapshot=n,$1(t)&&q1(e)}function U1(e,t,s){return s(function(){$1(t)&&q1(e)})}function $1(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!cs(e,s)}catch{return!0}}function q1(e){var t=Ir(e,2);t!==null&&Ht(t,e,2)}function im(e){var t=Dt();if(typeof e=="function"){var s=e;if(e=s(),Or){xn(!0);try{s()}finally{xn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:e},t}function F1(e,t,s,n){return e.baseState=s,d0(e,Me,typeof n=="function"?n:Va)}function qC(e,t,s,n,r){if(Id(e))throw Error(Y(485));if(e=t.action,e!==null){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){i.listeners.push(l)}};ee.T!==null?s(!0):i.isTransition=!1,n(i),s=t.pending,s===null?(i.next=t.pending=i,H1(t,i)):(i.next=s.next,t.pending=s.next=i)}}function H1(e,t){var s=t.action,n=t.payload,r=e.state;if(t.isTransition){var i=ee.T,l={};ee.T=l;try{var c=s(r,n),o=ee.S;o!==null&&o(l,c),Ug(e,t,c)}catch(u){lm(e,t,u)}finally{i!==null&&l.types!==null&&(i.types=l.types),ee.T=i}}else try{i=s(r,n),Ug(e,t,i)}catch(u){lm(e,t,u)}}function Ug(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(n){$g(e,t,n)},function(n){return lm(e,t,n)}):$g(e,t,s)}function $g(e,t,s){t.status="fulfilled",t.value=s,I1(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,H1(e,s)))}function lm(e,t,s){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=s,I1(t),t=t.next;while(t!==n)}e.action=null}function I1(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Y1(e,t){return t}function qg(e,t){if(ve){var s=De.formState;if(s!==null){e:{var n=ce;if(ve){if(Le){t:{for(var r=Le,i=js;r.nodeType!==8;){if(!i){r=null;break t}if(r=Cs(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){Le=Cs(r.nextSibling),n=r.data==="F!";break e}}zn(n)}n=!1}n&&(t=s[0])}}return s=Dt(),s.memoizedState=s.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y1,lastRenderedState:t},s.queue=n,s=cN.bind(null,ce,n),n.dispatch=s,n=im(!1),i=x0.bind(null,ce,!1,n.queue),n=Dt(),r={state:t,dispatch:null,action:e,pending:null},n.queue=r,s=qC.bind(null,ce,r,i,s),r.dispatch=s,n.memoizedState=e,[t,s,!1]}function Fg(e){var t=Ke();return G1(t,Me,e)}function G1(e,t,s){if(t=d0(e,t,Y1)[0],e=ou(Va)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=lo(t)}catch(l){throw l===ol?$d:l}else n=t;t=Ke();var r=t.queue,i=r.dispatch;return s!==t.memoizedState&&(ce.flags|=2048,Yi(9,{destroy:void 0},FC.bind(null,r,s),null)),[n,i,e]}function FC(e,t){e.action=t}function Hg(e){var t=Ke(),s=Me;if(s!==null)return G1(t,s,e);Ke(),t=t.memoizedState,s=Ke();var n=s.queue.dispatch;return s.memoizedState=e,[t,n,!1]}function Yi(e,t,s,n){return e={tag:e,create:s,deps:n,inst:t,next:null},t=ce.updateQueue,t===null&&(t=qd(),ce.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e),e}function K1(){return Ke().memoizedState}function uu(e,t,s,n){var r=Dt();ce.flags|=e,r.memoizedState=Yi(1|t,{destroy:void 0},s,n===void 0?null:n)}function Hd(e,t,s,n){var r=Ke();n=n===void 0?null:n;var i=r.memoizedState.inst;Me!==null&&n!==null&&r0(n,Me.memoizedState.deps)?r.memoizedState=Yi(t,i,s,n):(ce.flags|=e,r.memoizedState=Yi(1|t,i,s,n))}function Ig(e,t){uu(8390656,8,e,t)}function f0(e,t){Hd(2048,8,e,t)}function HC(e){ce.flags|=4;var t=ce.updateQueue;if(t===null)t=qd(),ce.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function Q1(e){var t=Ke().memoizedState;return HC({ref:t,nextImpl:e}),function(){if(Ne&2)throw Error(Y(440));return t.impl.apply(void 0,arguments)}}function X1(e,t){return Hd(4,2,e,t)}function W1(e,t){return Hd(4,4,e,t)}function Z1(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function J1(e,t,s){s=s!=null?s.concat([e]):null,Hd(4,4,Z1.bind(null,t,e),s)}function h0(){}function eN(e,t){var s=Ke();t=t===void 0?null:t;var n=s.memoizedState;return t!==null&&r0(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function tN(e,t){var s=Ke();t=t===void 0?null:t;var n=s.memoizedState;if(t!==null&&r0(t,n[1]))return n[0];if(n=e(),Or){xn(!0);try{e()}finally{xn(!1)}}return s.memoizedState=[n,t],n}function m0(e,t,s){return s===void 0||za&1073741824&&!(ye&261930)?e.memoizedState=t:(e.memoizedState=s,e=FN(),ce.lanes|=e,Un|=e,s)}function sN(e,t,s,n){return cs(s,t)?s:Ii.current!==null?(e=m0(e,s,n),cs(e,t)||(tt=!0),e):!(za&42)||za&1073741824&&!(ye&261930)?(tt=!0,e.memoizedState=s):(e=FN(),ce.lanes|=e,Un|=e,t)}function aN(e,t,s,n,r){var i=we.p;we.p=i!==0&&8>i?i:8;var l=ee.T,c={};ee.T=c,x0(e,!1,t,s);try{var o=r(),u=ee.S;if(u!==null&&u(c,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=VC(o,n);ic(e,t,d,ls(e))}else ic(e,t,n,ls(e))}catch(f){ic(e,t,{then:function(){},status:"rejected",reason:f},ls())}finally{we.p=i,l!==null&&c.types!==null&&(l.types=c.types),ee.T=l}}function IC(){}function cm(e,t,s,n){if(e.tag!==5)throw Error(Y(476));var r=nN(e).queue;aN(e,r,t,vr,s===null?IC:function(){return rN(e),s(n)})}function nN(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:vr,baseState:vr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:vr},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function rN(e){var t=nN(e);t.next===null&&(t=e.alternate.memoizedState),ic(e,t.next.queue,{},ls())}function p0(){return jt(Mc)}function iN(){return Ke().memoizedState}function lN(){return Ke().memoizedState}function YC(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=ls();e=kn(s);var n=En(t,e,s);n!==null&&(Ht(n,t,s),ac(n,t,s)),t={cache:e0()},e.payload=t;return}t=t.return}}function GC(e,t,s){var n=ls();s={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Id(e)?oN(t,s):(s=Xp(e,t,s,n),s!==null&&(Ht(s,e,n),uN(s,t,n)))}function cN(e,t,s){var n=ls();ic(e,t,s,n)}function ic(e,t,s,n){var r={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Id(e))oN(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,c=i(l,s);if(r.hasEagerState=!0,r.eagerState=c,cs(c,l))return Ud(e,t,r,0),De===null&&Vd(),!1}catch{}finally{}if(s=Xp(e,t,r,n),s!==null)return Ht(s,e,n),uN(s,t,n),!0}return!1}function x0(e,t,s,n){if(n={lane:2,revertLane:C0(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Id(e)){if(t)throw Error(Y(479))}else t=Xp(e,s,n,2),t!==null&&Ht(t,e,2)}function Id(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function oN(e,t){Si=Iu=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function uN(e,t,s){if(s&4194048){var n=t.lanes;n&=e.pendingLanes,s|=n,t.lanes=s,Qj(e,s)}}var Ec={readContext:jt,use:Fd,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};Ec.useEffectEvent=qe;var dN={readContext:jt,use:Fd,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:Ig,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,uu(4194308,4,Z1.bind(null,t,e),s)},useLayoutEffect:function(e,t){return uu(4194308,4,e,t)},useInsertionEffect:function(e,t){uu(4,2,e,t)},useMemo:function(e,t){var s=Dt();t=t===void 0?null:t;var n=e();if(Or){xn(!0);try{e()}finally{xn(!1)}}return s.memoizedState=[n,t],n},useReducer:function(e,t,s){var n=Dt();if(s!==void 0){var r=s(t);if(Or){xn(!0);try{s(t)}finally{xn(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=GC.bind(null,ce,e),[n.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:function(e){e=im(e);var t=e.queue,s=cN.bind(null,ce,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:h0,useDeferredValue:function(e,t){var s=Dt();return m0(s,e,t)},useTransition:function(){var e=im(!1);return e=aN.bind(null,ce,e.queue,!0,!1),Dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var n=ce,r=Dt();if(ve){if(s===void 0)throw Error(Y(407));s=s()}else{if(s=t(),De===null)throw Error(Y(349));ye&127||z1(n,t,s)}r.memoizedState=s;var i={value:s,getSnapshot:t};return r.queue=i,Ig(U1.bind(null,n,i,e),[e]),n.flags|=2048,Yi(9,{destroy:void 0},V1.bind(null,n,i,s,t),null),s},useId:function(){var e=Dt(),t=De.identifierPrefix;if(ve){var s=Xs,n=Qs;s=(n&~(1<<32-is(n)-1)).toString(32)+s,t="_"+t+"R_"+s,s=Yu++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=UC++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:p0,useFormState:qg,useActionState:qg,useOptimistic:function(e){var t=Dt();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=x0.bind(null,ce,!0,s),s.dispatch=t,[e,t]},useMemoCache:u0,useCacheRefresh:function(){return Dt().memoizedState=YC.bind(null,ce)},useEffectEvent:function(e){var t=Dt(),s={impl:e};return t.memoizedState=s,function(){if(Ne&2)throw Error(Y(440));return s.impl.apply(void 0,arguments)}}},g0={readContext:jt,use:Fd,useCallback:eN,useContext:jt,useEffect:f0,useImperativeHandle:J1,useInsertionEffect:X1,useLayoutEffect:W1,useMemo:tN,useReducer:ou,useRef:K1,useState:function(){return ou(Va)},useDebugValue:h0,useDeferredValue:function(e,t){var s=Ke();return sN(s,Me.memoizedState,e,t)},useTransition:function(){var e=ou(Va)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:lo(e),t]},useSyncExternalStore:B1,useId:iN,useHostTransitionStatus:p0,useFormState:Fg,useActionState:Fg,useOptimistic:function(e,t){var s=Ke();return F1(s,Me,e,t)},useMemoCache:u0,useCacheRefresh:lN};g0.useEffectEvent=Q1;var fN={readContext:jt,use:Fd,useCallback:eN,useContext:jt,useEffect:f0,useImperativeHandle:J1,useInsertionEffect:X1,useLayoutEffect:W1,useMemo:tN,useReducer:Pf,useRef:K1,useState:function(){return Pf(Va)},useDebugValue:h0,useDeferredValue:function(e,t){var s=Ke();return Me===null?m0(s,e,t):sN(s,Me.memoizedState,e,t)},useTransition:function(){var e=Pf(Va)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:lo(e),t]},useSyncExternalStore:B1,useId:iN,useHostTransitionStatus:p0,useFormState:Hg,useActionState:Hg,useOptimistic:function(e,t){var s=Ke();return Me!==null?F1(s,Me,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:u0,useCacheRefresh:lN};fN.useEffectEvent=Q1;function Bf(e,t,s,n){t=e.memoizedState,s=s(n,t),s=s==null?t:ze({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var om={enqueueSetState:function(e,t,s){e=e._reactInternals;var n=ls(),r=kn(n);r.payload=t,s!=null&&(r.callback=s),t=En(e,r,n),t!==null&&(Ht(t,e,n),ac(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=ls(),r=kn(n);r.tag=1,r.payload=t,s!=null&&(r.callback=s),t=En(e,r,n),t!==null&&(Ht(t,e,n),ac(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ls(),n=kn(s);n.tag=2,t!=null&&(n.callback=t),t=En(e,n,s),t!==null&&(Ht(t,e,s),ac(t,e,s))}};function Yg(e,t,s,n,r,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!Nc(s,n)||!Nc(r,i):!0}function Gg(e,t,s,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&om.enqueueReplaceState(t,t.state,null)}function _r(e,t){var s=t;if("ref"in t){s={};for(var n in t)n!=="ref"&&(s[n]=t[n])}if(e=e.defaultProps){s===t&&(s=ze({},s));for(var r in e)s[r]===void 0&&(s[r]=e[r])}return s}function hN(e){zu(e)}function mN(e){console.error(e)}function pN(e){zu(e)}function Gu(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Kg(e,t,s){try{var n=e.onCaughtError;n(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function um(e,t,s){return s=kn(s),s.tag=3,s.payload={element:null},s.callback=function(){Gu(e,t)},s}function xN(e){return e=kn(e),e.tag=3,e}function gN(e,t,s,n){var r=s.type.getDerivedStateFromError;if(typeof r=="function"){var i=n.value;e.payload=function(){return r(i)},e.callback=function(){Kg(t,s,n)}}var l=s.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){Kg(t,s,n),typeof r!="function"&&(An===null?An=new Set([this]):An.add(this));var c=n.stack;this.componentDidCatch(n.value,{componentStack:c!==null?c:""})})}function KC(e,t,s,n,r){if(s.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=s.alternate,t!==null&&cl(t,s,r,!0),s=os.current,s!==null){switch(s.tag){case 31:case 13:return Ss===null?Zu():s.alternate===null&&Ie===0&&(Ie=3),s.flags&=-257,s.flags|=65536,s.lanes=r,n===qu?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([n]):t.add(n),Kf(e,n,r)),!1;case 22:return s.flags|=65536,n===qu?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([n]):s.add(n)),Kf(e,n,r)),!1}throw Error(Y(435,s.tag))}return Kf(e,n,r),Zu(),!1}if(ve)return t=os.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==Wh&&(e=Error(Y(422),{cause:n}),Sc(vs(e,s)))):(n!==Wh&&(t=Error(Y(423),{cause:n}),Sc(vs(t,s))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,n=vs(n,s),r=um(e.stateNode,n,r),Lf(e,r),Ie!==4&&(Ie=2)),!1;var i=Error(Y(520),{cause:n});if(i=vs(i,s),oc===null?oc=[i]:oc.push(i),Ie!==4&&(Ie=2),t===null)return!0;n=vs(n,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=r&-r,s.lanes|=e,e=um(s.stateNode,n,e),Lf(s,e),!1;case 1:if(t=s.type,i=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(An===null||!An.has(i))))return s.flags|=65536,r&=-r,s.lanes|=r,r=xN(r),gN(r,e,s,n),Lf(s,r),!1}s=s.return}while(s!==null);return!1}var y0=Error(Y(461)),tt=!1;function gt(e,t,s,n){t.child=e===null?D1(t,null,s,n):Rr(t,e.child,s,n)}function Qg(e,t,s,n,r){s=s.render;var i=t.ref;if("ref"in n){var l={};for(var c in n)c!=="ref"&&(l[c]=n[c])}else l=n;return Dr(t),n=i0(e,t,s,l,i,r),c=l0(),e!==null&&!tt?(c0(e,t,r),Ua(e,t,r)):(ve&&c&&Zp(t),t.flags|=1,gt(e,t,n,r),t.child)}function Xg(e,t,s,n,r){if(e===null){var i=s.type;return typeof i=="function"&&!Wp(i)&&i.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=i,yN(e,t,i,n,r)):(e=lu(s.type,null,n,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!b0(e,r)){var l=i.memoizedProps;if(s=s.compare,s=s!==null?s:Nc,s(l,n)&&e.ref===t.ref)return Ua(e,t,r)}return t.flags|=1,e=Ma(i,n),e.ref=t.ref,e.return=t,t.child=e}function yN(e,t,s,n,r){if(e!==null){var i=e.memoizedProps;if(Nc(i,n)&&e.ref===t.ref)if(tt=!1,t.pendingProps=n=i,b0(e,r))e.flags&131072&&(tt=!0);else return t.lanes=e.lanes,Ua(e,t,r)}return dm(e,t,s,n,r)}function bN(e,t,s,n){var r=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|s:s,e!==null){for(n=t.child=e.child,r=0;n!==null;)r=r|n.lanes|n.childLanes,n=n.sibling;n=r&~i}else n=0,t.child=null;return Wg(e,t,i,s,n)}if(s&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&cu(t,i!==null?i.cachePool:null),i!==null?Vg(t,i):nm(),_1(t);else return n=t.lanes=536870912,Wg(e,t,i!==null?i.baseLanes|s:s,s,n)}else i!==null?(cu(t,i.cachePool),Vg(t,i),an(),t.memoizedState=null):(e!==null&&cu(t,null),nm(),an());return gt(e,t,r,s),t.child}function Il(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Wg(e,t,s,n,r){var i=t0();return i=i===null?null:{parent:et._currentValue,pool:i},t.memoizedState={baseLanes:s,cachePool:i},e!==null&&cu(t,null),nm(),_1(t),e!==null&&cl(e,t,n,!0),t.childLanes=r,null}function du(e,t){return t=Ku({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Zg(e,t,s){return Rr(t,e.child,null,s),e=du(t,t.pendingProps),e.flags|=2,Jt(t),t.memoizedState=null,e}function QC(e,t,s){var n=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ve){if(n.mode==="hidden")return e=du(t,n),t.lanes=536870912,Il(null,e);if(rm(t),(e=Le)?(e=d2(e,js),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bn!==null?{id:Qs,overflow:Xs}:null,retryLane:536870912,hydrationErrors:null},s=S1(e),s.return=t,t.child=s,vt=t,Le=null)):e=null,e===null)throw zn(t);return t.lanes=536870912,null}return du(t,n)}var i=e.memoizedState;if(i!==null){var l=i.dehydrated;if(rm(t),r)if(t.flags&256)t.flags&=-257,t=Zg(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(Y(558));else if(tt||cl(e,t,s,!1),r=(s&e.childLanes)!==0,tt||r){if(n=De,n!==null&&(l=Xj(n,s),l!==0&&l!==i.retryLane))throw i.retryLane=l,Ir(e,l),Ht(n,e,l),y0;Zu(),t=Zg(e,t,s)}else e=i.treeContext,Le=Cs(l.nextSibling),vt=t,ve=!0,Cn=null,js=!1,e!==null&&k1(t,e),t=du(t,n),t.flags|=4096;return t}return e=Ma(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function fu(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(Y(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function dm(e,t,s,n,r){return Dr(t),s=i0(e,t,s,n,void 0,r),n=l0(),e!==null&&!tt?(c0(e,t,r),Ua(e,t,r)):(ve&&n&&Zp(t),t.flags|=1,gt(e,t,s,r),t.child)}function Jg(e,t,s,n,r,i){return Dr(t),t.updateQueue=null,s=P1(t,n,s,r),L1(e),n=l0(),e!==null&&!tt?(c0(e,t,i),Ua(e,t,i)):(ve&&n&&Zp(t),t.flags|=1,gt(e,t,s,i),t.child)}function ey(e,t,s,n,r){if(Dr(t),t.stateNode===null){var i=ui,l=s.contextType;typeof l=="object"&&l!==null&&(i=jt(l)),i=new s(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=om,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},a0(t),l=s.contextType,i.context=typeof l=="object"&&l!==null?jt(l):ui,i.state=t.memoizedState,l=s.getDerivedStateFromProps,typeof l=="function"&&(Bf(t,s,l,n),i.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(l=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),l!==i.state&&om.enqueueReplaceState(i,i.state,null),rc(t,n,i,r),nc(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var c=t.memoizedProps,o=_r(s,c);i.props=o;var u=i.context,d=s.contextType;l=ui,typeof d=="object"&&d!==null&&(l=jt(d));var f=s.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c||u!==l)&&Gg(t,i,n,l),en=!1;var h=t.memoizedState;i.state=h,rc(t,n,i,r),nc(),u=t.memoizedState,c||h!==u||en?(typeof f=="function"&&(Bf(t,s,f,n),u=t.memoizedState),(o=en||Yg(t,s,o,n,h,u,l))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=l,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,sm(e,t),l=t.memoizedProps,d=_r(s,l),i.props=d,f=t.pendingProps,h=i.context,u=s.contextType,o=ui,typeof u=="object"&&u!==null&&(o=jt(u)),c=s.getDerivedStateFromProps,(u=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==o)&&Gg(t,i,n,o),en=!1,h=t.memoizedState,i.state=h,rc(t,n,i,r),nc();var p=t.memoizedState;l!==f||h!==p||en||e!==null&&e.dependencies!==null&&$u(e.dependencies)?(typeof c=="function"&&(Bf(t,s,c,n),p=t.memoizedState),(d=en||Yg(t,s,d,n,h,p,o)||e!==null&&e.dependencies!==null&&$u(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,p,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,p,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=o,n=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,fu(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,s=n&&typeof s.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=Rr(t,e.child,null,r),t.child=Rr(t,null,s,r)):gt(e,t,s,r),t.memoizedState=i.state,e=t.child):e=Ua(e,t,r),e}function ty(e,t,s,n){return Mr(),t.flags|=256,gt(e,t,s,n),t.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(e){return{baseLanes:e,cachePool:A1()}}function Uf(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=ss),e}function vN(e,t,s){var n=t.pendingProps,r=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),l&&(r=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(ve){if(r?sn(t):an(),(e=Le)?(e=d2(e,js),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bn!==null?{id:Qs,overflow:Xs}:null,retryLane:536870912,hydrationErrors:null},s=S1(e),s.return=t,t.child=s,vt=t,Le=null)):e=null,e===null)throw zn(t);return Cm(e)?t.lanes=32:t.lanes=536870912,null}var c=n.children;return n=n.fallback,r?(an(),r=t.mode,c=Ku({mode:"hidden",children:c},r),n=jr(n,r,s,null),c.return=t,n.return=t,c.sibling=n,t.child=c,n=t.child,n.memoizedState=Vf(s),n.childLanes=Uf(e,l,s),t.memoizedState=zf,Il(null,n)):(sn(t),fm(t,c))}var o=e.memoizedState;if(o!==null&&(c=o.dehydrated,c!==null)){if(i)t.flags&256?(sn(t),t.flags&=-257,t=$f(e,t,s)):t.memoizedState!==null?(an(),t.child=e.child,t.flags|=128,t=null):(an(),c=n.fallback,r=t.mode,n=Ku({mode:"visible",children:n.children},r),c=jr(c,r,s,null),c.flags|=2,n.return=t,c.return=t,n.sibling=c,t.child=n,Rr(t,e.child,null,s),n=t.child,n.memoizedState=Vf(s),n.childLanes=Uf(e,l,s),t.memoizedState=zf,t=Il(null,n));else if(sn(t),Cm(c)){if(l=c.nextSibling&&c.nextSibling.dataset,l)var u=l.dgst;l=u,n=Error(Y(419)),n.stack="",n.digest=l,Sc({value:n,source:null,stack:null}),t=$f(e,t,s)}else if(tt||cl(e,t,s,!1),l=(s&e.childLanes)!==0,tt||l){if(l=De,l!==null&&(n=Xj(l,s),n!==0&&n!==o.retryLane))throw o.retryLane=n,Ir(e,n),Ht(l,e,n),y0;Sm(c)||Zu(),t=$f(e,t,s)}else Sm(c)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,Le=Cs(c.nextSibling),vt=t,ve=!0,Cn=null,js=!1,e!==null&&k1(t,e),t=fm(t,n.children),t.flags|=4096);return t}return r?(an(),c=n.fallback,r=t.mode,o=e.child,u=o.sibling,n=Ma(o,{mode:"hidden",children:n.children}),n.subtreeFlags=o.subtreeFlags&65011712,u!==null?c=Ma(u,c):(c=jr(c,r,s,null),c.flags|=2),c.return=t,n.return=t,n.sibling=c,t.child=n,Il(null,n),n=t.child,c=e.child.memoizedState,c===null?c=Vf(s):(r=c.cachePool,r!==null?(o=et._currentValue,r=r.parent!==o?{parent:o,pool:o}:r):r=A1(),c={baseLanes:c.baseLanes|s,cachePool:r}),n.memoizedState=c,n.childLanes=Uf(e,l,s),t.memoizedState=zf,Il(e.child,n)):(sn(t),s=e.child,e=s.sibling,s=Ma(s,{mode:"visible",children:n.children}),s.return=t,s.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=s,t.memoizedState=null,s)}function fm(e,t){return t=Ku({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ku(e,t){return e=ts(22,e,null,t),e.lanes=0,e}function $f(e,t,s){return Rr(t,e.child,null,s),e=fm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sy(e,t,s){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Jh(e.return,t,s)}function qf(e,t,s,n,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:r,treeForkCount:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=s,l.tailMode=r,l.treeForkCount=i)}function jN(e,t,s){var n=t.pendingProps,r=n.revealOrder,i=n.tail;n=n.children;var l=Ge.current,c=(l&2)!==0;if(c?(l=l&1|2,t.flags|=128):l&=1,Re(Ge,l),gt(e,t,n,s),n=ve?wc:0,!c&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sy(e,s,t);else if(e.tag===19)sy(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(s=t.child,r=null;s!==null;)e=s.alternate,e!==null&&Hu(e)===null&&(r=s),s=s.sibling;s=r,s===null?(r=t.child,t.child=null):(r=s.sibling,s.sibling=null),qf(t,!1,r,s,i,n);break;case"backwards":case"unstable_legacy-backwards":for(s=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Hu(e)===null){t.child=r;break}e=r.sibling,r.sibling=s,s=r,r=e}qf(t,!0,s,null,i,n);break;case"together":qf(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Ua(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Un|=t.lanes,!(s&t.childLanes))if(e!==null){if(cl(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,s=Ma(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Ma(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function b0(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&$u(e)))}function XC(e,t,s){switch(t.tag){case 3:_u(t,t.stateNode.containerInfo),tn(t,et,e.memoizedState.cache),Mr();break;case 27:case 5:Uh(t);break;case 4:_u(t,t.stateNode.containerInfo);break;case 10:tn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,rm(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(sn(t),t.flags|=128,null):s&t.child.childLanes?vN(e,t,s):(sn(t),e=Ua(e,t,s),e!==null?e.sibling:null);sn(t);break;case 19:var r=(e.flags&128)!==0;if(n=(s&t.childLanes)!==0,n||(cl(e,t,s,!1),n=(s&t.childLanes)!==0),r){if(n)return jN(e,t,s);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Re(Ge,Ge.current),n)break;return null;case 22:return t.lanes=0,bN(e,t,s,t.pendingProps);case 24:tn(t,et,e.memoizedState.cache)}return Ua(e,t,s)}function NN(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!b0(e,s)&&!(t.flags&128))return tt=!1,XC(e,t,s);tt=!!(e.flags&131072)}else tt=!1,ve&&t.flags&1048576&&C1(t,wc,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=ar(t.elementType),t.type=e,typeof e=="function")Wp(e)?(n=_r(e,n),t.tag=1,t=ey(null,t,e,n,s)):(t.tag=0,t=dm(null,t,e,n,s));else{if(e!=null){var r=e.$$typeof;if(r===Bp){t.tag=11,t=Qg(null,t,e,n,s);break e}else if(r===zp){t.tag=14,t=Xg(null,t,e,n,s);break e}}throw t=zh(e)||e,Error(Y(306,t,""))}}return t;case 0:return dm(e,t,t.type,t.pendingProps,s);case 1:return n=t.type,r=_r(n,t.pendingProps),ey(e,t,n,r,s);case 3:e:{if(_u(t,t.stateNode.containerInfo),e===null)throw Error(Y(387));n=t.pendingProps;var i=t.memoizedState;r=i.element,sm(e,t),rc(t,n,null,s);var l=t.memoizedState;if(n=l.cache,tn(t,et,n),n!==i.cache&&em(t,[et],s,!0),nc(),n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=ty(e,t,n,s);break e}else if(n!==r){r=vs(Error(Y(424)),t),Sc(r),t=ty(e,t,n,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Cs(e.firstChild),vt=t,ve=!0,Cn=null,js=!0,s=D1(t,null,n,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Mr(),n===r){t=Ua(e,t,s);break e}gt(e,t,n,s)}t=t.child}return t;case 26:return fu(e,t),e===null?(s=Ny(t.type,null,t.pendingProps,null))?t.memoizedState=s:ve||(s=t.type,e=t.pendingProps,n=sd(Sn.current).createElement(s),n[bt]=t,n[Gt]=e,Nt(n,s,e),ht(n),t.stateNode=n):t.memoizedState=Ny(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Uh(t),e===null&&ve&&(n=t.stateNode=f2(t.type,t.pendingProps,Sn.current),vt=t,js=!0,r=Le,Yn(t.type)?(km=r,Le=Cs(n.firstChild)):Le=r),gt(e,t,t.pendingProps.children,s),fu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ve&&((r=n=Le)&&(n=k3(n,t.type,t.pendingProps,js),n!==null?(t.stateNode=n,vt=t,Le=Cs(n.firstChild),js=!1,r=!0):r=!1),r||zn(t)),Uh(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,n=i.children,Nm(r,i)?n=null:l!==null&&Nm(r,l)&&(t.flags|=32),t.memoizedState!==null&&(r=i0(e,t,$C,null,null,s),Mc._currentValue=r),fu(e,t),gt(e,t,n,s),t.child;case 6:return e===null&&ve&&((e=s=Le)&&(s=E3(s,t.pendingProps,js),s!==null?(t.stateNode=s,vt=t,Le=null,e=!0):e=!1),e||zn(t)),null;case 13:return vN(e,t,s);case 4:return _u(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Rr(t,null,n,s):gt(e,t,n,s),t.child;case 11:return Qg(e,t,t.type,t.pendingProps,s);case 7:return gt(e,t,t.pendingProps,s),t.child;case 8:return gt(e,t,t.pendingProps.children,s),t.child;case 12:return gt(e,t,t.pendingProps.children,s),t.child;case 10:return n=t.pendingProps,tn(t,t.type,n.value),gt(e,t,n.children,s),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,Dr(t),r=jt(r),n=n(r),t.flags|=1,gt(e,t,n,s),t.child;case 14:return Xg(e,t,t.type,t.pendingProps,s);case 15:return yN(e,t,t.type,t.pendingProps,s);case 19:return jN(e,t,s);case 31:return QC(e,t,s);case 22:return bN(e,t,s,t.pendingProps);case 24:return Dr(t),n=jt(et),e===null?(r=t0(),r===null&&(r=De,i=e0(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=s),r=i),t.memoizedState={parent:n,cache:r},a0(t),tn(t,et,r)):(e.lanes&s&&(sm(e,t),rc(t,null,null,s),nc()),r=e.memoizedState,i=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),tn(t,et,n)):(n=i.cache,tn(t,et,n),n!==r.cache&&em(t,[et],s,!0))),gt(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(Y(156,t.tag))}function ma(e){e.flags|=4}function Ff(e,t,s,n,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(YN())e.flags|=8192;else throw wr=qu,s0}else e.flags&=-16777217}function ay(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!p2(t))if(YN())e.flags|=8192;else throw wr=qu,s0}function Lo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Gj():536870912,e.lanes|=t,Gi|=t)}function Dl(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,n=0;if(t)for(var r=e.child;r!==null;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags&65011712,n|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function WC(e,t,s){var n=t.pendingProps;switch(Jp(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return _e(t),null;case 3:return s=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Da(et),$i(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Kr(t)?ma(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_f())),_e(t),null;case 26:var r=t.type,i=t.memoizedState;return e===null?(ma(t),i!==null?(_e(t),ay(t,i)):(_e(t),Ff(t,r,null,n,s))):i?i!==e.memoizedState?(ma(t),_e(t),ay(t,i)):(_e(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&ma(t),_e(t),Ff(t,r,e,n,s)),null;case 27:if(Lu(t),s=Sn.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ma(t);else{if(!n){if(t.stateNode===null)throw Error(Y(166));return _e(t),null}e=ea.current,Kr(t)?Rg(t):(e=f2(r,n,s),t.stateNode=e,ma(t))}return _e(t),null;case 5:if(Lu(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ma(t);else{if(!n){if(t.stateNode===null)throw Error(Y(166));return _e(t),null}if(i=ea.current,Kr(t))Rg(t);else{var l=sd(Sn.current);switch(i){case 1:i=l.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=l.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=l.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?l.createElement("select",{is:n.is}):l.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?l.createElement(r,{is:n.is}):l.createElement(r)}}i[bt]=t,i[Gt]=n;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=i;e:switch(Nt(i,r,n),r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ma(t)}}return _e(t),Ff(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&ma(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Y(166));if(e=Sn.current,Kr(t)){if(e=t.stateNode,s=t.memoizedProps,n=null,r=vt,r!==null)switch(r.tag){case 27:case 5:n=r.memoizedProps}e[bt]=t,e=!!(e.nodeValue===s||n!==null&&n.suppressHydrationWarning===!0||c2(e.nodeValue,s)),e||zn(t,!0)}else e=sd(e).createTextNode(n),e[bt]=t,t.stateNode=e}return _e(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(n=Kr(t),s!==null){if(e===null){if(!n)throw Error(Y(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(557));e[bt]=t}else Mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),e=!1}else s=_f(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(Jt(t),t):(Jt(t),null);if(t.flags&128)throw Error(Y(558))}return _e(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Kr(t),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(Y(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Y(317));r[bt]=t}else Mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),r=!1}else r=_f(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Jt(t),t):(Jt(t),null)}return Jt(t),t.flags&128?(t.lanes=s,t):(s=n!==null,e=e!==null&&e.memoizedState!==null,s&&(n=t.child,r=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(r=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==r&&(n.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),Lo(t,t.updateQueue),_e(t),null);case 4:return $i(),e===null&&k0(t.stateNode.containerInfo),_e(t),null;case 10:return Da(t.type),_e(t),null;case 19:if(mt(Ge),n=t.memoizedState,n===null)return _e(t),null;if(r=(t.flags&128)!==0,i=n.rendering,i===null)if(r)Dl(n,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Hu(e),i!==null){for(t.flags|=128,Dl(n,!1),e=i.updateQueue,t.updateQueue=e,Lo(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)w1(s,e),s=s.sibling;return Re(Ge,Ge.current&1|2),ve&&va(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&ns()>Xu&&(t.flags|=128,r=!0,Dl(n,!1),t.lanes=4194304)}else{if(!r)if(e=Hu(i),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Lo(t,e),Dl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!ve)return _e(t),null}else 2*ns()-n.renderingStartTime>Xu&&s!==536870912&&(t.flags|=128,r=!0,Dl(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ns(),e.sibling=null,s=Ge.current,Re(Ge,r?s&1|2:s&1),ve&&va(t,n.treeForkCount),e):(_e(t),null);case 22:case 23:return Jt(t),n0(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?s&536870912&&!(t.flags&128)&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),s=t.updateQueue,s!==null&&Lo(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==s&&(t.flags|=2048),e!==null&&mt(Nr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Da(et),_e(t),null;case 25:return null;case 30:return null}throw Error(Y(156,t.tag))}function ZC(e,t){switch(Jp(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Da(et),$i(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Lu(t),null;case 31:if(t.memoizedState!==null){if(Jt(t),t.alternate===null)throw Error(Y(340));Mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Jt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));Mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return mt(Ge),null;case 4:return $i(),null;case 10:return Da(t.type),null;case 22:case 23:return Jt(t),n0(),e!==null&&mt(Nr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Da(et),null;case 25:return null;default:return null}}function wN(e,t){switch(Jp(t),t.tag){case 3:Da(et),$i();break;case 26:case 27:case 5:Lu(t);break;case 4:$i();break;case 31:t.memoizedState!==null&&Jt(t);break;case 13:Jt(t);break;case 19:mt(Ge);break;case 10:Da(t.type);break;case 22:case 23:Jt(t),n0(),e!==null&&mt(Nr);break;case 24:Da(et)}}function co(e,t){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var r=n.next;s=r;do{if((s.tag&e)===e){n=void 0;var i=s.create,l=s.inst;n=i(),l.destroy=n}s=s.next}while(s!==r)}}catch(c){Ae(t,t.return,c)}}function Vn(e,t,s){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){var l=n.inst,c=l.destroy;if(c!==void 0){l.destroy=void 0,r=t;var o=s,u=c;try{u()}catch(d){Ae(r,o,d)}}}n=n.next}while(n!==i)}}catch(d){Ae(t,t.return,d)}}function SN(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{O1(t,s)}catch(n){Ae(e,e.return,n)}}}function CN(e,t,s){s.props=_r(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(n){Ae(e,t,n)}}function lc(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof s=="function"?e.refCleanup=s(n):s.current=n}}catch(r){Ae(e,t,r)}}function Ws(e,t){var s=e.ref,n=e.refCleanup;if(s!==null)if(typeof n=="function")try{n()}catch(r){Ae(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(r){Ae(e,t,r)}else s.current=null}function kN(e){var t=e.type,s=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break e;case"img":s.src?n.src=s.src:s.srcSet&&(n.srcset=s.srcSet)}}catch(r){Ae(e,e.return,r)}}function Hf(e,t,s){try{var n=e.stateNode;v3(n,e.type,s,t),n[Gt]=t}catch(r){Ae(e,e.return,r)}}function EN(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yn(e.type)||e.tag===4}function If(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||EN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hm(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Aa));else if(n!==4&&(n===27&&Yn(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(hm(e,t,s),e=e.sibling;e!==null;)hm(e,t,s),e=e.sibling}function Qu(e,t,s){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(n!==4&&(n===27&&Yn(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Qu(e,t,s),e=e.sibling;e!==null;)Qu(e,t,s),e=e.sibling}function AN(e){var t=e.stateNode,s=e.memoizedProps;try{for(var n=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Nt(t,n,s),t[bt]=e,t[Gt]=s}catch(i){Ae(e,e.return,i)}}var Ca=!1,Je=!1,Yf=!1,ny=typeof WeakSet=="function"?WeakSet:Set,ft=null;function JC(e,t){if(e=e.containerInfo,vm=id,e=p1(e),Kp(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var l=0,c=-1,o=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==s||r!==0&&f.nodeType!==3||(c=l+r),f!==i||n!==0&&f.nodeType!==3||(o=l+n),f.nodeType===3&&(l+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===s&&++u===r&&(c=l),h===i&&++d===n&&(o=l),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}s=c===-1||o===-1?null:{start:c,end:o}}else s=null}s=s||{start:0,end:0}}else s=null;for(jm={focusedElem:e,selectionRange:s},id=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){switch(t=ft,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)r=e[s],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,s=t,r=i.memoizedProps,i=i.memoizedState,n=s.stateNode;try{var m=_r(s.type,r);e=n.getSnapshotBeforeUpdate(m,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(v){Ae(s,s.return,v)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)wm(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(Y(163))}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}}function TN(e,t,s){var n=s.flags;switch(s.tag){case 0:case 11:case 15:xa(e,s),n&4&&co(5,s);break;case 1:if(xa(e,s),n&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(l){Ae(s,s.return,l)}else{var r=_r(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){Ae(s,s.return,l)}}n&64&&SN(s),n&512&&lc(s,s.return);break;case 3:if(xa(e,s),n&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{O1(e,t)}catch(l){Ae(s,s.return,l)}}break;case 27:t===null&&n&4&&AN(s);case 26:case 5:xa(e,s),t===null&&n&4&&kN(s),n&512&&lc(s,s.return);break;case 12:xa(e,s);break;case 31:xa(e,s),n&4&&RN(e,s);break;case 13:xa(e,s),n&4&&ON(e,s),n&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=c3.bind(null,s),A3(e,s))));break;case 22:if(n=s.memoizedState!==null||Ca,!n){t=t!==null&&t.memoizedState!==null||Je,r=Ca;var i=Je;Ca=n,(Je=t)&&!i?ya(e,s,(s.subtreeFlags&8772)!==0):xa(e,s),Ca=r,Je=i}break;case 30:break;default:xa(e,s)}}function MN(e){var t=e.alternate;t!==null&&(e.alternate=null,MN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&qp(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ue=null,qt=!1;function pa(e,t,s){for(s=s.child;s!==null;)DN(e,t,s),s=s.sibling}function DN(e,t,s){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(to,s)}catch{}switch(s.tag){case 26:Je||Ws(s,t),pa(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Je||Ws(s,t);var n=Ue,r=qt;Yn(s.type)&&(Ue=s.stateNode,qt=!1),pa(e,t,s),dc(s.stateNode),Ue=n,qt=r;break;case 5:Je||Ws(s,t);case 6:if(n=Ue,r=qt,Ue=null,pa(e,t,s),Ue=n,qt=r,Ue!==null)if(qt)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(s.stateNode)}catch(i){Ae(s,t,i)}else try{Ue.removeChild(s.stateNode)}catch(i){Ae(s,t,i)}break;case 18:Ue!==null&&(qt?(e=Ue,gy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Wi(e)):gy(Ue,s.stateNode));break;case 4:n=Ue,r=qt,Ue=s.stateNode.containerInfo,qt=!0,pa(e,t,s),Ue=n,qt=r;break;case 0:case 11:case 14:case 15:Vn(2,s,t),Je||Vn(4,s,t),pa(e,t,s);break;case 1:Je||(Ws(s,t),n=s.stateNode,typeof n.componentWillUnmount=="function"&&CN(s,t,n)),pa(e,t,s);break;case 21:pa(e,t,s);break;case 22:Je=(n=Je)||s.memoizedState!==null,pa(e,t,s),Je=n;break;default:pa(e,t,s)}}function RN(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Wi(e)}catch(s){Ae(t,t.return,s)}}}function ON(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wi(e)}catch(s){Ae(t,t.return,s)}}function e3(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ny),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ny),t;default:throw Error(Y(435,e.tag))}}function Po(e,t){var s=e3(e);t.forEach(function(n){if(!s.has(n)){s.add(n);var r=o3.bind(null,e,n);n.then(r,r)}})}function zt(e,t){var s=t.deletions;if(s!==null)for(var n=0;n<s.length;n++){var r=s[n],i=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 27:if(Yn(c.type)){Ue=c.stateNode,qt=!1;break e}break;case 5:Ue=c.stateNode,qt=!1;break e;case 3:case 4:Ue=c.stateNode.containerInfo,qt=!0;break e}c=c.return}if(Ue===null)throw Error(Y(160));DN(i,l,r),Ue=null,qt=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)_N(t,e),t=t.sibling}var Ps=null;function _N(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zt(t,e),Vt(e),n&4&&(Vn(3,e,e.return),co(3,e),Vn(5,e,e.return));break;case 1:zt(t,e),Vt(e),n&512&&(Je||s===null||Ws(s,s.return)),n&64&&Ca&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?n:s.concat(n))));break;case 26:var r=Ps;if(zt(t,e),Vt(e),n&512&&(Je||s===null||Ws(s,s.return)),n&4){var i=s!==null?s.memoizedState:null;if(n=e.memoizedState,s===null)if(n===null)if(e.stateNode===null){e:{n=e.type,s=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":i=r.getElementsByTagName("title")[0],(!i||i[no]||i[bt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(n),r.head.insertBefore(i,r.querySelector("head > title"))),Nt(i,n,s),i[bt]=e,ht(i),n=i;break e;case"link":var l=Sy("link","href",r).get(n+(s.href||""));if(l){for(var c=0;c<l.length;c++)if(i=l[c],i.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&i.getAttribute("rel")===(s.rel==null?null:s.rel)&&i.getAttribute("title")===(s.title==null?null:s.title)&&i.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){l.splice(c,1);break t}}i=r.createElement(n),Nt(i,n,s),r.head.appendChild(i);break;case"meta":if(l=Sy("meta","content",r).get(n+(s.content||""))){for(c=0;c<l.length;c++)if(i=l[c],i.getAttribute("content")===(s.content==null?null:""+s.content)&&i.getAttribute("name")===(s.name==null?null:s.name)&&i.getAttribute("property")===(s.property==null?null:s.property)&&i.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&i.getAttribute("charset")===(s.charSet==null?null:s.charSet)){l.splice(c,1);break t}}i=r.createElement(n),Nt(i,n,s),r.head.appendChild(i);break;default:throw Error(Y(468,n))}i[bt]=e,ht(i),n=i}e.stateNode=n}else Cy(r,e.type,e.stateNode);else e.stateNode=wy(r,n,e.memoizedProps);else i!==n?(i===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):i.count--,n===null?Cy(r,e.type,e.stateNode):wy(r,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Hf(e,e.memoizedProps,s.memoizedProps)}break;case 27:zt(t,e),Vt(e),n&512&&(Je||s===null||Ws(s,s.return)),s!==null&&n&4&&Hf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(zt(t,e),Vt(e),n&512&&(Je||s===null||Ws(s,s.return)),e.flags&32){r=e.stateNode;try{Fi(r,"")}catch(m){Ae(e,e.return,m)}}n&4&&e.stateNode!=null&&(r=e.memoizedProps,Hf(e,r,s!==null?s.memoizedProps:r)),n&1024&&(Yf=!0);break;case 6:if(zt(t,e),Vt(e),n&4){if(e.stateNode===null)throw Error(Y(162));n=e.memoizedProps,s=e.stateNode;try{s.nodeValue=n}catch(m){Ae(e,e.return,m)}}break;case 3:if(pu=null,r=Ps,Ps=ad(t.containerInfo),zt(t,e),Ps=r,Vt(e),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Wi(t.containerInfo)}catch(m){Ae(e,e.return,m)}Yf&&(Yf=!1,LN(e));break;case 4:n=Ps,Ps=ad(e.stateNode.containerInfo),zt(t,e),Vt(e),Ps=n;break;case 12:zt(t,e),Vt(e);break;case 31:zt(t,e),Vt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Po(e,n)));break;case 13:zt(t,e),Vt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yd=ns()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Po(e,n)));break;case 22:r=e.memoizedState!==null;var o=s!==null&&s.memoizedState!==null,u=Ca,d=Je;if(Ca=u||r,Je=d||o,zt(t,e),Je=d,Ca=u,Vt(e),n&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(s===null||o||Ca||Je||nr(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){o=s=t;try{if(i=o.stateNode,r)l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{c=o.stateNode;var f=o.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;c.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(m){Ae(o,o.return,m)}}}else if(t.tag===6){if(s===null){o=t;try{o.stateNode.nodeValue=r?"":o.memoizedProps}catch(m){Ae(o,o.return,m)}}}else if(t.tag===18){if(s===null){o=t;try{var p=o.stateNode;r?yy(p,!0):yy(o.stateNode,!1)}catch(m){Ae(o,o.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(s=n.retryQueue,s!==null&&(n.retryQueue=null,Po(e,s))));break;case 19:zt(t,e),Vt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Po(e,n)));break;case 30:break;case 21:break;default:zt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{for(var s,n=e.return;n!==null;){if(EN(n)){s=n;break}n=n.return}if(s==null)throw Error(Y(160));switch(s.tag){case 27:var r=s.stateNode,i=If(e);Qu(e,i,r);break;case 5:var l=s.stateNode;s.flags&32&&(Fi(l,""),s.flags&=-33);var c=If(e);Qu(e,c,l);break;case 3:case 4:var o=s.stateNode.containerInfo,u=If(e);hm(e,u,o);break;default:throw Error(Y(161))}}catch(d){Ae(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function LN(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;LN(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)TN(e,t.alternate,t),t=t.sibling}function nr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vn(4,t,t.return),nr(t);break;case 1:Ws(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&CN(t,t.return,s),nr(t);break;case 27:dc(t.stateNode);case 26:case 5:Ws(t,t.return),nr(t);break;case 22:t.memoizedState===null&&nr(t);break;case 30:nr(t);break;default:nr(t)}e=e.sibling}}function ya(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,r=e,i=t,l=i.flags;switch(i.tag){case 0:case 11:case 15:ya(r,i,s),co(4,i);break;case 1:if(ya(r,i,s),n=i,r=n.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){Ae(n,n.return,u)}if(n=i,r=n.updateQueue,r!==null){var c=n.stateNode;try{var o=r.shared.hiddenCallbacks;if(o!==null)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)R1(o[r],c)}catch(u){Ae(n,n.return,u)}}s&&l&64&&SN(i),lc(i,i.return);break;case 27:AN(i);case 26:case 5:ya(r,i,s),s&&n===null&&l&4&&kN(i),lc(i,i.return);break;case 12:ya(r,i,s);break;case 31:ya(r,i,s),s&&l&4&&RN(r,i);break;case 13:ya(r,i,s),s&&l&4&&ON(r,i);break;case 22:i.memoizedState===null&&ya(r,i,s),lc(i,i.return);break;case 30:break;default:ya(r,i,s)}t=t.sibling}}function v0(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&io(s))}function j0(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&io(e))}function Ds(e,t,s,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)PN(e,t,s,n),t=t.sibling}function PN(e,t,s,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Ds(e,t,s,n),r&2048&&co(9,t);break;case 1:Ds(e,t,s,n);break;case 3:Ds(e,t,s,n),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&io(e)));break;case 12:if(r&2048){Ds(e,t,s,n),e=t.stateNode;try{var i=t.memoizedProps,l=i.id,c=i.onPostCommit;typeof c=="function"&&c(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Ae(t,t.return,o)}}else Ds(e,t,s,n);break;case 31:Ds(e,t,s,n);break;case 13:Ds(e,t,s,n);break;case 23:break;case 22:i=t.stateNode,l=t.alternate,t.memoizedState!==null?i._visibility&2?Ds(e,t,s,n):cc(e,t):i._visibility&2?Ds(e,t,s,n):(i._visibility|=2,ei(e,t,s,n,(t.subtreeFlags&10256)!==0||!1)),r&2048&&v0(l,t);break;case 24:Ds(e,t,s,n),r&2048&&j0(t.alternate,t);break;default:Ds(e,t,s,n)}}function ei(e,t,s,n,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,l=t,c=s,o=n,u=l.flags;switch(l.tag){case 0:case 11:case 15:ei(i,l,c,o,r),co(8,l);break;case 23:break;case 22:var d=l.stateNode;l.memoizedState!==null?d._visibility&2?ei(i,l,c,o,r):cc(i,l):(d._visibility|=2,ei(i,l,c,o,r)),r&&u&2048&&v0(l.alternate,l);break;case 24:ei(i,l,c,o,r),r&&u&2048&&j0(l.alternate,l);break;default:ei(i,l,c,o,r)}t=t.sibling}}function cc(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,n=t,r=n.flags;switch(n.tag){case 22:cc(s,n),r&2048&&v0(n.alternate,n);break;case 24:cc(s,n),r&2048&&j0(n.alternate,n);break;default:cc(s,n)}t=t.sibling}}var Yl=8192;function Qr(e,t,s){if(e.subtreeFlags&Yl)for(e=e.child;e!==null;)BN(e,t,s),e=e.sibling}function BN(e,t,s){switch(e.tag){case 26:Qr(e,t,s),e.flags&Yl&&e.memoizedState!==null&&U3(s,Ps,e.memoizedState,e.memoizedProps);break;case 5:Qr(e,t,s);break;case 3:case 4:var n=Ps;Ps=ad(e.stateNode.containerInfo),Qr(e,t,s),Ps=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Yl,Yl=16777216,Qr(e,t,s),Yl=n):Qr(e,t,s));break;default:Qr(e,t,s)}}function zN(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Rl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var s=0;s<t.length;s++){var n=t[s];ft=n,UN(n,e)}zN(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)VN(e),e=e.sibling}function VN(e){switch(e.tag){case 0:case 11:case 15:Rl(e),e.flags&2048&&Vn(9,e,e.return);break;case 3:Rl(e);break;case 12:Rl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,hu(e)):Rl(e);break;default:Rl(e)}}function hu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var s=0;s<t.length;s++){var n=t[s];ft=n,UN(n,e)}zN(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Vn(8,t,t.return),hu(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,hu(t));break;default:hu(t)}e=e.sibling}}function UN(e,t){for(;ft!==null;){var s=ft;switch(s.tag){case 0:case 11:case 15:Vn(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var n=s.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:io(s.memoizedState.cache)}if(n=s.child,n!==null)n.return=s,ft=n;else e:for(s=e;ft!==null;){n=ft;var r=n.sibling,i=n.return;if(MN(n),n===s){ft=null;break e}if(r!==null){r.return=i,ft=r;break e}ft=i}}}var t3={getCacheForType:function(e){var t=jt(et),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return jt(et).controller.signal}},s3=typeof WeakMap=="function"?WeakMap:Map,Ne=0,De=null,pe=null,ye=0,Ee=0,Zt=null,yn=!1,ul=!1,N0=!1,$a=0,Ie=0,Un=0,Sr=0,w0=0,ss=0,Gi=0,oc=null,Ft=null,mm=!1,Yd=0,$N=0,Xu=1/0,Wu=null,An=null,lt=0,Tn=null,Ki=null,Ra=0,pm=0,xm=null,qN=null,uc=0,gm=null;function ls(){return Ne&2&&ye!==0?ye&-ye:ee.T!==null?C0():Wj()}function FN(){if(ss===0)if(!(ye&536870912)||ve){var e=Ao;Ao<<=1,!(Ao&3932160)&&(Ao=262144),ss=e}else ss=536870912;return e=os.current,e!==null&&(e.flags|=32),ss}function Ht(e,t,s){(e===De&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Qi(e,0),bn(e,ye,ss,!1)),ao(e,s),(!(Ne&2)||e!==De)&&(e===De&&(!(Ne&2)&&(Sr|=s),Ie===4&&bn(e,ye,ss,!1)),oa(e))}function HN(e,t,s){if(Ne&6)throw Error(Y(327));var n=!s&&(t&127)===0&&(t&e.expiredLanes)===0||so(e,t),r=n?r3(e,t):Gf(e,t,!0),i=n;do{if(r===0){ul&&!n&&bn(e,t,0,!1);break}else{if(s=e.current.alternate,i&&!a3(s)){r=Gf(e,t,!1),i=!1;continue}if(r===2){if(i=t,e.errorRecoveryDisabledLanes&i)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var c=e;r=oc;var o=c.current.memoizedState.isDehydrated;if(o&&(Qi(c,l).flags|=256),l=Gf(c,l,!1),l!==2){if(N0&&!o){c.errorRecoveryDisabledLanes|=i,Sr|=i,r=4;break e}i=Ft,Ft=r,i!==null&&(Ft===null?Ft=i:Ft.push.apply(Ft,i))}r=l}if(i=!1,r!==2)continue}}if(r===1){Qi(e,0),bn(e,t,0,!0);break}e:{switch(n=e,i=r,i){case 0:case 1:throw Error(Y(345));case 4:if((t&4194048)!==t)break;case 6:bn(n,t,ss,!yn);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(Y(329))}if((t&62914560)===t&&(r=Yd+300-ns(),10<r)){if(bn(n,t,ss,!yn),Ld(n,0,!0)!==0)break e;Ra=t,n.timeoutHandle=u2(ry.bind(null,n,s,Ft,Wu,mm,t,ss,Sr,Gi,yn,i,"Throttled",-0,0),r);break e}ry(n,s,Ft,Wu,mm,t,ss,Sr,Gi,yn,i,null,-0,0)}}break}while(!0);oa(e)}function ry(e,t,s,n,r,i,l,c,o,u,d,f,h,p){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Aa},BN(t,i,f);var m=(i&62914560)===i?Yd-ns():(i&4194048)===i?$N-ns():0;if(m=$3(f,m),m!==null){Ra=i,e.cancelPendingCommit=m(ly.bind(null,e,t,i,s,n,r,l,c,o,d,f,null,h,p)),bn(e,i,l,!u);return}}ly(e,t,i,s,n,r,l,c,o)}function a3(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var n=0;n<s.length;n++){var r=s[n],i=r.getSnapshot;r=r.value;try{if(!cs(i(),r))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t,s,n){t&=~w0,t&=~Sr,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var i=31-is(r),l=1<<i;n[i]=-1,r&=~l}s!==0&&Kj(e,s,t)}function Gd(){return Ne&6?!0:(oo(0),!1)}function S0(){if(pe!==null){if(Ee===0)var e=pe.return;else e=pe,Ta=Yr=null,o0(e),wi=null,Cc=0,e=pe;for(;e!==null;)wN(e.alternate,e),e=e.return;pe=null}}function Qi(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,w3(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ra=0,S0(),De=e,pe=s=Ma(e.current,null),ye=t,Ee=0,Zt=null,yn=!1,ul=so(e,t),N0=!1,Gi=ss=w0=Sr=Un=Ie=0,Ft=oc=null,mm=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var r=31-is(n),i=1<<r;t|=e[r],n&=~i}return $a=t,Vd(),s}function IN(e,t){ce=null,ee.H=Ec,t===ol||t===$d?(t=Bg(),Ee=3):t===s0?(t=Bg(),Ee=4):Ee=t===y0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Zt=t,pe===null&&(Ie=1,Gu(e,vs(t,e.current)))}function YN(){var e=os.current;return e===null?!0:(ye&4194048)===ye?Ss===null:(ye&62914560)===ye||ye&536870912?e===Ss:!1}function GN(){var e=ee.H;return ee.H=Ec,e===null?Ec:e}function KN(){var e=ee.A;return ee.A=t3,e}function Zu(){Ie=4,yn||(ye&4194048)!==ye&&os.current!==null||(ul=!0),!(Un&134217727)&&!(Sr&134217727)||De===null||bn(De,ye,ss,!1)}function Gf(e,t,s){var n=Ne;Ne|=2;var r=GN(),i=KN();(De!==e||ye!==t)&&(Wu=null,Qi(e,t)),t=!1;var l=Ie;e:do try{if(Ee!==0&&pe!==null){var c=pe,o=Zt;switch(Ee){case 8:S0(),l=6;break e;case 3:case 2:case 9:case 6:os.current===null&&(t=!0);var u=Ee;if(Ee=0,Zt=null,hi(e,c,o,u),s&&ul){l=0;break e}break;default:u=Ee,Ee=0,Zt=null,hi(e,c,o,u)}}n3(),l=Ie;break}catch(d){IN(e,d)}while(!0);return t&&e.shellSuspendCounter++,Ta=Yr=null,Ne=n,ee.H=r,ee.A=i,pe===null&&(De=null,ye=0,Vd()),l}function n3(){for(;pe!==null;)QN(pe)}function r3(e,t){var s=Ne;Ne|=2;var n=GN(),r=KN();De!==e||ye!==t?(Wu=null,Xu=ns()+500,Qi(e,t)):ul=so(e,t);e:do try{if(Ee!==0&&pe!==null){t=pe;var i=Zt;t:switch(Ee){case 1:Ee=0,Zt=null,hi(e,t,i,1);break;case 2:case 9:if(Pg(i)){Ee=0,Zt=null,iy(t);break}t=function(){Ee!==2&&Ee!==9||De!==e||(Ee=7),oa(e)},i.then(t,t);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:Pg(i)?(Ee=0,Zt=null,iy(t)):(Ee=0,Zt=null,hi(e,t,i,7));break;case 5:var l=null;switch(pe.tag){case 26:l=pe.memoizedState;case 5:case 27:var c=pe;if(l?p2(l):c.stateNode.complete){Ee=0,Zt=null;var o=c.sibling;if(o!==null)pe=o;else{var u=c.return;u!==null?(pe=u,Kd(u)):pe=null}break t}}Ee=0,Zt=null,hi(e,t,i,5);break;case 6:Ee=0,Zt=null,hi(e,t,i,6);break;case 8:S0(),Ie=6;break e;default:throw Error(Y(462))}}i3();break}catch(d){IN(e,d)}while(!0);return Ta=Yr=null,ee.H=n,ee.A=r,Ne=s,pe!==null?0:(De=null,ye=0,Vd(),Ie)}function i3(){for(;pe!==null&&!TS();)QN(pe)}function QN(e){var t=NN(e.alternate,e,$a);e.memoizedProps=e.pendingProps,t===null?Kd(e):pe=t}function iy(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Jg(s,t,t.pendingProps,t.type,void 0,ye);break;case 11:t=Jg(s,t,t.pendingProps,t.type.render,t.ref,ye);break;case 5:o0(t);default:wN(s,t),t=pe=w1(t,$a),t=NN(s,t,$a)}e.memoizedProps=e.pendingProps,t===null?Kd(e):pe=t}function hi(e,t,s,n){Ta=Yr=null,o0(t),wi=null,Cc=0;var r=t.return;try{if(KC(e,r,t,s,ye)){Ie=1,Gu(e,vs(s,e.current)),pe=null;return}}catch(i){if(r!==null)throw pe=r,i;Ie=1,Gu(e,vs(s,e.current)),pe=null;return}t.flags&32768?(ve||n===1?e=!0:ul||ye&536870912?e=!1:(yn=e=!0,(n===2||n===9||n===3||n===6)&&(n=os.current,n!==null&&n.tag===13&&(n.flags|=16384))),XN(t,e)):Kd(t)}function Kd(e){var t=e;do{if(t.flags&32768){XN(t,yn);return}e=t.return;var s=WC(t.alternate,t,$a);if(s!==null){pe=s;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);Ie===0&&(Ie=5)}function XN(e,t){do{var s=ZC(e.alternate,e);if(s!==null){s.flags&=32767,pe=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){pe=e;return}pe=e=s}while(e!==null);Ie=6,pe=null}function ly(e,t,s,n,r,i,l,c,o){e.cancelPendingCommit=null;do Qd();while(lt!==0);if(Ne&6)throw Error(Y(327));if(t!==null){if(t===e.current)throw Error(Y(177));if(i=t.lanes|t.childLanes,i|=Qp,VS(e,s,i,l,c,o),e===De&&(pe=De=null,ye=0),Ki=t,Tn=e,Ra=s,pm=i,xm=r,qN=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,u3(Pu,function(){return t2(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=ee.T,ee.T=null,r=we.p,we.p=2,l=Ne,Ne|=4;try{JC(e,t,s)}finally{Ne=l,we.p=r,ee.T=n}}lt=1,WN(),ZN(),JN()}}function WN(){if(lt===1){lt=0;var e=Tn,t=Ki,s=(t.flags&13878)!==0;if(t.subtreeFlags&13878||s){s=ee.T,ee.T=null;var n=we.p;we.p=2;var r=Ne;Ne|=4;try{_N(t,e);var i=jm,l=p1(e.containerInfo),c=i.focusedElem,o=i.selectionRange;if(l!==c&&c&&c.ownerDocument&&m1(c.ownerDocument.documentElement,c)){if(o!==null&&Kp(c)){var u=o.start,d=o.end;if(d===void 0&&(d=u),"selectionStart"in c)c.selectionStart=u,c.selectionEnd=Math.min(d,c.value.length);else{var f=c.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var p=h.getSelection(),m=c.textContent.length,v=Math.min(o.start,m),j=o.end===void 0?v:Math.min(o.end,m);!p.extend&&v>j&&(l=j,j=v,v=l);var x=Tg(c,v),g=Tg(c,j);if(x&&g&&(p.rangeCount!==1||p.anchorNode!==x.node||p.anchorOffset!==x.offset||p.focusNode!==g.node||p.focusOffset!==g.offset)){var y=f.createRange();y.setStart(x.node,x.offset),p.removeAllRanges(),v>j?(p.addRange(y),p.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),p.addRange(y))}}}}for(f=[],p=c;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<f.length;c++){var N=f[c];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}id=!!vm,jm=vm=null}finally{Ne=r,we.p=n,ee.T=s}}e.current=t,lt=2}}function ZN(){if(lt===2){lt=0;var e=Tn,t=Ki,s=(t.flags&8772)!==0;if(t.subtreeFlags&8772||s){s=ee.T,ee.T=null;var n=we.p;we.p=2;var r=Ne;Ne|=4;try{TN(e,t.alternate,t)}finally{Ne=r,we.p=n,ee.T=s}}lt=3}}function JN(){if(lt===4||lt===3){lt=0,MS();var e=Tn,t=Ki,s=Ra,n=qN;t.subtreeFlags&10256||t.flags&10256?lt=5:(lt=0,Ki=Tn=null,e2(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(An=null),$p(s),t=t.stateNode,rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(to,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=ee.T,r=we.p,we.p=2,ee.T=null;try{for(var i=e.onRecoverableError,l=0;l<n.length;l++){var c=n[l];i(c.value,{componentStack:c.stack})}}finally{ee.T=t,we.p=r}}Ra&3&&Qd(),oa(e),r=e.pendingLanes,s&261930&&r&42?e===gm?uc++:(uc=0,gm=e):uc=0,oo(0)}}function e2(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,io(t)))}function Qd(){return WN(),ZN(),JN(),t2()}function t2(){if(lt!==5)return!1;var e=Tn,t=pm;pm=0;var s=$p(Ra),n=ee.T,r=we.p;try{we.p=32>s?32:s,ee.T=null,s=xm,xm=null;var i=Tn,l=Ra;if(lt=0,Ki=Tn=null,Ra=0,Ne&6)throw Error(Y(331));var c=Ne;if(Ne|=4,VN(i.current),PN(i,i.current,l,s),Ne=c,oo(0,!1),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(to,i)}catch{}return!0}finally{we.p=r,ee.T=n,e2(e,t)}}function cy(e,t,s){t=vs(s,t),t=um(e.stateNode,t,2),e=En(e,t,2),e!==null&&(ao(e,2),oa(e))}function Ae(e,t,s){if(e.tag===3)cy(e,e,s);else for(;t!==null;){if(t.tag===3){cy(t,e,s);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(An===null||!An.has(n))){e=vs(s,e),s=xN(2),n=En(t,s,2),n!==null&&(gN(s,n,t,e),ao(n,2),oa(n));break}}t=t.return}}function Kf(e,t,s){var n=e.pingCache;if(n===null){n=e.pingCache=new s3;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(s)||(N0=!0,r.add(s),e=l3.bind(null,e,t,s),t.then(e,e))}function l3(e,t,s){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,De===e&&(ye&s)===s&&(Ie===4||Ie===3&&(ye&62914560)===ye&&300>ns()-Yd?!(Ne&2)&&Qi(e,0):w0|=s,Gi===ye&&(Gi=0)),oa(e)}function s2(e,t){t===0&&(t=Gj()),e=Ir(e,t),e!==null&&(ao(e,t),oa(e))}function c3(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),s2(e,s)}function o3(e,t){var s=0;switch(e.tag){case 31:case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(s=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(Y(314))}n!==null&&n.delete(t),s2(e,s)}function u3(e,t){return Vp(e,t)}var Ju=null,ti=null,ym=!1,ed=!1,Qf=!1,vn=0;function oa(e){e!==ti&&e.next===null&&(ti===null?Ju=ti=e:ti=ti.next=e),ed=!0,ym||(ym=!0,f3())}function oo(e,t){if(!Qf&&ed){Qf=!0;do for(var s=!1,n=Ju;n!==null;){if(e!==0){var r=n.pendingLanes;if(r===0)var i=0;else{var l=n.suspendedLanes,c=n.pingedLanes;i=(1<<31-is(42|e)+1)-1,i&=r&~(l&~c),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(s=!0,oy(n,i))}else i=ye,i=Ld(n,n===De?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||so(n,i)||(s=!0,oy(n,i));n=n.next}while(s);Qf=!1}}function d3(){a2()}function a2(){ed=ym=!1;var e=0;vn!==0&&N3()&&(e=vn);for(var t=ns(),s=null,n=Ju;n!==null;){var r=n.next,i=n2(n,t);i===0?(n.next=null,s===null?Ju=r:s.next=r,r===null&&(ti=s)):(s=n,(e!==0||i&3)&&(ed=!0)),n=r}lt!==0&&lt!==5||oo(e),vn!==0&&(vn=0)}function n2(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var l=31-is(i),c=1<<l,o=r[l];o===-1?(!(c&s)||c&n)&&(r[l]=zS(c,t)):o<=t&&(e.expiredLanes|=c),i&=~c}if(t=De,s=ye,s=Ld(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,s===0||e===t&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&wf(n),e.callbackNode=null,e.callbackPriority=0;if(!(s&3)||so(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(n!==null&&wf(n),$p(s)){case 2:case 8:s=Ij;break;case 32:s=Pu;break;case 268435456:s=Yj;break;default:s=Pu}return n=r2.bind(null,e),s=Vp(s,n),e.callbackPriority=t,e.callbackNode=s,t}return n!==null&&n!==null&&wf(n),e.callbackPriority=2,e.callbackNode=null,2}function r2(e,t){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Qd()&&e.callbackNode!==s)return null;var n=ye;return n=Ld(e,e===De?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(HN(e,n,t),n2(e,ns()),e.callbackNode!=null&&e.callbackNode===s?r2.bind(null,e):null)}function oy(e,t){if(Qd())return null;HN(e,t,!0)}function f3(){S3(function(){Ne&6?Vp(Hj,d3):a2()})}function C0(){if(vn===0){var e=Hi;e===0&&(e=Eo,Eo<<=1,!(Eo&261888)&&(Eo=256)),vn=e}return vn}function uy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:nu(""+e)}function dy(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function h3(e,t,s,n,r){if(t==="submit"&&s&&s.stateNode===r){var i=uy((r[Gt]||null).action),l=n.submitter;l&&(t=(t=l[Gt]||null)?uy(t.formAction):l.getAttribute("formAction"),t!==null&&(i=t,l=null));var c=new Pd("action","action",null,n,r);e.push({event:c,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(vn!==0){var o=l?dy(r,l):new FormData(r);cm(s,{pending:!0,data:o,method:r.method,action:i},null,o)}}else typeof i=="function"&&(c.preventDefault(),o=l?dy(r,l):new FormData(r),cm(s,{pending:!0,data:o,method:r.method,action:i},i,o))},currentTarget:r}]})}}for(var Xf=0;Xf<Xh.length;Xf++){var Wf=Xh[Xf],m3=Wf.toLowerCase(),p3=Wf[0].toUpperCase()+Wf.slice(1);Us(m3,"on"+p3)}Us(g1,"onAnimationEnd");Us(y1,"onAnimationIteration");Us(b1,"onAnimationStart");Us("dblclick","onDoubleClick");Us("focusin","onFocus");Us("focusout","onBlur");Us(DC,"onTransitionRun");Us(RC,"onTransitionStart");Us(OC,"onTransitionCancel");Us(v1,"onTransitionEnd");qi("onMouseEnter",["mouseout","mouseover"]);qi("onMouseLeave",["mouseout","mouseover"]);qi("onPointerEnter",["pointerout","pointerover"]);qi("onPointerLeave",["pointerout","pointerover"]);qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ac));function i2(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var n=e[s],r=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var c=n[l],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==i&&r.isPropagationStopped())break e;i=c,r.currentTarget=u;try{i(r)}catch(d){zu(d)}r.currentTarget=null,i=o}else for(l=0;l<n.length;l++){if(c=n[l],o=c.instance,u=c.currentTarget,c=c.listener,o!==i&&r.isPropagationStopped())break e;i=c,r.currentTarget=u;try{i(r)}catch(d){zu(d)}r.currentTarget=null,i=o}}}}function he(e,t){var s=t[qh];s===void 0&&(s=t[qh]=new Set);var n=e+"__bubble";s.has(n)||(l2(t,e,2,!1),s.add(n))}function Zf(e,t,s){var n=0;t&&(n|=4),l2(s,e,n,t)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function k0(e){if(!e[Bo]){e[Bo]=!0,Zj.forEach(function(s){s!=="selectionchange"&&(x3.has(s)||Zf(s,!1,e),Zf(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bo]||(t[Bo]=!0,Zf("selectionchange",!1,t))}}function l2(e,t,s,n){switch(v2(t)){case 2:var r=H3;break;case 8:r=I3;break;default:r=M0}s=r.bind(null,t,s,e),r=void 0,!Gh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(t,s,{capture:!0,passive:r}):e.addEventListener(t,s,!0):r!==void 0?e.addEventListener(t,s,{passive:r}):e.addEventListener(t,s,!1)}function Jf(e,t,s,n,r){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var c=n.stateNode.containerInfo;if(c===r)break;if(l===4)for(l=n.return;l!==null;){var o=l.tag;if((o===3||o===4)&&l.stateNode.containerInfo===r)return;l=l.return}for(;c!==null;){if(l=ni(c),l===null)return;if(o=l.tag,o===5||o===6||o===26||o===27){n=i=l;continue e}c=c.parentNode}}n=n.return}i1(function(){var u=i,d=Hp(s),f=[];e:{var h=j1.get(e);if(h!==void 0){var p=Pd,m=e;switch(e){case"keypress":if(iu(s)===0)break e;case"keydown":case"keyup":p=oC;break;case"focusin":m="focus",p=Af;break;case"focusout":m="blur",p=Af;break;case"beforeblur":case"afterblur":p=Af;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=bg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=WS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=fC;break;case g1:case y1:case b1:p=eC;break;case v1:p=mC;break;case"scroll":case"scrollend":p=QS;break;case"wheel":p=xC;break;case"copy":case"cut":case"paste":p=sC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=jg;break;case"toggle":case"beforetoggle":p=yC}var v=(t&4)!==0,j=!v&&(e==="scroll"||e==="scrollend"),x=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,y;g!==null;){var N=g;if(y=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||y===null||x===null||(N=vc(g,x),N!=null&&v.push(Tc(g,N,y))),j)break;g=g.return}0<v.length&&(h=new p(h,m,null,s,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&s!==Yh&&(m=s.relatedTarget||s.fromElement)&&(ni(m)||m[il]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=s.relatedTarget||s.toElement,p=u,m=m?ni(m):null,m!==null&&(j=eo(m),v=m.tag,m!==j||v!==5&&v!==27&&v!==6)&&(m=null)):(p=null,m=u),p!==m)){if(v=bg,N="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=jg,N="onPointerLeave",x="onPointerEnter",g="pointer"),j=p==null?h:Hl(p),y=m==null?h:Hl(m),h=new v(N,g+"leave",p,s,d),h.target=j,h.relatedTarget=y,N=null,ni(d)===u&&(v=new v(x,g+"enter",m,s,d),v.target=y,v.relatedTarget=j,N=v),j=N,p&&m)t:{for(v=g3,x=p,g=m,y=0,N=x;N;N=v(N))y++;N=0;for(var k=g;k;k=v(k))N++;for(;0<y-N;)x=v(x),y--;for(;0<N-y;)g=v(g),N--;for(;y--;){if(x===g||g!==null&&x===g.alternate){v=x;break t}x=v(x),g=v(g)}v=null}else v=null;p!==null&&fy(f,h,p,v,!1),m!==null&&j!==null&&fy(f,j,m,v,!0)}}e:{if(h=u?Hl(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var D=Cg;else if(Sg(h))if(f1)D=AC;else{D=kC;var w=CC}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&Fp(u.elementType)&&(D=Cg):D=EC;if(D&&(D=D(e,u))){d1(f,D,s,d);break e}w&&w(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&Ih(h,"number",h.value)}switch(w=u?Hl(u):window,e){case"focusin":(Sg(w)||w.contentEditable==="true")&&(li=w,Kh=u,tc=null);break;case"focusout":tc=Kh=li=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Mg(f,s,d);break;case"selectionchange":if(MC)break;case"keydown":case"keyup":Mg(f,s,d)}var T;if(Gp)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else ii?o1(e,s)&&(O="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(O="onCompositionStart");O&&(c1&&s.locale!=="ko"&&(ii||O!=="onCompositionStart"?O==="onCompositionEnd"&&ii&&(T=l1()):(gn=d,Ip="value"in gn?gn.value:gn.textContent,ii=!0)),w=td(u,O),0<w.length&&(O=new vg(O,e,null,s,d),f.push({event:O,listeners:w}),T?O.data=T:(T=u1(s),T!==null&&(O.data=T)))),(T=vC?jC(e,s):NC(e,s))&&(O=td(u,"onBeforeInput"),0<O.length&&(w=new vg("onBeforeInput","beforeinput",null,s,d),f.push({event:w,listeners:O}),w.data=T)),h3(f,e,u,s,d)}i2(f,t)})}function Tc(e,t,s){return{instance:e,listener:t,currentTarget:s}}function td(e,t){for(var s=t+"Capture",n=[];e!==null;){var r=e,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=vc(e,s),r!=null&&n.unshift(Tc(e,r,i)),r=vc(e,t),r!=null&&n.push(Tc(e,r,i))),e.tag===3)return n;e=e.return}return[]}function g3(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fy(e,t,s,n,r){for(var i=t._reactName,l=[];s!==null&&s!==n;){var c=s,o=c.alternate,u=c.stateNode;if(c=c.tag,o!==null&&o===n)break;c!==5&&c!==26&&c!==27||u===null||(o=u,r?(u=vc(s,i),u!=null&&l.unshift(Tc(s,u,o))):r||(u=vc(s,i),u!=null&&l.push(Tc(s,u,o)))),s=s.return}l.length!==0&&e.push({event:t,listeners:l})}var y3=/\r\n?/g,b3=/\u0000|\uFFFD/g;function hy(e){return(typeof e=="string"?e:""+e).replace(y3,`
`).replace(b3,"")}function c2(e,t){return t=hy(t),hy(e)===t}function Te(e,t,s,n,r,i){switch(s){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Fi(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Fi(e,""+n);break;case"className":Mo(e,"class",n);break;case"tabIndex":Mo(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Mo(e,s,n);break;case"style":r1(e,n,i);break;case"data":if(t!=="object"){Mo(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(s);break}n=nu(""+n),e.setAttribute(s,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(s==="formAction"?(t!=="input"&&Te(e,t,"name",r.name,r,null),Te(e,t,"formEncType",r.formEncType,r,null),Te(e,t,"formMethod",r.formMethod,r,null),Te(e,t,"formTarget",r.formTarget,r,null)):(Te(e,t,"encType",r.encType,r,null),Te(e,t,"method",r.method,r,null),Te(e,t,"target",r.target,r,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(s);break}n=nu(""+n),e.setAttribute(s,n);break;case"onClick":n!=null&&(e.onclick=Aa);break;case"onScroll":n!=null&&he("scroll",e);break;case"onScrollEnd":n!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(Y(61));if(s=n.__html,s!=null){if(r.children!=null)throw Error(Y(60));e.innerHTML=s}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}s=nu(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(s,""+n):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":n===!0?e.setAttribute(s,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(s,n):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(s,n):e.removeAttribute(s);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(s):e.setAttribute(s,n);break;case"popover":he("beforetoggle",e),he("toggle",e),au(e,"popover",n);break;case"xlinkActuate":ha(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ha(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ha(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ha(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ha(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ha(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ha(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ha(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ha(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":au(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=GS.get(s)||s,au(e,s,n))}}function bm(e,t,s,n,r,i){switch(s){case"style":r1(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(Y(61));if(s=n.__html,s!=null){if(r.children!=null)throw Error(Y(60));e.innerHTML=s}}break;case"children":typeof n=="string"?Fi(e,n):(typeof n=="number"||typeof n=="bigint")&&Fi(e,""+n);break;case"onScroll":n!=null&&he("scroll",e);break;case"onScrollEnd":n!=null&&he("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Aa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jj.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(r=s.endsWith("Capture"),t=s.slice(2,r?s.length-7:void 0),i=e[Gt]||null,i=i!=null?i[s]:null,typeof i=="function"&&e.removeEventListener(t,i,r),typeof n=="function")){typeof i!="function"&&i!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,n,r);break e}s in e?e[s]=n:n===!0?e.setAttribute(s,""):au(e,s,n)}}}function Nt(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var n=!1,r=!1,i;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];if(l!=null)switch(i){case"src":n=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,t));default:Te(e,t,i,l,s,null)}}r&&Te(e,t,"srcSet",s.srcSet,s,null),n&&Te(e,t,"src",s.src,s,null);return;case"input":he("invalid",e);var c=i=l=r=null,o=null,u=null;for(n in s)if(s.hasOwnProperty(n)){var d=s[n];if(d!=null)switch(n){case"name":r=d;break;case"type":l=d;break;case"checked":o=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":c=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Y(137,t));break;default:Te(e,t,n,d,s,null)}}s1(e,i,c,o,u,l,r,!1);return;case"select":he("invalid",e),n=l=i=null;for(r in s)if(s.hasOwnProperty(r)&&(c=s[r],c!=null))switch(r){case"value":i=c;break;case"defaultValue":l=c;break;case"multiple":n=c;default:Te(e,t,r,c,s,null)}t=i,s=l,e.multiple=!!n,t!=null?vi(e,!!n,t,!1):s!=null&&vi(e,!!n,s,!0);return;case"textarea":he("invalid",e),i=r=n=null;for(l in s)if(s.hasOwnProperty(l)&&(c=s[l],c!=null))switch(l){case"value":n=c;break;case"defaultValue":r=c;break;case"children":i=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(Y(91));break;default:Te(e,t,l,c,s,null)}n1(e,n,r,i);return;case"option":for(o in s)if(s.hasOwnProperty(o)&&(n=s[o],n!=null))switch(o){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Te(e,t,o,n,s,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(n=0;n<Ac.length;n++)he(Ac[n],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in s)if(s.hasOwnProperty(u)&&(n=s[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,t));default:Te(e,t,u,n,s,null)}return;default:if(Fp(t)){for(d in s)s.hasOwnProperty(d)&&(n=s[d],n!==void 0&&bm(e,t,d,n,s,void 0));return}}for(c in s)s.hasOwnProperty(c)&&(n=s[c],n!=null&&Te(e,t,c,n,s,null))}function v3(e,t,s,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,l=null,c=null,o=null,u=null,d=null;for(p in s){var f=s[p];if(s.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":o=f;default:n.hasOwnProperty(p)||Te(e,t,p,null,n,f)}}for(var h in n){var p=n[h];if(f=s[h],n.hasOwnProperty(h)&&(p!=null||f!=null))switch(h){case"type":i=p;break;case"name":r=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":l=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(Y(137,t));break;default:p!==f&&Te(e,t,h,p,n,f)}}Hh(e,l,c,o,u,d,i,r);return;case"select":p=l=c=h=null;for(i in s)if(o=s[i],s.hasOwnProperty(i)&&o!=null)switch(i){case"value":break;case"multiple":p=o;default:n.hasOwnProperty(i)||Te(e,t,i,null,n,o)}for(r in n)if(i=n[r],o=s[r],n.hasOwnProperty(r)&&(i!=null||o!=null))switch(r){case"value":h=i;break;case"defaultValue":c=i;break;case"multiple":l=i;default:i!==o&&Te(e,t,r,i,n,o)}t=c,s=l,n=p,h!=null?vi(e,!!s,h,!1):!!n!=!!s&&(t!=null?vi(e,!!s,t,!0):vi(e,!!s,s?[]:"",!1));return;case"textarea":p=h=null;for(c in s)if(r=s[c],s.hasOwnProperty(c)&&r!=null&&!n.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:Te(e,t,c,null,n,r)}for(l in n)if(r=n[l],i=s[l],n.hasOwnProperty(l)&&(r!=null||i!=null))switch(l){case"value":h=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(Y(91));break;default:r!==i&&Te(e,t,l,r,n,i)}a1(e,h,p);return;case"option":for(var m in s)if(h=s[m],s.hasOwnProperty(m)&&h!=null&&!n.hasOwnProperty(m))switch(m){case"selected":e.selected=!1;break;default:Te(e,t,m,null,n,h)}for(o in n)if(h=n[o],p=s[o],n.hasOwnProperty(o)&&h!==p&&(h!=null||p!=null))switch(o){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Te(e,t,o,h,n,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in s)h=s[v],s.hasOwnProperty(v)&&h!=null&&!n.hasOwnProperty(v)&&Te(e,t,v,null,n,h);for(u in n)if(h=n[u],p=s[u],n.hasOwnProperty(u)&&h!==p&&(h!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(Y(137,t));break;default:Te(e,t,u,h,n,p)}return;default:if(Fp(t)){for(var j in s)h=s[j],s.hasOwnProperty(j)&&h!==void 0&&!n.hasOwnProperty(j)&&bm(e,t,j,void 0,n,h);for(d in n)h=n[d],p=s[d],!n.hasOwnProperty(d)||h===p||h===void 0&&p===void 0||bm(e,t,d,h,n,p);return}}for(var x in s)h=s[x],s.hasOwnProperty(x)&&h!=null&&!n.hasOwnProperty(x)&&Te(e,t,x,null,n,h);for(f in n)h=n[f],p=s[f],!n.hasOwnProperty(f)||h===p||h==null&&p==null||Te(e,t,f,h,n,p)}function my(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j3(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),n=0;n<s.length;n++){var r=s[n],i=r.transferSize,l=r.initiatorType,c=r.duration;if(i&&c&&my(l)){for(l=0,c=r.responseEnd,n+=1;n<s.length;n++){var o=s[n],u=o.startTime;if(u>c)break;var d=o.transferSize,f=o.initiatorType;d&&my(f)&&(o=o.responseEnd,l+=d*(o<c?1:(c-u)/(o-u)))}if(--n,t+=8*(i+l)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vm=null,jm=null;function sd(e){return e.nodeType===9?e:e.ownerDocument}function py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o2(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Nm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eh=null;function N3(){var e=window.event;return e&&e.type==="popstate"?e===eh?!1:(eh=e,!0):(eh=null,!1)}var u2=typeof setTimeout=="function"?setTimeout:void 0,w3=typeof clearTimeout=="function"?clearTimeout:void 0,xy=typeof Promise=="function"?Promise:void 0,S3=typeof queueMicrotask=="function"?queueMicrotask:typeof xy<"u"?function(e){return xy.resolve(null).then(e).catch(C3)}:u2;function C3(e){setTimeout(function(){throw e})}function Yn(e){return e==="head"}function gy(e,t){var s=t,n=0;do{var r=s.nextSibling;if(e.removeChild(s),r&&r.nodeType===8)if(s=r.data,s==="/$"||s==="/&"){if(n===0){e.removeChild(r),Wi(t);return}n--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")n++;else if(s==="html")dc(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,dc(s);for(var i=s.firstChild;i;){var l=i.nextSibling,c=i.nodeName;i[no]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&i.rel.toLowerCase()==="stylesheet"||s.removeChild(i),i=l}}else s==="body"&&dc(e.ownerDocument.body);s=r}while(s);Wi(t)}function yy(e,t){var s=e;e=0;do{var n=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),n&&n.nodeType===8)if(s=n.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=n}while(s)}function wm(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":wm(s),qp(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function k3(e,t,s,n){for(;e.nodeType===1;){var r=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[no])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Cs(e.nextSibling),e===null)break}return null}function E3(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Cs(e.nextSibling),e===null))return null;return e}function d2(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Cs(e.nextSibling),e===null))return null;return e}function Sm(e){return e.data==="$?"||e.data==="$~"}function Cm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function A3(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var n=function(){t(),s.removeEventListener("DOMContentLoaded",n)};s.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Cs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var km=null;function by(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return Cs(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function vy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function f2(e,t,s){switch(t=sd(s),e){case"html":if(e=t.documentElement,!e)throw Error(Y(452));return e;case"head":if(e=t.head,!e)throw Error(Y(453));return e;case"body":if(e=t.body,!e)throw Error(Y(454));return e;default:throw Error(Y(451))}}function dc(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qp(e)}var Es=new Map,jy=new Set;function ad(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ia=we.d;we.d={f:T3,r:M3,D:D3,C:R3,L:O3,m:_3,X:P3,S:L3,M:B3};function T3(){var e=Ia.f(),t=Gd();return e||t}function M3(e){var t=ll(e);t!==null&&t.tag===5&&t.type==="form"?rN(t):Ia.r(e)}var dl=typeof document>"u"?null:document;function h2(e,t,s){var n=dl;if(n&&typeof t=="string"&&t){var r=bs(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof s=="string"&&(r+='[crossorigin="'+s+'"]'),jy.has(r)||(jy.add(r),e={rel:e,crossOrigin:s,href:t},n.querySelector(r)===null&&(t=n.createElement("link"),Nt(t,"link",e),ht(t),n.head.appendChild(t)))}}function D3(e){Ia.D(e),h2("dns-prefetch",e,null)}function R3(e,t){Ia.C(e,t),h2("preconnect",e,t)}function O3(e,t,s){Ia.L(e,t,s);var n=dl;if(n&&e&&t){var r='link[rel="preload"][as="'+bs(t)+'"]';t==="image"&&s&&s.imageSrcSet?(r+='[imagesrcset="'+bs(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(r+='[imagesizes="'+bs(s.imageSizes)+'"]')):r+='[href="'+bs(e)+'"]';var i=r;switch(t){case"style":i=Xi(e);break;case"script":i=fl(e)}Es.has(i)||(e=ze({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),Es.set(i,e),n.querySelector(r)!==null||t==="style"&&n.querySelector(uo(i))||t==="script"&&n.querySelector(fo(i))||(t=n.createElement("link"),Nt(t,"link",e),ht(t),n.head.appendChild(t)))}}function _3(e,t){Ia.m(e,t);var s=dl;if(s&&e){var n=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+bs(n)+'"][href="'+bs(e)+'"]',i=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=fl(e)}if(!Es.has(i)&&(e=ze({rel:"modulepreload",href:e},t),Es.set(i,e),s.querySelector(r)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(fo(i)))return}n=s.createElement("link"),Nt(n,"link",e),ht(n),s.head.appendChild(n)}}}function L3(e,t,s){Ia.S(e,t,s);var n=dl;if(n&&e){var r=bi(n).hoistableStyles,i=Xi(e);t=t||"default";var l=r.get(i);if(!l){var c={loading:0,preload:null};if(l=n.querySelector(uo(i)))c.loading=5;else{e=ze({rel:"stylesheet",href:e,"data-precedence":t},s),(s=Es.get(i))&&E0(e,s);var o=l=n.createElement("link");ht(o),Nt(o,"link",e),o._p=new Promise(function(u,d){o.onload=u,o.onerror=d}),o.addEventListener("load",function(){c.loading|=1}),o.addEventListener("error",function(){c.loading|=2}),c.loading|=4,mu(l,t,n)}l={type:"stylesheet",instance:l,count:1,state:c},r.set(i,l)}}}function P3(e,t){Ia.X(e,t);var s=dl;if(s&&e){var n=bi(s).hoistableScripts,r=fl(e),i=n.get(r);i||(i=s.querySelector(fo(r)),i||(e=ze({src:e,async:!0},t),(t=Es.get(r))&&A0(e,t),i=s.createElement("script"),ht(i),Nt(i,"link",e),s.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(r,i))}}function B3(e,t){Ia.M(e,t);var s=dl;if(s&&e){var n=bi(s).hoistableScripts,r=fl(e),i=n.get(r);i||(i=s.querySelector(fo(r)),i||(e=ze({src:e,async:!0,type:"module"},t),(t=Es.get(r))&&A0(e,t),i=s.createElement("script"),ht(i),Nt(i,"link",e),s.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(r,i))}}function Ny(e,t,s,n){var r=(r=Sn.current)?ad(r):null;if(!r)throw Error(Y(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=Xi(s.href),s=bi(r).hoistableStyles,n=s.get(t),n||(n={type:"style",instance:null,count:0,state:null},s.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Xi(s.href);var i=bi(r).hoistableStyles,l=i.get(e);if(l||(r=r.ownerDocument||r,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,l),(i=r.querySelector(uo(e)))&&!i._p&&(l.instance=i,l.state.loading=5),Es.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Es.set(e,s),i||z3(r,e,s,l.state))),t&&n===null)throw Error(Y(528,""));return l}if(t&&n!==null)throw Error(Y(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fl(s),s=bi(r).hoistableScripts,n=s.get(t),n||(n={type:"script",instance:null,count:0,state:null},s.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(Y(444,e))}}function Xi(e){return'href="'+bs(e)+'"'}function uo(e){return'link[rel="stylesheet"]['+e+"]"}function m2(e){return ze({},e,{"data-precedence":e.precedence,precedence:null})}function z3(e,t,s,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Nt(t,"link",s),ht(t),e.head.appendChild(t))}function fl(e){return'[src="'+bs(e)+'"]'}function fo(e){return"script[async]"+e}function wy(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+bs(s.href)+'"]');if(n)return t.instance=n,ht(n),n;var r=ze({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),ht(n),Nt(n,"style",r),mu(n,s.precedence,e),t.instance=n;case"stylesheet":r=Xi(s.href);var i=e.querySelector(uo(r));if(i)return t.state.loading|=4,t.instance=i,ht(i),i;n=m2(s),(r=Es.get(r))&&E0(n,r),i=(e.ownerDocument||e).createElement("link"),ht(i);var l=i;return l._p=new Promise(function(c,o){l.onload=c,l.onerror=o}),Nt(i,"link",n),t.state.loading|=4,mu(i,s.precedence,e),t.instance=i;case"script":return i=fl(s.src),(r=e.querySelector(fo(i)))?(t.instance=r,ht(r),r):(n=s,(r=Es.get(i))&&(n=ze({},s),A0(n,r)),e=e.ownerDocument||e,r=e.createElement("script"),ht(r),Nt(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(Y(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,mu(n,s.precedence,e));return t.instance}function mu(e,t,s){for(var n=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,i=r,l=0;l<n.length;l++){var c=n[l];if(c.dataset.precedence===t)i=c;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function E0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function A0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var pu=null;function Sy(e,t,s){if(pu===null){var n=new Map,r=pu=new Map;r.set(s,n)}else r=pu,n=r.get(s),n||(n=new Map,r.set(s,n));if(n.has(e))return n;for(n.set(e,null),s=s.getElementsByTagName(e),r=0;r<s.length;r++){var i=s[r];if(!(i[no]||i[bt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var l=i.getAttribute(t)||"";l=e+l;var c=n.get(l);c?c.push(i):n.set(l,[i])}}return n}function Cy(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function V3(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function p2(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function U3(e,t,s,n){if(s.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var r=Xi(n.href),i=t.querySelector(uo(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=nd.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=i,ht(i);return}i=t.ownerDocument||t,n=m2(n),(r=Es.get(r))&&E0(n,r),i=i.createElement("link"),ht(i);var l=i;l._p=new Promise(function(c,o){l.onload=c,l.onerror=o}),Nt(i,"link",n),s.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&!(s.state.loading&3)&&(e.count++,s=nd.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var th=0;function $3(e,t){return e.stylesheets&&e.count===0&&xu(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var n=setTimeout(function(){if(e.stylesheets&&xu(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&th===0&&(th=62500*j3());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xu(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>th?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(r)}}:null}function nd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var rd=null;function xu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,rd=new Map,t.forEach(q3,e),rd=null,nd.call(e))}function q3(e,t){if(!(t.state.loading&4)){var s=rd.get(e);if(s)var n=s.get(null);else{s=new Map,rd.set(e,s);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var l=r[i];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(s.set(l.dataset.precedence,l),n=l)}n&&s.set(null,n)}r=t.instance,l=r.getAttribute("data-precedence"),i=s.get(l)||n,i===n&&s.set(null,r),s.set(l,r),this.count++,n=nd.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),i?i.parentNode.insertBefore(r,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Mc={$$typeof:Ea,Provider:null,Consumer:null,_currentValue:vr,_currentValue2:vr,_threadCount:0};function F3(e,t,s,n,r,i,l,c,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sf(0),this.hiddenUpdates=Sf(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function x2(e,t,s,n,r,i,l,c,o,u,d,f){return e=new F3(e,t,s,l,o,u,d,f,c),t=1,i===!0&&(t|=24),i=ts(3,null,null,t),e.current=i,i.stateNode=e,t=e0(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:s,cache:t},a0(i),e}function g2(e){return e?(e=ui,e):ui}function y2(e,t,s,n,r,i){r=g2(r),n.context===null?n.context=r:n.pendingContext=r,n=kn(t),n.payload={element:s},i=i===void 0?null:i,i!==null&&(n.callback=i),s=En(e,n,t),s!==null&&(Ht(s,e,t),ac(s,e,t))}function ky(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function T0(e,t){ky(e,t),(e=e.alternate)&&ky(e,t)}function b2(e){if(e.tag===13||e.tag===31){var t=Ir(e,67108864);t!==null&&Ht(t,e,67108864),T0(e,67108864)}}function Ey(e){if(e.tag===13||e.tag===31){var t=ls();t=Up(t);var s=Ir(e,t);s!==null&&Ht(s,e,t),T0(e,t)}}var id=!0;function H3(e,t,s,n){var r=ee.T;ee.T=null;var i=we.p;try{we.p=2,M0(e,t,s,n)}finally{we.p=i,ee.T=r}}function I3(e,t,s,n){var r=ee.T;ee.T=null;var i=we.p;try{we.p=8,M0(e,t,s,n)}finally{we.p=i,ee.T=r}}function M0(e,t,s,n){if(id){var r=Em(n);if(r===null)Jf(e,t,n,ld,s),Ay(e,n);else if(G3(r,e,t,s,n))n.stopPropagation();else if(Ay(e,n),t&4&&-1<Y3.indexOf(e)){for(;r!==null;){var i=ll(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var l=sr(i.pendingLanes);if(l!==0){var c=i;for(c.pendingLanes|=2,c.entangledLanes|=2;l;){var o=1<<31-is(l);c.entanglements[1]|=o,l&=~o}oa(i),!(Ne&6)&&(Xu=ns()+500,oo(0))}}break;case 31:case 13:c=Ir(i,2),c!==null&&Ht(c,i,2),Gd(),T0(i,2)}if(i=Em(n),i===null&&Jf(e,t,n,ld,s),i===r)break;r=i}r!==null&&n.stopPropagation()}else Jf(e,t,n,null,s)}}function Em(e){return e=Hp(e),D0(e)}var ld=null;function D0(e){if(ld=null,e=ni(e),e!==null){var t=eo(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=Vj(t),e!==null)return e;e=null}else if(s===31){if(e=Uj(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ld=e,null}function v2(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(DS()){case Hj:return 2;case Ij:return 8;case Pu:case RS:return 32;case Yj:return 268435456;default:return 32}default:return 32}}var Am=!1,Mn=null,Dn=null,Rn=null,Dc=new Map,Rc=new Map,nn=[],Y3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ay(e,t){switch(e){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":Dc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rc.delete(t.pointerId)}}function Ol(e,t,s,n,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:i,targetContainers:[r]},t!==null&&(t=ll(t),t!==null&&b2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function G3(e,t,s,n,r){switch(t){case"focusin":return Mn=Ol(Mn,e,t,s,n,r),!0;case"dragenter":return Dn=Ol(Dn,e,t,s,n,r),!0;case"mouseover":return Rn=Ol(Rn,e,t,s,n,r),!0;case"pointerover":var i=r.pointerId;return Dc.set(i,Ol(Dc.get(i)||null,e,t,s,n,r)),!0;case"gotpointercapture":return i=r.pointerId,Rc.set(i,Ol(Rc.get(i)||null,e,t,s,n,r)),!0}return!1}function j2(e){var t=ni(e.target);if(t!==null){var s=eo(t);if(s!==null){if(t=s.tag,t===13){if(t=Vj(s),t!==null){e.blockedOn=t,fg(e.priority,function(){Ey(s)});return}}else if(t===31){if(t=Uj(s),t!==null){e.blockedOn=t,fg(e.priority,function(){Ey(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Em(e.nativeEvent);if(s===null){s=e.nativeEvent;var n=new s.constructor(s.type,s);Yh=n,s.target.dispatchEvent(n),Yh=null}else return t=ll(s),t!==null&&b2(t),e.blockedOn=s,!1;t.shift()}return!0}function Ty(e,t,s){gu(e)&&s.delete(t)}function K3(){Am=!1,Mn!==null&&gu(Mn)&&(Mn=null),Dn!==null&&gu(Dn)&&(Dn=null),Rn!==null&&gu(Rn)&&(Rn=null),Dc.forEach(Ty),Rc.forEach(Ty)}function zo(e,t){e.blockedOn===t&&(e.blockedOn=null,Am||(Am=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,K3)))}var Vo=null;function My(e){Vo!==e&&(Vo=e,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,function(){Vo===e&&(Vo=null);for(var t=0;t<e.length;t+=3){var s=e[t],n=e[t+1],r=e[t+2];if(typeof n!="function"){if(D0(n||s)===null)continue;break}var i=ll(s);i!==null&&(e.splice(t,3),t-=3,cm(i,{pending:!0,data:r,method:s.method,action:n},n,r))}}))}function Wi(e){function t(o){return zo(o,e)}Mn!==null&&zo(Mn,e),Dn!==null&&zo(Dn,e),Rn!==null&&zo(Rn,e),Dc.forEach(t),Rc.forEach(t);for(var s=0;s<nn.length;s++){var n=nn[s];n.blockedOn===e&&(n.blockedOn=null)}for(;0<nn.length&&(s=nn[0],s.blockedOn===null);)j2(s),s.blockedOn===null&&nn.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(n=0;n<s.length;n+=3){var r=s[n],i=s[n+1],l=r[Gt]||null;if(typeof i=="function")l||My(s);else if(l){var c=null;if(i&&i.hasAttribute("formAction")){if(r=i,l=i[Gt]||null)c=l.formAction;else if(D0(r)!==null)continue}else c=l.action;typeof c=="function"?s[n+1]=c:(s.splice(n,3),n-=3),My(s)}}}function N2(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(l){return r=l})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),n||setTimeout(s,20)}function s(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function R0(e){this._internalRoot=e}Xd.prototype.render=R0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));var s=t.current,n=ls();y2(s,n,e,t,null,null)};Xd.prototype.unmount=R0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;y2(e.current,2,null,e,null,null),Gd(),t[il]=null}};function Xd(e){this._internalRoot=e}Xd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Wj();e={blockedOn:null,target:e,priority:t};for(var s=0;s<nn.length&&t!==0&&t<nn[s].priority;s++);nn.splice(s,0,e),s===0&&j2(e)}};var Dy=Bj.version;if(Dy!=="19.2.3")throw Error(Y(527,Dy,"19.2.3"));we.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=SS(t),e=e!==null?$j(e):null,e=e===null?null:e.stateNode,e};var Q3={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{to=Uo.inject(Q3),rs=Uo}catch{}}Od.createRoot=function(e,t){if(!zj(e))throw Error(Y(299));var s=!1,n="",r=hN,i=mN,l=pN;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=x2(e,1,!1,null,null,s,n,null,r,i,l,N2),e[il]=t.current,k0(e),new R0(t)};Od.hydrateRoot=function(e,t,s){if(!zj(e))throw Error(Y(299));var n=!1,r="",i=hN,l=mN,c=pN,o=null;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onUncaughtError!==void 0&&(i=s.onUncaughtError),s.onCaughtError!==void 0&&(l=s.onCaughtError),s.onRecoverableError!==void 0&&(c=s.onRecoverableError),s.formState!==void 0&&(o=s.formState)),t=x2(e,1,!0,t,s??null,n,r,o,i,l,c,N2),t.context=g2(null),s=t.current,n=ls(),n=Up(n),r=kn(n),r.callback=null,En(s,r,n),s=n,t.current.lanes=s,ao(t,s),oa(t),e[il]=t.current,k0(e),new Xd(t)};Od.version="19.2.3";function w2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w2)}catch(e){console.error(e)}}w2(),Dj.exports=Od;var X3=Dj.exports;const W3=Mp(X3);/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Oc.apply(this,arguments)}var jn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jn||(jn={}));const Ry="popstate";function Z3(e){e===void 0&&(e={});function t(n,r){let{pathname:i,search:l,hash:c}=n.location;return Tm("",{pathname:i,search:l,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function s(n,r){return typeof r=="string"?r:cd(r)}return ek(t,s,null,e)}function Qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function O0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function J3(){return Math.random().toString(36).substr(2,8)}function Oy(e,t){return{usr:e.state,key:e.key,idx:t}}function Tm(e,t,s,n){return s===void 0&&(s=null),Oc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hl(t):t,{state:s,key:t&&t.key||n||J3()})}function cd(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function hl(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ek(e,t,s,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:i=!1}=n,l=r.history,c=jn.Pop,o=null,u=d();u==null&&(u=0,l.replaceState(Oc({},l.state,{idx:u}),""));function d(){return(l.state||{idx:null}).idx}function f(){c=jn.Pop;let j=d(),x=j==null?null:j-u;u=j,o&&o({action:c,location:v.location,delta:x})}function h(j,x){c=jn.Push;let g=Tm(v.location,j,x);u=d()+1;let y=Oy(g,u),N=v.createHref(g);try{l.pushState(y,"",N)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(N)}i&&o&&o({action:c,location:v.location,delta:1})}function p(j,x){c=jn.Replace;let g=Tm(v.location,j,x);u=d();let y=Oy(g,u),N=v.createHref(g);l.replaceState(y,"",N),i&&o&&o({action:c,location:v.location,delta:0})}function m(j){let x=r.location.origin!=="null"?r.location.origin:r.location.href,g=typeof j=="string"?j:cd(j);return g=g.replace(/ $/,"%20"),Qe(x,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,x)}let v={get action(){return c},get location(){return e(r,l)},listen(j){if(o)throw new Error("A history only accepts one active listener");return r.addEventListener(Ry,f),o=j,()=>{r.removeEventListener(Ry,f),o=null}},createHref(j){return t(r,j)},createURL:m,encodeLocation(j){let x=m(j);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(j){return l.go(j)}};return v}var _y;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_y||(_y={}));function tk(e,t,s){return s===void 0&&(s="/"),sk(e,t,s)}function sk(e,t,s,n){let r=typeof t=="string"?hl(t):t,i=_0(r.pathname||"/",s);if(i==null)return null;let l=S2(e);ak(l);let c=null;for(let o=0;c==null&&o<l.length;++o){let u=pk(i);c=fk(l[o],u)}return c}function S2(e,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let r=(i,l,c)=>{let o={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};o.relativePath.startsWith("/")&&(Qe(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(n.length));let u=On([n,o.relativePath]),d=s.concat(o);i.children&&i.children.length>0&&(Qe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),S2(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:uk(u,i.index),routesMeta:d})};return e.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))r(i,l);else for(let o of C2(i.path))r(i,l,o)}),t}function C2(e){let t=e.split("/");if(t.length===0)return[];let[s,...n]=t,r=s.endsWith("?"),i=s.replace(/\?$/,"");if(n.length===0)return r?[i,""]:[i];let l=C2(n.join("/")),c=[];return c.push(...l.map(o=>o===""?i:[i,o].join("/"))),r&&c.push(...l),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function ak(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:dk(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const nk=/^:[\w-]+$/,rk=3,ik=2,lk=1,ck=10,ok=-2,Ly=e=>e==="*";function uk(e,t){let s=e.split("/"),n=s.length;return s.some(Ly)&&(n+=ok),t&&(n+=ik),s.filter(r=>!Ly(r)).reduce((r,i)=>r+(nk.test(i)?rk:i===""?lk:ck),n)}function dk(e,t){return e.length===t.length&&e.slice(0,-1).every((n,r)=>n===t[r])?e[e.length-1]-t[t.length-1]:0}function fk(e,t,s){let{routesMeta:n}=e,r={},i="/",l=[];for(let c=0;c<n.length;++c){let o=n[c],u=c===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=hk({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},d),h=o.route;if(!f)return null;Object.assign(r,f.params),l.push({params:r,pathname:On([i,f.pathname]),pathnameBase:vk(On([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=On([i,f.pathnameBase]))}return l}function hk(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=mk(e.path,e.caseSensitive,e.end),r=t.match(s);if(!r)return null;let i=r[0],l=i.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let v=c[f]||"";l=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=c[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function mk(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),O0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,o)=>(n.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function pk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return O0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&n!=="/"?null:e.slice(s)||"/"}const xk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gk=e=>xk.test(e);function yk(e,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:r=""}=typeof e=="string"?hl(e):e,i;if(s)if(gk(s))i=s;else{if(s.includes("//")){let l=s;s=s.replace(/\/\/+/g,"/"),O0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+s))}s.startsWith("/")?i=Py(s.substring(1),"/"):i=Py(s,t)}else i=t;return{pathname:i,search:jk(n),hash:Nk(r)}}function Py(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?s.length>1&&s.pop():r!=="."&&s.push(r)}),s.length>1?s.join("/"):"/"}function sh(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bk(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function L0(e,t){let s=bk(e);return t?s.map((n,r)=>r===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function P0(e,t,s,n){n===void 0&&(n=!1);let r;typeof e=="string"?r=hl(e):(r=Oc({},e),Qe(!r.pathname||!r.pathname.includes("?"),sh("?","pathname","search",r)),Qe(!r.pathname||!r.pathname.includes("#"),sh("#","pathname","hash",r)),Qe(!r.search||!r.search.includes("#"),sh("#","search","hash",r)));let i=e===""||r.pathname==="",l=i?"/":r.pathname,c;if(l==null)c=s;else{let f=t.length-1;if(!n&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),f-=1;r.pathname=h.join("/")}c=f>=0?t[f]:"/"}let o=yk(r,c),u=l&&l!=="/"&&l.endsWith("/"),d=(i||l===".")&&s.endsWith("/");return!o.pathname.endsWith("/")&&(u||d)&&(o.pathname+="/"),o}const On=e=>e.join("/").replace(/\/\/+/g,"/"),vk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Nk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const k2=["post","put","patch","delete"];new Set(k2);const Sk=["get",...k2];new Set(Sk);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},_c.apply(this,arguments)}const B0=b.createContext(null),Ck=b.createContext(null),Gn=b.createContext(null),Wd=b.createContext(null),ua=b.createContext({outlet:null,matches:[],isDataRoute:!1}),E2=b.createContext(null);function kk(e,t){let{relative:s}=t===void 0?{}:t;ml()||Qe(!1);let{basename:n,navigator:r}=b.useContext(Gn),{hash:i,pathname:l,search:c}=T2(e,{relative:s}),o=l;return n!=="/"&&(o=l==="/"?n:On([n,l])),r.createHref({pathname:o,search:c,hash:i})}function ml(){return b.useContext(Wd)!=null}function Kn(){return ml()||Qe(!1),b.useContext(Wd).location}function A2(e){b.useContext(Gn).static||b.useLayoutEffect(e)}function Ms(){let{isDataRoute:e}=b.useContext(ua);return e?$k():Ek()}function Ek(){ml()||Qe(!1);let e=b.useContext(B0),{basename:t,future:s,navigator:n}=b.useContext(Gn),{matches:r}=b.useContext(ua),{pathname:i}=Kn(),l=JSON.stringify(L0(r,s.v7_relativeSplatPath)),c=b.useRef(!1);return A2(()=>{c.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!c.current)return;if(typeof u=="number"){n.go(u);return}let f=P0(u,JSON.parse(l),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:On([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,l,i,e])}const Ak=b.createContext(null);function Tk(e){let t=b.useContext(ua).outlet;return t&&b.createElement(Ak.Provider,{value:e},t)}function Et(){let{matches:e}=b.useContext(ua),t=e[e.length-1];return t?t.params:{}}function T2(e,t){let{relative:s}=t===void 0?{}:t,{future:n}=b.useContext(Gn),{matches:r}=b.useContext(ua),{pathname:i}=Kn(),l=JSON.stringify(L0(r,n.v7_relativeSplatPath));return b.useMemo(()=>P0(e,JSON.parse(l),i,s==="path"),[e,l,i,s])}function Mk(e,t){return Dk(e,t)}function Dk(e,t,s,n){ml()||Qe(!1);let{navigator:r}=b.useContext(Gn),{matches:i}=b.useContext(ua),l=i[i.length-1],c=l?l.params:{};l&&l.pathname;let o=l?l.pathnameBase:"/";l&&l.route;let u=Kn(),d;if(t){var f;let j=typeof t=="string"?hl(t):t;o==="/"||(f=j.pathname)!=null&&f.startsWith(o)||Qe(!1),d=j}else d=u;let h=d.pathname||"/",p=h;if(o!=="/"){let j=o.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(j.length).join("/")}let m=tk(e,{pathname:p}),v=Pk(m&&m.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:On([o,r.encodeLocation?r.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?o:On([o,r.encodeLocation?r.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,s,n);return t&&v?b.createElement(Wd.Provider,{value:{location:_c({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:jn.Pop}},v):v}function Rk(){let e=Uk(),t=wk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),s?b.createElement("pre",{style:r},s):null,null)}const Ok=b.createElement(Rk,null);class _k extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?b.createElement(ua.Provider,{value:this.props.routeContext},b.createElement(E2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lk(e){let{routeContext:t,match:s,children:n}=e,r=b.useContext(B0);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),b.createElement(ua.Provider,{value:t},n)}function Pk(e,t,s,n){var r;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),e==null){var i;if(!s)return null;if(s.errors)e=s.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,c=(r=s)==null?void 0:r.errors;if(c!=null){let d=l.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);d>=0||Qe(!1),l=l.slice(0,Math.min(l.length,d+1))}let o=!1,u=-1;if(s&&n&&n.v7_partialHydration)for(let d=0;d<l.length;d++){let f=l[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=s,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){o=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((d,f,h)=>{let p,m=!1,v=null,j=null;s&&(p=c&&f.route.id?c[f.route.id]:void 0,v=f.route.errorElement||Ok,o&&(u<0&&h===0?(qk("route-fallback"),m=!0,j=null):u===h&&(m=!0,j=f.route.hydrateFallbackElement||null)));let x=t.concat(l.slice(0,h+1)),g=()=>{let y;return p?y=v:m?y=j:f.route.Component?y=b.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,b.createElement(Lk,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:s!=null},children:y})};return s&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?b.createElement(_k,{location:s.location,revalidation:s.revalidation,component:v,error:p,children:g(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):g()},null)}var M2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(M2||{}),D2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(D2||{});function Bk(e){let t=b.useContext(B0);return t||Qe(!1),t}function zk(e){let t=b.useContext(Ck);return t||Qe(!1),t}function Vk(e){let t=b.useContext(ua);return t||Qe(!1),t}function R2(e){let t=Vk(),s=t.matches[t.matches.length-1];return s.route.id||Qe(!1),s.route.id}function Uk(){var e;let t=b.useContext(E2),s=zk(),n=R2();return t!==void 0?t:(e=s.errors)==null?void 0:e[n]}function $k(){let{router:e}=Bk(M2.UseNavigateStable),t=R2(D2.UseNavigateStable),s=b.useRef(!1);return A2(()=>{s.current=!0}),b.useCallback(function(r,i){i===void 0&&(i={}),s.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,_c({fromRouteId:t},i)))},[e,t])}const By={};function qk(e,t,s){By[e]||(By[e]=!0)}function Fk(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function od(e){let{to:t,replace:s,state:n,relative:r}=e;ml()||Qe(!1);let{future:i,static:l}=b.useContext(Gn),{matches:c}=b.useContext(ua),{pathname:o}=Kn(),u=Ms(),d=P0(t,L0(c,i.v7_relativeSplatPath),o,r==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:s,state:n,relative:r}),[u,f,r,s,n]),null}function Hk(e){return Tk(e.context)}function Ve(e){Qe(!1)}function Ik(e){let{basename:t="/",children:s=null,location:n,navigationType:r=jn.Pop,navigator:i,static:l=!1,future:c}=e;ml()&&Qe(!1);let o=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:o,navigator:i,static:l,future:_c({v7_relativeSplatPath:!1},c)}),[o,c,i,l]);typeof n=="string"&&(n=hl(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,v=b.useMemo(()=>{let j=_0(d,o);return j==null?null:{location:{pathname:j,search:f,hash:h,state:p,key:m},navigationType:r}},[o,d,f,h,p,m,r]);return v==null?null:b.createElement(Gn.Provider,{value:u},b.createElement(Wd.Provider,{children:s,value:v}))}function Yk(e){let{children:t,location:s}=e;return Mk(Mm(t),s)}new Promise(()=>{});function Mm(e,t){t===void 0&&(t=[]);let s=[];return b.Children.forEach(e,(n,r)=>{if(!b.isValidElement(n))return;let i=[...t,r];if(n.type===b.Fragment){s.push.apply(s,Mm(n.props.children,i));return}n.type!==Ve&&Qe(!1),!n.props.index||!n.props.children||Qe(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Mm(n.props.children,i)),s.push(l)}),s}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},Dm.apply(this,arguments)}function Gk(e,t){if(e==null)return{};var s={},n=Object.keys(e),r,i;for(i=0;i<n.length;i++)r=n[i],!(t.indexOf(r)>=0)&&(s[r]=e[r]);return s}function Kk(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Qk(e,t){return e.button===0&&(!t||t==="_self")&&!Kk(e)}const Xk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Wk="6";try{window.__reactRouterVersion=Wk}catch{}const Zk="startTransition",zy=yS[Zk];function Jk(e){let{basename:t,children:s,future:n,window:r}=e,i=b.useRef();i.current==null&&(i.current=Z3({window:r,v5Compat:!0}));let l=i.current,[c,o]=b.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},d=b.useCallback(f=>{u&&zy?zy(()=>o(f)):o(f)},[o,u]);return b.useLayoutEffect(()=>l.listen(d),[l,d]),b.useEffect(()=>Fk(n),[n]),b.createElement(Ik,{basename:t,children:s,location:c.location,navigationType:c.action,navigator:l,future:n})}const eE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,me=b.forwardRef(function(t,s){let{onClick:n,relative:r,reloadDocument:i,replace:l,state:c,target:o,to:u,preventScrollReset:d,viewTransition:f}=t,h=Gk(t,Xk),{basename:p}=b.useContext(Gn),m,v=!1;if(typeof u=="string"&&tE.test(u)&&(m=u,eE))try{let y=new URL(window.location.href),N=u.startsWith("//")?new URL(y.protocol+u):new URL(u),k=_0(N.pathname,p);N.origin===y.origin&&k!=null?u=k+N.search+N.hash:v=!0}catch{}let j=kk(u,{relative:r}),x=sE(u,{replace:l,state:c,target:o,preventScrollReset:d,relative:r,viewTransition:f});function g(y){n&&n(y),y.defaultPrevented||x(y)}return b.createElement("a",Dm({},h,{href:m||j,onClick:v||i?n:g,ref:s,target:o}))});var Vy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vy||(Vy={}));var Uy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Uy||(Uy={}));function sE(e,t){let{target:s,replace:n,state:r,preventScrollReset:i,relative:l,viewTransition:c}=t===void 0?{}:t,o=Ms(),u=Kn(),d=T2(e,{relative:l});return b.useCallback(f=>{if(Qk(f,s)){f.preventDefault();let h=n!==void 0?n:cd(u)===cd(d);o(e,{replace:h,state:r,preventScrollReset:i,relative:l,viewTransition:c})}},[u,o,d,n,r,s,e,i,l,c])}var pl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},aE={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ln,Tp,dj,nE=(dj=class{constructor(){J(this,ln,aE);J(this,Tp,!1)}setTimeoutProvider(e){X(this,ln,e)}setTimeout(e,t){return R(this,ln).setTimeout(e,t)}clearTimeout(e){R(this,ln).clearTimeout(e)}setInterval(e,t){return R(this,ln).setInterval(e,t)}clearInterval(e){R(this,ln).clearInterval(e)}},ln=new WeakMap,Tp=new WeakMap,dj),lr=new nE;function rE(e){setTimeout(e,0)}var Lr=typeof window>"u"||"Deno"in globalThis;function Rt(){}function iE(e,t){return typeof e=="function"?e(t):e}function Rm(e){return typeof e=="number"&&e>=0&&e!==1/0}function O2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _n(e,t){return typeof e=="function"?e(t):e}function ms(e,t){return typeof e=="function"?e(t):e}function $y(e,t){const{type:s="all",exact:n,fetchStatus:r,predicate:i,queryKey:l,stale:c}=e;if(l){if(n){if(t.queryHash!==z0(l,t.options))return!1}else if(!Lc(t.queryKey,l))return!1}if(s!=="all"){const o=t.isActive();if(s==="active"&&!o||s==="inactive"&&o)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||r&&r!==t.state.fetchStatus||i&&!i(t))}function qy(e,t){const{exact:s,status:n,predicate:r,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(s){if(Pr(t.options.mutationKey)!==Pr(i))return!1}else if(!Lc(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||r&&!r(t))}function z0(e,t){return((t==null?void 0:t.queryKeyHashFn)||Pr)(e)}function Pr(e){return JSON.stringify(e,(t,s)=>Om(s)?Object.keys(s).sort().reduce((n,r)=>(n[r]=s[r],n),{}):s)}function Lc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Lc(e[s],t[s])):!1}var lE=Object.prototype.hasOwnProperty;function _2(e,t,s=0){if(e===t)return e;if(s>500)return t;const n=Fy(e)&&Fy(t);if(!n&&!(Om(e)&&Om(t)))return t;const i=(n?e:Object.keys(e)).length,l=n?t:Object.keys(t),c=l.length,o=n?new Array(c):{};let u=0;for(let d=0;d<c;d++){const f=n?d:l[d],h=e[f],p=t[f];if(h===p){o[f]=h,(n?d<i:lE.call(e,f))&&u++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){o[f]=p;continue}const m=_2(h,p,s+1);o[f]=m,m===h&&u++}return i===c&&u===i?e:o}function ud(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function Fy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Om(e){if(!Hy(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Hy(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Hy(e){return Object.prototype.toString.call(e)==="[object Object]"}function cE(e){return new Promise(t=>{lr.setTimeout(t,e)})}function _m(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?_2(e,t):t}function oE(e,t,s=0){const n=[...e,t];return s&&n.length>s?n.slice(1):n}function uE(e,t,s=0){const n=[t,...e];return s&&n.length>s?n.slice(0,-1):n}var V0=Symbol();function L2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===V0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function U0(e,t){return typeof e=="function"?e(...t):!!e}function dE(e,t,s){let n=!1,r;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(r??(r=t()),n||(n=!0,r.aborted?s():r.addEventListener("abort",s,{once:!0})),r)}),e}var dr,cn,Ti,fj,fE=(fj=class extends pl{constructor(){super();J(this,dr);J(this,cn);J(this,Ti);X(this,Ti,t=>{if(!Lr&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){R(this,cn)||this.setEventListener(R(this,Ti))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,cn))==null||t.call(this),X(this,cn,void 0))}setEventListener(t){var s;X(this,Ti,t),(s=R(this,cn))==null||s.call(this),X(this,cn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){R(this,dr)!==t&&(X(this,dr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof R(this,dr)=="boolean"?R(this,dr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},dr=new WeakMap,cn=new WeakMap,Ti=new WeakMap,fj),$0=new fE;function Lm(){let e,t;const s=new Promise((r,i)=>{e=r,t=i});s.status="pending",s.catch(()=>{});function n(r){Object.assign(s,r),delete s.resolve,delete s.reject}return s.resolve=r=>{n({status:"fulfilled",value:r}),e(r)},s.reject=r=>{n({status:"rejected",reason:r}),t(r)},s}var hE=rE;function mE(){let e=[],t=0,s=c=>{c()},n=c=>{c()},r=hE;const i=c=>{t?e.push(c):r(()=>{s(c)})},l=()=>{const c=e;e=[],c.length&&r(()=>{n(()=>{c.forEach(o=>{s(o)})})})};return{batch:c=>{let o;t++;try{o=c()}finally{t--,t||l()}return o},batchCalls:c=>(...o)=>{i(()=>{c(...o)})},schedule:i,setNotifyFunction:c=>{s=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{r=c}}}var rt=mE(),Mi,on,Di,hj,pE=(hj=class extends pl{constructor(){super();J(this,Mi,!0);J(this,on);J(this,Di);X(this,Di,t=>{if(!Lr&&window.addEventListener){const s=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,on)||this.setEventListener(R(this,Di))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,on))==null||t.call(this),X(this,on,void 0))}setEventListener(t){var s;X(this,Di,t),(s=R(this,on))==null||s.call(this),X(this,on,t(this.setOnline.bind(this)))}setOnline(t){R(this,Mi)!==t&&(X(this,Mi,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return R(this,Mi)}},Mi=new WeakMap,on=new WeakMap,Di=new WeakMap,hj),dd=new pE;function xE(e){return Math.min(1e3*2**e,3e4)}function P2(e){return(e??"online")==="online"?dd.isOnline():!0}var Pm=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function B2(e){let t=!1,s=0,n;const r=Lm(),i=()=>r.status!=="pending",l=v=>{var j;if(!i()){const x=new Pm(v);h(x),(j=e.onCancel)==null||j.call(e,x)}},c=()=>{t=!0},o=()=>{t=!1},u=()=>$0.isFocused()&&(e.networkMode==="always"||dd.isOnline())&&e.canRun(),d=()=>P2(e.networkMode)&&e.canRun(),f=v=>{i()||(n==null||n(),r.resolve(v))},h=v=>{i()||(n==null||n(),r.reject(v))},p=()=>new Promise(v=>{var j;n=x=>{(i()||u())&&v(x)},(j=e.onPause)==null||j.call(e)}).then(()=>{var v;n=void 0,i()||(v=e.onContinue)==null||v.call(e)}),m=()=>{if(i())return;let v;const j=s===0?e.initialPromise:void 0;try{v=j??e.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(f).catch(x=>{var D;if(i())return;const g=e.retry??(Lr?0:3),y=e.retryDelay??xE,N=typeof y=="function"?y(s,x):y,k=g===!0||typeof g=="number"&&s<g||typeof g=="function"&&g(s,x);if(t||!k){h(x);return}s++,(D=e.onFail)==null||D.call(e,s,x),cE(N).then(()=>u()?void 0:p()).then(()=>{t?h(x):m()})})};return{promise:r,status:()=>r.status,cancel:l,continue:()=>(n==null||n(),r),cancelRetry:c,continueRetry:o,canStart:d,start:()=>(d()?m():p().then(m),r)}}var fr,mj,z2=(mj=class{constructor(){J(this,fr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Rm(this.gcTime)&&X(this,fr,lr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Lr?1/0:5*60*1e3))}clearGcTimeout(){R(this,fr)&&(lr.clearTimeout(R(this,fr)),X(this,fr,void 0))}},fr=new WeakMap,mj),hr,Ri,fs,mr,dt,Qc,pr,_s,ba,pj,gE=(pj=class extends z2{constructor(t){super();J(this,_s);J(this,hr);J(this,Ri);J(this,fs);J(this,mr);J(this,dt);J(this,Qc);J(this,pr);X(this,pr,!1),X(this,Qc,t.defaultOptions),this.setOptions(t.options),this.observers=[],X(this,mr,t.client),X(this,fs,R(this,mr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,X(this,hr,Yy(this.options)),this.state=t.state??R(this,hr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=R(this,dt))==null?void 0:t.promise}setOptions(t){if(this.options={...R(this,Qc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Yy(this.options);s.data!==void 0&&(this.setState(Iy(s.data,s.dataUpdatedAt)),X(this,hr,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,fs).remove(this)}setData(t,s){const n=_m(this.state.data,t,this.options);return ue(this,_s,ba).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(t,s){ue(this,_s,ba).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var n,r;const s=(n=R(this,dt))==null?void 0:n.promise;return(r=R(this,dt))==null||r.cancel(t),s?s.then(Rt).catch(Rt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,hr))}isActive(){return this.observers.some(t=>ms(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===V0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>_n(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!O2(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=R(this,dt))==null||s.continue()}onOnline(){var s;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=R(this,dt))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),R(this,fs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(R(this,dt)&&(R(this,pr)?R(this,dt).cancel({revert:!0}):R(this,dt).cancelRetry()),this.scheduleGc()),R(this,fs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ue(this,_s,ba).call(this,{type:"invalidate"})}async fetch(t,s){var o,u,d,f,h,p,m,v,j,x,g,y;if(this.state.fetchStatus!=="idle"&&((o=R(this,dt))==null?void 0:o.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(R(this,dt))return R(this,dt).continueRetry(),R(this,dt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(k=>k.options.queryFn);N&&this.setOptions(N.options)}const n=new AbortController,r=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(X(this,pr,!0),n.signal)})},i=()=>{const N=L2(this.options,s),D=(()=>{const w={client:R(this,mr),queryKey:this.queryKey,meta:this.meta};return r(w),w})();return X(this,pr,!1),this.options.persister?this.options.persister(N,D,this):N(D)},c=(()=>{const N={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:R(this,mr),state:this.state,fetchFn:i};return r(N),N})();(u=this.options.behavior)==null||u.onFetch(c,this),X(this,Ri,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=c.fetchOptions)==null?void 0:d.meta))&&ue(this,_s,ba).call(this,{type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta}),X(this,dt,B2({initialPromise:s==null?void 0:s.initialPromise,fn:c.fetchFn,onCancel:N=>{N instanceof Pm&&N.revert&&this.setState({...R(this,Ri),fetchStatus:"idle"}),n.abort()},onFail:(N,k)=>{ue(this,_s,ba).call(this,{type:"failed",failureCount:N,error:k})},onPause:()=>{ue(this,_s,ba).call(this,{type:"pause"})},onContinue:()=>{ue(this,_s,ba).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const N=await R(this,dt).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(p=(h=R(this,fs).config).onSuccess)==null||p.call(h,N,this),(v=(m=R(this,fs).config).onSettled)==null||v.call(m,N,this.state.error,this),N}catch(N){if(N instanceof Pm){if(N.silent)return R(this,dt).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw ue(this,_s,ba).call(this,{type:"error",error:N}),(x=(j=R(this,fs).config).onError)==null||x.call(j,N,this),(y=(g=R(this,fs).config).onSettled)==null||y.call(g,this.state.data,N,this),N}finally{this.scheduleGc()}}},hr=new WeakMap,Ri=new WeakMap,fs=new WeakMap,mr=new WeakMap,dt=new WeakMap,Qc=new WeakMap,pr=new WeakMap,_s=new WeakSet,ba=function(t){const s=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...V2(n.data,this.options),fetchMeta:t.meta??null};case"success":const r={...n,...Iy(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return X(this,Ri,t.manual?r:void 0),r;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=s(this.state),rt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,fs).notify({query:this,type:"updated",action:t})})},pj);function V2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:P2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Iy(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Yy(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,n=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Ut,be,Xc,Tt,xr,Oi,ja,un,Wc,_i,Li,gr,yr,dn,Pi,Ce,Gl,Bm,zm,Vm,Um,$m,qm,Fm,U2,xj,yE=(xj=class extends pl{constructor(t,s){super();J(this,Ce);J(this,Ut);J(this,be);J(this,Xc);J(this,Tt);J(this,xr);J(this,Oi);J(this,ja);J(this,un);J(this,Wc);J(this,_i);J(this,Li);J(this,gr);J(this,yr);J(this,dn);J(this,Pi,new Set);this.options=s,X(this,Ut,t),X(this,un,null),X(this,ja,Lm()),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,be).addObserver(this),Gy(R(this,be),this.options)?ue(this,Ce,Gl).call(this):this.updateResult(),ue(this,Ce,Um).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hm(R(this,be),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hm(R(this,be),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ue(this,Ce,$m).call(this),ue(this,Ce,qm).call(this),R(this,be).removeObserver(this)}setOptions(t){const s=this.options,n=R(this,be);if(this.options=R(this,Ut).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ms(this.options.enabled,R(this,be))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ue(this,Ce,Fm).call(this),R(this,be).setOptions(this.options),s._defaulted&&!ud(this.options,s)&&R(this,Ut).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,be),observer:this});const r=this.hasListeners();r&&Ky(R(this,be),n,this.options,s)&&ue(this,Ce,Gl).call(this),this.updateResult(),r&&(R(this,be)!==n||ms(this.options.enabled,R(this,be))!==ms(s.enabled,R(this,be))||_n(this.options.staleTime,R(this,be))!==_n(s.staleTime,R(this,be)))&&ue(this,Ce,Bm).call(this);const i=ue(this,Ce,zm).call(this);r&&(R(this,be)!==n||ms(this.options.enabled,R(this,be))!==ms(s.enabled,R(this,be))||i!==R(this,dn))&&ue(this,Ce,Vm).call(this,i)}getOptimisticResult(t){const s=R(this,Ut).getQueryCache().build(R(this,Ut),t),n=this.createResult(s,t);return vE(this,n)&&(X(this,Tt,n),X(this,Oi,this.options),X(this,xr,R(this,be).state)),n}getCurrentResult(){return R(this,Tt)}trackResult(t,s){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),s==null||s(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,ja).status==="pending"&&R(this,ja).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(t){R(this,Pi).add(t)}getCurrentQuery(){return R(this,be)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=R(this,Ut).defaultQueryOptions(t),n=R(this,Ut).getQueryCache().build(R(this,Ut),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(t){return ue(this,Ce,Gl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Tt)))}createResult(t,s){var O;const n=R(this,be),r=this.options,i=R(this,Tt),l=R(this,xr),c=R(this,Oi),u=t!==n?t.state:R(this,Xc),{state:d}=t;let f={...d},h=!1,p;if(s._optimisticResults){const A=this.hasListeners(),E=!A&&Gy(t,s),S=A&&Ky(t,n,s,r);(E||S)&&(f={...f,...V2(d.data,t.options)}),s._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:m,errorUpdatedAt:v,status:j}=f;p=f.data;let x=!1;if(s.placeholderData!==void 0&&p===void 0&&j==="pending"){let A;i!=null&&i.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData)?(A=i.data,x=!0):A=typeof s.placeholderData=="function"?s.placeholderData((O=R(this,Li))==null?void 0:O.state.data,R(this,Li)):s.placeholderData,A!==void 0&&(j="success",p=_m(i==null?void 0:i.data,A,s),h=!0)}if(s.select&&p!==void 0&&!x)if(i&&p===(l==null?void 0:l.data)&&s.select===R(this,Wc))p=R(this,_i);else try{X(this,Wc,s.select),p=s.select(p),p=_m(i==null?void 0:i.data,p,s),X(this,_i,p),X(this,un,null)}catch(A){X(this,un,A)}R(this,un)&&(m=R(this,un),p=R(this,_i),v=Date.now(),j="error");const g=f.fetchStatus==="fetching",y=j==="pending",N=j==="error",k=y&&g,D=p!==void 0,T={status:j,fetchStatus:f.fetchStatus,isPending:y,isSuccess:j==="success",isError:N,isInitialLoading:k,isLoading:k,data:p,dataUpdatedAt:f.dataUpdatedAt,error:m,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!y,isLoadingError:N&&!D,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:N&&D,isStale:q0(t,s),refetch:this.refetch,promise:R(this,ja),isEnabled:ms(s.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=T.data!==void 0,E=T.status==="error"&&!A,S=q=>{E?q.reject(T.error):A&&q.resolve(T.data)},M=()=>{const q=X(this,ja,T.promise=Lm());S(q)},C=R(this,ja);switch(C.status){case"pending":t.queryHash===n.queryHash&&S(C);break;case"fulfilled":(E||T.data!==C.value)&&M();break;case"rejected":(!E||T.error!==C.reason)&&M();break}}return T}updateResult(){const t=R(this,Tt),s=this.createResult(R(this,be),this.options);if(X(this,xr,R(this,be).state),X(this,Oi,this.options),R(this,xr).data!==void 0&&X(this,Li,R(this,be)),ud(s,t))return;X(this,Tt,s);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!R(this,Pi).size)return!0;const l=new Set(i??R(this,Pi));return this.options.throwOnError&&l.add("error"),Object.keys(R(this,Tt)).some(c=>{const o=c;return R(this,Tt)[o]!==t[o]&&l.has(o)})};ue(this,Ce,U2).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ue(this,Ce,Um).call(this)}},Ut=new WeakMap,be=new WeakMap,Xc=new WeakMap,Tt=new WeakMap,xr=new WeakMap,Oi=new WeakMap,ja=new WeakMap,un=new WeakMap,Wc=new WeakMap,_i=new WeakMap,Li=new WeakMap,gr=new WeakMap,yr=new WeakMap,dn=new WeakMap,Pi=new WeakMap,Ce=new WeakSet,Gl=function(t){ue(this,Ce,Fm).call(this);let s=R(this,be).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(Rt)),s},Bm=function(){ue(this,Ce,$m).call(this);const t=_n(this.options.staleTime,R(this,be));if(Lr||R(this,Tt).isStale||!Rm(t))return;const n=O2(R(this,Tt).dataUpdatedAt,t)+1;X(this,gr,lr.setTimeout(()=>{R(this,Tt).isStale||this.updateResult()},n))},zm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,be)):this.options.refetchInterval)??!1},Vm=function(t){ue(this,Ce,qm).call(this),X(this,dn,t),!(Lr||ms(this.options.enabled,R(this,be))===!1||!Rm(R(this,dn))||R(this,dn)===0)&&X(this,yr,lr.setInterval(()=>{(this.options.refetchIntervalInBackground||$0.isFocused())&&ue(this,Ce,Gl).call(this)},R(this,dn)))},Um=function(){ue(this,Ce,Bm).call(this),ue(this,Ce,Vm).call(this,ue(this,Ce,zm).call(this))},$m=function(){R(this,gr)&&(lr.clearTimeout(R(this,gr)),X(this,gr,void 0))},qm=function(){R(this,yr)&&(lr.clearInterval(R(this,yr)),X(this,yr,void 0))},Fm=function(){const t=R(this,Ut).getQueryCache().build(R(this,Ut),this.options);if(t===R(this,be))return;const s=R(this,be);X(this,be,t),X(this,Xc,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},U2=function(t){rt.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(R(this,Tt))}),R(this,Ut).getQueryCache().notify({query:R(this,be),type:"observerResultsUpdated"})})},xj);function bE(e,t){return ms(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Gy(e,t){return bE(e,t)||e.state.data!==void 0&&Hm(e,t,t.refetchOnMount)}function Hm(e,t,s){if(ms(t.enabled,e)!==!1&&_n(t.staleTime,e)!=="static"){const n=typeof s=="function"?s(e):s;return n==="always"||n!==!1&&q0(e,t)}return!1}function Ky(e,t,s,n){return(e!==t||ms(n.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&q0(e,s)}function q0(e,t){return ms(t.enabled,e)!==!1&&e.isStaleByTime(_n(t.staleTime,e))}function vE(e,t){return!ud(e.getCurrentResult(),t)}function Qy(e){return{onFetch:(t,s)=>{var d,f,h,p,m;const n=t.options,r=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],l=((m=t.state.data)==null?void 0:m.pageParams)||[];let c={pages:[],pageParams:[]},o=0;const u=async()=>{let v=!1;const j=y=>{dE(y,()=>t.signal,()=>v=!0)},x=L2(t.options,t.fetchOptions),g=async(y,N,k)=>{if(v)return Promise.reject();if(N==null&&y.pages.length)return Promise.resolve(y);const w=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:N,direction:k?"backward":"forward",meta:t.options.meta};return j(E),E})(),T=await x(w),{maxPages:O}=t.options,A=k?uE:oE;return{pages:A(y.pages,T,O),pageParams:A(y.pageParams,N,O)}};if(r&&i.length){const y=r==="backward",N=y?jE:Xy,k={pages:i,pageParams:l},D=N(n,k);c=await g(k,D,y)}else{const y=e??i.length;do{const N=o===0?l[0]??n.initialPageParam:Xy(n,c);if(o>0&&N==null)break;c=await g(c,N),o++}while(o<y)}return c};t.options.persister?t.fetchFn=()=>{var v,j;return(j=(v=t.options).persister)==null?void 0:j.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=u}}}function Xy(e,{pages:t,pageParams:s}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,s[n],s):void 0}function jE(e,{pages:t,pageParams:s}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,s[0],s):void 0}var Zc,Fs,Mt,br,Hs,Wa,gj,NE=(gj=class extends z2{constructor(t){super();J(this,Hs);J(this,Zc);J(this,Fs);J(this,Mt);J(this,br);X(this,Zc,t.client),this.mutationId=t.mutationId,X(this,Mt,t.mutationCache),X(this,Fs,[]),this.state=t.state||$2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){R(this,Fs).includes(t)||(R(this,Fs).push(t),this.clearGcTimeout(),R(this,Mt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){X(this,Fs,R(this,Fs).filter(s=>s!==t)),this.scheduleGc(),R(this,Mt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){R(this,Fs).length||(this.state.status==="pending"?this.scheduleGc():R(this,Mt).remove(this))}continue(){var t;return((t=R(this,br))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var l,c,o,u,d,f,h,p,m,v,j,x,g,y,N,k,D,w,T,O;const s=()=>{ue(this,Hs,Wa).call(this,{type:"continue"})},n={client:R(this,Zc),meta:this.options.meta,mutationKey:this.options.mutationKey};X(this,br,B2({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(A,E)=>{ue(this,Hs,Wa).call(this,{type:"failed",failureCount:A,error:E})},onPause:()=>{ue(this,Hs,Wa).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Mt).canRun(this)}));const r=this.state.status==="pending",i=!R(this,br).canStart();try{if(r)s();else{ue(this,Hs,Wa).call(this,{type:"pending",variables:t,isPaused:i}),await((c=(l=R(this,Mt).config).onMutate)==null?void 0:c.call(l,t,this,n));const E=await((u=(o=this.options).onMutate)==null?void 0:u.call(o,t,n));E!==this.state.context&&ue(this,Hs,Wa).call(this,{type:"pending",context:E,variables:t,isPaused:i})}const A=await R(this,br).start();return await((f=(d=R(this,Mt).config).onSuccess)==null?void 0:f.call(d,A,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,A,t,this.state.context,n)),await((v=(m=R(this,Mt).config).onSettled)==null?void 0:v.call(m,A,null,this.state.variables,this.state.context,this,n)),await((x=(j=this.options).onSettled)==null?void 0:x.call(j,A,null,t,this.state.context,n)),ue(this,Hs,Wa).call(this,{type:"success",data:A}),A}catch(A){try{await((y=(g=R(this,Mt).config).onError)==null?void 0:y.call(g,A,t,this.state.context,this,n))}catch(E){Promise.reject(E)}try{await((k=(N=this.options).onError)==null?void 0:k.call(N,A,t,this.state.context,n))}catch(E){Promise.reject(E)}try{await((w=(D=R(this,Mt).config).onSettled)==null?void 0:w.call(D,void 0,A,this.state.variables,this.state.context,this,n))}catch(E){Promise.reject(E)}try{await((O=(T=this.options).onSettled)==null?void 0:O.call(T,void 0,A,t,this.state.context,n))}catch(E){Promise.reject(E)}throw ue(this,Hs,Wa).call(this,{type:"error",error:A}),A}finally{R(this,Mt).runNext(this)}}},Zc=new WeakMap,Fs=new WeakMap,Mt=new WeakMap,br=new WeakMap,Hs=new WeakSet,Wa=function(t){const s=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),rt.batch(()=>{R(this,Fs).forEach(n=>{n.onMutationUpdate(t)}),R(this,Mt).notify({mutation:this,type:"updated",action:t})})},gj);function $2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Na,Ls,Jc,yj,wE=(yj=class extends pl{constructor(t={}){super();J(this,Na);J(this,Ls);J(this,Jc);this.config=t,X(this,Na,new Set),X(this,Ls,new Map),X(this,Jc,0)}build(t,s,n){const r=new NE({client:t,mutationCache:this,mutationId:++So(this,Jc)._,options:t.defaultMutationOptions(s),state:n});return this.add(r),r}add(t){R(this,Na).add(t);const s=$o(t);if(typeof s=="string"){const n=R(this,Ls).get(s);n?n.push(t):R(this,Ls).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(R(this,Na).delete(t)){const s=$o(t);if(typeof s=="string"){const n=R(this,Ls).get(s);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&R(this,Ls).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=$o(t);if(typeof s=="string"){const n=R(this,Ls).get(s),r=n==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){var n;const s=$o(t);if(typeof s=="string"){const r=(n=R(this,Ls).get(s))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){rt.batch(()=>{R(this,Na).forEach(t=>{this.notify({type:"removed",mutation:t})}),R(this,Na).clear(),R(this,Ls).clear()})}getAll(){return Array.from(R(this,Na))}find(t){const s={exact:!0,...t};return this.getAll().find(n=>qy(s,n))}findAll(t={}){return this.getAll().filter(s=>qy(t,s))}notify(t){rt.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return rt.batch(()=>Promise.all(t.map(s=>s.continue().catch(Rt))))}},Na=new WeakMap,Ls=new WeakMap,Jc=new WeakMap,yj);function $o(e){var t;return(t=e.options.scope)==null?void 0:t.id}var wa,fn,$t,Sa,Pa,yu,Im,bj,SE=(bj=class extends pl{constructor(s,n){super();J(this,Pa);J(this,wa);J(this,fn);J(this,$t);J(this,Sa);X(this,wa,s),this.setOptions(n),this.bindMethods(),ue(this,Pa,yu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var r;const n=this.options;this.options=R(this,wa).defaultMutationOptions(s),ud(this.options,n)||R(this,wa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,$t),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Pr(n.mutationKey)!==Pr(this.options.mutationKey)?this.reset():((r=R(this,$t))==null?void 0:r.state.status)==="pending"&&R(this,$t).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=R(this,$t))==null||s.removeObserver(this)}onMutationUpdate(s){ue(this,Pa,yu).call(this),ue(this,Pa,Im).call(this,s)}getCurrentResult(){return R(this,fn)}reset(){var s;(s=R(this,$t))==null||s.removeObserver(this),X(this,$t,void 0),ue(this,Pa,yu).call(this),ue(this,Pa,Im).call(this)}mutate(s,n){var r;return X(this,Sa,n),(r=R(this,$t))==null||r.removeObserver(this),X(this,$t,R(this,wa).getMutationCache().build(R(this,wa),this.options)),R(this,$t).addObserver(this),R(this,$t).execute(s)}},wa=new WeakMap,fn=new WeakMap,$t=new WeakMap,Sa=new WeakMap,Pa=new WeakSet,yu=function(){var n;const s=((n=R(this,$t))==null?void 0:n.state)??$2();X(this,fn,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Im=function(s){rt.batch(()=>{var n,r,i,l,c,o,u,d;if(R(this,Sa)&&this.hasListeners()){const f=R(this,fn).variables,h=R(this,fn).context,p={client:R(this,wa),meta:this.options.meta,mutationKey:this.options.mutationKey};if((s==null?void 0:s.type)==="success"){try{(r=(n=R(this,Sa)).onSuccess)==null||r.call(n,s.data,f,h,p)}catch(m){Promise.reject(m)}try{(l=(i=R(this,Sa)).onSettled)==null||l.call(i,s.data,null,f,h,p)}catch(m){Promise.reject(m)}}else if((s==null?void 0:s.type)==="error"){try{(o=(c=R(this,Sa)).onError)==null||o.call(c,s.error,f,h,p)}catch(m){Promise.reject(m)}try{(d=(u=R(this,Sa)).onSettled)==null||d.call(u,void 0,s.error,f,h,p)}catch(m){Promise.reject(m)}}}this.listeners.forEach(f=>{f(R(this,fn))})})},bj),Is,vj,CE=(vj=class extends pl{constructor(t={}){super();J(this,Is);this.config=t,X(this,Is,new Map)}build(t,s,n){const r=s.queryKey,i=s.queryHash??z0(r,s);let l=this.get(i);return l||(l=new gE({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(s),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(l)),l}add(t){R(this,Is).has(t.queryHash)||(R(this,Is).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=R(this,Is).get(t.queryHash);s&&(t.destroy(),s===t&&R(this,Is).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return R(this,Is).get(t)}getAll(){return[...R(this,Is).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(n=>$y(s,n))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(n=>$y(t,n)):s}notify(t){rt.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){rt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Is=new WeakMap,vj),Fe,hn,mn,Bi,zi,pn,Vi,Ui,jj,kE=(jj=class{constructor(e={}){J(this,Fe);J(this,hn);J(this,mn);J(this,Bi);J(this,zi);J(this,pn);J(this,Vi);J(this,Ui);X(this,Fe,e.queryCache||new CE),X(this,hn,e.mutationCache||new wE),X(this,mn,e.defaultOptions||{}),X(this,Bi,new Map),X(this,zi,new Map),X(this,pn,0)}mount(){So(this,pn)._++,R(this,pn)===1&&(X(this,Vi,$0.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,Fe).onFocus())})),X(this,Ui,dd.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,Fe).onOnline())})))}unmount(){var e,t;So(this,pn)._--,R(this,pn)===0&&((e=R(this,Vi))==null||e.call(this),X(this,Vi,void 0),(t=R(this,Ui))==null||t.call(this),X(this,Ui,void 0))}isFetching(e){return R(this,Fe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return R(this,hn).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=R(this,Fe).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=R(this,Fe).build(this,t),n=s.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(_n(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return R(this,Fe).findAll(e).map(({queryKey:t,state:s})=>{const n=s.data;return[t,n]})}setQueryData(e,t,s){const n=this.defaultQueryOptions({queryKey:e}),r=R(this,Fe).get(n.queryHash),i=r==null?void 0:r.state.data,l=iE(t,i);if(l!==void 0)return R(this,Fe).build(this,n).setData(l,{...s,manual:!0})}setQueriesData(e,t,s){return rt.batch(()=>R(this,Fe).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=R(this,Fe).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=R(this,Fe);rt.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=R(this,Fe);return rt.batch(()=>(s.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},n=rt.batch(()=>R(this,Fe).findAll(e).map(r=>r.cancel(s)));return Promise.all(n).then(Rt).catch(Rt)}invalidateQueries(e,t={}){return rt.batch(()=>(R(this,Fe).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},n=rt.batch(()=>R(this,Fe).findAll(e).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let i=r.fetch(void 0,s);return s.throwOnError||(i=i.catch(Rt)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Rt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=R(this,Fe).build(this,t);return s.isStaleByTime(_n(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Rt).catch(Rt)}fetchInfiniteQuery(e){return e.behavior=Qy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Rt).catch(Rt)}ensureInfiniteQueryData(e){return e.behavior=Qy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dd.isOnline()?R(this,hn).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Fe)}getMutationCache(){return R(this,hn)}getDefaultOptions(){return R(this,mn)}setDefaultOptions(e){X(this,mn,e)}setQueryDefaults(e,t){R(this,Bi).set(Pr(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...R(this,Bi).values()],s={};return t.forEach(n=>{Lc(e,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(e,t){R(this,zi).set(Pr(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...R(this,zi).values()],s={};return t.forEach(n=>{Lc(e,n.mutationKey)&&Object.assign(s,n.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...R(this,mn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=z0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===V0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...R(this,mn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){R(this,Fe).clear(),R(this,hn).clear()}},Fe=new WeakMap,hn=new WeakMap,mn=new WeakMap,Bi=new WeakMap,zi=new WeakMap,pn=new WeakMap,Vi=new WeakMap,Ui=new WeakMap,jj),q2=b.createContext(void 0),da=e=>{const t=b.useContext(q2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},EE=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(q2.Provider,{value:e,children:t})),F2=b.createContext(!1),AE=()=>b.useContext(F2);F2.Provider;function TE(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ME=b.createContext(TE()),DE=()=>b.useContext(ME),RE=(e,t,s)=>{const n=s!=null&&s.state.error&&typeof e.throwOnError=="function"?U0(e.throwOnError,[s.state.error,s]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},OE=e=>{b.useEffect(()=>{e.clearReset()},[e])},_E=({result:e,errorResetBoundary:t,throwOnError:s,query:n,suspense:r})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(r&&e.data===void 0||U0(s,[e.error,n])),LE=e=>{if(e.suspense){const s=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>s(n(...r)):s(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},PE=(e,t)=>e.isLoading&&e.isFetching&&!t,BE=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Wy=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function zE(e,t,s){var h,p,m,v;const n=AE(),r=DE(),i=da(),l=i.defaultQueryOptions(e);(p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,l);const c=i.getQueryCache().get(l.queryHash);l._optimisticResults=n?"isRestoring":"optimistic",LE(l),RE(l,r,c),OE(r);const o=!i.getQueryCache().get(l.queryHash),[u]=b.useState(()=>new t(i,l)),d=u.getOptimisticResult(l),f=!n&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(j=>{const x=f?u.subscribe(rt.batchCalls(j)):Rt;return u.updateResult(),x},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),b.useEffect(()=>{u.setOptions(l)},[l,u]),BE(l,d))throw Wy(l,u,r);if(_E({result:d,errorResetBoundary:r,throwOnError:l.throwOnError,query:c,suspense:l.suspense}))throw d.error;if((v=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,l,d),l.experimental_prefetchInRender&&!Lr&&PE(d,n)){const j=o?Wy(l,u,r):c==null?void 0:c.promise;j==null||j.catch(Rt).finally(()=>{u.updateResult()})}return l.notifyOnChangeProps?d:u.trackResult(d)}function na(e,t){return zE(e,yE)}function Nn(e,t){const s=da(),[n]=b.useState(()=>new SE(s,e));b.useEffect(()=>{n.setOptions(e)},[n,e]);const r=b.useSyncExternalStore(b.useCallback(l=>n.subscribe(rt.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=b.useCallback((l,c)=>{n.mutate(l,c).catch(Rt)},[n]);if(r.error&&U0(n.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}let VE={data:""},UE=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||VE},$E=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,qE=/\/\*[^]*?\*\/|  +/g,Zy=/\n+/g,rn=(e,t)=>{let s="",n="",r="";for(let i in e){let l=e[i];i[0]=="@"?i[1]=="i"?s=i+" "+l+";":n+=i[1]=="f"?rn(l,i):i+"{"+rn(l,i[1]=="k"?"":t)+"}":typeof l=="object"?n+=rn(l,t?t.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,o=>/&/.test(o)?o.replace(/&/g,c):c?c+" "+o:o)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=rn.p?rn.p(i,l):i+":"+l+";")}return s+(t&&r?t+"{"+r+"}":r)+n},ga={},H2=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+H2(e[s]);return t}return e},FE=(e,t,s,n,r)=>{let i=H2(e),l=ga[i]||(ga[i]=(o=>{let u=0,d=11;for(;u<o.length;)d=101*d+o.charCodeAt(u++)>>>0;return"go"+d})(i));if(!ga[l]){let o=i!==e?e:(u=>{let d,f,h=[{}];for(;d=$E.exec(u.replace(qE,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Zy," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Zy," ").trim();return h[0]})(e);ga[l]=rn(r?{["@keyframes "+l]:o}:o,s?"":"."+l)}let c=s&&ga.g?ga.g:null;return s&&(ga.g=ga[l]),((o,u,d,f)=>{f?u.data=u.data.replace(f,o):u.data.indexOf(o)===-1&&(u.data=d?o+u.data:u.data+o)})(ga[l],t,n,c),l},HE=(e,t,s)=>e.reduce((n,r,i)=>{let l=t[i];if(l&&l.call){let c=l(s),o=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=o?"."+o:c&&typeof c=="object"?c.props?"":rn(c,""):c===!1?"":c}return n+r+(l??"")},"");function Zd(e){let t=this||{},s=e.call?e(t.p):e;return FE(s.unshift?s.raw?HE(s,[].slice.call(arguments,1),t.p):s.reduce((n,r)=>Object.assign(n,r&&r.call?r(t.p):r),{}):s,UE(t.target),t.g,t.o,t.k)}let I2,Ym,Gm;Zd.bind({g:1});let qa=Zd.bind({k:1});function IE(e,t,s,n){rn.p=t,I2=e,Ym=s,Gm=n}function Qn(e,t){let s=this||{};return function(){let n=arguments;function r(i,l){let c=Object.assign({},i),o=c.className||r.className;s.p=Object.assign({theme:Ym&&Ym()},c),s.o=/ *go\d+/.test(o),c.className=Zd.apply(s,n)+(o?" "+o:"");let u=e;return e[0]&&(u=c.as||e,delete c.as),Gm&&u[0]&&Gm(c),I2(u,c)}return r}}var YE=e=>typeof e=="function",fd=(e,t)=>YE(e)?e(t):e,GE=(()=>{let e=0;return()=>(++e).toString()})(),Y2=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),KE=20,F0="default",G2=(e,t)=>{let{toastLimit:s}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,s)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:n}=t;return G2(e,{type:e.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(l=>l.id===r||r===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+i}))}}},bu=[],K2={toasts:[],pausedAt:void 0,settings:{toastLimit:KE}},Zs={},Q2=(e,t=F0)=>{Zs[t]=G2(Zs[t]||K2,e),bu.forEach(([s,n])=>{s===t&&n(Zs[t])})},X2=e=>Object.keys(Zs).forEach(t=>Q2(e,t)),QE=e=>Object.keys(Zs).find(t=>Zs[t].toasts.some(s=>s.id===e)),Jd=(e=F0)=>t=>{Q2(t,e)},XE={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},WE=(e={},t=F0)=>{let[s,n]=b.useState(Zs[t]||K2),r=b.useRef(Zs[t]);b.useEffect(()=>(r.current!==Zs[t]&&n(Zs[t]),bu.push([t,n]),()=>{let l=bu.findIndex(([c])=>c===t);l>-1&&bu.splice(l,1)}),[t]);let i=s.toasts.map(l=>{var c,o,u;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((c=e[l.type])==null?void 0:c.removeDelay)||(e==null?void 0:e.removeDelay),duration:l.duration||((o=e[l.type])==null?void 0:o.duration)||(e==null?void 0:e.duration)||XE[l.type],style:{...e.style,...(u=e[l.type])==null?void 0:u.style,...l.style}}});return{...s,toasts:i}},ZE=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||GE()}),ho=e=>(t,s)=>{let n=ZE(t,e,s);return Jd(n.toasterId||QE(n.id))({type:2,toast:n}),n.id},it=(e,t)=>ho("blank")(e,t);it.error=ho("error");it.success=ho("success");it.loading=ho("loading");it.custom=ho("custom");it.dismiss=(e,t)=>{let s={type:3,toastId:e};t?Jd(t)(s):X2(s)};it.dismissAll=e=>it.dismiss(void 0,e);it.remove=(e,t)=>{let s={type:4,toastId:e};t?Jd(t)(s):X2(s)};it.removeAll=e=>it.remove(void 0,e);it.promise=(e,t,s)=>{let n=it.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(r=>{let i=t.success?fd(t.success,r):void 0;return i?it.success(i,{id:n,...s,...s==null?void 0:s.success}):it.dismiss(n),r}).catch(r=>{let i=t.error?fd(t.error,r):void 0;i?it.error(i,{id:n,...s,...s==null?void 0:s.error}):it.dismiss(n)}),e};var JE=1e3,eA=(e,t="default")=>{let{toasts:s,pausedAt:n}=WE(e,t),r=b.useRef(new Map).current,i=b.useCallback((f,h=JE)=>{if(r.has(f))return;let p=setTimeout(()=>{r.delete(f),l({type:4,toastId:f})},h);r.set(f,p)},[]);b.useEffect(()=>{if(n)return;let f=Date.now(),h=s.map(p=>{if(p.duration===1/0)return;let m=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(m<0){p.visible&&it.dismiss(p.id);return}return setTimeout(()=>it.dismiss(p.id,t),m)});return()=>{h.forEach(p=>p&&clearTimeout(p))}},[s,n,t]);let l=b.useCallback(Jd(t),[t]),c=b.useCallback(()=>{l({type:5,time:Date.now()})},[l]),o=b.useCallback((f,h)=>{l({type:1,toast:{id:f,height:h}})},[l]),u=b.useCallback(()=>{n&&l({type:6,time:Date.now()})},[n,l]),d=b.useCallback((f,h)=>{let{reverseOrder:p=!1,gutter:m=8,defaultPosition:v}=h||{},j=s.filter(y=>(y.position||v)===(f.position||v)&&y.height),x=j.findIndex(y=>y.id===f.id),g=j.filter((y,N)=>N<x&&y.visible).length;return j.filter(y=>y.visible).slice(...p?[g+1]:[0,g]).reduce((y,N)=>y+(N.height||0)+m,0)},[s]);return b.useEffect(()=>{s.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let h=r.get(f.id);h&&(clearTimeout(h),r.delete(f.id))}})},[s,i]),{toasts:s,handlers:{updateHeight:o,startPause:c,endPause:u,calculateOffset:d}}},tA=qa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,sA=qa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,aA=qa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,nA=Qn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${sA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${aA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,rA=qa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,iA=Qn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${rA} 1s linear infinite;
`,lA=qa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,cA=qa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,oA=Qn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${lA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${cA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,uA=Qn("div")`
  position: absolute;
`,dA=Qn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,fA=qa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hA=Qn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${fA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,mA=({toast:e})=>{let{icon:t,type:s,iconTheme:n}=e;return t!==void 0?typeof t=="string"?b.createElement(hA,null,t):t:s==="blank"?null:b.createElement(dA,null,b.createElement(iA,{...n}),s!=="loading"&&b.createElement(uA,null,s==="error"?b.createElement(nA,{...n}):b.createElement(oA,{...n})))},pA=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,xA=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,gA="0%{opacity:0;} 100%{opacity:1;}",yA="0%{opacity:1;} 100%{opacity:0;}",bA=Qn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,vA=Qn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,jA=(e,t)=>{let s=e.includes("top")?1:-1,[n,r]=Y2()?[gA,yA]:[pA(s),xA(s)];return{animation:t?`${qa(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${qa(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},NA=b.memo(({toast:e,position:t,style:s,children:n})=>{let r=e.height?jA(e.position||t||"top-center",e.visible):{opacity:0},i=b.createElement(mA,{toast:e}),l=b.createElement(vA,{...e.ariaProps},fd(e.message,e));return b.createElement(bA,{className:e.className,style:{...r,...s,...e.style}},typeof n=="function"?n({icon:i,message:l}):b.createElement(b.Fragment,null,i,l))});IE(b.createElement);var wA=({id:e,className:t,style:s,onHeightUpdate:n,children:r})=>{let i=b.useCallback(l=>{if(l){let c=()=>{let o=l.getBoundingClientRect().height;n(e,o)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return b.createElement("div",{ref:i,className:t,style:s},r)},SA=(e,t)=>{let s=e.includes("top"),n=s?{top:0}:{bottom:0},r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Y2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...n,...r}},CA=Zd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,qo=16,kA=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:n,children:r,toasterId:i,containerStyle:l,containerClassName:c})=>{let{toasts:o,handlers:u}=eA(s,i);return b.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:qo,left:qo,right:qo,bottom:qo,pointerEvents:"none",...l},className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},o.map(d=>{let f=d.position||t,h=u.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),p=SA(f,h);return b.createElement(wA,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?CA:"",style:p},d.type==="custom"?fd(d.message,d):r?r(d):b.createElement(NA,{toast:d,position:f}))}))},$=it;const EA={},Jy=e=>{let t;const s=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),s.forEach(m=>m(t,p))}},r=()=>t,o={setState:n,getState:r,getInitialState:()=>u,subscribe:d=>(s.add(d),()=>s.delete(d)),destroy:()=>{(EA?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},u=t=e(n,r,o);return o},AA=e=>e?Jy(e):Jy;var W2={exports:{}},Z2={},J2={exports:{}},ew={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zi=b;function TA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var MA=typeof Object.is=="function"?Object.is:TA,DA=Zi.useState,RA=Zi.useEffect,OA=Zi.useLayoutEffect,_A=Zi.useDebugValue;function LA(e,t){var s=t(),n=DA({inst:{value:s,getSnapshot:t}}),r=n[0].inst,i=n[1];return OA(function(){r.value=s,r.getSnapshot=t,ah(r)&&i({inst:r})},[e,s,t]),RA(function(){return ah(r)&&i({inst:r}),e(function(){ah(r)&&i({inst:r})})},[e]),_A(s),s}function ah(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!MA(e,s)}catch{return!0}}function PA(e,t){return t()}var BA=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?PA:LA;ew.useSyncExternalStore=Zi.useSyncExternalStore!==void 0?Zi.useSyncExternalStore:BA;J2.exports=ew;var zA=J2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef=b,VA=zA;function UA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $A=typeof Object.is=="function"?Object.is:UA,qA=VA.useSyncExternalStore,FA=ef.useRef,HA=ef.useEffect,IA=ef.useMemo,YA=ef.useDebugValue;Z2.useSyncExternalStoreWithSelector=function(e,t,s,n,r){var i=FA(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=IA(function(){function o(p){if(!u){if(u=!0,d=p,p=n(p),r!==void 0&&l.hasValue){var m=l.value;if(r(m,p))return f=m}return f=p}if(m=f,$A(d,p))return m;var v=n(p);return r!==void 0&&r(m,v)?(d=p,m):(d=p,f=v)}var u=!1,d,f,h=s===void 0?null:s;return[function(){return o(t())},h===null?void 0:function(){return o(h())}]},[t,s,n,r]);var c=qA(e,i[0],i[1]);return HA(function(){l.hasValue=!0,l.value=c},[c]),YA(c),c};W2.exports=Z2;var GA=W2.exports;const KA=Mp(GA),tw={},{useDebugValue:QA}=Pp,{useSyncExternalStoreWithSelector:XA}=KA;let eb=!1;const WA=e=>e;function ZA(e,t=WA,s){(tw?"production":void 0)!=="production"&&s&&!eb&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),eb=!0);const n=XA(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return QA(n),n}const tb=e=>{(tw?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?AA(e):e,s=(n,r)=>ZA(t,n,r);return Object.assign(s,t),s},H0=e=>e?tb(e):tb,JA={};function eT(e,t){let s;try{s=e()}catch{return}return{getItem:r=>{var i;const l=o=>o===null?null:JSON.parse(o,void 0),c=(i=s.getItem(r))!=null?i:null;return c instanceof Promise?c.then(l):l(c)},setItem:(r,i)=>s.setItem(r,JSON.stringify(i,void 0)),removeItem:r=>s.removeItem(r)}}const Pc=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then(n){return Pc(n)(s)},catch(n){return this}}}catch(s){return{then(n){return this},catch(n){return Pc(n)(s)}}}},tT=(e,t)=>(s,n,r)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:j=>j,version:0,merge:(j,x)=>({...x,...j}),...t},l=!1;const c=new Set,o=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...j)},n,r);const d=Pc(i.serialize),f=()=>{const j=i.partialize({...n()});let x;const g=d({state:j,version:i.version}).then(y=>u.setItem(i.name,y)).catch(y=>{x=y});if(x)throw x;return g},h=r.setState;r.setState=(j,x)=>{h(j,x),f()};const p=e((...j)=>{s(...j),f()},n,r);let m;const v=()=>{var j;if(!u)return;l=!1,c.forEach(g=>g(n()));const x=((j=i.onRehydrateStorage)==null?void 0:j.call(i,n()))||void 0;return Pc(u.getItem.bind(u))(i.name).then(g=>{if(g)return i.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return i.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var y;return m=i.merge(g,(y=n())!=null?y:p),s(m,!0),f()}).then(()=>{x==null||x(m,void 0),l=!0,o.forEach(g=>g(m))}).catch(g=>{x==null||x(void 0,g)})};return r.persist={setOptions:j=>{i={...i,...j},j.getStorage&&(u=j.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>l,onHydrate:j=>(c.add(j),()=>{c.delete(j)}),onFinishHydration:j=>(o.add(j),()=>{o.delete(j)})},v(),m||p},sT=(e,t)=>(s,n,r)=>{let i={storage:eT(()=>localStorage),partialize:v=>v,version:0,merge:(v,j)=>({...j,...v}),...t},l=!1;const c=new Set,o=new Set;let u=i.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...v)},n,r);const d=()=>{const v=i.partialize({...n()});return u.setItem(i.name,{state:v,version:i.version})},f=r.setState;r.setState=(v,j)=>{f(v,j),d()};const h=e((...v)=>{s(...v),d()},n,r);r.getInitialState=()=>h;let p;const m=()=>{var v,j;if(!u)return;l=!1,c.forEach(g=>{var y;return g((y=n())!=null?y:h)});const x=((j=i.onRehydrateStorage)==null?void 0:j.call(i,(v=n())!=null?v:h))||void 0;return Pc(u.getItem.bind(u))(i.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return[!0,i.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var y;const[N,k]=g;if(p=i.merge(k,(y=n())!=null?y:h),s(p,!0),N)return d()}).then(()=>{x==null||x(p,void 0),p=n(),l=!0,o.forEach(g=>g(p))}).catch(g=>{x==null||x(void 0,g)})};return r.persist={setOptions:v=>{i={...i,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>l,onHydrate:v=>(c.add(v),()=>{c.delete(v)}),onFinishHydration:v=>(o.add(v),()=>{o.delete(v)})},i.skipHydration||m(),p||h},aT=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((JA?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),tT(e,t)):sT(e,t),nT=aT;function sw(e,t){return function(){return e.apply(t,arguments)}}const{toString:rT}=Object.prototype,{getPrototypeOf:I0}=Object,{iterator:tf,toStringTag:aw}=Symbol,sf=(e=>t=>{const s=rT.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),$s=e=>(e=e.toLowerCase(),t=>sf(t)===e),af=e=>t=>typeof t===e,{isArray:xl}=Array,Ji=af("undefined");function mo(e){return e!==null&&!Ji(e)&&e.constructor!==null&&!Ji(e.constructor)&&It(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const nw=$s("ArrayBuffer");function iT(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&nw(e.buffer),t}const lT=af("string"),It=af("function"),rw=af("number"),po=e=>e!==null&&typeof e=="object",cT=e=>e===!0||e===!1,vu=e=>{if(sf(e)!=="object")return!1;const t=I0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(aw in e)&&!(tf in e)},oT=e=>{if(!po(e)||mo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},uT=$s("Date"),dT=$s("File"),fT=$s("Blob"),hT=$s("FileList"),mT=e=>po(e)&&It(e.pipe),pT=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||It(e.append)&&((t=sf(e))==="formdata"||t==="object"&&It(e.toString)&&e.toString()==="[object FormData]"))},xT=$s("URLSearchParams"),[gT,yT,bT,vT]=["ReadableStream","Request","Response","Headers"].map($s),jT=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xo(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let n,r;if(typeof e!="object"&&(e=[e]),xl(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(mo(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let c;for(n=0;n<l;n++)c=i[n],t.call(null,e[c],c,e)}}function iw(e,t){if(mo(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n=s.length,r;for(;n-- >0;)if(r=s[n],t===r.toLowerCase())return r;return null}const cr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lw=e=>!Ji(e)&&e!==cr;function Km(){const{caseless:e,skipUndefined:t}=lw(this)&&this||{},s={},n=(r,i)=>{const l=e&&iw(s,i)||i;vu(s[l])&&vu(r)?s[l]=Km(s[l],r):vu(r)?s[l]=Km({},r):xl(r)?s[l]=r.slice():(!t||!Ji(r))&&(s[l]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&xo(arguments[r],n);return s}const NT=(e,t,s,{allOwnKeys:n}={})=>(xo(t,(r,i)=>{s&&It(r)?e[i]=sw(r,s):e[i]=r},{allOwnKeys:n}),e),wT=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ST=(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},CT=(e,t,s,n)=>{let r,i,l;const c={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),i=r.length;i-- >0;)l=r[i],(!n||n(l,e,t))&&!c[l]&&(t[l]=e[l],c[l]=!0);e=s!==!1&&I0(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kT=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return n!==-1&&n===s},ET=e=>{if(!e)return null;if(xl(e))return e;let t=e.length;if(!rw(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},AT=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&I0(Uint8Array)),TT=(e,t)=>{const n=(e&&e[tf]).call(e);let r;for(;(r=n.next())&&!r.done;){const i=r.value;t.call(e,i[0],i[1])}},MT=(e,t)=>{let s;const n=[];for(;(s=e.exec(t))!==null;)n.push(s);return n},DT=$s("HTMLFormElement"),RT=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,r){return n.toUpperCase()+r}),sb=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),OT=$s("RegExp"),cw=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};xo(s,(r,i)=>{let l;(l=t(r,i,e))!==!1&&(n[i]=l||r)}),Object.defineProperties(e,n)},_T=e=>{cw(e,(t,s)=>{if(It(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=e[s];if(It(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},LT=(e,t)=>{const s={},n=r=>{r.forEach(i=>{s[i]=!0})};return xl(e)?n(e):n(String(e).split(t)),s},PT=()=>{},BT=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function zT(e){return!!(e&&It(e.append)&&e[aw]==="FormData"&&e[tf])}const VT=e=>{const t=new Array(10),s=(n,r)=>{if(po(n)){if(t.indexOf(n)>=0)return;if(mo(n))return n;if(!("toJSON"in n)){t[r]=n;const i=xl(n)?[]:{};return xo(n,(l,c)=>{const o=s(l,r+1);!Ji(o)&&(i[c]=o)}),t[r]=void 0,i}}return n};return s(e,0)},UT=$s("AsyncFunction"),$T=e=>e&&(po(e)||It(e))&&It(e.then)&&It(e.catch),ow=((e,t)=>e?setImmediate:t?((s,n)=>(cr.addEventListener("message",({source:r,data:i})=>{r===cr&&i===s&&n.length&&n.shift()()},!1),r=>{n.push(r),cr.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",It(cr.postMessage)),qT=typeof queueMicrotask<"u"?queueMicrotask.bind(cr):typeof process<"u"&&process.nextTick||ow,FT=e=>e!=null&&It(e[tf]),H={isArray:xl,isArrayBuffer:nw,isBuffer:mo,isFormData:pT,isArrayBufferView:iT,isString:lT,isNumber:rw,isBoolean:cT,isObject:po,isPlainObject:vu,isEmptyObject:oT,isReadableStream:gT,isRequest:yT,isResponse:bT,isHeaders:vT,isUndefined:Ji,isDate:uT,isFile:dT,isBlob:fT,isRegExp:OT,isFunction:It,isStream:mT,isURLSearchParams:xT,isTypedArray:AT,isFileList:hT,forEach:xo,merge:Km,extend:NT,trim:jT,stripBOM:wT,inherits:ST,toFlatObject:CT,kindOf:sf,kindOfTest:$s,endsWith:kT,toArray:ET,forEachEntry:TT,matchAll:MT,isHTMLForm:DT,hasOwnProperty:sb,hasOwnProp:sb,reduceDescriptors:cw,freezeMethods:_T,toObjectSet:LT,toCamelCase:RT,noop:PT,toFiniteNumber:BT,findKey:iw,global:cr,isContextDefined:lw,isSpecCompliantForm:zT,toJSONObject:VT,isAsyncFn:UT,isThenable:$T,setImmediate:ow,asap:qT,isIterable:FT};function le(e,t,s,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}H.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const uw=le.prototype,dw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{dw[e]={value:e}});Object.defineProperties(le,dw);Object.defineProperty(uw,"isAxiosError",{value:!0});le.from=(e,t,s,n,r,i)=>{const l=Object.create(uw);H.toFlatObject(e,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const c=e&&e.message?e.message:"Error",o=t==null&&e?e.code:t;return le.call(l,c,o,s,n,r),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const HT=null;function Qm(e){return H.isPlainObject(e)||H.isArray(e)}function fw(e){return H.endsWith(e,"[]")?e.slice(0,-2):e}function ab(e,t,s){return e?e.concat(t).map(function(r,i){return r=fw(r),!s&&i?"["+r+"]":r}).join(s?".":""):t}function IT(e){return H.isArray(e)&&!e.some(Qm)}const YT=H.toFlatObject(H,{},null,function(t){return/^is[A-Z]/.test(t)});function nf(e,t,s){if(!H.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=H.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,j){return!H.isUndefined(j[v])});const n=s.metaTokens,r=s.visitor||d,i=s.dots,l=s.indexes,o=(s.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(t);if(!H.isFunction(r))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(H.isDate(m))return m.toISOString();if(H.isBoolean(m))return m.toString();if(!o&&H.isBlob(m))throw new le("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(m)||H.isTypedArray(m)?o&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,v,j){let x=m;if(m&&!j&&typeof m=="object"){if(H.endsWith(v,"{}"))v=n?v:v.slice(0,-2),m=JSON.stringify(m);else if(H.isArray(m)&&IT(m)||(H.isFileList(m)||H.endsWith(v,"[]"))&&(x=H.toArray(m)))return v=fw(v),x.forEach(function(y,N){!(H.isUndefined(y)||y===null)&&t.append(l===!0?ab([v],N,i):l===null?v:v+"[]",u(y))}),!1}return Qm(m)?!0:(t.append(ab(j,v,i),u(m)),!1)}const f=[],h=Object.assign(YT,{defaultVisitor:d,convertValue:u,isVisitable:Qm});function p(m,v){if(!H.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(m),H.forEach(m,function(x,g){(!(H.isUndefined(x)||x===null)&&r.call(t,x,H.isString(g)?g.trim():g,v,h))===!0&&p(x,v?v.concat(g):[g])}),f.pop()}}if(!H.isObject(e))throw new TypeError("data must be an object");return p(e),t}function nb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Y0(e,t){this._pairs=[],e&&nf(e,this,t)}const hw=Y0.prototype;hw.append=function(t,s){this._pairs.push([t,s])};hw.toString=function(t){const s=t?function(n){return t.call(this,n,nb)}:nb;return this._pairs.map(function(r){return s(r[0])+"="+s(r[1])},"").join("&")};function GT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function mw(e,t,s){if(!t)return e;const n=s&&s.encode||GT;H.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let i;if(r?i=r(t,s):i=H.isURLSearchParams(t)?t.toString():new Y0(t,s).toString(n),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class rb{constructor(){this.handlers=[]}use(t,s,n){return this.handlers.push({fulfilled:t,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){H.forEach(this.handlers,function(n){n!==null&&t(n)})}}const pw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KT=typeof URLSearchParams<"u"?URLSearchParams:Y0,QT=typeof FormData<"u"?FormData:null,XT=typeof Blob<"u"?Blob:null,WT={isBrowser:!0,classes:{URLSearchParams:KT,FormData:QT,Blob:XT},protocols:["http","https","file","blob","url","data"]},G0=typeof window<"u"&&typeof document<"u",Xm=typeof navigator=="object"&&navigator||void 0,ZT=G0&&(!Xm||["ReactNative","NativeScript","NS"].indexOf(Xm.product)<0),JT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eM=G0&&window.location.href||"http://localhost",tM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:G0,hasStandardBrowserEnv:ZT,hasStandardBrowserWebWorkerEnv:JT,navigator:Xm,origin:eM},Symbol.toStringTag,{value:"Module"})),St={...tM,...WT};function sM(e,t){return nf(e,new St.classes.URLSearchParams,{visitor:function(s,n,r,i){return St.isNode&&H.isBuffer(s)?(this.append(n,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function aM(e){return H.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nM(e){const t={},s=Object.keys(e);let n;const r=s.length;let i;for(n=0;n<r;n++)i=s[n],t[i]=e[i];return t}function xw(e){function t(s,n,r,i){let l=s[i++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),o=i>=s.length;return l=!l&&H.isArray(r)?r.length:l,o?(H.hasOwnProp(r,l)?r[l]=[r[l],n]:r[l]=n,!c):((!r[l]||!H.isObject(r[l]))&&(r[l]=[]),t(s,n,r[l],i)&&H.isArray(r[l])&&(r[l]=nM(r[l])),!c)}if(H.isFormData(e)&&H.isFunction(e.entries)){const s={};return H.forEachEntry(e,(n,r)=>{t(aM(n),r,s,0)}),s}return null}function rM(e,t,s){if(H.isString(e))try{return(t||JSON.parse)(e),H.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(e)}const go={transitional:pw,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const n=s.getContentType()||"",r=n.indexOf("application/json")>-1,i=H.isObject(t);if(i&&H.isHTMLForm(t)&&(t=new FormData(t)),H.isFormData(t))return r?JSON.stringify(xw(t)):t;if(H.isArrayBuffer(t)||H.isBuffer(t)||H.isStream(t)||H.isFile(t)||H.isBlob(t)||H.isReadableStream(t))return t;if(H.isArrayBufferView(t))return t.buffer;if(H.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return sM(t,this.formSerializer).toString();if((c=H.isFileList(t))||n.indexOf("multipart/form-data")>-1){const o=this.env&&this.env.FormData;return nf(c?{"files[]":t}:t,o&&new o,this.formSerializer)}}return i||r?(s.setContentType("application/json",!1),rM(t)):t}],transformResponse:[function(t){const s=this.transitional||go.transitional,n=s&&s.forcedJSONParsing,r=this.responseType==="json";if(H.isResponse(t)||H.isReadableStream(t))return t;if(t&&H.isString(t)&&(n&&!this.responseType||r)){const l=!(s&&s.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(c){if(l)throw c.name==="SyntaxError"?le.from(c,le.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:St.classes.FormData,Blob:St.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],e=>{go.headers[e]={}});const iM=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lM=e=>{const t={};let s,n,r;return e&&e.split(`
`).forEach(function(l){r=l.indexOf(":"),s=l.substring(0,r).trim().toLowerCase(),n=l.substring(r+1).trim(),!(!s||t[s]&&iM[s])&&(s==="set-cookie"?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t},ib=Symbol("internals");function _l(e){return e&&String(e).trim().toLowerCase()}function ju(e){return e===!1||e==null?e:H.isArray(e)?e.map(ju):String(e)}function cM(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}const oM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function nh(e,t,s,n,r){if(H.isFunction(n))return n.call(this,t,s);if(r&&(t=s),!!H.isString(t)){if(H.isString(n))return t.indexOf(n)!==-1;if(H.isRegExp(n))return n.test(t)}}function uM(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,n)=>s.toUpperCase()+n)}function dM(e,t){const s=H.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(r,i,l){return this[n].call(this,t,r,i,l)},configurable:!0})})}let Yt=class{constructor(t){t&&this.set(t)}set(t,s,n){const r=this;function i(c,o,u){const d=_l(o);if(!d)throw new Error("header name must be a non-empty string");const f=H.findKey(r,d);(!f||r[f]===void 0||u===!0||u===void 0&&r[f]!==!1)&&(r[f||o]=ju(c))}const l=(c,o)=>H.forEach(c,(u,d)=>i(u,d,o));if(H.isPlainObject(t)||t instanceof this.constructor)l(t,s);else if(H.isString(t)&&(t=t.trim())&&!oM(t))l(lM(t),s);else if(H.isObject(t)&&H.isIterable(t)){let c={},o,u;for(const d of t){if(!H.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[u=d[0]]=(o=c[u])?H.isArray(o)?[...o,d[1]]:[o,d[1]]:d[1]}l(c,s)}else t!=null&&i(s,t,n);return this}get(t,s){if(t=_l(t),t){const n=H.findKey(this,t);if(n){const r=this[n];if(!s)return r;if(s===!0)return cM(r);if(H.isFunction(s))return s.call(this,r,n);if(H.isRegExp(s))return s.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=_l(t),t){const n=H.findKey(this,t);return!!(n&&this[n]!==void 0&&(!s||nh(this,this[n],n,s)))}return!1}delete(t,s){const n=this;let r=!1;function i(l){if(l=_l(l),l){const c=H.findKey(n,l);c&&(!s||nh(n,n[c],c,s))&&(delete n[c],r=!0)}}return H.isArray(t)?t.forEach(i):i(t),r}clear(t){const s=Object.keys(this);let n=s.length,r=!1;for(;n--;){const i=s[n];(!t||nh(this,this[i],i,t,!0))&&(delete this[i],r=!0)}return r}normalize(t){const s=this,n={};return H.forEach(this,(r,i)=>{const l=H.findKey(n,i);if(l){s[l]=ju(r),delete s[i];return}const c=t?uM(i):String(i).trim();c!==i&&delete s[i],s[c]=ju(r),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return H.forEach(this,(n,r)=>{n!=null&&n!==!1&&(s[r]=t&&H.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const n=new this(t);return s.forEach(r=>n.set(r)),n}static accessor(t){const n=(this[ib]=this[ib]={accessors:{}}).accessors,r=this.prototype;function i(l){const c=_l(l);n[c]||(dM(r,l),n[c]=!0)}return H.isArray(t)?t.forEach(i):i(t),this}};Yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(Yt.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[s]=n}}});H.freezeMethods(Yt);function rh(e,t){const s=this||go,n=t||s,r=Yt.from(n.headers);let i=n.data;return H.forEach(e,function(c){i=c.call(s,i,r.normalize(),t?t.status:void 0)}),r.normalize(),i}function gw(e){return!!(e&&e.__CANCEL__)}function gl(e,t,s){le.call(this,e??"canceled",le.ERR_CANCELED,t,s),this.name="CanceledError"}H.inherits(gl,le,{__CANCEL__:!0});function yw(e,t,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?e(s):t(new le("Request failed with status code "+s.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function fM(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function hM(e,t){e=e||10;const s=new Array(e),n=new Array(e);let r=0,i=0,l;return t=t!==void 0?t:1e3,function(o){const u=Date.now(),d=n[i];l||(l=u),s[r]=o,n[r]=u;let f=i,h=0;for(;f!==r;)h+=s[f++],f=f%e;if(r=(r+1)%e,r===i&&(i=(i+1)%e),u-l<t)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function mM(e,t){let s=0,n=1e3/t,r,i;const l=(u,d=Date.now())=>{s=d,r=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-s;f>=n?l(u,d):(r=u,i||(i=setTimeout(()=>{i=null,l(r)},n-f)))},()=>r&&l(r)]}const hd=(e,t,s=3)=>{let n=0;const r=hM(50,250);return mM(i=>{const l=i.loaded,c=i.lengthComputable?i.total:void 0,o=l-n,u=r(o),d=l<=c;n=l;const f={loaded:l,total:c,progress:c?l/c:void 0,bytes:o,rate:u||void 0,estimated:u&&c&&d?(c-l)/u:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(f)},s)},lb=(e,t)=>{const s=e!=null;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},cb=e=>(...t)=>H.asap(()=>e(...t)),pM=St.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,St.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(St.origin),St.navigator&&/(msie|trident)/i.test(St.navigator.userAgent)):()=>!0,xM=St.hasStandardBrowserEnv?{write(e,t,s,n,r,i,l){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(t)}`];H.isNumber(s)&&c.push(`expires=${new Date(s).toUTCString()}`),H.isString(n)&&c.push(`path=${n}`),H.isString(r)&&c.push(`domain=${r}`),i===!0&&c.push("secure"),H.isString(l)&&c.push(`SameSite=${l}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function gM(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yM(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bw(e,t,s){let n=!gM(t);return e&&(n||s==!1)?yM(e,t):t}const ob=e=>e instanceof Yt?{...e}:e;function Br(e,t){t=t||{};const s={};function n(u,d,f,h){return H.isPlainObject(u)&&H.isPlainObject(d)?H.merge.call({caseless:h},u,d):H.isPlainObject(d)?H.merge({},d):H.isArray(d)?d.slice():d}function r(u,d,f,h){if(H.isUndefined(d)){if(!H.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function i(u,d){if(!H.isUndefined(d))return n(void 0,d)}function l(u,d){if(H.isUndefined(d)){if(!H.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function c(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const o={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(u,d,f)=>r(ob(u),ob(d),f,!0)};return H.forEach(Object.keys({...e,...t}),function(d){const f=o[d]||r,h=f(e[d],t[d],d);H.isUndefined(h)&&f!==c||(s[d]=h)}),s}const vw=e=>{const t=Br({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:i,headers:l,auth:c}=t;if(t.headers=l=Yt.from(l),t.url=mw(bw(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),H.isFormData(s)){if(St.hasStandardBrowserEnv||St.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(H.isFunction(s.getHeaders)){const o=s.getHeaders(),u=["content-type","content-length"];Object.entries(o).forEach(([d,f])=>{u.includes(d.toLowerCase())&&l.set(d,f)})}}if(St.hasStandardBrowserEnv&&(n&&H.isFunction(n)&&(n=n(t)),n||n!==!1&&pM(t.url))){const o=r&&i&&xM.read(i);o&&l.set(r,o)}return t},bM=typeof XMLHttpRequest<"u",vM=bM&&function(e){return new Promise(function(s,n){const r=vw(e);let i=r.data;const l=Yt.from(r.headers).normalize();let{responseType:c,onUploadProgress:o,onDownloadProgress:u}=r,d,f,h,p,m;function v(){p&&p(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let j=new XMLHttpRequest;j.open(r.method.toUpperCase(),r.url,!0),j.timeout=r.timeout;function x(){if(!j)return;const y=Yt.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),k={data:!c||c==="text"||c==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:y,config:e,request:j};yw(function(w){s(w),v()},function(w){n(w),v()},k),j=null}"onloadend"in j?j.onloadend=x:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(x)},j.onabort=function(){j&&(n(new le("Request aborted",le.ECONNABORTED,e,j)),j=null)},j.onerror=function(N){const k=N&&N.message?N.message:"Network Error",D=new le(k,le.ERR_NETWORK,e,j);D.event=N||null,n(D),j=null},j.ontimeout=function(){let N=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const k=r.transitional||pw;r.timeoutErrorMessage&&(N=r.timeoutErrorMessage),n(new le(N,k.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,e,j)),j=null},i===void 0&&l.setContentType(null),"setRequestHeader"in j&&H.forEach(l.toJSON(),function(N,k){j.setRequestHeader(k,N)}),H.isUndefined(r.withCredentials)||(j.withCredentials=!!r.withCredentials),c&&c!=="json"&&(j.responseType=r.responseType),u&&([h,m]=hd(u,!0),j.addEventListener("progress",h)),o&&j.upload&&([f,p]=hd(o),j.upload.addEventListener("progress",f),j.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(d=y=>{j&&(n(!y||y.type?new gl(null,e,j):y),j.abort(),j=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const g=fM(r.url);if(g&&St.protocols.indexOf(g)===-1){n(new le("Unsupported protocol "+g+":",le.ERR_BAD_REQUEST,e));return}j.send(i||null)})},jM=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let n=new AbortController,r;const i=function(u){if(!r){r=!0,c();const d=u instanceof Error?u:this.reason;n.abort(d instanceof le?d:new gl(d instanceof Error?d.message:d))}};let l=t&&setTimeout(()=>{l=null,i(new le(`timeout ${t} of ms exceeded`,le.ETIMEDOUT))},t);const c=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:o}=n;return o.unsubscribe=()=>H.asap(c),o}},NM=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let n=0,r;for(;n<s;)r=n+t,yield e.slice(n,r),n=r},wM=async function*(e,t){for await(const s of SM(e))yield*NM(s,t)},SM=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:n}=await t.read();if(s)break;yield n}}finally{await t.cancel()}},ub=(e,t,s,n)=>{const r=wM(e,t);let i=0,l,c=o=>{l||(l=!0,n&&n(o))};return new ReadableStream({async pull(o){try{const{done:u,value:d}=await r.next();if(u){c(),o.close();return}let f=d.byteLength;if(s){let h=i+=f;s(h)}o.enqueue(new Uint8Array(d))}catch(u){throw c(u),u}},cancel(o){return c(o),r.return()}},{highWaterMark:2})},db=64*1024,{isFunction:Fo}=H,CM=(({Request:e,Response:t})=>({Request:e,Response:t}))(H.global),{ReadableStream:fb,TextEncoder:hb}=H.global,mb=(e,...t)=>{try{return!!e(...t)}catch{return!1}},kM=e=>{e=H.merge.call({skipUndefined:!0},CM,e);const{fetch:t,Request:s,Response:n}=e,r=t?Fo(t):typeof fetch=="function",i=Fo(s),l=Fo(n);if(!r)return!1;const c=r&&Fo(fb),o=r&&(typeof hb=="function"?(m=>v=>m.encode(v))(new hb):async m=>new Uint8Array(await new s(m).arrayBuffer())),u=i&&c&&mb(()=>{let m=!1;const v=new s(St.origin,{body:new fb,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!v}),d=l&&c&&mb(()=>H.isReadableStream(new n("").body)),f={stream:d&&(m=>m.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(v,j)=>{let x=v&&v[m];if(x)return x.call(v);throw new le(`Response type '${m}' is not supported`,le.ERR_NOT_SUPPORT,j)})});const h=async m=>{if(m==null)return 0;if(H.isBlob(m))return m.size;if(H.isSpecCompliantForm(m))return(await new s(St.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(H.isArrayBufferView(m)||H.isArrayBuffer(m))return m.byteLength;if(H.isURLSearchParams(m)&&(m=m+""),H.isString(m))return(await o(m)).byteLength},p=async(m,v)=>{const j=H.toFiniteNumber(m.getContentLength());return j??h(v)};return async m=>{let{url:v,method:j,data:x,signal:g,cancelToken:y,timeout:N,onDownloadProgress:k,onUploadProgress:D,responseType:w,headers:T,withCredentials:O="same-origin",fetchOptions:A}=vw(m),E=t||fetch;w=w?(w+"").toLowerCase():"text";let S=jM([g,y&&y.toAbortSignal()],N),M=null;const C=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let q;try{if(D&&u&&j!=="get"&&j!=="head"&&(q=await p(T,x))!==0){let I=new s(v,{method:"POST",body:x,duplex:"half"}),Q;if(H.isFormData(x)&&(Q=I.headers.get("content-type"))&&T.setContentType(Q),I.body){const[P,W]=lb(q,hd(cb(D)));x=ub(I.body,db,P,W)}}H.isString(O)||(O=O?"include":"omit");const U=i&&"credentials"in s.prototype,_={...A,signal:S,method:j.toUpperCase(),headers:T.normalize().toJSON(),body:x,duplex:"half",credentials:U?O:void 0};M=i&&new s(v,_);let F=await(i?E(M,A):E(v,_));const G=d&&(w==="stream"||w==="response");if(d&&(k||G&&C)){const I={};["status","statusText","headers"].forEach(se=>{I[se]=F[se]});const Q=H.toFiniteNumber(F.headers.get("content-length")),[P,W]=k&&lb(Q,hd(cb(k),!0))||[];F=new n(ub(F.body,db,P,()=>{W&&W(),C&&C()}),I)}w=w||"text";let B=await f[H.findKey(f,w)||"text"](F,m);return!G&&C&&C(),await new Promise((I,Q)=>{yw(I,Q,{data:B,headers:Yt.from(F.headers),status:F.status,statusText:F.statusText,config:m,request:M})})}catch(U){throw C&&C(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,m,M),{cause:U.cause||U}):le.from(U,U&&U.code,m,M)}}},EM=new Map,jw=e=>{let t=e&&e.env||{};const{fetch:s,Request:n,Response:r}=t,i=[n,r,s];let l=i.length,c=l,o,u,d=EM;for(;c--;)o=i[c],u=d.get(o),u===void 0&&d.set(o,u=c?new Map:kM(t)),d=u;return u};jw();const K0={http:HT,xhr:vM,fetch:{get:jw}};H.forEach(K0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const pb=e=>`- ${e}`,AM=e=>H.isFunction(e)||e===null||e===!1;function TM(e,t){e=H.isArray(e)?e:[e];const{length:s}=e;let n,r;const i={};for(let l=0;l<s;l++){n=e[l];let c;if(r=n,!AM(n)&&(r=K0[(c=String(n)).toLowerCase()],r===void 0))throw new le(`Unknown adapter '${c}'`);if(r&&(H.isFunction(r)||(r=r.get(t))))break;i[c||"#"+l]=r}if(!r){const l=Object.entries(i).map(([o,u])=>`adapter ${o} `+(u===!1?"is not supported by the environment":"is not available in the build"));let c=s?l.length>1?`since :
`+l.map(pb).join(`
`):" "+pb(l[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r}const Nw={getAdapter:TM,adapters:K0};function ih(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gl(null,e)}function xb(e){return ih(e),e.headers=Yt.from(e.headers),e.data=rh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Nw.getAdapter(e.adapter||go.adapter,e)(e).then(function(n){return ih(e),n.data=rh.call(e,e.transformResponse,n),n.headers=Yt.from(n.headers),n},function(n){return gw(n)||(ih(e),n&&n.response&&(n.response.data=rh.call(e,e.transformResponse,n.response),n.response.headers=Yt.from(n.response.headers))),Promise.reject(n)})}const ww="1.13.2",rf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{rf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const gb={};rf.transitional=function(t,s,n){function r(i,l){return"[Axios v"+ww+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,c)=>{if(t===!1)throw new le(r(l," has been removed"+(s?" in "+s:"")),le.ERR_DEPRECATED);return s&&!gb[l]&&(gb[l]=!0,console.warn(r(l," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,l,c):!0}};rf.spelling=function(t){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function MM(e,t,s){if(typeof e!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const i=n[r],l=t[i];if(l){const c=e[i],o=c===void 0||l(c,i,e);if(o!==!0)throw new le("option "+i+" must be "+o,le.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new le("Unknown option "+i,le.ERR_BAD_OPTION)}}const Nu={assertOptions:MM,validators:rf},qs=Nu.validators;let Cr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new rb,response:new rb}}async request(t,s){try{return await this._request(t,s)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=Br(this.defaults,s);const{transitional:n,paramsSerializer:r,headers:i}=s;n!==void 0&&Nu.assertOptions(n,{silentJSONParsing:qs.transitional(qs.boolean),forcedJSONParsing:qs.transitional(qs.boolean),clarifyTimeoutError:qs.transitional(qs.boolean)},!1),r!=null&&(H.isFunction(r)?s.paramsSerializer={serialize:r}:Nu.assertOptions(r,{encode:qs.function,serialize:qs.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Nu.assertOptions(s,{baseUrl:qs.spelling("baseURL"),withXsrfToken:qs.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=i&&H.merge(i.common,i[s.method]);i&&H.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),s.headers=Yt.concat(l,i);const c=[];let o=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(s)===!1||(o=o&&v.synchronous,c.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,h;if(!o){const m=[xb.bind(this),void 0];for(m.unshift(...c),m.push(...u),h=m.length,d=Promise.resolve(s);f<h;)d=d.then(m[f++],m[f++]);return d}h=c.length;let p=s;for(;f<h;){const m=c[f++],v=c[f++];try{p=m(p)}catch(j){v.call(this,j);break}}try{d=xb.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Br(this.defaults,t);const s=bw(t.baseURL,t.url,t.allowAbsoluteUrls);return mw(s,t.params,t.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(t){Cr.prototype[t]=function(s,n){return this.request(Br(n||{},{method:t,url:s,data:(n||{}).data}))}});H.forEach(["post","put","patch"],function(t){function s(n){return function(i,l,c){return this.request(Br(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Cr.prototype[t]=s(),Cr.prototype[t+"Form"]=s(!0)});let DM=class Sw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const n=this;this.promise.then(r=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](r);n._listeners=null}),this.promise.then=r=>{let i;const l=new Promise(c=>{n.subscribe(c),i=c}).then(r);return l.cancel=function(){n.unsubscribe(i)},l},t(function(i,l,c){n.reason||(n.reason=new gl(i,l,c),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=n=>{t.abort(n)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Sw(function(r){t=r}),cancel:t}}};function RM(e){return function(s){return e.apply(null,s)}}function OM(e){return H.isObject(e)&&e.isAxiosError===!0}const Wm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Wm).forEach(([e,t])=>{Wm[t]=e});function Cw(e){const t=new Cr(e),s=sw(Cr.prototype.request,t);return H.extend(s,Cr.prototype,t,{allOwnKeys:!0}),H.extend(s,t,null,{allOwnKeys:!0}),s.create=function(r){return Cw(Br(e,r))},s}const Xe=Cw(go);Xe.Axios=Cr;Xe.CanceledError=gl;Xe.CancelToken=DM;Xe.isCancel=gw;Xe.VERSION=ww;Xe.toFormData=nf;Xe.AxiosError=le;Xe.Cancel=Xe.CanceledError;Xe.all=function(t){return Promise.all(t)};Xe.spread=RM;Xe.isAxiosError=OM;Xe.mergeConfig=Br;Xe.AxiosHeaders=Yt;Xe.formToJSON=e=>xw(H.isHTMLForm(e)?new FormData(e):e);Xe.getAdapter=Nw.getAdapter;Xe.HttpStatusCode=Wm;Xe.default=Xe;const{Axios:Lz,AxiosError:Pz,CanceledError:Bz,isCancel:zz,CancelToken:Vz,VERSION:Uz,all:$z,Cancel:qz,isAxiosError:Fz,spread:Hz,toFormData:Iz,AxiosHeaders:Yz,HttpStatusCode:Gz,formToJSON:Kz,getAdapter:Qz,mergeConfig:Xz}=Xe,_M="/api",z=Xe.create({baseURL:_M,headers:{"Content-Type":"application/json"}});z.interceptors.request.use(e=>{const{accessToken:t}=Ct.getState();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));z.interceptors.response.use(e=>e,async e=>{var r,i,l;const t=e.config,s=(r=t.url)==null?void 0:r.includes("/auth/logout"),n=(i=t.url)==null?void 0:i.includes("/auth/refresh");if(((l=e.response)==null?void 0:l.status)===401&&!t._retry&&!s&&!n){t._retry=!0;try{const{refreshToken:c}=Ct.getState();if(!c)return Ct.getState().clearAuth(),Promise.reject(e);const o=await Ct.getState().refreshAccessToken();return t.headers.Authorization=`Bearer ${o}`,z(t)}catch(c){return Ct.getState().clearAuth(),Promise.reject(c)}}return Promise.reject(e)});const kw={login:e=>z.post("/auth/login",e),register:e=>z.post("/auth/register",e),logout:()=>z.post("/auth/logout"),refresh:e=>z.post("/auth/refresh",{refreshToken:e}),me:()=>z.get("/auth/me"),changePassword:e=>z.put("/auth/password",e),changeTempPassword:e=>z.post("/auth/change-temp-password",e)},lf={getAll:()=>z.get("/workspaces"),getOne:e=>z.get(`/workspaces/${e}`),create:e=>z.post("/workspaces",e),update:(e,t)=>z.put(`/workspaces/${e}`,t),delete:e=>z.delete(`/workspaces/${e}`),getMembers:e=>z.get(`/workspaces/${e}/members`),addMember:(e,t)=>z.post(`/workspaces/${e}/members`,t),updateMember:(e,t,s)=>z.put(`/workspaces/${e}/members/${t}`,s),removeMember:(e,t)=>z.delete(`/workspaces/${e}/members/${t}`),getStats:e=>z.get(`/workspaces/${e}/stats`)},Bc={getByWorkspace:e=>z.get(`/boards/workspace/${e}`),getOne:e=>z.get(`/boards/${e}`),create:e=>z.post("/boards",e),update:(e,t)=>z.put(`/boards/${e}`,t),delete:e=>z.delete(`/boards/${e}`),duplicate:(e,t)=>z.post(`/boards/${e}/duplicate`,t)},LM={getByBoard:e=>z.get(`/boards/${e}/groups`),create:e=>z.post(`/boards/${e.boardId}/groups`,e),update:(e,t)=>z.put(`/boards/groups/${e}`,t),delete:e=>z.delete(`/boards/groups/${e}`)},Oe={create:e=>z.post("/items",e),update:(e,t)=>z.put(`/items/${e}`,t),updateValue:(e,t,s)=>z.put(`/items/${e}/values/${t}`,{value:s}),delete:e=>z.delete(`/items/${e}`),batchDelete:e=>z.delete("/items/batch",{data:{itemIds:e}}),batchReorder:e=>z.put("/items/batch/reorder",{items:e}),duplicate:e=>z.post(`/items/${e}/duplicate`)},yb={getTypes:()=>z.get("/columns/types"),create:e=>z.post("/columns",e),update:(e,t)=>z.put(`/columns/${e}`,t),delete:e=>z.delete(`/columns/${e}`),reorder:(e,t)=>z.put("/columns/reorder",{boardId:e,columns:t}),addLabel:(e,t)=>z.post(`/columns/${e}/labels`,t),updateLabel:(e,t,s)=>z.put(`/columns/${e}/labels/${t}`,s),deleteLabel:(e,t)=>z.delete(`/columns/${e}/labels/${t}`)},PM={getProfile:()=>z.get("/users/profile"),updateProfile:e=>z.put("/users/profile",e),search:e=>z.get("/users/search",{params:e})},lh={getAll:e=>z.get("/notifications",{params:e}),markAsRead:e=>z.put(`/notifications/${e}/read`),markAllAsRead:()=>z.put("/notifications/read-all"),delete:e=>z.delete(`/notifications/${e}`)},zr={getByWorkspace:e=>z.get(`/budgets/workspace/${e}`),getOne:e=>z.get(`/budgets/${e}`),create:e=>z.post("/budgets",e),update:(e,t)=>z.put(`/budgets/${e}`,t),delete:e=>z.delete(`/budgets/${e}`),getAnalytics:e=>z.get(`/budgets/${e}/analytics`),addCategory:(e,t)=>z.post(`/budgets/${e}/categories`,t),addExpense:(e,t)=>z.post(`/budgets/${e}/expenses`,t),updateExpense:(e,t,s)=>z.put(`/budgets/${e}/expenses/${t}`,s),deleteExpense:(e,t)=>z.delete(`/budgets/${e}/expenses/${t}`)},Ot={getByWorkspace:e=>z.get(`/members/workspace/${e}`),getInvitations:e=>z.get(`/members/workspace/${e}/invitations`),invite:(e,t)=>z.post(`/members/workspace/${e}/invite`,t),resendInvitation:e=>z.post(`/members/invitations/${e}/resend`),cancelInvitation:e=>z.delete(`/members/invitations/${e}`),acceptInvitation:e=>z.post(`/members/invitations/accept/${e}`),updateRole:(e,t,s)=>z.put(`/members/workspace/${e}/members/${t}/role`,s),remove:(e,t)=>z.delete(`/members/workspace/${e}/members/${t}`),transferOwnership:(e,t)=>z.post(`/members/workspace/${e}/transfer-ownership`,t),getEvaluation:e=>z.get(`/members/workspace/${e}/evaluation`)},ne={getDashboard:e=>z.get(`/sdsi/dashboard/workspace/${e}`),getRoadmap:(e,t)=>z.get(`/sdsi/roadmap/workspace/${e}`,{params:{year:t}}),getAlerts:e=>z.get(`/sdsi/alerts/workspace/${e}`),getAxes:e=>z.get(`/sdsi/axes/workspace/${e}`),createAxis:e=>z.post("/sdsi/axes",e),updateAxis:(e,t)=>z.put(`/sdsi/axes/${e}`,t),deleteAxis:e=>z.delete(`/sdsi/axes/${e}`),getProjects:(e,t)=>z.get(`/sdsi/projects/workspace/${e}`,{params:t}),getProject:e=>z.get(`/sdsi/projects/${e}`),createProject:e=>z.post("/sdsi/projects",e),updateProject:(e,t)=>z.put(`/sdsi/projects/${e}`,t),deleteProject:e=>z.delete(`/sdsi/projects/${e}`),syncProgress:e=>z.post(`/sdsi/projects/${e}/sync-progress`),checkCompletion:e=>z.post(`/sdsi/projects/${e}/check-completion`),getPhases:(e,t)=>z.get(`/sdsi/phases/workspace/${e}`,{params:t}),createPhase:(e,t)=>z.post(`/sdsi/projects/${e}/phases`,t),updatePhase:(e,t)=>z.put(`/sdsi/phases/${e}`,t),deletePhase:e=>z.delete(`/sdsi/phases/${e}`),getMilestones:(e,t)=>z.get(`/sdsi/milestones/workspace/${e}`,{params:t}),createMilestone:(e,t)=>z.post(`/sdsi/projects/${e}/milestones`,t),updateMilestone:(e,t)=>z.put(`/sdsi/milestones/${e}`,t),deleteMilestone:e=>z.delete(`/sdsi/milestones/${e}`),getApplications:e=>z.get(`/sdsi/applications/workspace/${e}`),createApplication:e=>z.post("/sdsi/applications",e),updateApplication:(e,t)=>z.put(`/sdsi/applications/${e}`,t),deleteApplication:e=>z.delete(`/sdsi/applications/${e}`),getKPIs:e=>z.get(`/sdsi/kpis/workspace/${e}`),createKPI:e=>z.post("/sdsi/kpis",e),updateKPI:(e,t)=>z.put(`/sdsi/kpis/${e}`,t),deleteKPI:e=>z.delete(`/sdsi/kpis/${e}`),addKPIValue:(e,t)=>z.post(`/sdsi/kpis/${e}/values`,t),getKPIHistory:e=>z.get(`/sdsi/kpis/${e}/history`),syncKPI:e=>z.post(`/sdsi/kpis/${e}/sync`),syncProjectKPIs:e=>z.post(`/sdsi/projects/${e}/sync-kpis`),syncAllKPIs:e=>z.post(`/sdsi/kpis/workspace/${e}/sync-all`),getCalculationMethods:()=>z.get("/sdsi/kpis/calculation-methods"),getResources:e=>z.get(`/sdsi/resources/workspace/${e}`),createResource:e=>z.post("/sdsi/resources",e),updateResource:(e,t)=>z.put(`/sdsi/resources/${e}`,t),deleteResource:e=>z.delete(`/sdsi/resources/${e}`),getResourceAllocations:e=>z.get(`/sdsi/resources/${e}/allocations`),createAllocation:(e,t)=>z.post(`/sdsi/resources/${e}/allocations`,t),updateAllocation:(e,t)=>z.put(`/sdsi/allocations/${e}`,t),deleteAllocation:e=>z.delete(`/sdsi/allocations/${e}`),getRisks:(e,t)=>z.get(`/sdsi/risks/workspace/${e}`,{params:t}),createRisk:(e,t)=>z.post(`/sdsi/projects/${e}/risks`,t),updateRisk:(e,t)=>z.put(`/sdsi/risks/${e}`,t),deleteRisk:e=>z.delete(`/sdsi/risks/${e}`),getExpenses:e=>z.get(`/sdsi/projects/${e}/expenses`),addExpense:(e,t)=>z.post(`/sdsi/projects/${e}/expenses`,t),updateExpense:(e,t)=>z.put(`/sdsi/expenses/${e}`,t),deleteExpense:e=>z.delete(`/sdsi/expenses/${e}`),getExpenseCategories:()=>z.get("/sdsi/expense-categories")},BM={getByWorkspace:(e,t)=>z.get(`/activity/workspace/${e}`,{params:t}),getByBoard:(e,t)=>z.get(`/activity/board/${e}`,{params:t}),getByItem:e=>z.get(`/activity/item/${e}`),getMy:e=>z.get("/activity/me",{params:e})},zM={global:e=>z.get("/search",{params:e}),quick:e=>z.get("/search/quick",{params:e})},ch={board:(e,t)=>z.get(`/export/board/${e}`,{params:{format:t},...t==="csv"?{responseType:"blob"}:{}}),workspace:e=>z.get(`/export/workspace/${e}`)},Kl={getTemplates:()=>z.get("/automations/templates"),getByBoard:e=>z.get(`/automations/board/${e}`),create:e=>z.post("/automations",e),update:(e,t)=>z.put(`/automations/${e}`,t),toggle:e=>z.post(`/automations/${e}/toggle`),delete:e=>z.delete(`/automations/${e}`),trigger:e=>z.post("/automations/trigger",e),getLogs:e=>z.get(`/automations/${e}/logs`)},es={getPermissions:()=>z.get("/permissions/list"),getRoles:e=>z.get(`/permissions/roles/workspace/${e}`),createRole:e=>z.post("/permissions/roles",e),updateRole:(e,t)=>z.put(`/permissions/roles/${e}`,t),deleteRole:e=>z.delete(`/permissions/roles/${e}`),getUserPermissions:(e,t)=>z.get(`/permissions/users/${e}/workspace/${t}`),assignRole:(e,t)=>z.post(`/permissions/users/${e}/roles`,t),removeRole:(e,t,s)=>z.delete(`/permissions/users/${e}/roles/${t}`,{params:{workspaceId:s}}),getBoardPermissions:e=>z.get(`/permissions/boards/${e}`),setBoardPermission:(e,t,s)=>z.post(`/permissions/boards/${e}/users/${t}`,s),removeBoardPermission:(e,t)=>z.delete(`/permissions/boards/${e}/users/${t}`),getProjectPermissions:e=>z.get(`/permissions/projects/${e}`),setProjectPermission:(e,t,s)=>z.post(`/permissions/projects/${e}/users/${t}`,s),removeProjectPermission:(e,t)=>z.delete(`/permissions/projects/${e}/users/${t}`),getGroups:e=>z.get(`/permissions/groups/workspace/${e}`),createGroup:e=>z.post("/permissions/groups",e),updateGroup:(e,t)=>z.put(`/permissions/groups/${e}`,t),deleteGroup:e=>z.delete(`/permissions/groups/${e}`),addGroupMember:(e,t)=>z.post(`/permissions/groups/${e}/members/${t}`),removeGroupMember:(e,t)=>z.delete(`/permissions/groups/${e}/members/${t}`),getAuditLogs:(e,t)=>z.get(`/permissions/audit/workspace/${e}`,{params:t})},bb={upload:async(e,t,s)=>{const n=new FormData;return n.append("file",e),t&&n.append("itemId",t),s&&n.append("columnId",s),z.post("/files/upload",n,{headers:{"Content-Type":"multipart/form-data"}})},uploadMultiple:async(e,t,s)=>{const n=new FormData;return e.forEach(r=>n.append("files",r)),t&&n.append("itemId",t),s&&n.append("columnId",s),z.post("/files/upload-multiple",n,{headers:{"Content-Type":"multipart/form-data"}})},delete:e=>z.delete(`/files/${e}`)},ka={getCategories:()=>z.get("/tickets/categories"),getMyTickets:e=>z.get("/tickets/my",{params:e}),create:e=>z.post("/tickets",e),get:e=>z.get(`/tickets/${e}`),update:(e,t)=>z.put(`/tickets/${e}`,t),cancel:e=>z.delete(`/tickets/${e}`),getByWorkspace:(e,t)=>z.get(`/tickets/workspace/${e}`,{params:t}),getStats:e=>z.get(`/tickets/workspace/${e}/stats`),assign:(e,t)=>z.put(`/tickets/${e}/assign`,t),updateStatus:(e,t)=>z.put(`/tickets/${e}/status`,t)},Ct=H0(nT((e,t)=>({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!0,setLoading:s=>e({isLoading:s}),login:async(s,n)=>{const r=await z.post("/auth/login",{email:s,password:n}),{user:i,accessToken:l,refreshToken:c}=r.data;return e({user:i,accessToken:l,refreshToken:c,isAuthenticated:!0,isLoading:!1}),r.data},register:async s=>{const n=await z.post("/auth/register",s),{user:r,accessToken:i,refreshToken:l}=n.data;return e({user:r,accessToken:i,refreshToken:l,isAuthenticated:!0,isLoading:!1}),n.data},logout:async()=>{const{accessToken:s}=t();if(s)try{await z.post("/auth/logout")}catch{console.log("Logout completed")}e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1})},clearAuth:()=>{e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1})},refreshAccessToken:async()=>{const{refreshToken:s}=t();if(!s)throw new Error("No refresh token");const n=await z.post("/auth/refresh",{refreshToken:s}),{accessToken:r,refreshToken:i}=n.data;return e({accessToken:r,refreshToken:i}),r},updateUser:s=>{e(n=>({user:{...n.user,...s}}))},setUser:s=>{e({user:s})},checkAuth:async()=>{const{accessToken:s}=t();if(!s){e({isLoading:!1,isAuthenticated:!1});return}try{const n=await z.get("/auth/me");e({user:n.data,isAuthenticated:!0,isLoading:!1})}catch{try{await t().refreshAccessToken();const r=await z.get("/auth/me");e({user:r.data,isAuthenticated:!0,isLoading:!1})}catch{e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!1})}}}}),{name:"auth-storage",partialize:e=>({accessToken:e.accessToken,refreshToken:e.refreshToken,user:e.user,isAuthenticated:e.isAuthenticated})}));typeof window<"u"&&Ct.getState().checkAuth();const Q0=b.createContext({});function X0(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ew=typeof window<"u",Aw=Ew?b.useLayoutEffect:b.useEffect,cf=b.createContext(null);function W0(e,t){e.indexOf(t)===-1&&e.push(t)}function Z0(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const ra=(e,t,s)=>s>t?t:s<e?e:s;let J0=()=>{};const Fa={},Tw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Mw(e){return typeof e=="object"&&e!==null}const Dw=e=>/^0[^.\s]+$/u.test(e);function ex(e){let t;return()=>(t===void 0&&(t=e()),t)}const ks=e=>e,VM=(e,t)=>s=>t(e(s)),yo=(...e)=>e.reduce(VM),zc=(e,t,s)=>{const n=t-e;return n===0?1:(s-e)/n};class tx{constructor(){this.subscriptions=[]}add(t){return W0(this.subscriptions,t),()=>Z0(this.subscriptions,t)}notify(t,s,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,s,n);else for(let i=0;i<r;i++){const l=this.subscriptions[i];l&&l(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Oa=e=>e*1e3,Ns=e=>e/1e3;function Rw(e,t){return t?e*(1e3/t):0}const Ow=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,UM=1e-7,$M=12;function qM(e,t,s,n,r){let i,l,c=0;do l=t+(s-t)/2,i=Ow(l,n,r)-e,i>0?s=l:t=l;while(Math.abs(i)>UM&&++c<$M);return l}function bo(e,t,s,n){if(e===t&&s===n)return ks;const r=i=>qM(i,0,1,e,s);return i=>i===0||i===1?i:Ow(r(i),t,n)}const _w=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Lw=e=>t=>1-e(1-t),Pw=bo(.33,1.53,.69,.99),sx=Lw(Pw),Bw=_w(sx),zw=e=>(e*=2)<1?.5*sx(e):.5*(2-Math.pow(2,-10*(e-1))),ax=e=>1-Math.sin(Math.acos(e)),Vw=Lw(ax),Uw=_w(ax),FM=bo(.42,0,1,1),HM=bo(0,0,.58,1),$w=bo(.42,0,.58,1),IM=e=>Array.isArray(e)&&typeof e[0]!="number",qw=e=>Array.isArray(e)&&typeof e[0]=="number",YM={linear:ks,easeIn:FM,easeInOut:$w,easeOut:HM,circIn:ax,circInOut:Uw,circOut:Vw,backIn:sx,backInOut:Bw,backOut:Pw,anticipate:zw},GM=e=>typeof e=="string",vb=e=>{if(qw(e)){J0(e.length===4);const[t,s,n,r]=e;return bo(t,s,n,r)}else if(GM(e))return YM[e];return e},Ho=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function KM(e,t){let s=new Set,n=new Set,r=!1,i=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function o(d){l.has(d)&&(u.schedule(d),e()),d(c)}const u={schedule:(d,f=!1,h=!1)=>{const m=h&&r?s:n;return f&&l.add(d),m.has(d)||m.add(d),d},cancel:d=>{n.delete(d),l.delete(d)},process:d=>{if(c=d,r){i=!0;return}r=!0,[s,n]=[n,s],s.forEach(o),s.clear(),r=!1,i&&(i=!1,u.process(d))}};return u}const QM=40;function Fw(e,t){let s=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>s=!0,l=Ho.reduce((y,N)=>(y[N]=KM(i),y),{}),{setup:c,read:o,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:p,postRender:m}=l,v=()=>{const y=Fa.useManualTiming?r.timestamp:performance.now();s=!1,Fa.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(y-r.timestamp,QM),1)),r.timestamp=y,r.isProcessing=!0,c.process(r),o.process(r),u.process(r),d.process(r),f.process(r),h.process(r),p.process(r),m.process(r),r.isProcessing=!1,s&&t&&(n=!1,e(v))},j=()=>{s=!0,n=!0,r.isProcessing||e(v)};return{schedule:Ho.reduce((y,N)=>{const k=l[N];return y[N]=(D,w=!1,T=!1)=>(s||j(),k.schedule(D,w,T)),y},{}),cancel:y=>{for(let N=0;N<Ho.length;N++)l[Ho[N]].cancel(y)},state:r,steps:l}}const{schedule:Be,cancel:$n,state:xt,steps:oh}=Fw(typeof requestAnimationFrame<"u"?requestAnimationFrame:ks,!0);let wu;function XM(){wu=void 0}const Lt={now:()=>(wu===void 0&&Lt.set(xt.isProcessing||Fa.useManualTiming?xt.timestamp:performance.now()),wu),set:e=>{wu=e,queueMicrotask(XM)}},Hw=e=>t=>typeof t=="string"&&t.startsWith(e),Iw=Hw("--"),WM=Hw("var(--"),nx=e=>WM(e)?ZM.test(e.split("/*")[0].trim()):!1,ZM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function jb(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const yl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Vc={...yl,transform:e=>ra(0,1,e)},Io={...yl,default:1},fc=e=>Math.round(e*1e5)/1e5,rx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function JM(e){return e==null}const eD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ix=(e,t)=>s=>!!(typeof s=="string"&&eD.test(s)&&s.startsWith(e)||t&&!JM(s)&&Object.prototype.hasOwnProperty.call(s,t)),Yw=(e,t,s)=>n=>{if(typeof n!="string")return n;const[r,i,l,c]=n.match(rx);return{[e]:parseFloat(r),[t]:parseFloat(i),[s]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},tD=e=>ra(0,255,e),uh={...yl,transform:e=>Math.round(tD(e))},or={test:ix("rgb","red"),parse:Yw("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+uh.transform(e)+", "+uh.transform(t)+", "+uh.transform(s)+", "+fc(Vc.transform(n))+")"};function sD(e){let t="",s="",n="",r="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),r=e.substring(4,5),t+=t,s+=s,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const Zm={test:ix("#"),parse:sD,transform:or.transform},vo=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Za=vo("deg"),ta=vo("%"),Z=vo("px"),aD=vo("vh"),nD=vo("vw"),Nb={...ta,parse:e=>ta.parse(e)/100,transform:e=>ta.transform(e*100)},mi={test:ix("hsl","hue"),parse:Yw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+ta.transform(fc(t))+", "+ta.transform(fc(s))+", "+fc(Vc.transform(n))+")"},We={test:e=>or.test(e)||Zm.test(e)||mi.test(e),parse:e=>or.test(e)?or.parse(e):mi.test(e)?mi.parse(e):Zm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?or.transform(e):mi.transform(e),getAnimatableNone:e=>{const t=We.parse(e);return t.alpha=0,We.transform(t)}},rD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iD(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(rx))==null?void 0:t.length)||0)+(((s=e.match(rD))==null?void 0:s.length)||0)>0}const Gw="number",Kw="color",lD="var",cD="var(",wb="${}",oD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uc(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},r=[];let i=0;const c=t.replace(oD,o=>(We.test(o)?(n.color.push(i),r.push(Kw),s.push(We.parse(o))):o.startsWith(cD)?(n.var.push(i),r.push(lD),s.push(o)):(n.number.push(i),r.push(Gw),s.push(parseFloat(o))),++i,wb)).split(wb);return{values:s,split:c,indexes:n,types:r}}function Qw(e){return Uc(e).values}function Xw(e){const{split:t,types:s}=Uc(e),n=t.length;return r=>{let i="";for(let l=0;l<n;l++)if(i+=t[l],r[l]!==void 0){const c=s[l];c===Gw?i+=fc(r[l]):c===Kw?i+=We.transform(r[l]):i+=r[l]}return i}}const uD=e=>typeof e=="number"?0:We.test(e)?We.getAnimatableNone(e):e;function dD(e){const t=Qw(e);return Xw(e)(t.map(uD))}const qn={test:iD,parse:Qw,createTransformer:Xw,getAnimatableNone:dD};function dh(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function fD({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,t/=100,s/=100;let r=0,i=0,l=0;if(!t)r=i=l=s;else{const c=s<.5?s*(1+t):s+t-s*t,o=2*s-c;r=dh(o,c,e+1/3),i=dh(o,c,e),l=dh(o,c,e-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:n}}function md(e,t){return s=>s>0?t:e}const $e=(e,t,s)=>e+(t-e)*s,fh=(e,t,s)=>{const n=e*e,r=s*(t*t-n)+n;return r<0?0:Math.sqrt(r)},hD=[Zm,or,mi],mD=e=>hD.find(t=>t.test(e));function Sb(e){const t=mD(e);if(!t)return!1;let s=t.parse(e);return t===mi&&(s=fD(s)),s}const Cb=(e,t)=>{const s=Sb(e),n=Sb(t);if(!s||!n)return md(e,t);const r={...s};return i=>(r.red=fh(s.red,n.red,i),r.green=fh(s.green,n.green,i),r.blue=fh(s.blue,n.blue,i),r.alpha=$e(s.alpha,n.alpha,i),or.transform(r))},Jm=new Set(["none","hidden"]);function pD(e,t){return Jm.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function xD(e,t){return s=>$e(e,t,s)}function lx(e){return typeof e=="number"?xD:typeof e=="string"?nx(e)?md:We.test(e)?Cb:bD:Array.isArray(e)?Ww:typeof e=="object"?We.test(e)?Cb:gD:md}function Ww(e,t){const s=[...e],n=s.length,r=e.map((i,l)=>lx(i)(i,t[l]));return i=>{for(let l=0;l<n;l++)s[l]=r[l](i);return s}}function gD(e,t){const s={...e,...t},n={};for(const r in s)e[r]!==void 0&&t[r]!==void 0&&(n[r]=lx(e[r])(e[r],t[r]));return r=>{for(const i in n)s[i]=n[i](r);return s}}function yD(e,t){const s=[],n={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const i=t.types[r],l=e.indexes[i][n[i]],c=e.values[l]??0;s[r]=c,n[i]++}return s}const bD=(e,t)=>{const s=qn.createTransformer(t),n=Uc(e),r=Uc(t);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?Jm.has(e)&&!r.values.length||Jm.has(t)&&!n.values.length?pD(e,t):yo(Ww(yD(n,r),r.values),s):md(e,t)};function Zw(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?$e(e,t,s):lx(e)(e,t)}const vD=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>Be.update(t,s),stop:()=>$n(t),now:()=>xt.isProcessing?xt.timestamp:Lt.now()}},Jw=(e,t,s=10)=>{let n="";const r=Math.max(Math.round(t/s),2);for(let i=0;i<r;i++)n+=Math.round(e(i/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},pd=2e4;function cx(e){let t=0;const s=50;let n=e.next(t);for(;!n.done&&t<pd;)t+=s,n=e.next(t);return t>=pd?1/0:t}function jD(e,t=100,s){const n=s({...e,keyframes:[0,t]}),r=Math.min(cx(n),pd);return{type:"keyframes",ease:i=>n.next(r*i).value/t,duration:Ns(r)}}const ND=5;function e4(e,t,s){const n=Math.max(t-ND,0);return Rw(s-e(n),t-n)}const He={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hh=.001;function wD({duration:e=He.duration,bounce:t=He.bounce,velocity:s=He.velocity,mass:n=He.mass}){let r,i,l=1-t;l=ra(He.minDamping,He.maxDamping,l),e=ra(He.minDuration,He.maxDuration,Ns(e)),l<1?(r=u=>{const d=u*l,f=d*e,h=d-s,p=ep(u,l),m=Math.exp(-f);return hh-h/p*m},i=u=>{const f=u*l*e,h=f*s+s,p=Math.pow(l,2)*Math.pow(u,2)*e,m=Math.exp(-f),v=ep(Math.pow(u,2),l);return(-r(u)+hh>0?-1:1)*((h-p)*m)/v}):(r=u=>{const d=Math.exp(-u*e),f=(u-s)*e+1;return-hh+d*f},i=u=>{const d=Math.exp(-u*e),f=(s-u)*(e*e);return d*f});const c=5/e,o=CD(r,i,c);if(e=Oa(e),isNaN(o))return{stiffness:He.stiffness,damping:He.damping,duration:e};{const u=Math.pow(o,2)*n;return{stiffness:u,damping:l*2*Math.sqrt(n*u),duration:e}}}const SD=12;function CD(e,t,s){let n=s;for(let r=1;r<SD;r++)n=n-e(n)/t(n);return n}function ep(e,t){return e*Math.sqrt(1-t*t)}const kD=["duration","bounce"],ED=["stiffness","damping","mass"];function kb(e,t){return t.some(s=>e[s]!==void 0)}function AD(e){let t={velocity:He.velocity,stiffness:He.stiffness,damping:He.damping,mass:He.mass,isResolvedFromDuration:!1,...e};if(!kb(e,ED)&&kb(e,kD))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(s*1.2),r=n*n,i=2*ra(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:He.mass,stiffness:r,damping:i}}else{const s=wD(e);t={...t,...s,mass:He.mass},t.isResolvedFromDuration=!0}return t}function xd(e=He.visualDuration,t=He.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:r}=s;const i=s.keyframes[0],l=s.keyframes[s.keyframes.length-1],c={done:!1,value:i},{stiffness:o,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=AD({...s,velocity:-Ns(s.velocity||0)}),m=h||0,v=u/(2*Math.sqrt(o*d)),j=l-i,x=Ns(Math.sqrt(o/d)),g=Math.abs(j)<5;n||(n=g?He.restSpeed.granular:He.restSpeed.default),r||(r=g?He.restDelta.granular:He.restDelta.default);let y;if(v<1){const k=ep(x,v);y=D=>{const w=Math.exp(-v*x*D);return l-w*((m+v*x*j)/k*Math.sin(k*D)+j*Math.cos(k*D))}}else if(v===1)y=k=>l-Math.exp(-x*k)*(j+(m+x*j)*k);else{const k=x*Math.sqrt(v*v-1);y=D=>{const w=Math.exp(-v*x*D),T=Math.min(k*D,300);return l-w*((m+v*x*j)*Math.sinh(T)+k*j*Math.cosh(T))/k}}const N={calculatedDuration:p&&f||null,next:k=>{const D=y(k);if(p)c.done=k>=f;else{let w=k===0?m:0;v<1&&(w=k===0?Oa(m):e4(y,k,D));const T=Math.abs(w)<=n,O=Math.abs(l-D)<=r;c.done=T&&O}return c.value=c.done?l:D,c},toString:()=>{const k=Math.min(cx(N),pd),D=Jw(w=>N.next(k*w).value,k,30);return k+"ms "+D},toTransition:()=>{}};return N}xd.applyToOptions=e=>{const t=jD(e,100,xd);return e.ease=t.ease,e.duration=Oa(t.duration),e.type="keyframes",e};function tp({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:l,min:c,max:o,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=T=>c!==void 0&&T<c||o!==void 0&&T>o,m=T=>c===void 0?o:o===void 0||Math.abs(c-T)<Math.abs(o-T)?c:o;let v=s*t;const j=f+v,x=l===void 0?j:l(j);x!==j&&(v=x-f);const g=T=>-v*Math.exp(-T/n),y=T=>x+g(T),N=T=>{const O=g(T),A=y(T);h.done=Math.abs(O)<=u,h.value=h.done?x:A};let k,D;const w=T=>{p(h.value)&&(k=T,D=xd({keyframes:[h.value,m(h.value)],velocity:e4(y,T,h.value),damping:r,stiffness:i,restDelta:u,restSpeed:d}))};return w(0),{calculatedDuration:null,next:T=>{let O=!1;return!D&&k===void 0&&(O=!0,N(T),w(T)),k!==void 0&&T>=k?D.next(T-k):(!O&&N(T),h)}}}function TD(e,t,s){const n=[],r=s||Fa.mix||Zw,i=e.length-1;for(let l=0;l<i;l++){let c=r(e[l],e[l+1]);if(t){const o=Array.isArray(t)?t[l]||ks:t;c=yo(o,c)}n.push(c)}return n}function MD(e,t,{clamp:s=!0,ease:n,mixer:r}={}){const i=e.length;if(J0(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=TD(t,n,r),o=c.length,u=d=>{if(l&&d<e[0])return t[0];let f=0;if(o>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=zc(e[f],e[f+1],d);return c[f](h)};return s?d=>u(ra(e[0],e[i-1],d)):u}function DD(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const r=zc(0,t,n);e.push($e(s,1,r))}}function RD(e){const t=[0];return DD(t,e.length-1),t}function OD(e,t){return e.map(s=>s*t)}function _D(e,t){return e.map(()=>t||$w).splice(0,e.length-1)}function hc({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const r=IM(n)?n.map(vb):vb(n),i={done:!1,value:t[0]},l=OD(s&&s.length===t.length?s:RD(t),e),c=MD(l,t,{ease:Array.isArray(r)?r:_D(t,r)});return{calculatedDuration:e,next:o=>(i.value=c(o),i.done=o>=e,i)}}const LD=e=>e!==null;function ox(e,{repeat:t,repeatType:s="loop"},n,r=1){const i=e.filter(LD),c=r<0||t&&s!=="loop"&&t%2===1?0:i.length-1;return!c||n===void 0?i[c]:n}const PD={decay:tp,inertia:tp,tween:hc,keyframes:hc,spring:xd};function t4(e){typeof e.type=="string"&&(e.type=PD[e.type])}class ux{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const BD=e=>e/100;class dx extends ux{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,r;const{motionValue:s}=this.options;s&&s.updatedAt!==Lt.now()&&this.tick(Lt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(n=this.options).onStop)==null||r.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;t4(t);const{type:s=hc,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:l=0}=t;let{keyframes:c}=t;const o=s||hc;o!==hc&&typeof c[0]!="number"&&(this.mixKeyframes=yo(BD,Zw(c[0],c[1])),c=[0,100]);const u=o({...t,keyframes:c});i==="mirror"&&(this.mirroredGenerator=o({...t,keyframes:[...c].reverse(),velocity:-l})),u.calculatedDuration===null&&(u.calculatedDuration=cx(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=u}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:o}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:p,type:m,onUpdate:v,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?x<0:x>r;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let y=this.currentTime,N=n;if(f){const T=Math.min(this.currentTime,r)/c;let O=Math.floor(T),A=T%1;!A&&T>=1&&(A=1),A===1&&O--,O=Math.min(O,f+1),!!(O%2)&&(h==="reverse"?(A=1-A,p&&(A-=p/c)):h==="mirror"&&(N=l)),y=ra(0,1,A)*c}const k=g?{done:!1,value:d[0]}:N.next(y);i&&(k.value=i(k.value));let{done:D}=k;!g&&o!==null&&(D=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const w=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return w&&m!==tp&&(k.value=ox(d,this.options,j,this.speed)),v&&v(k.value),w&&this.finish(),k}then(t,s){return this.finished.then(t,s)}get duration(){return Ns(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ns(t)}get time(){return Ns(this.currentTime)}set time(t){var s;t=Oa(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Lt.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Ns(this.currentTime))}play(){var r,i;if(this.isStopped)return;const{driver:t=vD,startTime:s}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),(i=(r=this.options).onPlay)==null||i.call(r);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Lt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function zD(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ur=e=>e*180/Math.PI,sp=e=>{const t=ur(Math.atan2(e[1],e[0]));return ap(t)},VD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:sp,rotateZ:sp,skewX:e=>ur(Math.atan(e[1])),skewY:e=>ur(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ap=e=>(e=e%360,e<0&&(e+=360),e),Eb=sp,Ab=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Tb=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),UD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ab,scaleY:Tb,scale:e=>(Ab(e)+Tb(e))/2,rotateX:e=>ap(ur(Math.atan2(e[6],e[5]))),rotateY:e=>ap(ur(Math.atan2(-e[2],e[0]))),rotateZ:Eb,rotate:Eb,skewX:e=>ur(Math.atan(e[4])),skewY:e=>ur(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function np(e){return e.includes("scale")?1:0}function rp(e,t){if(!e||e==="none")return np(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(s)n=UD,r=s;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=VD,r=c}if(!r)return np(t);const i=n[t],l=r[1].split(",").map(qD);return typeof i=="function"?i(l):l[i]}const $D=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return rp(s,t)};function qD(e){return parseFloat(e.trim())}const bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vl=new Set(bl),Mb=e=>e===yl||e===Z,FD=new Set(["x","y","z"]),HD=bl.filter(e=>!FD.has(e));function ID(e){const t=[];return HD.forEach(s=>{const n=e.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const wn={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>rp(t,"x"),y:(e,{transform:t})=>rp(t,"y")};wn.translateX=wn.x;wn.translateY=wn.y;const kr=new Set;let ip=!1,lp=!1,cp=!1;function s4(){if(lp){const e=Array.from(kr).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),s=new Map;t.forEach(n=>{const r=ID(n);r.length&&(s.set(n,r),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const r=s.get(n);r&&r.forEach(([i,l])=>{var c;(c=n.getValue(i))==null||c.set(l)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}lp=!1,ip=!1,kr.forEach(e=>e.complete(cp)),kr.clear()}function a4(){kr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(lp=!0)})}function YD(){cp=!0,a4(),s4(),cp=!1}class fx{constructor(t,s,n,r,i,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=r,this.element=i,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(kr.add(this),ip||(ip=!0,Be.read(a4),Be.resolveKeyframes(s4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:r}=this;if(t[0]===null){const i=r==null?void 0:r.get(),l=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&s){const c=n.readValue(s,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),r&&i===void 0&&r.set(t[0])}zD(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),kr.delete(this)}cancel(){this.state==="scheduled"&&(kr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GD=e=>e.startsWith("--");function KD(e,t,s){GD(t)?e.style.setProperty(t,s):e.style[t]=s}const QD=ex(()=>window.ScrollTimeline!==void 0),XD={};function WD(e,t){const s=ex(e);return()=>XD[t]??s()}const n4=WD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ql=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,Db={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ql([0,.65,.55,1]),circOut:Ql([.55,0,1,.45]),backIn:Ql([.31,.01,.66,-.59]),backOut:Ql([.33,1.53,.69,.99])};function r4(e,t){if(e)return typeof e=="function"?n4()?Jw(e,t):"ease-out":qw(e)?Ql(e):Array.isArray(e)?e.map(s=>r4(s,t)||Db.easeOut):Db[e]}function ZD(e,t,s,{delay:n=0,duration:r=300,repeat:i=0,repeatType:l="loop",ease:c="easeOut",times:o}={},u=void 0){const d={[t]:s};o&&(d.offset=o);const f=r4(c,r);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function i4(e){return typeof e=="function"&&"applyToOptions"in e}function JD({type:e,...t}){return i4(e)&&n4()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class e6 extends ux{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:s,name:n,keyframes:r,pseudoElement:i,allowFlatten:l=!1,finalKeyframe:c,onComplete:o}=t;this.isPseudoElement=!!i,this.allowFlatten=l,this.options=t,J0(typeof t.type!="string");const u=JD(t);this.animation=ZD(s,n,r,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=ox(r,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(d):KD(s,n,d),this.animation.cancel()}o==null||o(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,n;const t=((n=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:n.call(s).duration)||0;return Ns(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ns(t)}get time(){return Ns(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Oa(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&QD()?(this.animation.timeline=t,ks):s(this)}}const l4={anticipate:zw,backInOut:Bw,circInOut:Uw};function t6(e){return e in l4}function s6(e){typeof e.ease=="string"&&t6(e.ease)&&(e.ease=l4[e.ease])}const mh=10;class a6 extends e6{constructor(t){s6(t),t4(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:n,onComplete:r,element:i,...l}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const c=new dx({...l,autoplay:!1}),o=Math.max(mh,Lt.now()-this.startTime),u=ra(0,mh,o-mh);s.setWithVelocity(c.sample(Math.max(0,o-u)).value,c.sample(o).value,u),c.stop()}}const Rb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(qn.test(e)||e==="0")&&!e.startsWith("url("));function n6(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function r6(e,t,s,n){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],l=Rb(r,t),c=Rb(i,t);return!l||!c?!1:n6(e)||(s==="spring"||i4(s))&&n}function op(e){e.duration=0,e.type="keyframes"}const i6=new Set(["opacity","clipPath","filter","transform"]),l6=ex(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function c6(e){var d;const{motionValue:t,name:s,repeatDelay:n,repeatType:r,damping:i,type:l}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:u}=t.owner.getProps();return l6()&&s&&i6.has(s)&&(s!=="transform"||!u)&&!o&&!n&&r!=="mirror"&&i!==0&&l!=="inertia"}const o6=40;class u6 extends ux{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:l="loop",keyframes:c,name:o,motionValue:u,element:d,...f}){var m;super(),this.stop=()=>{var v,j;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=Lt.now();const h={autoplay:t,delay:s,type:n,repeat:r,repeatDelay:i,repeatType:l,name:o,motionValue:u,element:d,...f},p=(d==null?void 0:d.KeyframeResolver)||fx;this.keyframeResolver=new p(c,(v,j,x)=>this.onKeyframesResolved(v,j,h,!x),o,u,d),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(t,s,n,r){var j,x;this.keyframeResolver=void 0;const{name:i,type:l,velocity:c,delay:o,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Lt.now(),r6(t,i,l,c)||((Fa.instantAnimations||!o)&&(d==null||d(ox(t,n,s))),t[0]=t[t.length-1],op(n),n.repeat=0);const h={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>o6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:t},p=!u&&c6(h),m=(x=(j=h.motionValue)==null?void 0:j.owner)==null?void 0:x.current,v=p?new a6({...h,element:m}):new dx(h);v.finished.then(()=>{this.notifyFinished()}).catch(ks),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),YD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function c4(e,t,s,n=0,r=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),l=e.size,c=(l-1)*n;return typeof s=="function"?s(i,l):r===1?i*n:c-i*n}const d6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function f6(e){const t=d6.exec(e);if(!t)return[,];const[,s,n,r]=t;return[`--${s??n}`,r]}function o4(e,t,s=1){const[n,r]=f6(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const l=i.trim();return Tw(l)?parseFloat(l):l}return nx(r)?o4(r,t,s+1):r}const h6={type:"spring",stiffness:500,damping:25,restSpeed:10},m6=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),p6={type:"keyframes",duration:.8},x6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},g6=(e,{keyframes:t})=>t.length>2?p6:vl.has(e)?e.startsWith("scale")?m6(t[1]):h6:x6,y6=e=>e!==null;function b6(e,{repeat:t,repeatType:s="loop"},n){const r=e.filter(y6),i=t&&s!=="loop"&&t%2===1?0:r.length-1;return r[i]}function hx(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}function v6({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:r,repeat:i,repeatType:l,repeatDelay:c,from:o,elapsed:u,...d}){return!!Object.keys(d).length}const mx=(e,t,s,n={},r,i)=>l=>{const c=hx(n,e)||{},o=c.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Oa(o);const d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-u,onUpdate:h=>{t.set(h),c.onUpdate&&c.onUpdate(h)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:i?void 0:r};v6(c)||Object.assign(d,g6(e,d)),d.duration&&(d.duration=Oa(d.duration)),d.repeatDelay&&(d.repeatDelay=Oa(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(op(d),d.delay===0&&(f=!0)),(Fa.instantAnimations||Fa.skipAnimations)&&(f=!0,op(d),d.delay=0),d.allowFlatten=!c.type&&!c.ease,f&&!i&&t.get()!==void 0){const h=b6(d.keyframes,c);if(h!==void 0){Be.update(()=>{d.onUpdate(h),d.onComplete()});return}}return c.isSync?new dx(d):new u6(d)};function Ob(e){const t=[{},{}];return e==null||e.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function px(e,t,s,n){if(typeof t=="function"){const[r,i]=Ob(n);t=t(s!==void 0?s:e.custom,r,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,i]=Ob(n);t=t(s!==void 0?s:e.custom,r,i)}return t}function ki(e,t,s){const n=e.getProps();return px(n,t,s!==void 0?s:n.custom,e)}const u4=new Set(["width","height","top","left","right","bottom",...bl]),_b=30,j6=e=>!isNaN(parseFloat(e));class N6{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const r=Lt.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Lt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=j6(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new tx);const n=this.events[t].add(s);return t==="change"?()=>{n(),Be.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Lt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_b)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,_b);return Rw(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function el(e,t){return new N6(e,t)}const up=e=>Array.isArray(e);function w6(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,el(s))}function S6(e){return up(e)?e[e.length-1]||0:e}function C6(e,t){const s=ki(e,t);let{transitionEnd:n={},transition:r={},...i}=s||{};i={...i,...n};for(const l in i){const c=S6(i[l]);w6(e,l,c)}}const kt=e=>!!(e&&e.getVelocity);function k6(e){return!!(kt(e)&&e.add)}function dp(e,t){const s=e.getValue("willChange");if(k6(s))return s.add(t);if(!s&&Fa.WillChange){const n=new Fa.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function xx(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const E6="framerAppearId",d4="data-"+xx(E6);function f4(e){return e.props[d4]}function A6({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function h4(e,t,{delay:s=0,transitionOverride:n,type:r}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(i=n);const o=[],u=r&&e.animationState&&e.animationState.getState()[r];for(const d in c){const f=e.getValue(d,e.latestValues[d]??null),h=c[d];if(h===void 0||u&&A6(u,d))continue;const p={delay:s,...hx(i||{},d)},m=f.get();if(m!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===m&&!p.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const x=f4(e);if(x){const g=window.MotionHandoffAnimation(x,d,Be);g!==null&&(p.startTime=g,v=!0)}}dp(e,d),f.start(mx(d,f,h,e.shouldReduceMotion&&u4.has(d)?{type:!1}:p,e,v));const j=f.animation;j&&o.push(j)}return l&&Promise.all(o).then(()=>{Be.update(()=>{l&&C6(e,l)})}),o}function fp(e,t,s={}){var o;const n=ki(e,t,s.type==="exit"?(o=e.presenceContext)==null?void 0:o.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(r=s.transitionOverride);const i=n?()=>Promise.all(h4(e,n,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=r;return T6(e,t,u,d,f,h,s)}:()=>Promise.resolve(),{when:c}=r;if(c){const[u,d]=c==="beforeChildren"?[i,l]:[l,i];return u().then(()=>d())}else return Promise.all([i(),l(s.delay)])}function T6(e,t,s=0,n=0,r=0,i=1,l){const c=[];for(const o of e.variantChildren)o.notify("AnimationStart",t),c.push(fp(o,t,{...l,delay:s+(typeof n=="function"?0:n)+c4(e.variantChildren,o,n,r,i)}).then(()=>o.notify("AnimationComplete",t)));return Promise.all(c)}function M6(e,t,s={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const r=t.map(i=>fp(e,i,s));n=Promise.all(r)}else if(typeof t=="string")n=fp(e,t,s);else{const r=typeof t=="function"?ki(e,t,s.custom):t;n=Promise.all(h4(e,r,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}const D6={test:e=>e==="auto",parse:e=>e},m4=e=>t=>t.test(e),p4=[yl,Z,ta,Za,nD,aD,D6],Lb=e=>p4.find(m4(e));function R6(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Dw(e):!0}const O6=new Set(["brightness","contrast","saturate","opacity"]);function _6(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=s.match(rx)||[];if(!n)return e;const r=s.replace(n,"");let i=O6.has(t)?1:0;return n!==s&&(i*=100),t+"("+i+r+")"}const L6=/\b([a-z-]*)\(.*?\)/gu,hp={...qn,getAnimatableNone:e=>{const t=e.match(L6);return t?t.map(_6).join(" "):e}},Pb={...yl,transform:Math.round},P6={rotate:Za,rotateX:Za,rotateY:Za,rotateZ:Za,scale:Io,scaleX:Io,scaleY:Io,scaleZ:Io,skew:Za,skewX:Za,skewY:Za,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:Vc,originX:Nb,originY:Nb,originZ:Z},gx={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,top:Z,right:Z,bottom:Z,left:Z,inset:Z,insetBlock:Z,insetBlockStart:Z,insetBlockEnd:Z,insetInline:Z,insetInlineStart:Z,insetInlineEnd:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,paddingBlock:Z,paddingBlockStart:Z,paddingBlockEnd:Z,paddingInline:Z,paddingInlineStart:Z,paddingInlineEnd:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,marginBlock:Z,marginBlockStart:Z,marginBlockEnd:Z,marginInline:Z,marginInlineStart:Z,marginInlineEnd:Z,backgroundPositionX:Z,backgroundPositionY:Z,...P6,zIndex:Pb,fillOpacity:Vc,strokeOpacity:Vc,numOctaves:Pb},B6={...gx,color:We,backgroundColor:We,outlineColor:We,fill:We,stroke:We,borderColor:We,borderTopColor:We,borderRightColor:We,borderBottomColor:We,borderLeftColor:We,filter:hp,WebkitFilter:hp},x4=e=>B6[e];function g4(e,t){let s=x4(e);return s!==hp&&(s=qn),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const z6=new Set(["auto","none","0"]);function V6(e,t,s){let n=0,r;for(;n<e.length&&!r;){const i=e[n];typeof i=="string"&&!z6.has(i)&&Uc(i).values.length&&(r=e[n]),n++}if(r&&s)for(const i of t)e[i]=g4(s,r)}class U6 extends fx{constructor(t,s,n,r,i){super(t,s,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),nx(f))){const h=o4(f,s.current);h!==void 0&&(t[d]=h),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!u4.has(n)||t.length!==2)return;const[r,i]=t,l=Lb(r),c=Lb(i),o=jb(r),u=jb(i);if(o!==u&&wn[n]){this.needsMeasurement=!0;return}if(l!==c)if(Mb(l)&&Mb(c))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else wn[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let r=0;r<t.length;r++)(t[r]===null||R6(t[r]))&&n.push(r);n.length&&V6(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wn[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const r=s[s.length-1];r!==void 0&&t.getValue(n,r).jump(r,!1)}measureEndState(){var c;const{element:t,name:s,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const r=t.getValue(s);r&&r.jump(this.measuredOrigin,!1);const i=n.length-1,l=n[i];n[i]=wn[s](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([o,u])=>{t.getValue(o).set(u)}),this.resolveNoneKeyframes()}}function $6(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const r=(s==null?void 0:s[e])??n.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}const y4=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function b4(e){return Mw(e)&&"offsetHeight"in e}const{schedule:yx}=Fw(queueMicrotask,!1),Os={x:!1,y:!1};function v4(){return Os.x||Os.y}function q6(e){return e==="x"||e==="y"?Os[e]?null:(Os[e]=!0,()=>{Os[e]=!1}):Os.x||Os.y?null:(Os.x=Os.y=!0,()=>{Os.x=Os.y=!1})}function j4(e,t){const s=$6(e),n=new AbortController,r={passive:!0,...t,signal:n.signal};return[s,r,()=>n.abort()]}function Bb(e){return!(e.pointerType==="touch"||v4())}function F6(e,t,s={}){const[n,r,i]=j4(e,s),l=c=>{if(!Bb(c))return;const{target:o}=c,u=t(o,c);if(typeof u!="function"||!o)return;const d=f=>{Bb(f)&&(u(f),o.removeEventListener("pointerleave",d))};o.addEventListener("pointerleave",d,r)};return n.forEach(c=>{c.addEventListener("pointerenter",l,r)}),i}const N4=(e,t)=>t?e===t?!0:N4(e,t.parentElement):!1,bx=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,H6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function w4(e){return H6.has(e.tagName)||e.isContentEditable===!0}const Su=new WeakSet;function zb(e){return t=>{t.key==="Enter"&&e(t)}}function ph(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const I6=(e,t)=>{const s=e.currentTarget;if(!s)return;const n=zb(()=>{if(Su.has(s))return;ph(s,"down");const r=zb(()=>{ph(s,"up")}),i=()=>ph(s,"cancel");s.addEventListener("keyup",r,t),s.addEventListener("blur",i,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function Vb(e){return bx(e)&&!v4()}function Y6(e,t,s={}){const[n,r,i]=j4(e,s),l=c=>{const o=c.currentTarget;if(!Vb(c))return;Su.add(o);const u=t(o,c),d=(p,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Su.has(o)&&Su.delete(o),Vb(p)&&typeof u=="function"&&u(p,{success:m})},f=p=>{d(p,o===window||o===document||s.useGlobalTarget||N4(o,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,r),window.addEventListener("pointercancel",h,r)};return n.forEach(c=>{(s.useGlobalTarget?window:c).addEventListener("pointerdown",l,r),b4(c)&&(c.addEventListener("focus",u=>I6(u,r)),!w4(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function S4(e){return Mw(e)&&"ownerSVGElement"in e}function G6(e){return S4(e)&&e.tagName==="svg"}const K6=[...p4,We,qn],Q6=e=>K6.find(m4(e)),Ub=()=>({translate:0,scale:1,origin:0,originPoint:0}),pi=()=>({x:Ub(),y:Ub()}),$b=()=>({min:0,max:0}),nt=()=>({x:$b(),y:$b()}),mp={current:null},C4={current:!1},X6=typeof window<"u";function W6(){if(C4.current=!0,!!X6)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>mp.current=e.matches;e.addEventListener("change",t),t()}else mp.current=!1}const Z6=new WeakMap;function of(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function $c(e){return typeof e=="string"||Array.isArray(e)}const vx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jx=["initial",...vx];function uf(e){return of(e.animate)||jx.some(t=>$c(e[t]))}function k4(e){return!!(uf(e)||e.variants)}function J6(e,t,s){for(const n in t){const r=t[n],i=s[n];if(kt(r))e.addValue(n,r);else if(kt(i))e.addValue(n,el(r,{owner:e}));else if(i!==r)if(e.hasValue(n)){const l=e.getValue(n);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=e.getStaticValue(n);e.addValue(n,el(l!==void 0?l:r,{owner:e}))}}for(const n in s)t[n]===void 0&&e.removeValue(n);return t}const qb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let gd={};function E4(e){gd=e}function e8(){return gd}class t8{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Lt.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Be.render(this.render,!1,!0))};const{latestValues:o,renderState:u}=l;this.latestValues=o,this.baseTarget={...o},this.initialValues=s.initial?{...o}:{},this.renderState=u,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=uf(s),this.isVariantNode=k4(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(s,{},this);for(const h in f){const p=f[h];o[h]!==void 0&&kt(p)&&p.set(o[h])}}mount(t){var s;this.current=t,Z6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(C4.current||W6(),this.shouldReduceMotion=mp.current),(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),$n(this.notifyUpdate),$n(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const n=this.features[s];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=vl.has(t);n&&this.onBindTransform&&this.onBindTransform();const r=s.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Be.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{r(),i&&i(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in gd){const s=gd[t];if(!s)continue;const{isEnabled:n,Feature:r}=s;if(!this.features[t]&&r&&n(this.props)&&(this.features[t]=new r(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<qb.length;n++){const r=qb[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,l=t[i];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=J6(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=el(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Tw(n)||Dw(n))?n=parseFloat(n):!Q6(n)&&qn.test(s)&&(n=g4(t,s)),this.setBaseTarget(t,kt(n)?n.get():n)),kt(n)?n.get():n}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var i;const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const l=px(this.props,s,(i=this.presenceContext)==null?void 0:i.custom);l&&(n=l[t])}if(s&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!kt(r)?r:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new tx),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){yx.render(this.render)}}class A4 extends t8{constructor(){super(...arguments),this.KeyframeResolver=U6}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){const n=t.style;return n?n[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;kt(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class Xn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function T4({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function s8({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function a8(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}function xh(e){return e===void 0||e===1}function pp({scale:e,scaleX:t,scaleY:s}){return!xh(e)||!xh(t)||!xh(s)}function rr(e){return pp(e)||M4(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function M4(e){return Fb(e.x)||Fb(e.y)}function Fb(e){return e&&e!=="0%"}function yd(e,t,s){const n=e-s,r=t*n;return s+r}function Hb(e,t,s,n,r){return r!==void 0&&(e=yd(e,r,n)),yd(e,s,n)+t}function xp(e,t=0,s=1,n,r){e.min=Hb(e.min,t,s,n,r),e.max=Hb(e.max,t,s,n,r)}function D4(e,{x:t,y:s}){xp(e.x,t.translate,t.scale,t.originPoint),xp(e.y,s.translate,s.scale,s.originPoint)}const Ib=.999999999999,Yb=1.0000000000001;function n8(e,t,s,n=!1){const r=s.length;if(!r)return;t.x=t.y=1;let i,l;for(let c=0;c<r;c++){i=s[c],l=i.projectionDelta;const{visualElement:o}=i.options;o&&o.props.style&&o.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&gi(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,D4(e,l)),n&&rr(i.latestValues)&&gi(e,i.latestValues))}t.x<Yb&&t.x>Ib&&(t.x=1),t.y<Yb&&t.y>Ib&&(t.y=1)}function xi(e,t){e.min=e.min+t,e.max=e.max+t}function Gb(e,t,s,n,r=.5){const i=$e(e.min,e.max,r);xp(e,t,s,i,n)}function gi(e,t){Gb(e.x,t.x,t.scaleX,t.scale,t.originX),Gb(e.y,t.y,t.scaleY,t.scale,t.originY)}function R4(e,t){return T4(a8(e.getBoundingClientRect(),t))}function r8(e,t,s){const n=R4(e,s),{scroll:r}=t;return r&&(xi(n.x,r.offset.x),xi(n.y,r.offset.y)),n}const i8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},l8=bl.length;function c8(e,t,s){let n="",r=!0;for(let i=0;i<l8;i++){const l=bl[i],c=e[l];if(c===void 0)continue;let o=!0;if(typeof c=="number"?o=c===(l.startsWith("scale")?1:0):o=parseFloat(c)===0,!o||s){const u=y4(c,gx[l]);if(!o){r=!1;const d=i8[l]||l;n+=`${d}(${u}) `}s&&(t[l]=u)}}return n=n.trim(),s?n=s(t,r?"":n):r&&(n="none"),n}function Nx(e,t,s){const{style:n,vars:r,transformOrigin:i}=e;let l=!1,c=!1;for(const o in t){const u=t[o];if(vl.has(o)){l=!0;continue}else if(Iw(o)){r[o]=u;continue}else{const d=y4(u,gx[o]);o.startsWith("origin")?(c=!0,i[o]=d):n[o]=d}}if(t.transform||(l||s?n.transform=c8(t,e.transform,s):n.transform&&(n.transform="none")),c){const{originX:o="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${o} ${u} ${d}`}}function O4(e,{style:t,vars:s},n,r){const i=e.style;let l;for(l in t)i[l]=t[l];r==null||r.applyProjectionStyles(i,n);for(l in s)i.setProperty(l,s[l])}function Kb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ll={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Z.test(e))e=parseFloat(e);else return e;const s=Kb(e,t.target.x),n=Kb(e,t.target.y);return`${s}% ${n}%`}},o8={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,r=qn.parse(e);if(r.length>5)return n;const i=qn.createTransformer(e),l=typeof r[0]!="number"?1:0,c=s.x.scale*t.x,o=s.y.scale*t.y;r[0+l]/=c,r[1+l]/=o;const u=$e(c,o,.5);return typeof r[2+l]=="number"&&(r[2+l]/=u),typeof r[3+l]=="number"&&(r[3+l]/=u),i(r)}},gp={borderRadius:{...Ll,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ll,borderTopRightRadius:Ll,borderBottomLeftRadius:Ll,borderBottomRightRadius:Ll,boxShadow:o8};function _4(e,{layout:t,layoutId:s}){return vl.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!gp[e]||e==="opacity")}function wx(e,t,s){var l;const n=e.style,r=t==null?void 0:t.style,i={};if(!n)return i;for(const c in n)(kt(n[c])||r&&kt(r[c])||_4(c,e)||((l=s==null?void 0:s.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(i[c]=n[c]);return i}function u8(e){return window.getComputedStyle(e)}class d8 extends A4{constructor(){super(...arguments),this.type="html",this.renderInstance=O4}readValueFromInstance(t,s){var n;if(vl.has(s))return(n=this.projection)!=null&&n.isProjecting?np(s):$D(t,s);{const r=u8(t),i=(Iw(s)?r.getPropertyValue(s):r[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:s}){return R4(t,s)}build(t,s,n){Nx(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return wx(t,s,n)}}const f8={offset:"stroke-dashoffset",array:"stroke-dasharray"},h8={offset:"strokeDashoffset",array:"strokeDasharray"};function m8(e,t,s=1,n=0,r=!0){e.pathLength=1;const i=r?f8:h8;e[i.offset]=Z.transform(-n);const l=Z.transform(t),c=Z.transform(s);e[i.array]=`${l} ${c}`}const p8=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function L4(e,{attrX:t,attrY:s,attrScale:n,pathLength:r,pathSpacing:i=1,pathOffset:l=0,...c},o,u,d){if(Nx(e,c,u),o){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox);for(const p of p8)f[p]!==void 0&&(h[p]=f[p],delete f[p]);t!==void 0&&(f.x=t),s!==void 0&&(f.y=s),n!==void 0&&(f.scale=n),r!==void 0&&m8(f,r,i,l,!1)}const P4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),B4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function x8(e,t,s,n){O4(e,t,void 0,n);for(const r in t.attrs)e.setAttribute(P4.has(r)?r:xx(r),t.attrs[r])}function z4(e,t,s){const n=wx(e,t,s);for(const r in e)if(kt(e[r])||kt(t[r])){const i=bl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}class g8 extends A4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nt}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(vl.has(s)){const n=x4(s);return n&&n.default||0}return s=P4.has(s)?s:xx(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return z4(t,s,n)}build(t,s,n){L4(t,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,s,n,r){x8(t,s,n,r)}mount(t){this.isSVGTag=B4(t.tagName),super.mount(t)}}const y8=jx.length;function V4(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?V4(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<y8;s++){const n=jx[s],r=e.props[n];($c(r)||r===!1)&&(t[n]=r)}return t}function U4(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}const b8=[...vx].reverse(),v8=vx.length;function j8(e){return t=>Promise.all(t.map(({animation:s,options:n})=>M6(e,s,n)))}function N8(e){let t=j8(e),s=Qb(),n=!0;const r=o=>(u,d)=>{var h;const f=ki(e,d,o==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:m,...v}=f;u={...u,...v,...m}}return u};function i(o){t=o(e)}function l(o){const{props:u}=e,d=V4(e.parent)||{},f=[],h=new Set;let p={},m=1/0;for(let j=0;j<v8;j++){const x=b8[j],g=s[x],y=u[x]!==void 0?u[x]:d[x],N=$c(y),k=x===o?g.isActive:null;k===!1&&(m=j);let D=y===d[x]&&y!==u[x]&&N;if(D&&n&&e.manuallyAnimateOnMount&&(D=!1),g.protectedKeys={...p},!g.isActive&&k===null||!y&&!g.prevProp||of(y)||typeof y=="boolean")continue;const w=w8(g.prevProp,y);let T=w||x===o&&g.isActive&&!D&&N||j>m&&N,O=!1;const A=Array.isArray(y)?y:[y];let E=A.reduce(r(x),{});k===!1&&(E={});const{prevResolvedValues:S={}}=g,M={...S,...E},C=_=>{T=!0,h.has(_)&&(O=!0,h.delete(_)),g.needsAnimating[_]=!0;const F=e.getValue(_);F&&(F.liveStyle=!1)};for(const _ in M){const F=E[_],G=S[_];if(p.hasOwnProperty(_))continue;let B=!1;up(F)&&up(G)?B=!U4(F,G):B=F!==G,B?F!=null?C(_):h.add(_):F!==void 0&&h.has(_)?C(_):g.protectedKeys[_]=!0}g.prevProp=y,g.prevResolvedValues=E,g.isActive&&(p={...p,...E}),n&&e.blockInitialAnimation&&(T=!1);const q=D&&w;T&&(!q||O)&&f.push(...A.map(_=>{const F={type:x};if(typeof _=="string"&&n&&!q&&e.manuallyAnimateOnMount&&e.parent){const{parent:G}=e,B=ki(G,_);if(G.enteringChildren&&B){const{delayChildren:I}=B.transition||{};F.delay=c4(G.enteringChildren,e,I)}}return{animation:_,options:F}}))}if(h.size){const j={};if(typeof u.initial!="boolean"){const x=ki(e,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(j.transition=x.transition)}h.forEach(x=>{const g=e.getBaseTarget(x),y=e.getValue(x);y&&(y.liveStyle=!0),j[x]=g??null}),f.push({animation:j})}let v=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(f):Promise.resolve()}function c(o,u){var f;if(s[o].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(o,u)}),s[o].isActive=u;const d=l(o);for(const h in s)s[h].protectedKeys={};return d}return{animateChanges:l,setActive:c,setAnimateFunction:i,getState:()=>s,reset:()=>{s=Qb()}}}function w8(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!U4(t,e):!1}function er(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Qb(){return{animate:er(!0),whileInView:er(),whileHover:er(),whileTap:er(),whileDrag:er(),whileFocus:er(),exit:er()}}function Xb(e,t){e.min=t.min,e.max=t.max}function Rs(e,t){Xb(e.x,t.x),Xb(e.y,t.y)}function Wb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const $4=1e-4,S8=1-$4,C8=1+$4,q4=.01,k8=0-q4,E8=0+q4;function Pt(e){return e.max-e.min}function A8(e,t,s){return Math.abs(e-t)<=s}function Zb(e,t,s,n=.5){e.origin=n,e.originPoint=$e(t.min,t.max,e.origin),e.scale=Pt(s)/Pt(t),e.translate=$e(s.min,s.max,e.origin)-e.originPoint,(e.scale>=S8&&e.scale<=C8||isNaN(e.scale))&&(e.scale=1),(e.translate>=k8&&e.translate<=E8||isNaN(e.translate))&&(e.translate=0)}function mc(e,t,s,n){Zb(e.x,t.x,s.x,n?n.originX:void 0),Zb(e.y,t.y,s.y,n?n.originY:void 0)}function Jb(e,t,s){e.min=s.min+t.min,e.max=e.min+Pt(t)}function T8(e,t,s){Jb(e.x,t.x,s.x),Jb(e.y,t.y,s.y)}function ev(e,t,s){e.min=t.min-s.min,e.max=e.min+Pt(t)}function bd(e,t,s){ev(e.x,t.x,s.x),ev(e.y,t.y,s.y)}function tv(e,t,s,n,r){return e-=t,e=yd(e,1/s,n),r!==void 0&&(e=yd(e,1/r,n)),e}function M8(e,t=0,s=1,n=.5,r,i=e,l=e){if(ta.test(t)&&(t=parseFloat(t),t=$e(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=$e(i.min,i.max,n);e===i&&(c-=t),e.min=tv(e.min,t,s,c,r),e.max=tv(e.max,t,s,c,r)}function sv(e,t,[s,n,r],i,l){M8(e,t[s],t[n],t[r],t.scale,i,l)}const D8=["x","scaleX","originX"],R8=["y","scaleY","originY"];function av(e,t,s,n){sv(e.x,t,D8,s?s.x:void 0,n?n.x:void 0),sv(e.y,t,R8,s?s.y:void 0,n?n.y:void 0)}function nv(e){return e.translate===0&&e.scale===1}function F4(e){return nv(e.x)&&nv(e.y)}function rv(e,t){return e.min===t.min&&e.max===t.max}function O8(e,t){return rv(e.x,t.x)&&rv(e.y,t.y)}function iv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function H4(e,t){return iv(e.x,t.x)&&iv(e.y,t.y)}function lv(e){return Pt(e.x)/Pt(e.y)}function cv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function ds(e){return[e("x"),e("y")]}function _8(e,t,s){let n="";const r=e.x.translate/t.x,i=e.y.translate/t.y,l=(s==null?void 0:s.z)||0;if((r||i||l)&&(n=`translate3d(${r}px, ${i}px, ${l}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:m}=s;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),m&&(n+=`skewY(${m}deg) `)}const c=e.x.scale*t.x,o=e.y.scale*t.y;return(c!==1||o!==1)&&(n+=`scale(${c}, ${o})`),n||"none"}const I4=["TopLeft","TopRight","BottomLeft","BottomRight"],L8=I4.length,ov=e=>typeof e=="string"?parseFloat(e):e,uv=e=>typeof e=="number"||Z.test(e);function P8(e,t,s,n,r,i){r?(e.opacity=$e(0,s.opacity??1,B8(n)),e.opacityExit=$e(t.opacity??1,0,z8(n))):i&&(e.opacity=$e(t.opacity??1,s.opacity??1,n));for(let l=0;l<L8;l++){const c=`border${I4[l]}Radius`;let o=dv(t,c),u=dv(s,c);if(o===void 0&&u===void 0)continue;o||(o=0),u||(u=0),o===0||u===0||uv(o)===uv(u)?(e[c]=Math.max($e(ov(o),ov(u),n),0),(ta.test(u)||ta.test(o))&&(e[c]+="%")):e[c]=u}(t.rotate||s.rotate)&&(e.rotate=$e(t.rotate||0,s.rotate||0,n))}function dv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const B8=Y4(0,.5,Vw),z8=Y4(.5,.95,ks);function Y4(e,t,s){return n=>n<e?0:n>t?1:s(zc(e,t,n))}function V8(e,t,s){const n=kt(e)?e:el(e);return n.start(mx("",n,t,s)),n.animation}function qc(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}const U8=(e,t)=>e.depth-t.depth;class $8{constructor(){this.children=[],this.isDirty=!1}add(t){W0(this.children,t),this.isDirty=!0}remove(t){Z0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(U8),this.isDirty=!1,this.children.forEach(t)}}function q8(e,t){const s=Lt.now(),n=({timestamp:r})=>{const i=r-s;i>=t&&($n(n),e(i-t))};return Be.setup(n,!0),()=>$n(n)}function Cu(e){return kt(e)?e.get():e}class F8{constructor(){this.members=[]}add(t){W0(this.members,t),t.scheduleRender()}remove(t){if(Z0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(r=>t===r);if(s===0)return!1;let n;for(let r=s;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:r}=t.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ku={hasAnimatedSinceResize:!0,hasEverUpdated:!1},gh=["","X","Y","Z"],H8=1e3;let I8=0;function yh(e,t,s,n){const{latestValues:r}=t;r[e]&&(s[e]=r[e],t.setStaticValue(e,0),n&&(n[e]=0))}function G4(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=f4(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:r,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Be,!(r||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&G4(n)}function K4({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(l={},c=t==null?void 0:t()){this.id=I8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(K8),this.nodes.forEach(Z8),this.nodes.forEach(J8),this.nodes.forEach(Q8)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new $8)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new tx),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const o=this.eventHandlers.get(l);o&&o.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=S4(l)&&!G6(l),this.instance=l;const{layoutId:c,layout:o,visualElement:u}=this.options;if(u&&!u.current&&u.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(o||c)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;Be.read(()=>{f=window.innerWidth}),e(l,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,d&&d(),d=q8(h,250),ku.hasAnimatedSinceResize&&(ku.hasAnimatedSinceResize=!1,this.nodes.forEach(mv)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||o)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||nR,{onLayoutAnimationStart:v,onLayoutAnimationComplete:j}=u.getProps(),x=!this.targetLayout||!H4(this.targetLayout,p),g=!f&&h;if(this.options.layoutRoot||this.resumeFrom||g||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...hx(m,"layout"),onPlay:v,onComplete:j};(u.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(d,g)}else f||mv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$n(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eR),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&G4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:o}=this.options;if(c===void 0&&!o)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(W8),this.nodes.forEach(Y8),this.nodes.forEach(G8)):this.nodes.forEach(hv),this.clearAllSnapshots();const c=Lt.now();xt.delta=ra(0,1e3/60,c-xt.timestamp),xt.timestamp=c,xt.isProcessing=!0,oh.update.process(xt),oh.preRender.process(xt),oh.render.process(xt),xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(X8),this.sharedNodes.forEach(tR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Pt(this.snapshot.measuredBox.x)&&!Pt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const o=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:o,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!F4(this.projectionDelta),o=this.getTransformTemplate(),u=o?o(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;l&&this.instance&&(c||rr(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let o=this.removeElementScroll(c);return l&&(o=this.removeTransform(o)),rR(o),{animationId:this.root.animationId,measuredBox:c,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:l}=this.options;if(!l)return nt();const c=l.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(iR))){const{scroll:d}=this.root;d&&(xi(c.x,d.offset.x),xi(c.y,d.offset.y))}return c}removeElementScroll(l){var o;const c=nt();if(Rs(c,l),(o=this.scroll)!=null&&o.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Rs(c,l),xi(c.x,f.offset.x),xi(c.y,f.offset.y))}return c}applyTransform(l,c=!1){const o=nt();Rs(o,l);for(let u=0;u<this.path.length;u++){const d=this.path[u];!c&&d.options.layoutScroll&&d.scroll&&d!==d.root&&gi(o,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),rr(d.latestValues)&&gi(o,d.latestValues)}return rr(this.latestValues)&&gi(o,this.latestValues),o}removeTransform(l){const c=nt();Rs(c,l);for(let o=0;o<this.path.length;o++){const u=this.path[o];if(!u.instance||!rr(u.latestValues))continue;pp(u.latestValues)&&u.updateSnapshot();const d=nt(),f=u.measurePageBox();Rs(d,f),av(c,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return rr(this.latestValues)&&av(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var p;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const o=!!this.resumingFrom||this!==c;if(!(l||o&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=xt.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nt(),this.targetWithTransforms=nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),T8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rs(this.target,this.layout.layoutBox),D4(this.target,this.targetDelta)):Rs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||pp(this.parent.latestValues)||M4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,c,o){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),bd(this.relativeTargetOrigin,c,o),Rs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var m;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let o=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(o=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(o=!1),this.resolvedRelativeTargetAt===xt.timestamp&&(o=!1),o)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Rs(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;n8(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=nt());const{target:p}=l;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Wb(this.prevProjectionDelta.x,this.projectionDelta.x),Wb(this.prevProjectionDelta.y,this.projectionDelta.y)),mc(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!cv(this.projectionDelta.x,this.prevProjectionDelta.x)||!cv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pi(),this.projectionDelta=pi(),this.projectionDeltaWithTransform=pi()}setAnimationOrigin(l,c=!1){const o=this.snapshot,u=o?o.latestValues:{},d={...this.latestValues},f=pi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const h=nt(),p=o?o.source:void 0,m=this.layout?this.layout.source:void 0,v=p!==m,j=this.getStack(),x=!j||j.members.length<=1,g=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(aR));this.animationProgress=0;let y;this.mixTargetDelta=N=>{const k=N/1e3;pv(f.x,l.x,k),pv(f.y,l.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bd(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sR(this.relativeTarget,this.relativeTargetOrigin,h,k),y&&O8(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=nt()),Rs(y,this.relativeTarget)),v&&(this.animationValues=d,P8(d,u,this.latestValues,k,g,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var c,o,u;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(u=(o=this.resumingFrom)==null?void 0:o.currentAnimation)==null||u.stop(),this.pendingAnimation&&($n(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Be.update(()=>{ku.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=el(0)),this.currentAnimation=V8(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(H8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:o,layout:u,latestValues:d}=l;if(!(!c||!o||!u)){if(this!==l&&this.layout&&u&&Q4(this.options.animationType,this.layout.layoutBox,u.layoutBox)){o=this.target||nt();const f=Pt(this.layout.layoutBox.x);o.x.min=l.target.x.min,o.x.max=o.x.min+f;const h=Pt(this.layout.layoutBox.y);o.y.min=l.target.y.min,o.y.max=o.y.min+h}Rs(c,o),gi(c,d),mc(this.projectionDeltaWithTransform,this.layoutCorrected,c,d)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new F8),this.sharedNodes.get(l).add(c);const u=c.options.initialPromotionConfig;c.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:o}={}){const u=this.getStack();u&&u.promote(this,o),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:o}=l;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(c=!0),!c)return;const u={};o.z&&yh("z",l,u,this.animationValues);for(let d=0;d<gh.length;d++)yh(`rotate${gh[d]}`,l,u,this.animationValues),yh(`skew${gh[d]}`,l,u,this.animationValues);l.render();for(const d in u)l.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const o=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Cu(c==null?void 0:c.pointerEvents)||"",l.transform=o?o(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Cu(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!rr(this.latestValues)&&(l.transform=o?o({},""):"none",this.hasProjected=!1);return}l.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=_8(this.projectionDeltaWithTransform,this.treeScale,d);o&&(f=o(d,f)),l.transform=f;const{x:h,y:p}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in gp){if(d[m]===void 0)continue;const{correct:v,applyTo:j,isCSSVariable:x}=gp[m],g=f==="none"?d[m]:v(d[m],u);if(j){const y=j.length;for(let N=0;N<y;N++)l[j[N]]=g}else x?this.options.visualElement.renderState.vars[m]=g:l[m]=g}this.options.layoutId&&(l.pointerEvents=u===this?Cu(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(fv),this.root.sharedNodes.clear()}}}function Y8(e){e.updateLayout()}function G8(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,l=t.source!==e.layout.source;i==="size"?ds(f=>{const h=l?t.measuredBox[f]:t.layoutBox[f],p=Pt(h);h.min=n[f].min,h.max=h.min+p}):Q4(i,t.layoutBox,n)&&ds(f=>{const h=l?t.measuredBox[f]:t.layoutBox[f],p=Pt(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const c=pi();mc(c,n,t.layoutBox);const o=pi();l?mc(o,e.applyTransform(r,!0),t.measuredBox):mc(o,n,t.layoutBox);const u=!F4(c);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=nt();bd(m,t.layoutBox,h.layoutBox);const v=nt();bd(v,n,p.layoutBox),H4(m,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:o,layoutDelta:c,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function K8(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Q8(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function X8(e){e.clearSnapshot()}function fv(e){e.clearMeasurements()}function hv(e){e.isLayoutDirty=!1}function W8(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function mv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Z8(e){e.resolveTargetDelta()}function J8(e){e.calcProjection()}function eR(e){e.resetSkewAndRotation()}function tR(e){e.removeLeadSnapshot()}function pv(e,t,s){e.translate=$e(t.translate,0,s),e.scale=$e(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function xv(e,t,s,n){e.min=$e(t.min,s.min,n),e.max=$e(t.max,s.max,n)}function sR(e,t,s,n){xv(e.x,t.x,s.x,n),xv(e.y,t.y,s.y,n)}function aR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const nR={duration:.45,ease:[.4,0,.1,1]},gv=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),yv=gv("applewebkit/")&&!gv("chrome/")?Math.round:ks;function bv(e){e.min=yv(e.min),e.max=yv(e.max)}function rR(e){bv(e.x),bv(e.y)}function Q4(e,t,s){return e==="position"||e==="preserve-aspect"&&!A8(lv(t),lv(s),.2)}function iR(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const lR=K4({attachResizeListener:(e,t)=>qc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bh={current:void 0},X4=K4({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!bh.current){const e=new lR({});e.mount(window),e.setOptions({layoutScroll:!0}),bh.current=e}return bh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Sx=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function vv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cR(...e){return t=>{let s=!1;const n=e.map(r=>{const i=vv(r,t);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let r=0;r<n.length;r++){const i=n[r];typeof i=="function"?i():vv(e[r],null)}}}}function oR(...e){return b.useCallback(cR(...e),e)}class uR extends b.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=s.offsetParent,r=b4(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=s.offsetHeight||0,i.width=s.offsetWidth||0,i.top=s.offsetTop,i.left=s.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dR({children:e,isPresent:t,anchorX:s,root:n}){var d;const r=b.useId(),i=b.useRef(null),l=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=b.useContext(Sx),o=((d=e.props)==null?void 0:d.ref)??(e==null?void 0:e.ref),u=oR(i,o);return b.useInsertionEffect(()=>{const{width:f,height:h,top:p,left:m,right:v}=l.current;if(t||!i.current||!f||!h)return;const j=s==="left"?`left: ${m}`:`right: ${v}`;i.current.dataset.motionPopId=r;const x=document.createElement("style");c&&(x.nonce=c);const g=n??document.head;return g.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${h}px !important;
            ${j}px !important;
            top: ${p}px !important;
          }
        `),()=>{g.contains(x)&&g.removeChild(x)}},[t]),a.jsx(uR,{isPresent:t,childRef:i,sizeRef:l,children:b.cloneElement(e,{ref:u})})}const fR=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:r,presenceAffectsLayout:i,mode:l,anchorX:c,root:o})=>{const u=X0(hR),d=b.useId();let f=!0,h=b.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:s,custom:r,onExitComplete:p=>{u.set(p,!0);for(const m of u.values())if(!m)return;n&&n()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[s,u,n]);return i&&f&&(h={...h}),b.useMemo(()=>{u.forEach((p,m)=>u.set(m,!1))},[s]),b.useEffect(()=>{!s&&!u.size&&n&&n()},[s]),l==="popLayout"&&(e=a.jsx(dR,{isPresent:s,anchorX:c,root:o,children:e})),a.jsx(cf.Provider,{value:h,children:e})};function hR(){return new Map}function W4(e=!0){const t=b.useContext(cf);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:r}=t,i=b.useId();b.useEffect(()=>{if(e)return r(i)},[e]);const l=b.useCallback(()=>e&&n&&n(i),[i,n,e]);return!s&&n?[!1,l]:[!0]}const Yo=e=>e.key||"";function jv(e){const t=[];return b.Children.forEach(e,s=>{b.isValidElement(s)&&t.push(s)}),t}const te=({children:e,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:r=!0,mode:i="sync",propagate:l=!1,anchorX:c="left",root:o})=>{const[u,d]=W4(l),f=b.useMemo(()=>jv(e),[e]),h=l&&!u?[]:f.map(Yo),p=b.useRef(!0),m=b.useRef(f),v=X0(()=>new Map),j=b.useRef(new Set),[x,g]=b.useState(f),[y,N]=b.useState(f);Aw(()=>{p.current=!1,m.current=f;for(let w=0;w<y.length;w++){const T=Yo(y[w]);h.includes(T)?(v.delete(T),j.current.delete(T)):v.get(T)!==!0&&v.set(T,!1)}},[y,h.length,h.join("-")]);const k=[];if(f!==x){let w=[...f];for(let T=0;T<y.length;T++){const O=y[T],A=Yo(O);h.includes(A)||(w.splice(T,0,O),k.push(O))}return i==="wait"&&k.length&&(w=k),N(jv(w)),g(f),null}const{forceRender:D}=b.useContext(Q0);return a.jsx(a.Fragment,{children:y.map(w=>{const T=Yo(w),O=l&&!u?!1:f===y||h.includes(T),A=()=>{if(j.current.has(T))return;if(j.current.add(T),v.has(T))v.set(T,!0);else return;let E=!0;v.forEach(S=>{S||(E=!1)}),E&&(D==null||D(),N(m.current),l&&(d==null||d()),n&&n())};return a.jsx(fR,{isPresent:O,initial:!p.current||s?void 0:!1,custom:t,presenceAffectsLayout:r,mode:i,root:o,onExitComplete:O?void 0:A,anchorX:c,children:w},T)})})},Z4=b.createContext({strict:!1}),Nv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let wv=!1;function mR(){if(wv)return;const e={};for(const t in Nv)e[t]={isEnabled:s=>Nv[t].some(n=>!!s[n])};E4(e),wv=!0}function J4(){return mR(),e8()}function pR(e){const t=J4();for(const s in e)t[s]={...t[s],...e[s]};E4(t)}const xR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||xR.has(e)}let e5=e=>!vd(e);function gR(e){typeof e=="function"&&(e5=t=>t.startsWith("on")?!vd(t):e(t))}try{gR(require("@emotion/is-prop-valid").default)}catch{}function yR(e,t,s){const n={};for(const r in e)r==="values"&&typeof e.values=="object"||(e5(r)||s===!0&&vd(r)||!t&&!vd(r)||e.draggable&&r.startsWith("onDrag"))&&(n[r]=e[r]);return n}const df=b.createContext({});function bR(e,t){if(uf(e)){const{initial:s,animate:n}=e;return{initial:s===!1||$c(s)?s:void 0,animate:$c(n)?n:void 0}}return e.inherit!==!1?t:{}}function vR(e){const{initial:t,animate:s}=bR(e,b.useContext(df));return b.useMemo(()=>({initial:t,animate:s}),[Sv(t),Sv(s)])}function Sv(e){return Array.isArray(e)?e.join(" "):e}const Cx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function t5(e,t,s){for(const n in t)!kt(t[n])&&!_4(n,s)&&(e[n]=t[n])}function jR({transformTemplate:e},t){return b.useMemo(()=>{const s=Cx();return Nx(s,t,e),Object.assign({},s.vars,s.style)},[t])}function NR(e,t){const s=e.style||{},n={};return t5(n,s,e),Object.assign(n,jR(e,t)),n}function wR(e,t){const s={},n=NR(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}const s5=()=>({...Cx(),attrs:{}});function SR(e,t,s,n){const r=b.useMemo(()=>{const i=s5();return L4(i,t,B4(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};t5(i,e.style,e),r.style={...i,...r.style}}return r}const CR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kx(e){return typeof e!="string"||e.includes("-")?!1:!!(CR.indexOf(e)>-1||/[A-Z]/u.test(e))}function kR(e,t,s,{latestValues:n},r,i=!1,l){const o=(l??kx(e)?SR:wR)(t,n,r,e),u=yR(t,typeof e=="string",i),d=e!==b.Fragment?{...u,...o,ref:s}:{},{children:f}=t,h=b.useMemo(()=>kt(f)?f.get():f,[f]);return b.createElement(e,{...d,children:h})}function ER({scrapeMotionValuesFromProps:e,createRenderState:t},s,n,r){return{latestValues:AR(s,n,r,e),renderState:t()}}function AR(e,t,s,n){const r={},i=n(e,{});for(const h in i)r[h]=Cu(i[h]);let{initial:l,animate:c}=e;const o=uf(e),u=k4(e);t&&u&&!o&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let d=s?s.initial===!1:!1;d=d||l===!1;const f=d?c:l;if(f&&typeof f!="boolean"&&!of(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const m=px(e,h[p]);if(m){const{transitionEnd:v,transition:j,...x}=m;for(const g in x){let y=x[g];if(Array.isArray(y)){const N=d?y.length-1:0;y=y[N]}y!==null&&(r[g]=y)}for(const g in v)r[g]=v[g]}}}return r}const a5=e=>(t,s)=>{const n=b.useContext(df),r=b.useContext(cf),i=()=>ER(e,t,n,r);return s?i():X0(i)},TR=a5({scrapeMotionValuesFromProps:wx,createRenderState:Cx}),MR=a5({scrapeMotionValuesFromProps:z4,createRenderState:s5}),DR=Symbol.for("motionComponentSymbol");function RR(e,t,s){const n=b.useRef(s);b.useInsertionEffect(()=>{n.current=s});const r=b.useRef(null);return b.useCallback(i=>{var c;i&&((c=e.onMount)==null||c.call(e,i)),t&&(i?t.mount(i):t.unmount());const l=n.current;if(typeof l=="function")if(i){const o=l(i);typeof o=="function"&&(r.current=o)}else r.current?(r.current(),r.current=null):l(i);else l&&(l.current=i)},[t])}const n5=b.createContext({});function Xl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function OR(e,t,s,n,r,i){var j,x;const{visualElement:l}=b.useContext(df),c=b.useContext(Z4),o=b.useContext(cf),u=b.useContext(Sx).reducedMotion,d=b.useRef(null);n=n||c.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:l,props:s,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:u,isSVG:i}));const f=d.current,h=b.useContext(n5);f&&!f.projection&&r&&(f.type==="html"||f.type==="svg")&&_R(d.current,s,r,h);const p=b.useRef(!1);b.useInsertionEffect(()=>{f&&p.current&&f.update(s,o)});const m=s[d4],v=b.useRef(!!m&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,m))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,m)));return Aw(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),v.current&&f.animationState&&f.animationState.animateChanges())}),b.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),v.current=!1),f.enteringChildren=void 0)}),f}function _R(e,t,s,n){const{layoutId:r,layout:i,drag:l,dragConstraints:c,layoutScroll:o,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:r5(e.parent)),e.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!l||c&&Xl(c),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:o,layoutRoot:u})}function r5(e){if(e)return e.options.allowProjection!==!1?e.projection:r5(e.parent)}function vh(e,{forwardMotionProps:t=!1,type:s}={},n,r){n&&pR(n);const i=s?s==="svg":kx(e),l=i?MR:TR;function c(u,d){let f;const h={...b.useContext(Sx),...u,layoutId:LR(u)},{isStatic:p}=h,m=vR(u),v=l(u,p);if(!p&&Ew){PR();const j=BR(h);f=j.MeasureLayout,m.visualElement=OR(e,v,h,r,j.ProjectionNode,i)}return a.jsxs(df.Provider,{value:m,children:[f&&m.visualElement?a.jsx(f,{visualElement:m.visualElement,...h}):null,kR(e,u,RR(v,m.visualElement,d),v,p,t,i)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=b.forwardRef(c);return o[DR]=e,o}function LR({layoutId:e}){const t=b.useContext(Q0).id;return t&&e!==void 0?t+"-"+e:e}function PR(e,t){b.useContext(Z4).strict}function BR(e){const t=J4(),{drag:s,layout:n}=t;if(!s&&!n)return{};const r={...s,...n};return{MeasureLayout:s!=null&&s.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function zR(e,t){if(typeof Proxy>"u")return vh;const s=new Map,n=(i,l)=>vh(i,l,e,t),r=(i,l)=>n(i,l);return new Proxy(r,{get:(i,l)=>l==="create"?n:(s.has(l)||s.set(l,vh(l,void 0,e,t)),s.get(l))})}const VR=(e,t)=>t.isSVG??kx(e)?new g8(t):new d8(t,{allowProjection:e!==b.Fragment});class UR extends Xn{constructor(t){super(t),t.animationState||(t.animationState=N8(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();of(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let $R=0;class qR extends Xn{constructor(){super(...arguments),this.id=$R++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const r=this.node.animationState.setActive("exit",!t);s&&!t&&r.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const FR={animation:{Feature:UR},exit:{Feature:qR}};function jo(e){return{point:{x:e.pageX,y:e.pageY}}}const HR=e=>t=>bx(t)&&e(t,jo(t));function pc(e,t,s,n){return qc(e,t,HR(s),n)}const i5=({current:e})=>e?e.ownerDocument.defaultView:null,Cv=(e,t)=>Math.abs(e-t);function IR(e,t){const s=Cv(e.x,t.x),n=Cv(e.y,t.y);return Math.sqrt(s**2+n**2)}const kv=new Set(["auto","scroll"]);class l5{constructor(t,s,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:l=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Nh(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=IR(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:j}=p,{timestamp:x}=xt;this.history.push({...j,timestamp:x});const{onStart:g,onMove:y}=this.handlers;m||(g&&g(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=jh(m,this.transformPagePoint),Be.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:v,onSessionEnd:j,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Nh(p.type==="pointercancel"?this.lastMoveEventInfo:jh(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,g),j&&j(p,g)},!bx(t))return;this.dragSnapToOrigin=i,this.handlers=s,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=r||window;const o=jo(t),u=jh(o,this.transformPagePoint),{point:d}=u,{timestamp:f}=xt;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=s;h&&h(t,Nh(u,this.history)),this.removeListeners=yo(pc(this.contextWindow,"pointermove",this.handlePointerMove),pc(this.contextWindow,"pointerup",this.handlePointerUp),pc(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(t){let s=t.parentElement;for(;s;){const n=getComputedStyle(s);(kv.has(n.overflowX)||kv.has(n.overflowY))&&this.scrollPositions.set(s,{x:s.scrollLeft,y:s.scrollTop}),s=s.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const s=this.scrollPositions.get(t);if(!s)return;const n=t===window,r=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},i={x:r.x-s.x,y:r.y-s.y};i.x===0&&i.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(t,r),Be.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),$n(this.updatePoint)}}function jh(e,t){return t?{point:t(e.point)}:e}function Ev(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Nh({point:e},t){return{point:e,delta:Ev(e,c5(t)),offset:Ev(e,YR(t)),velocity:GR(t,.1)}}function YR(e){return e[0]}function c5(e){return e[e.length-1]}function GR(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const r=c5(e);for(;s>=0&&(n=e[s],!(r.timestamp-n.timestamp>Oa(t)));)s--;if(!n)return{x:0,y:0};const i=Ns(r.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const l={x:(r.x-n.x)/i,y:(r.y-n.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function KR(e,{min:t,max:s},n){return t!==void 0&&e<t?e=n?$e(t,e,n.min):Math.max(e,t):s!==void 0&&e>s&&(e=n?$e(s,e,n.max):Math.min(e,s)),e}function Av(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function QR(e,{top:t,left:s,bottom:n,right:r}){return{x:Av(e.x,s,r),y:Av(e.y,t,n)}}function Tv(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}function XR(e,t){return{x:Tv(e.x,t.x),y:Tv(e.y,t.y)}}function WR(e,t){let s=.5;const n=Pt(e),r=Pt(t);return r>n?s=zc(t.min,t.max-n,e.min):n>r&&(s=zc(e.min,e.max-r,t.min)),ra(0,1,s)}function ZR(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const yp=.35;function JR(e=yp){return e===!1?e=0:e===!0&&(e=yp),{x:Mv(e,"left","right"),y:Mv(e,"top","bottom")}}function Mv(e,t,s){return{min:Dv(e,t),max:Dv(e,s)}}function Dv(e,t){return typeof e=="number"?e:e[t]||0}const eO=new WeakMap;class tO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{s?(this.stopAnimation(),this.snapToCursor(jo(f).point)):this.pauseAnimation()},l=(f,h)=>{this.stopAnimation();const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=q6(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ds(x=>{let g=this.getAxisMotionValue(x).get()||0;if(ta.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const N=y.layout.layoutBox[x];N&&(g=Pt(N)*(parseFloat(g)/100))}}this.originPoint[x]=g}),v&&Be.postRender(()=>v(f,h)),dp(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:j}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=sO(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),j&&j(f,h)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ds(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new l5(t,{onSessionStart:i,onStart:l,onMove:c,onSessionEnd:o,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:i5(this.visualElement),element:this.visualElement.current})}stop(t,s){const n=t||this.latestPointerEvent,r=s||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Be.postRender(()=>c(n,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:r}=this.getProps();if(!n||!Go(t,r,this.currentDirection))return;const i=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=KR(l,this.constraints[t],this.elastic[t])),i.set(l)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,r=this.constraints;t&&Xl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=QR(n.layoutBox,t):this.constraints=!1,this.elastic=JR(s),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ds(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=ZR(n.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Xl(t))return!1;const n=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=r8(n,r.root,this.visualElement.getTransformPagePoint());let l=XR(r.layout.layoutBox,i);if(s){const c=s(s8(l));this.hasMutatedConstraints=!!c,c&&(l=T4(c))}return l}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),o=this.constraints||{},u=ds(d=>{if(!Go(d,s,this.currentDirection))return;let f=o&&o[d]||{};l&&(f={min:0,max:0});const h=r?200:1e6,p=r?40:1e7,m={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,m)});return Promise.all(u).then(c)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return dp(this.visualElement,t),n.start(mx(t,n,0,s,this.visualElement,!1))}stopAnimation(){ds(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ds(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),r=n[s];return r||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ds(s=>{const{drag:n}=this.getProps();if(!Go(s,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(s);if(r&&r.layout){const{min:l,max:c}=r.layout.layoutBox[s],o=i.get()||0;i.set(t[s]-$e(l,c,.5)+o)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Xl(s)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ds(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const o=c.get();r[l]=WR({min:o,max:o},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ds(l=>{if(!Go(l,t,null))return;const c=this.getAxisMotionValue(l),{min:o,max:u}=this.constraints[l];c.set($e(o,u,r[l]))})}addListeners(){if(!this.visualElement.current)return;eO.set(this.visualElement,this);const t=this.visualElement.current,s=pc(t,"pointerdown",o=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&!w4(o.target)&&this.start(o)}),n=()=>{const{dragConstraints:o}=this.getProps();Xl(o)&&o.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Be.read(n);const l=qc(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",({delta:o,hasLayoutChanged:u})=>{this.isDragging&&u&&(ds(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=o[d].translate,f.set(f.get()+o[d].translate))}),this.visualElement.render())});return()=>{l(),s(),i(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:l=yp,dragMomentum:c=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:l,dragMomentum:c}}}function Go(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function sO(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class aO extends Xn{constructor(t){super(t),this.removeGroupControls=ks,this.removeListeners=ks,this.controls=new tO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ks}update(){const{dragControls:t}=this.node.getProps(),{dragControls:s}=this.node.prevProps||{};t!==s&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rv=e=>(t,s)=>{e&&Be.postRender(()=>e(t,s))};class nO extends Xn{constructor(){super(...arguments),this.removePointerDownListener=ks}onPointerDown(t){this.session=new l5(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:i5(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Rv(t),onStart:Rv(s),onMove:n,onEnd:(i,l)=>{delete this.session,r&&Be.postRender(()=>r(i,l))}}}mount(){this.removePointerDownListener=pc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let wh=!1;class rO extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=t;i&&(s.group&&s.group.add(i),n&&n.register&&r&&n.register(i),wh&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ku.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:r,isPresent:i}=this.props,{projection:l}=n;return l&&(l.isPresent=i,wh=!0,r||t.layoutDependency!==s||s===void 0||t.isPresent!==i?l.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?l.promote():l.relegate()||Be.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),yx.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:r}=t;wh=!0,r&&(r.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function o5(e){const[t,s]=W4(),n=b.useContext(Q0);return a.jsx(rO,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(n5),isPresent:t,safeToRemove:s})}const iO={pan:{Feature:nO},drag:{Feature:aO,ProjectionNode:X4,MeasureLayout:o5}};function Ov(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",s==="Start");const r="onHover"+s,i=n[r];i&&Be.postRender(()=>i(t,jo(t)))}class lO extends Xn{mount(){const{current:t}=this.node;t&&(this.unmount=F6(t,(s,n)=>(Ov(this.node,n,"Start"),r=>Ov(this.node,r,"End"))))}unmount(){}}class cO extends Xn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yo(qc(this.node.current,"focus",()=>this.onFocus()),qc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _v(e,t,s){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",s==="Start");const r="onTap"+(s==="End"?"":s),i=n[r];i&&Be.postRender(()=>i(t,jo(t)))}class oO extends Xn{mount(){const{current:t}=this.node;t&&(this.unmount=Y6(t,(s,n)=>(_v(this.node,n,"Start"),(r,{success:i})=>_v(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bp=new WeakMap,Sh=new WeakMap,uO=e=>{const t=bp.get(e.target);t&&t(e)},dO=e=>{e.forEach(uO)};function fO({root:e,...t}){const s=e||document;Sh.has(s)||Sh.set(s,{});const n=Sh.get(s),r=JSON.stringify(t);return n[r]||(n[r]=new IntersectionObserver(dO,{root:e,...t})),n[r]}function hO(e,t,s){const n=fO(t);return bp.set(e,s),n.observe(e),()=>{bp.delete(e),n.unobserve(e)}}const mO={some:0,all:1};class pO extends Xn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:r="some",once:i}=t,l={root:s?s.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:mO[r]},c=o=>{const{isIntersecting:u}=o;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(o)};return hO(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(xO(t,s))&&this.startObserver()}unmount(){}}function xO({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const gO={inView:{Feature:pO},tap:{Feature:oO},focus:{Feature:cO},hover:{Feature:lO}},yO={layout:{ProjectionNode:X4,MeasureLayout:o5}},bO={...FR,...gO,...iO,...yO},V=zR(bO,VR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jO=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,n)=>n?n.toUpperCase():s.toLowerCase()),Lv=e=>{const t=jO(e);return t.charAt(0).toUpperCase()+t.slice(1)},u5=(...e)=>e.filter((t,s,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===s).join(" ").trim(),NO=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:r="",children:i,iconNode:l,...c},o)=>b.createElement("svg",{ref:o,...wO,width:t,height:t,stroke:e,strokeWidth:n?Number(s)*24/Number(t):s,className:u5("lucide",r),...!i&&!NO(c)&&{"aria-hidden":"true"},...c},[...l.map(([u,d])=>b.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=(e,t)=>{const s=b.forwardRef(({className:n,...r},i)=>b.createElement(SO,{ref:i,iconNode:t,className:u5(`lucide-${vO(Lv(e))}`,`lucide-${e}`,n),...r}));return s.displayName=Lv(e),s};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Fc=K("activity",CO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Ko=K("archive",kO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ff=K("arrow-left",EO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],yt=K("arrow-right",AO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],d5=K("award",TO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],xc=K("banknote",MO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_a=K("bell",DO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],OO=K("briefcase",RO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],tl=K("building-2",_O);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],PO=K("calendar-days",LO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pt=K("calendar",BO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Fn=K("chart-column",zO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M6 5h12",key:"fvfigv"}],["path",{d:"M4 12h10",key:"oujl3d"}],["path",{d:"M12 19h8",key:"baeox8"}]],UO=K("chart-no-axes-gantt",VO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],sl=K("chart-pie",$O);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],FO=K("check-check",qO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vr=K("check",HO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ya=K("chevron-down",IO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ex=K("chevron-left",YO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fa=K("chevron-right",GO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ax=K("chevron-up",KO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],f5=K("circle-alert",QO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],at=K("circle-check-big",XO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Er=K("circle-check",WO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],JO=K("circle-play",ZO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Hc=K("circle-x",e_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],s_=K("circle",t_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wt=K("clock",a_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],r_=K("code",n_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],l_=K("columns-2",i_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],h5=K("command",c_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],u_=K("copy",o_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],m5=K("cpu",d_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],h_=K("crown",f_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],jd=K("dollar-sign",m_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],p5=K("download",p_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],jl=K("ellipsis",x_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],y_=K("external-link",g_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Nd=K("eye-off",b_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ur=K("eye",v_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],gc=K("file-spreadsheet",j_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zs=K("file-text",N_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],vp=K("file",w_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],Qo=K("film",S_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],ws=K("flag",C_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["path",{d:"M18 19a5 5 0 0 1-5-5v8",key:"sz5oeg"}],["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v5",key:"1w6njk"}],["circle",{cx:"13",cy:"12",r:"2",key:"1j92g6"}],["circle",{cx:"20",cy:"19",r:"2",key:"1obnsp"}]],Ic=K("folder-git-2",k_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],Js=K("folder-kanban",E_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],T_=K("folder-plus",A_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Tx=K("funnel",M_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],R_=K("globe",D_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],x5=K("grip-vertical",O_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],g5=K("hash",__);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Mx=K("history",L_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Xr=K("image",P_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],z_=K("kanban",B_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],jp=K("layers",V_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],$_=K("layout-dashboard",U_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],y5=K("link-2",q_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],H_=K("list",F_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hf=K("loader-circle",I_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$r=K("lock",Y_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],K_=K("log-out",G_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],No=K("mail",Q_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Pv=K("map-pin",X_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Z_=K("map",W_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],e7=K("medal",J_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],s7=K("message-square",t7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M5 12h14",key:"1ays0h"}]],Dx=K("minus",a7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],b5=K("monitor",n7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],i7=K("moon",r7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Ch=K("music",l7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],o7=K("package",c7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],d7=K("palette",u7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],v5=K("pause",f7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],al=K("pen",h7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],p7=K("percent",m7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],yi=K("play",x7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],re=K("plus",g7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Yc=K("receipt",y7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],us=K("refresh-cw",b7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],yc=K("save",v7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Vs=K("search",j7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],w7=K("send",N7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],wd=K("server",S7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nl=K("settings",C7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],E7=K("shield-check",k7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Hn=K("shield",A7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Nl=K("sparkles",T7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],j5=K("star",M7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],R7=K("sun",D7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],_7=K("table",O7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],N5=K("tag",L7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],sa=K("target",P7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Ei=K("ticket",B7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ct=K("trash-2",z7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],mf=K("trending-down",V7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Kt=K("trending-up",U7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],As=K("triangle-alert",$7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],w5=K("trophy",q7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Gc=K("type",F7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Bv=K("upload",H7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ar=K("user-plus",I7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ts=K("user",Y7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ye=K("users",G7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Tr=K("wallet",K7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fe=K("x",Q7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],as=K("zap",X7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Z7=K("zoom-in",W7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],e9=K("zoom-out",J7),La=H0(e=>({workspaces:[],currentWorkspace:null,boards:[],setWorkspaces:t=>e({workspaces:t}),addWorkspace:t=>{e(s=>({workspaces:[...s.workspaces,t]}))},updateWorkspace:(t,s)=>{e(n=>{var r;return{workspaces:n.workspaces.map(i=>i.id===t?{...i,...s}:i),currentWorkspace:((r=n.currentWorkspace)==null?void 0:r.id)===t?{...n.currentWorkspace,...s}:n.currentWorkspace}})},deleteWorkspace:t=>{e(s=>{var n;return{workspaces:s.workspaces.filter(r=>r.id!==t),currentWorkspace:((n=s.currentWorkspace)==null?void 0:n.id)===t?null:s.currentWorkspace}})},setCurrentWorkspace:t=>e({currentWorkspace:t}),setBoards:t=>e({boards:t}),addBoard:t=>{e(s=>({boards:[...s.boards,t]}))},updateBoard:(t,s)=>{e(n=>({boards:n.boards.map(r=>r.id===t?{...r,...s}:r)}))},deleteBoard:t=>{e(s=>({boards:s.boards.filter(n=>n.id!==t)}))}})),t9=["","","","","","","","","",""],s9=["#6366f1","#8b5cf6","#ec4899","#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#06b6d4","#3b82f6"];function S5({isOpen:e,onClose:t}){const s=La(o=>o.addWorkspace),[n,r]=b.useState(!1),[i,l]=b.useState({name:"",description:"",icon:"",color:"#6366f1"}),c=async o=>{if(o.preventDefault(),!!i.name.trim()){r(!0);try{const u=await lf.create(i);s(u.data),$.success("Workspace cr avec succs"),t(),l({name:"",description:"",icon:"",color:"#6366f1"})}catch{$.error("Erreur lors de la cration")}finally{r(!1)}}};return e?a.jsx(te,{children:a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:a.jsxs(V.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content",onClick:o=>o.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-600/20 flex items-center justify-center",children:a.jsx(Nl,{className:"w-5 h-5 text-primary-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Crer un workspace"}),a.jsx("p",{className:"text-sm text-surface-500",children:"Organisez vos projets dans un espace ddi"})]})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:c,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center text-4xl cursor-pointer",style:{backgroundColor:`${i.color}20`},children:i.icon}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-surface-500 mb-2",children:"Icne"}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:t9.map(o=>a.jsx("button",{type:"button",onClick:()=>l({...i,icon:o}),className:`w-8 h-8 rounded-lg flex items-center justify-center text-lg hover:bg-surface-700 transition-colors ${i.icon===o?"bg-surface-700 ring-2 ring-primary-500":""}`,children:o},o))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-surface-500 mb-2",children:"Couleur"}),a.jsx("div",{className:"flex gap-2",children:s9.map(o=>a.jsx("button",{type:"button",onClick:()=>l({...i,color:o}),className:`w-6 h-6 rounded-full transition-transform ${i.color===o?"ring-2 ring-offset-2 ring-offset-surface-900 ring-white scale-110":"hover:scale-110"}`,style:{backgroundColor:o}},o))})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom du workspace"}),a.jsx("input",{type:"text",value:i.name,onChange:o=>l({...i,name:o.target.value}),placeholder:"Mon super projet",className:"input",required:!0,autoFocus:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Description"," ",a.jsx("span",{className:"text-surface-500",children:"(optionnel)"})]}),a.jsx("textarea",{value:i.description,onChange:o=>l({...i,description:o.target.value}),placeholder:"Dcrivez votre workspace...",className:"input resize-none h-24"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:n||!i.name.trim(),className:"btn btn-primary",children:n?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Crer le workspace"})]})]})]})})}):null}function a9(){var h,p;const e=Kn(),t=Ms(),s=La(m=>m.workspaces),{user:n,logout:r}=Ct(),[i,l]=b.useState({}),[c,o]=b.useState(!1),u=m=>{l(v=>({...v,[m]:!v[m]}))},d=async()=>{await r(),t("/login")},f=m=>e.pathname===m;return a.jsxs(a.Fragment,{children:[a.jsxs("aside",{className:"sidebar",children:[a.jsx("div",{className:"p-6 border-b border-surface-800",children:a.jsxs(me,{to:"/",className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-purple-600 flex items-center justify-center",children:a.jsx(Nl,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"font-display font-bold text-xl gradient-text",children:"GesProjet"})]})}),a.jsxs("nav",{className:"flex-1 overflow-y-auto py-4 scrollbar-hide",children:[a.jsx("div",{className:"mb-6",children:a.jsxs(me,{to:"/",className:`sidebar-item ${f("/")?"active":""}`,children:[a.jsx($_,{className:"w-5 h-5"}),a.jsx("span",{children:"Tableau de bord"})]})}),a.jsx("div",{className:"px-4 mb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs font-semibold text-surface-500 uppercase tracking-wider",children:"Espaces de travail"}),a.jsx("button",{onClick:()=>o(!0),className:"p-1 rounded-lg hover:bg-surface-800 text-surface-500 hover:text-surface-300 transition-colors",children:a.jsx(re,{className:"w-4 h-4"})})]})}),a.jsx("div",{className:"space-y-1",children:s.map(m=>a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>u(m.id),className:"w-full sidebar-item justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-lg",children:m.icon}),a.jsx("span",{className:"truncate",children:m.name})]}),i[m.id]?a.jsx(Ya,{className:"w-4 h-4 text-surface-500"}):a.jsx(fa,{className:"w-4 h-4 text-surface-500"})]}),a.jsx(te,{children:i[m.id]&&a.jsxs(V.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:[a.jsxs(me,{to:`/workspace/${m.id}`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${m.id}`?"active":""}`,children:[a.jsx(Js,{className:"w-4 h-4"}),a.jsx("span",{children:"Boards"})]}),a.jsxs(me,{to:`/workspace/${m.id}/members`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${m.id}/members`?"active":""}`,children:[a.jsx(Ye,{className:"w-4 h-4"}),a.jsx("span",{children:"Membres"})]}),a.jsxs(me,{to:`/workspace/${m.id}/evaluation`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${m.id}/evaluation`?"active":""}`,children:[a.jsx(d5,{className:"w-4 h-4"}),a.jsx("span",{children:"valuation quipe"})]}),a.jsxs(me,{to:`/workspace/${m.id}/tickets`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${m.id}/tickets`?"active":""}`,children:[a.jsx(Ei,{className:"w-4 h-4"}),a.jsx("span",{children:"Mes tickets"})]}),a.jsxs(me,{to:`/workspace/${m.id}/tickets/admin`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${m.id}/tickets/admin`?"active":""}`,children:[a.jsx(nl,{className:"w-4 h-4"}),a.jsx("span",{children:"Gestion tickets"})]}),a.jsxs(me,{to:`/workspace/${m.id}/permissions`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${m.id}/permissions`?"active":""}`,children:[a.jsx(Hn,{className:"w-4 h-4"}),a.jsx("span",{children:"Permissions"})]}),a.jsxs(me,{to:`/workspace/${m.id}/budgets`,className:`sidebar-item pl-12 text-sm ${e.pathname.startsWith(`/workspace/${m.id}/budget`)?"active":""}`,children:[a.jsx(Tr,{className:"w-4 h-4"}),a.jsx("span",{children:"Budgets"})]}),a.jsxs("div",{className:"mt-2 pt-2 border-t border-surface-800/50",children:[a.jsx("span",{className:"text-xs text-surface-500 pl-12 block mb-1",children:"Schma Directeur SI"}),a.jsxs(me,{to:`/workspace/${m.id}/sdsi`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${m.id}/sdsi`?"active":""}`,children:[a.jsx(Z_,{className:"w-4 h-4"}),a.jsx("span",{children:"Tableau de bord"})]}),a.jsxs(me,{to:`/workspace/${m.id}/sdsi/projects`,className:`sidebar-item pl-12 text-sm ${e.pathname.includes(`/workspace/${m.id}/sdsi/project`)?"active":""}`,children:[a.jsx(Js,{className:"w-4 h-4"}),a.jsx("span",{children:"Portefeuille projets"})]}),a.jsxs(me,{to:`/workspace/${m.id}/sdsi/resources`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${m.id}/sdsi/resources`?"active":""}`,children:[a.jsx(Ye,{className:"w-4 h-4"}),a.jsx("span",{children:"Ressources"})]}),a.jsxs(me,{to:`/workspace/${m.id}/sdsi/applications`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${m.id}/sdsi/applications`?"active":""}`,children:[a.jsx(wd,{className:"w-4 h-4"}),a.jsx("span",{children:"Applications"})]}),a.jsxs(me,{to:`/workspace/${m.id}/sdsi/kpis`,className:`sidebar-item pl-12 text-sm ${e.pathname===`/workspace/${m.id}/sdsi/kpis`?"active":""}`,children:[a.jsx(Kt,{className:"w-4 h-4"}),a.jsx("span",{children:"Indicateurs"})]})]})]})})]},m.id))})]}),a.jsx("div",{className:"p-4 border-t border-surface-800",children:a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-surface-800/50",children:[a.jsxs("div",{className:"avatar",children:[(h=n==null?void 0:n.firstName)==null?void 0:h[0],(p=n==null?void 0:n.lastName)==null?void 0:p[0]]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-sm font-medium text-surface-200 truncate",children:[n==null?void 0:n.firstName," ",n==null?void 0:n.lastName]}),a.jsx("p",{className:"text-xs text-surface-500 truncate",children:n==null?void 0:n.email})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(me,{to:"/settings",className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400 hover:text-surface-200 transition-colors",children:a.jsx(nl,{className:"w-4 h-4"})}),a.jsx("button",{onClick:d,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400 hover:text-red-400 transition-colors",children:a.jsx(K_,{className:"w-4 h-4"})})]})]})})]}),a.jsx(S5,{isOpen:c,onClose:()=>o(!1)})]})}const ge=H0((e,t)=>({currentBoard:null,columns:[],groups:[],items:[],views:[],selectedItems:[],activeView:"table",filters:[],sorts:[],filter:{searchTerm:"",status:"",priority:""},setBoard:s=>{e({currentBoard:s,columns:s.columns||[],groups:s.groups||[],items:s.items||[],views:s.views||[],selectedItems:[]})},clearBoard:()=>{e({currentBoard:null,columns:[],groups:[],items:[],views:[],selectedItems:[]})},addItem:s=>{e(n=>({items:[...n.items,s]}))},updateItem:(s,n)=>{e(r=>({items:r.items.map(i=>i.id===s?{...i,...n}:i)}))},updateItemValue:(s,n,r)=>{e(i=>({items:i.items.map(l=>l.id===s?{...l,values:{...l.values,[n]:r}}:l)}))},deleteItem:s=>{e(n=>({items:n.items.filter(r=>r.id!==s),selectedItems:n.selectedItems.filter(r=>r!==s)}))},deleteItems:s=>{e(n=>({items:n.items.filter(r=>!s.includes(r.id)),selectedItems:n.selectedItems.filter(r=>!s.includes(r))}))},reorderItems:s=>{e(n=>{const r=new Map(n.items.map(i=>[i.id,i]));return s.forEach(({id:i,position:l,groupId:c})=>{const o=r.get(i);o&&(o.position=l,c!==void 0&&(o.groupId=c))}),{items:Array.from(r.values())}})},toggleItemSelection:s=>{e(n=>({selectedItems:n.selectedItems.includes(s)?n.selectedItems.filter(r=>r!==s):[...n.selectedItems,s]}))},selectAllItems:()=>{e(s=>({selectedItems:s.items.map(n=>n.id)}))},clearSelection:()=>{e({selectedItems:[]})},addColumn:s=>{e(n=>({columns:[...n.columns,s]}))},updateColumn:(s,n)=>{e(r=>({columns:r.columns.map(i=>i.id===s?{...i,...n}:i)}))},deleteColumn:s=>{e(n=>({columns:n.columns.filter(r=>r.id!==s)}))},reorderColumns:s=>{e(n=>{const r=new Map(n.columns.map(i=>[i.id,i]));return s.forEach(({id:i,position:l})=>{const c=r.get(i);c&&(c.position=l)}),{columns:Array.from(r.values()).sort((i,l)=>i.position-l.position)}})},addLabel:(s,n)=>{e(r=>({columns:r.columns.map(i=>i.id===s?{...i,labels:[...i.labels||[],n]}:i)}))},updateLabel:(s,n,r)=>{e(i=>({columns:i.columns.map(l=>l.id===s?{...l,labels:l.labels.map(c=>c.id===n?{...c,...r}:c)}:l)}))},deleteLabel:(s,n)=>{e(r=>({columns:r.columns.map(i=>i.id===s?{...i,labels:i.labels.filter(l=>l.id!==n)}:i)}))},addGroup:s=>{e(n=>({groups:[...n.groups,s]}))},updateGroup:(s,n)=>{e(r=>({groups:r.groups.map(i=>i.id===s?{...i,...n}:i)}))},deleteGroup:s=>{e(n=>({groups:n.groups.filter(r=>r.id!==s),items:n.items.map(r=>r.groupId===s?{...r,groupId:null}:r)}))},toggleGroupCollapse:s=>{e(n=>({groups:n.groups.map(r=>r.id===s?{...r,isCollapsed:!r.isCollapsed}:r)}))},setActiveView:s=>e({activeView:s}),setFilters:s=>e({filters:s}),setSorts:s=>e({sorts:s}),setFilter:s=>e({filter:s}),getFilteredItems:()=>{const s=t(),{items:n,columns:r,filter:i}=s;return!i.searchTerm&&!i.status&&!i.priority?n:n.filter(l=>{var c,o,u;if(i.searchTerm){const d=i.searchTerm.toLowerCase(),f=(c=l.name)==null?void 0:c.toLowerCase().includes(d),h=Object.values(l.values||{}).some(p=>String(p).toLowerCase().includes(d));if(!f&&!h)return!1}if(i.status){const d=r.find(f=>f.type==="status");if(d&&((o=l.values)==null?void 0:o[d.id])!==i.status)return!1}if(i.priority){const d=r.find(f=>f.type==="priority");if(d&&((u=l.values)==null?void 0:u[d.id])!==i.priority)return!1}return!0})}}));function je(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ia(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function C5(e,t){const s=je(e);if(isNaN(t))return ia(e,NaN);if(!t)return s;const n=s.getDate(),r=ia(e,s.getTime());r.setMonth(s.getMonth()+t+1,0);const i=r.getDate();return n>=i?r:(s.setFullYear(r.getFullYear(),r.getMonth(),n),s)}const k5=6048e5,n9=864e5,Xo=43200,zv=1440;let r9={};function wo(){return r9}function Kc(e,t){var c,o,u,d;const s=wo(),n=(t==null?void 0:t.weekStartsOn)??((o=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:o.weekStartsOn)??s.weekStartsOn??((d=(u=s.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,r=je(e),i=r.getDay(),l=(i<n?7:0)+i-n;return r.setDate(r.getDate()-l),r.setHours(0,0,0,0),r}function Sd(e){return Kc(e,{weekStartsOn:1})}function E5(e){const t=je(e),s=t.getFullYear(),n=ia(e,0);n.setFullYear(s+1,0,4),n.setHours(0,0,0,0);const r=Sd(n),i=ia(e,0);i.setFullYear(s,0,4),i.setHours(0,0,0,0);const l=Sd(i);return t.getTime()>=r.getTime()?s+1:t.getTime()>=l.getTime()?s:s-1}function Cd(e){const t=je(e);return t.setHours(0,0,0,0),t}function kd(e){const t=je(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function A5(e,t){const s=Cd(e),n=Cd(t),r=+s-kd(s),i=+n-kd(n);return Math.round((r-i)/n9)}function i9(e){const t=E5(e),s=ia(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),Sd(s)}function Eu(e,t){const s=je(e),n=je(t),r=s.getTime()-n.getTime();return r<0?-1:r>0?1:r}function T5(e){return ia(e,Date.now())}function M5(e,t){const s=Cd(e),n=Cd(t);return+s==+n}function l9(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Rx(e){if(!l9(e)&&typeof e!="number")return!1;const t=je(e);return!isNaN(Number(t))}function c9(e,t){const s=je(e),n=je(t),r=s.getFullYear()-n.getFullYear(),i=s.getMonth()-n.getMonth();return r*12+i}function Vv(e,t){const s=je(e),n=je(t),r=Uv(s,n),i=Math.abs(A5(s,n));s.setDate(s.getDate()-r*i);const l=+(Uv(s,n)===-r),c=r*(i-l);return c===0?0:c}function Uv(e,t){const s=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return s<0?-1:s>0?1:s}function o9(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function u9(e,t){return+je(e)-+je(t)}function d9(e){const t=je(e);return t.setHours(23,59,59,999),t}function Ox(e){const t=je(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function f9(e){const t=je(e);return+d9(t)==+Ox(t)}function h9(e,t){const s=je(e),n=je(t),r=Eu(s,n),i=Math.abs(c9(s,n));let l;if(i<1)l=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-r*i);let c=Eu(s,n)===-r;f9(je(e))&&i===1&&Eu(e,n)===1&&(c=!1),l=r*(i-Number(c))}return l===0?0:l}function m9(e,t,s){const n=u9(e,t)/1e3;return o9(s==null?void 0:s.roundingMethod)(n)}function p9(e,t){const s=je(e.start),n=je(e.end);let r=+s>+n;const i=r?+s:+n,l=r?n:s;l.setHours(0,0,0,0);let c=1;const o=[];for(;+l<=i;)o.push(je(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return r?o.reverse():o}function x9(e){const t=je(e);return t.setDate(1),t.setHours(0,0,0,0),t}function g9(e){const t=je(e),s=ia(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}const y9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},b9=(e,t,s)=>{let n;const r=y9[e];return typeof r=="string"?n=r:t===1?n=r.one:n=r.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function Ai(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const v9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},j9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},N9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},w9={date:Ai({formats:v9,defaultWidth:"full"}),time:Ai({formats:j9,defaultWidth:"full"}),dateTime:Ai({formats:N9,defaultWidth:"full"})},S9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},C9=(e,t,s,n)=>S9[e];function Ys(e){return(t,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let r;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=s!=null&&s.width?String(s.width):l;r=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=s!=null&&s.width?String(s.width):e.defaultWidth;r=e.values[c]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return r[i]}}const k9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},E9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},A9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},T9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},M9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},D9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},R9=(e,t)=>{const s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},O9={ordinalNumber:R9,era:Ys({values:k9,defaultWidth:"wide"}),quarter:Ys({values:E9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ys({values:A9,defaultWidth:"wide"}),day:Ys({values:T9,defaultWidth:"wide"}),dayPeriod:Ys({values:M9,defaultWidth:"wide",formattingValues:D9,defaultFormattingWidth:"wide"})};function Gs(e){return(t,s={})=>{const n=s.width,r=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(r);if(!i)return null;const l=i[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(c)?L9(c,f=>f.test(l)):_9(c,f=>f.test(l));let u;u=e.valueCallback?e.valueCallback(o):o,u=s.valueCallback?s.valueCallback(u):u;const d=t.slice(l.length);return{value:u,rest:d}}}function _9(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function L9(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function D5(e){return(t,s={})=>{const n=t.match(e.matchPattern);if(!n)return null;const r=n[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=s.valueCallback?s.valueCallback(l):l;const c=t.slice(r.length);return{value:l,rest:c}}}const P9=/^(\d+)(th|st|nd|rd)?/i,B9=/\d+/i,z9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},V9={any:[/^b/i,/^(a|c)/i]},U9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$9={any:[/1/i,/2/i,/3/i,/4/i]},q9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},F9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},H9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},I9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Y9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},G9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},K9={ordinalNumber:D5({matchPattern:P9,parsePattern:B9,valueCallback:e=>parseInt(e,10)}),era:Gs({matchPatterns:z9,defaultMatchWidth:"wide",parsePatterns:V9,defaultParseWidth:"any"}),quarter:Gs({matchPatterns:U9,defaultMatchWidth:"wide",parsePatterns:$9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gs({matchPatterns:q9,defaultMatchWidth:"wide",parsePatterns:F9,defaultParseWidth:"any"}),day:Gs({matchPatterns:H9,defaultMatchWidth:"wide",parsePatterns:I9,defaultParseWidth:"any"}),dayPeriod:Gs({matchPatterns:Y9,defaultMatchWidth:"any",parsePatterns:G9,defaultParseWidth:"any"})},R5={code:"en-US",formatDistance:b9,formatLong:w9,formatRelative:C9,localize:O9,match:K9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Q9(e){const t=je(e);return A5(t,g9(t))+1}function X9(e){const t=je(e),s=+Sd(t)-+i9(t);return Math.round(s/k5)+1}function O5(e,t){var d,f,h,p;const s=je(e),n=s.getFullYear(),r=wo(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,l=ia(e,0);l.setFullYear(n+1,0,i),l.setHours(0,0,0,0);const c=Kc(l,t),o=ia(e,0);o.setFullYear(n,0,i),o.setHours(0,0,0,0);const u=Kc(o,t);return s.getTime()>=c.getTime()?n+1:s.getTime()>=u.getTime()?n:n-1}function W9(e,t){var c,o,u,d;const s=wo(),n=(t==null?void 0:t.firstWeekContainsDate)??((o=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:o.firstWeekContainsDate)??s.firstWeekContainsDate??((d=(u=s.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,r=O5(e,t),i=ia(e,0);return i.setFullYear(r,0,n),i.setHours(0,0,0,0),Kc(i,t)}function Z9(e,t){const s=je(e),n=+Kc(s,t)-+W9(s,t);return Math.round(n/k5)+1}function ke(e,t){const s=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return s+n}const Xa={y(e,t){const s=e.getFullYear(),n=s>0?s:1-s;return ke(t==="yy"?n%100:n,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):ke(s+1,2)},d(e,t){return ke(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return ke(e.getHours()%12||12,t.length)},H(e,t){return ke(e.getHours(),t.length)},m(e,t){return ke(e.getMinutes(),t.length)},s(e,t){return ke(e.getSeconds(),t.length)},S(e,t){const s=t.length,n=e.getMilliseconds(),r=Math.trunc(n*Math.pow(10,s-3));return ke(r,t.length)}},Wr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$v={G:function(e,t,s){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const n=e.getFullYear(),r=n>0?n:1-n;return s.ordinalNumber(r,{unit:"year"})}return Xa.y(e,t)},Y:function(e,t,s,n){const r=O5(e,n),i=r>0?r:1-r;if(t==="YY"){const l=i%100;return ke(l,2)}return t==="Yo"?s.ordinalNumber(i,{unit:"year"}):ke(i,t.length)},R:function(e,t){const s=E5(e);return ke(s,t.length)},u:function(e,t){const s=e.getFullYear();return ke(s,t.length)},Q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ke(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ke(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,s){const n=e.getMonth();switch(t){case"M":case"MM":return Xa.M(e,t);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,s){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ke(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,s,n){const r=Z9(e,n);return t==="wo"?s.ordinalNumber(r,{unit:"week"}):ke(r,t.length)},I:function(e,t,s){const n=X9(e);return t==="Io"?s.ordinalNumber(n,{unit:"week"}):ke(n,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Xa.d(e,t)},D:function(e,t,s){const n=Q9(e);return t==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):ke(n,t.length)},E:function(e,t,s){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,s,n){const r=e.getDay(),i=(r-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ke(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,s,n){const r=e.getDay(),i=(r-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ke(i,t.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,s){const n=e.getDay(),r=n===0?7:n;switch(t){case"i":return String(r);case"ii":return ke(r,t.length);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,s){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,s){const n=e.getHours();let r;switch(n===12?r=Wr.noon:n===0?r=Wr.midnight:r=n/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,s){const n=e.getHours();let r;switch(n>=17?r=Wr.evening:n>=12?r=Wr.afternoon:n>=4?r=Wr.morning:r=Wr.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return Xa.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Xa.H(e,t)},K:function(e,t,s){const n=e.getHours()%12;return t==="Ko"?s.ordinalNumber(n,{unit:"hour"}):ke(n,t.length)},k:function(e,t,s){let n=e.getHours();return n===0&&(n=24),t==="ko"?s.ordinalNumber(n,{unit:"hour"}):ke(n,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xa.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Xa.s(e,t)},S:function(e,t){return Xa.S(e,t)},X:function(e,t,s){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Fv(n);case"XXXX":case"XX":return ir(n);case"XXXXX":case"XXX":default:return ir(n,":")}},x:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"x":return Fv(n);case"xxxx":case"xx":return ir(n);case"xxxxx":case"xxx":default:return ir(n,":")}},O:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+qv(n,":");case"OOOO":default:return"GMT"+ir(n,":")}},z:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+qv(n,":");case"zzzz":default:return"GMT"+ir(n,":")}},t:function(e,t,s){const n=Math.trunc(e.getTime()/1e3);return ke(n,t.length)},T:function(e,t,s){const n=e.getTime();return ke(n,t.length)}};function qv(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),r=Math.trunc(n/60),i=n%60;return i===0?s+String(r):s+String(r)+t+ke(i,2)}function Fv(e,t){return e%60===0?(e>0?"-":"+")+ke(Math.abs(e)/60,2):ir(e,t)}function ir(e,t=""){const s=e>0?"-":"+",n=Math.abs(e),r=ke(Math.trunc(n/60),2),i=ke(n%60,2);return s+r+t+i}const Hv=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},_5=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},J9=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],n=s[1],r=s[2];if(!r)return Hv(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Hv(n,t)).replace("{{time}}",_5(r,t))},eL={p:_5,P:J9},tL=/^D+$/,sL=/^Y+$/,aL=["D","DD","YY","YYYY"];function nL(e){return tL.test(e)}function rL(e){return sL.test(e)}function iL(e,t,s){const n=lL(e,t,s);if(console.warn(n),aL.includes(e))throw new RangeError(n)}function lL(e,t,s){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const cL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uL=/^'([^]*?)'?$/,dL=/''/g,fL=/[a-zA-Z]/;function Ks(e,t,s){var d,f,h,p,m,v,j,x;const n=wo(),r=(s==null?void 0:s.locale)??n.locale??R5,i=(s==null?void 0:s.firstWeekContainsDate)??((f=(d=s==null?void 0:s.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,l=(s==null?void 0:s.weekStartsOn)??((v=(m=s==null?void 0:s.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((x=(j=n.locale)==null?void 0:j.options)==null?void 0:x.weekStartsOn)??0,c=je(e);if(!Rx(c))throw new RangeError("Invalid time value");let o=t.match(oL).map(g=>{const y=g[0];if(y==="p"||y==="P"){const N=eL[y];return N(g,r.formatLong)}return g}).join("").match(cL).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:hL(g)};if($v[y])return{isToken:!0,value:g};if(y.match(fL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});r.localize.preprocessor&&(o=r.localize.preprocessor(c,o));const u={firstWeekContainsDate:i,weekStartsOn:l,locale:r};return o.map(g=>{if(!g.isToken)return g.value;const y=g.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&rL(y)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&nL(y))&&iL(y,t,String(e));const N=$v[y[0]];return N(c,y,r.localize,u)}).join("")}function hL(e){const t=e.match(uL);return t?t[1].replace(dL,"'"):e}function mL(e,t,s){const n=wo(),r=(s==null?void 0:s.locale)??n.locale??R5,i=2520,l=Eu(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const c=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:l});let o,u;l>0?(o=je(t),u=je(e)):(o=je(e),u=je(t));const d=m9(u,o),f=(kd(u)-kd(o))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return s!=null&&s.includeSeconds?d<5?r.formatDistance("lessThanXSeconds",5,c):d<10?r.formatDistance("lessThanXSeconds",10,c):d<20?r.formatDistance("lessThanXSeconds",20,c):d<40?r.formatDistance("halfAMinute",0,c):d<60?r.formatDistance("lessThanXMinutes",1,c):r.formatDistance("xMinutes",1,c):h===0?r.formatDistance("lessThanXMinutes",1,c):r.formatDistance("xMinutes",h,c);if(h<45)return r.formatDistance("xMinutes",h,c);if(h<90)return r.formatDistance("aboutXHours",1,c);if(h<zv){const m=Math.round(h/60);return r.formatDistance("aboutXHours",m,c)}else{if(h<i)return r.formatDistance("xDays",1,c);if(h<Xo){const m=Math.round(h/zv);return r.formatDistance("xDays",m,c)}else if(h<Xo*2)return p=Math.round(h/Xo),r.formatDistance("aboutXMonths",p,c)}if(p=h9(u,o),p<12){const m=Math.round(h/Xo);return r.formatDistance("xMonths",m,c)}else{const m=p%12,v=Math.trunc(p/12);return m<3?r.formatDistance("aboutXYears",v,c):m<9?r.formatDistance("overXYears",v,c):r.formatDistance("almostXYears",v+1,c)}}function Ed(e,t){return mL(e,T5(e),t)}function Iv(e){return+je(e)<Date.now()}function Yv(e){return M5(e,T5(e))}function pL(e,t){return C5(e,-1)}const xL={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},gL=(e,t,s)=>{let n;const r=xL[e];return typeof r=="string"?n=r:t===1?n=r.one:n=r.other.replace("{{count}}",String(t)),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"dans "+n:"il y a "+n:n},yL={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},bL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},vL={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jL={date:Ai({formats:yL,defaultWidth:"full"}),time:Ai({formats:bL,defaultWidth:"full"}),dateTime:Ai({formats:vL,defaultWidth:"full"})},NL={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},wL=(e,t,s,n)=>NL[e],SL={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},CL={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},kL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},EL={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},AL={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},TL=(e,t)=>{const s=Number(e),n=t==null?void 0:t.unit;if(s===0)return"0";const r=["year","week","hour","minute","second"];let i;return s===1?i=n&&r.includes(n)?"re":"er":i="me",s+i},ML=["MMM","MMMM"],DL={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&ML.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:TL,era:Ys({values:SL,defaultWidth:"wide"}),quarter:Ys({values:CL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ys({values:kL,defaultWidth:"wide"}),day:Ys({values:EL,defaultWidth:"wide"}),dayPeriod:Ys({values:AL,defaultWidth:"wide"})},RL=/^(\d+)(ime|re|me|er|e)?/i,OL=/\d+/i,_L={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},LL={any:[/^av/i,/^ap/i]},PL={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},BL={any:[/1/i,/2/i,/3/i,/4/i]},zL={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},VL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},UL={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},$L={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},qL={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},FL={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},HL={ordinalNumber:D5({matchPattern:RL,parsePattern:OL,valueCallback:e=>parseInt(e)}),era:Gs({matchPatterns:_L,defaultMatchWidth:"wide",parsePatterns:LL,defaultParseWidth:"any"}),quarter:Gs({matchPatterns:PL,defaultMatchWidth:"wide",parsePatterns:BL,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gs({matchPatterns:zL,defaultMatchWidth:"wide",parsePatterns:VL,defaultParseWidth:"any"}),day:Gs({matchPatterns:UL,defaultMatchWidth:"wide",parsePatterns:$L,defaultParseWidth:"any"}),dayPeriod:Gs({matchPatterns:qL,defaultMatchWidth:"any",parsePatterns:FL,defaultParseWidth:"any"})},Ha={code:"fr",formatDistance:gL,formatLong:jL,formatRelative:wL,localize:DL,match:HL,options:{weekStartsOn:1,firstWeekContainsDate:4}};function IL({onClose:e}){const t=da(),{data:s,isLoading:n}=na({queryKey:["notifications"],queryFn:async()=>(await lh.getAll({limit:10})).data}),r=Nn({mutationFn:o=>lh.markAsRead(o),onSuccess:()=>{t.invalidateQueries(["notifications"])}}),i=Nn({mutationFn:()=>lh.markAllAsRead(),onSuccess:()=>{t.invalidateQueries(["notifications"])}});b.useEffect(()=>{const o=u=>{u.target.closest(".notifications-dropdown")||e()};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[e]);const l=(s==null?void 0:s.notifications)||[],c=(s==null?void 0:s.unreadCount)||0;return a.jsxs(V.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"notifications-dropdown absolute right-0 top-full mt-2 w-96 bg-surface-800 border border-surface-700 rounded-2xl shadow-2xl overflow-hidden z-50",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_a,{className:"w-5 h-5 text-primary-400"}),a.jsx("span",{className:"font-semibold text-surface-100",children:"Notifications"}),c>0&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-primary-600 text-white rounded-full",children:c})]}),c>0&&a.jsxs("button",{onClick:()=>i.mutate(),className:"flex items-center gap-1 text-xs text-primary-400 hover:text-primary-300",children:[a.jsx(FO,{className:"w-4 h-4"}),"Tout marquer comme lu"]})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:n?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):l.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[a.jsx(_a,{className:"w-10 h-10 text-surface-600 mb-3"}),a.jsx("p",{className:"text-sm text-surface-500",children:"Aucune notification"})]}):l.map(o=>a.jsx("div",{className:`p-4 border-b border-surface-700/50 hover:bg-surface-700/30 transition-colors ${o.isRead?"":"bg-primary-600/5"}`,children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-surface-200 mb-1",children:o.title}),o.message&&a.jsx("p",{className:"text-xs text-surface-500 line-clamp-2",children:o.message}),a.jsx("p",{className:"text-xs text-surface-600 mt-1",children:Ed(new Date(o.createdAt),{addSuffix:!0,locale:Ha})})]}),!o.isRead&&a.jsx("button",{onClick:()=>r.mutate(o.id),className:"p-1.5 rounded-lg hover:bg-surface-700 text-surface-500",children:a.jsx(Vr,{className:"w-4 h-4"})})]})},o.id))}),l.length>0&&a.jsx("div",{className:"p-3 border-t border-surface-700",children:a.jsx("button",{className:"w-full text-sm text-primary-400 hover:text-primary-300 font-medium",children:"Voir toutes les notifications"})})]})}function YL(e,t=300){const[s,n]=b.useState(e);return b.useEffect(()=>{const r=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(r)}},[e,t]),s}function GL({isOpen:e,onClose:t}){const s=Ms(),n=b.useRef(null),[r,i]=b.useState(""),[l,c]=b.useState({items:[],boards:[],workspaces:[],members:[]}),[o,u]=b.useState(!1),[d,f]=b.useState(0),[h,p]=b.useState([]),m=YL(r,300);b.useEffect(()=>{const w=localStorage.getItem("recentSearches");if(w)try{p(JSON.parse(w))}catch{}},[]),b.useEffect(()=>{e&&n.current&&n.current.focus()},[e]),b.useEffect(()=>{m.length>=2?j(m):c({items:[],boards:[],workspaces:[],members:[]})},[m]),b.useEffect(()=>{const w=T=>{if(!e)return;const O=v();switch(T.key){case"ArrowDown":T.preventDefault(),f(A=>Math.min(A+1,O.length-1));break;case"ArrowUp":T.preventDefault(),f(A=>Math.max(A-1,0));break;case"Enter":T.preventDefault(),O[d]&&x(O[d]);break;case"Escape":T.preventDefault(),t();break}};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[e,d,l]);const v=()=>[...l.items,...l.boards,...l.workspaces,...l.members],j=async w=>{u(!0);try{const{data:T}=await zM.global({q:w,limit:8});c(T.grouped),f(0)}catch(T){console.error("Search error:",T)}finally{u(!1)}},x=w=>{const T=[{...w,searchedAt:new Date().toISOString()},...h.filter(O=>O.id!==w.id).slice(0,4)];switch(p(T),localStorage.setItem("recentSearches",JSON.stringify(T)),w.type){case"item":s(`/board/${w.boardId}`);break;case"board":s(`/board/${w.id}`);break;case"workspace":s(`/workspace/${w.id}`);break}t(),i("")},g=w=>{switch(w){case"item":return zs;case"board":return Js;case"workspace":return tl;case"member":return Ye;default:return zs}},y=w=>{switch(w){case"item":return"Item";case"board":return"Board";case"workspace":return"Espace";case"member":return"Membre";default:return w}};if(!e)return null;const k=v().length>0,D=!r&&h.length>0;return a.jsx(te,{children:a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-50 flex items-start justify-center pt-[10vh]",onClick:t,children:a.jsxs(V.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},className:"bg-surface-900 rounded-2xl w-full max-w-2xl shadow-2xl border border-surface-700 overflow-hidden",onClick:w=>w.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center gap-3 px-5 py-4 border-b border-surface-700",children:[a.jsx(Vs,{className:`w-5 h-5 ${o?"text-primary-400 animate-pulse":"text-surface-400"}`}),a.jsx("input",{ref:n,type:"text",value:r,onChange:w=>i(w.target.value),placeholder:"Rechercher items, boards, membres...",className:"flex-1 bg-transparent border-none outline-none text-surface-100 placeholder-surface-500"}),r&&a.jsx("button",{onClick:()=>i(""),className:"p-1 hover:bg-surface-700 rounded",children:a.jsx(fe,{className:"w-4 h-4 text-surface-400"})}),a.jsxs("kbd",{className:"hidden sm:flex items-center gap-1 px-2 py-1 bg-surface-800 rounded text-xs text-surface-500",children:[a.jsx(h5,{className:"w-3 h-3"}),"K"]})]}),a.jsxs("div",{className:"max-h-[60vh] overflow-y-auto",children:[o&&a.jsx("div",{className:"p-8 text-center",children:a.jsx("div",{className:"w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto"})}),D&&!o&&a.jsxs("div",{className:"p-3",children:[a.jsx("p",{className:"px-3 py-2 text-xs font-medium text-surface-500 uppercase tracking-wider",children:"Recherches rcentes"}),h.map((w,T)=>(g(w.type),a.jsxs("button",{onClick:()=>x(w),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-surface-800 transition-colors text-left",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface-800 flex items-center justify-center",children:a.jsx(wt,{className:"w-4 h-4 text-surface-500"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-surface-200 truncate",children:w.name}),a.jsx("p",{className:"text-xs text-surface-500",children:y(w.type)})]})]},`recent-${w.id}`)))]}),k&&!o&&a.jsxs("div",{className:"p-3",children:[l.items.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{className:"px-3 py-2 text-xs font-medium text-surface-500 uppercase tracking-wider",children:["Items (",l.items.length,")"]}),l.items.map((w,T)=>a.jsx(Wo,{item:w,icon:zs,subtitle:w.boardName,isSelected:d===T,onClick:()=>x(w)},w.id))]}),l.boards.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{className:"px-3 py-2 text-xs font-medium text-surface-500 uppercase tracking-wider",children:["Boards (",l.boards.length,")"]}),l.boards.map((w,T)=>a.jsx(Wo,{item:w,icon:Js,subtitle:w.workspaceName,isSelected:d===l.items.length+T,onClick:()=>x(w),iconEmoji:w.icon},w.id))]}),l.workspaces.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{className:"px-3 py-2 text-xs font-medium text-surface-500 uppercase tracking-wider",children:["Espaces de travail (",l.workspaces.length,")"]}),l.workspaces.map((w,T)=>a.jsx(Wo,{item:w,icon:tl,isSelected:d===l.items.length+l.boards.length+T,onClick:()=>x(w),iconEmoji:w.icon},w.id))]}),l.members.length>0&&a.jsxs("div",{children:[a.jsxs("p",{className:"px-3 py-2 text-xs font-medium text-surface-500 uppercase tracking-wider",children:["Membres (",l.members.length,")"]}),l.members.map((w,T)=>a.jsx(Wo,{item:w,icon:Ye,subtitle:w.email,isSelected:d===l.items.length+l.boards.length+l.workspaces.length+T,onClick:()=>x(w)},w.id))]})]}),!k&&r.length>=2&&!o&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Vs,{className:"w-10 h-10 text-surface-600 mx-auto mb-3"}),a.jsxs("p",{className:"text-surface-400",children:['Aucun rsultat pour "',r,'"']}),a.jsx("p",{className:"text-sm text-surface-500 mt-1",children:"Essayez avec d'autres termes"})]}),!k&&!D&&r.length<2&&!o&&a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Vs,{className:"w-10 h-10 text-surface-600 mx-auto mb-3"}),a.jsx("p",{className:"text-surface-400",children:"Tapez pour rechercher"}),a.jsx("p",{className:"text-sm text-surface-500 mt-1",children:"Minimum 2 caractres"})]})]}),a.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-t border-surface-800 bg-surface-800/50 text-xs text-surface-500",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("kbd",{className:"px-1.5 py-0.5 bg-surface-700 rounded",children:""}),a.jsx("kbd",{className:"px-1.5 py-0.5 bg-surface-700 rounded",children:""}),"naviguer"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("kbd",{className:"px-1.5 py-0.5 bg-surface-700 rounded",children:""}),"slectionner"]})]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("kbd",{className:"px-1.5 py-0.5 bg-surface-700 rounded",children:"esc"}),"fermer"]})]})]})})})}function Wo({item:e,icon:t,subtitle:s,isSelected:n,onClick:r,iconEmoji:i}){return a.jsxs("button",{onClick:r,className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-left group ${n?"bg-primary-500/20":"hover:bg-surface-800"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${n?"bg-primary-500/30":"bg-surface-800"}`,children:i?a.jsx("span",{className:"text-lg",children:i}):a.jsx(t,{className:`w-4 h-4 ${n?"text-primary-400":"text-surface-400"}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`truncate ${n?"text-primary-200":"text-surface-200"}`,children:e.name}),s&&a.jsx("p",{className:"text-xs text-surface-500 truncate",children:s})]}),a.jsx(yt,{className:`w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity ${n?"text-primary-400 opacity-100":"text-surface-500"}`})]})}const KL={text:Gc,number:g5,date:pt,person:Ts,status:at,priority:ws,progress:Fn,checkbox:at};function QL({isOpen:e,onClose:t}){const{currentBoard:s,groups:n,columns:r,addItem:i}=ge(),[l,c]=b.useState(!1),[o,u]=b.useState(!1),[d,f]=b.useState({name:"",groupId:"",values:{}}),h=(v,j)=>{f(x=>({...x,values:{...x.values,[v]:j}}))},p=async v=>{if(v&&v.preventDefault(),!(!d.name.trim()||!s||l)){c(!0);try{const j=await Oe.create({boardId:s.id,groupId:d.groupId||null,name:d.name.trim()}),x=[];for(const[g,y]of Object.entries(d.values))y!==void 0&&y!==""&&x.push(Oe.updateValue(j.data.id,g,y));x.length>0&&await Promise.all(x),i({...j.data,values:d.values}),$.success("Item cr avec succs"),t(),f({name:"",groupId:"",values:{}}),u(!1)}catch{$.error("Erreur lors de la cration")}finally{c(!1)}}},m=v=>{var x;const j=d.values[v.id];switch(v.type){case"text":return a.jsx("input",{type:"text",value:j||"",onChange:N=>h(v.id,N.target.value),placeholder:`Entrer ${v.title}...`,className:"input"});case"number":return a.jsx("input",{type:"number",value:j||"",onChange:N=>h(v.id,N.target.value),placeholder:"0",className:"input"});case"date":return a.jsx("input",{type:"date",value:j||"",onChange:N=>h(v.id,N.target.value),className:"input"});case"status":return a.jsx("div",{className:"flex flex-wrap gap-2",children:(x=v.labels)==null?void 0:x.map(N=>a.jsx("button",{type:"button",onClick:()=>h(v.id,N.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${j===N.id?"ring-2 ring-white/50 scale-105":"opacity-70 hover:opacity-100"}`,style:{backgroundColor:N.color,color:"white"},children:N.name},N.id))});case"priority":const g=[{id:"low",name:"Basse",color:"#6b7280"},{id:"medium",name:"Moyenne",color:"#f59e0b"},{id:"high",name:"Haute",color:"#ef4444"},{id:"critical",name:"Critique",color:"#7c3aed"}];return a.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(N=>a.jsx("button",{type:"button",onClick:()=>h(v.id,N.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${j===N.id?"ring-2 ring-white/50 scale-105":"opacity-70 hover:opacity-100"}`,style:{backgroundColor:N.color,color:"white"},children:N.name},N.id))});case"progress":const y=typeof j=="object"?(j==null?void 0:j.progress)??0:j??0;return a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"range",min:"0",max:"100",value:y,onChange:N=>h(v.id,{progress:parseInt(N.target.value)}),className:"w-full h-2 bg-surface-700 rounded-lg appearance-none cursor-pointer accent-primary-500"}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-surface-500",children:"0%"}),a.jsxs("span",{className:"text-primary-400 font-medium",children:[y,"%"]}),a.jsx("span",{className:"text-surface-500",children:"100%"})]})]});case"checkbox":return a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:j||!1,onChange:N=>h(v.id,N.target.checked),className:"w-5 h-5 rounded border-surface-600 bg-surface-800 text-primary-500 focus:ring-primary-500"}),a.jsx("span",{className:"text-surface-300",children:j?"Oui":"Non"})]});default:return a.jsx("input",{type:"text",value:j||"",onChange:N=>h(v.id,N.target.value),placeholder:`Entrer ${v.title}...`,className:"input"})}};return e?a.jsx(te,{children:a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:a.jsxs(V.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content max-w-lg max-h-[90vh] overflow-hidden flex flex-col",onClick:v=>v.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-600/20 flex items-center justify-center",children:a.jsx(re,{className:"w-5 h-5 text-primary-400"})}),a.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Nouvel item"})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:p,className:"flex-1 overflow-y-auto p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom de l'item *"}),a.jsx("input",{type:"text",value:d.name,onChange:v=>f({...d,name:v.target.value}),placeholder:"Nouvelle tche...",className:"input",required:!0,autoFocus:!0})]}),n.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Groupe"}),a.jsxs("select",{value:d.groupId,onChange:v=>f({...d,groupId:v.target.value}),className:"input",children:[a.jsx("option",{value:"",children:"Aucun groupe"}),n.map(v=>a.jsx("option",{value:v.id,children:v.name},v.id))]})]}),r.length>0&&a.jsxs("button",{type:"button",onClick:()=>u(!o),className:"flex items-center gap-2 text-sm text-primary-400 hover:text-primary-300 transition-colors",children:[o?a.jsx(Ax,{className:"w-4 h-4"}):a.jsx(Ya,{className:"w-4 h-4"}),o?"Masquer les proprits":"Dfinir les proprits"]}),a.jsx(te,{children:o&&r.length>0&&a.jsx(V.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:a.jsx("div",{className:"space-y-4 pt-2 border-t border-surface-700",children:r.map(v=>{const j=KL[v.type]||Gc;return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-surface-300",children:[a.jsx(j,{className:"w-4 h-4 text-surface-500"}),v.title]}),m(v)]},v.id)})})})})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-surface-700",children:[a.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),a.jsx("button",{type:"button",onClick:p,disabled:l||!d.name.trim(),className:"btn btn-primary",children:l?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(re,{className:"w-4 h-4"}),a.jsx("span",{children:"Crer"})]})})]})]})})}):null}function XL(){const e=Kn(),t=ge(u=>u.currentBoard),[s,n]=b.useState(!1),[r,i]=b.useState(!1),[l,c]=b.useState(!1),o=e.pathname.startsWith("/board/");return b.useEffect(()=>{const u=d=>{(d.metaKey||d.ctrlKey)&&d.key==="k"&&(d.preventDefault(),n(!0))};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[]),a.jsxs(a.Fragment,{children:[a.jsx("header",{className:"sticky top-0 z-30 bg-surface-950/80 backdrop-blur-xl border-b border-surface-800",children:a.jsxs("div",{className:"flex items-center justify-between h-16 px-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:o&&t&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:t.icon}),a.jsxs("div",{children:[a.jsx("h1",{className:"font-display font-semibold text-lg text-surface-100",children:t.name}),t.description&&a.jsx("p",{className:"text-xs text-surface-500",children:t.description})]})]})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-surface-800/50 hover:bg-surface-800 text-surface-400 hover:text-surface-200 transition-colors group",children:[a.jsx(Vs,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm hidden md:inline",children:"Rechercher..."}),a.jsxs("kbd",{className:"hidden md:flex items-center gap-0.5 px-1.5 py-0.5 bg-surface-700/50 group-hover:bg-surface-700 rounded text-xs text-surface-500",children:[a.jsx(h5,{className:"w-3 h-3"}),"K"]})]}),o&&a.jsxs("button",{className:"btn btn-ghost",children:[a.jsx(Tx,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Filtres"}),a.jsx(Ya,{className:"w-4 h-4"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>i(!r),className:"relative p-2.5 rounded-xl hover:bg-surface-800 text-surface-400 hover:text-surface-200 transition-colors",children:[a.jsx(_a,{className:"w-5 h-5"}),a.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-primary-500 rounded-full"})]}),a.jsx(te,{children:r&&a.jsx(IL,{onClose:()=>i(!1)})})]}),o&&a.jsxs("button",{onClick:()=>c(!0),className:"btn btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Nouvel item"})]})]})]})}),a.jsx(GL,{isOpen:s,onClose:()=>n(!1)}),o&&a.jsx(QL,{isOpen:l,onClose:()=>c(!1)})]})}const la=Object.create(null);la.open="0";la.close="1";la.ping="2";la.pong="3";la.message="4";la.upgrade="5";la.noop="6";const Au=Object.create(null);Object.keys(la).forEach(e=>{Au[la[e]]=e});const Np={type:"error",data:"parser error"},L5=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",P5=typeof ArrayBuffer=="function",B5=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,_x=({type:e,data:t},s,n)=>L5&&t instanceof Blob?s?n(t):Gv(t,n):P5&&(t instanceof ArrayBuffer||B5(t))?s?n(t):Gv(new Blob([t]),n):n(la[e]+(t||"")),Gv=(e,t)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];t("b"+(n||""))},s.readAsDataURL(e)};function Kv(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let kh;function WL(e,t){if(L5&&e.data instanceof Blob)return e.data.arrayBuffer().then(Kv).then(t);if(P5&&(e.data instanceof ArrayBuffer||B5(e.data)))return t(Kv(e.data));_x(e,!1,s=>{kh||(kh=new TextEncoder),t(kh.encode(s))})}const Qv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Qv.length;e++)Wl[Qv.charCodeAt(e)]=e;const ZL=e=>{let t=e.length*.75,s=e.length,n,r=0,i,l,c,o;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(n=0;n<s;n+=4)i=Wl[e.charCodeAt(n)],l=Wl[e.charCodeAt(n+1)],c=Wl[e.charCodeAt(n+2)],o=Wl[e.charCodeAt(n+3)],d[r++]=i<<2|l>>4,d[r++]=(l&15)<<4|c>>2,d[r++]=(c&3)<<6|o&63;return u},JL=typeof ArrayBuffer=="function",Lx=(e,t)=>{if(typeof e!="string")return{type:"message",data:z5(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:eP(e.substring(1),t)}:Au[s]?e.length>1?{type:Au[s],data:e.substring(1)}:{type:Au[s]}:Np},eP=(e,t)=>{if(JL){const s=ZL(e);return z5(s,t)}else return{base64:!0,data:e}},z5=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},V5="",tP=(e,t)=>{const s=e.length,n=new Array(s);let r=0;e.forEach((i,l)=>{_x(i,!1,c=>{n[l]=c,++r===s&&t(n.join(V5))})})},sP=(e,t)=>{const s=e.split(V5),n=[];for(let r=0;r<s.length;r++){const i=Lx(s[r],t);if(n.push(i),i.type==="error")break}return n};function aP(){return new TransformStream({transform(e,t){WL(e,s=>{const n=s.length;let r;if(n<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,n);else if(n<65536){r=new Uint8Array(3);const i=new DataView(r.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{r=new Uint8Array(9);const i=new DataView(r.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(r[0]|=128),t.enqueue(r),t.enqueue(s)})}})}let Eh;function Zo(e){return e.reduce((t,s)=>t+s.length,0)}function Jo(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let n=0;for(let r=0;r<t;r++)s[r]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),s}function nP(e,t){Eh||(Eh=new TextDecoder);const s=[];let n=0,r=-1,i=!1;return new TransformStream({transform(l,c){for(s.push(l);;){if(n===0){if(Zo(s)<1)break;const o=Jo(s,1);i=(o[0]&128)===128,r=o[0]&127,r<126?n=3:r===126?n=1:n=2}else if(n===1){if(Zo(s)<2)break;const o=Jo(s,2);r=new DataView(o.buffer,o.byteOffset,o.length).getUint16(0),n=3}else if(n===2){if(Zo(s)<8)break;const o=Jo(s,8),u=new DataView(o.buffer,o.byteOffset,o.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){c.enqueue(Np);break}r=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(Zo(s)<r)break;const o=Jo(s,r);c.enqueue(Lx(i?o:Eh.decode(o),t)),n=0}if(r===0||r>e){c.enqueue(Np);break}}}})}const U5=4;function st(e){if(e)return rP(e)}function rP(e){for(var t in st.prototype)e[t]=st.prototype[t];return e}st.prototype.on=st.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};st.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};st.prototype.off=st.prototype.removeListener=st.prototype.removeAllListeners=st.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,r=0;r<s.length;r++)if(n=s[r],n===t||n.fn===t){s.splice(r,1);break}return s.length===0&&delete this._callbacks["$"+e],this};st.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,r=s.length;n<r;++n)s[n].apply(this,t)}return this};st.prototype.emitReserved=st.prototype.emit;st.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};st.prototype.hasListeners=function(e){return!!this.listeners(e).length};const pf=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),ys=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),iP="arraybuffer";function $5(e,...t){return t.reduce((s,n)=>(e.hasOwnProperty(n)&&(s[n]=e[n]),s),{})}const lP=ys.setTimeout,cP=ys.clearTimeout;function xf(e,t){t.useNativeTimers?(e.setTimeoutFn=lP.bind(ys),e.clearTimeoutFn=cP.bind(ys)):(e.setTimeoutFn=ys.setTimeout.bind(ys),e.clearTimeoutFn=ys.clearTimeout.bind(ys))}const oP=1.33;function uP(e){return typeof e=="string"?dP(e):Math.ceil((e.byteLength||e.size)*oP)}function dP(e){let t=0,s=0;for(let n=0,r=e.length;n<r;n++)t=e.charCodeAt(n),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(n++,s+=4);return s}function q5(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function fP(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function hP(e){let t={},s=e.split("&");for(let n=0,r=s.length;n<r;n++){let i=s[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class mP extends Error{constructor(t,s,n){super(t),this.description=s,this.context=n,this.type="TransportError"}}class Px extends st{constructor(t){super(),this.writable=!1,xf(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,n){return super.emitReserved("error",new mP(t,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=Lx(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=fP(t);return s.length?"?"+s:""}}class pP extends Px{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};sP(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,tP(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=q5()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let F5=!1;try{F5=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const xP=F5;function gP(){}class yP extends pP{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let n=location.port;n||(n=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,s){const n=this.request({method:"POST",data:t});n.on("success",s),n.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=t}}class aa extends st{constructor(t,s,n){super(),this.createRequest=t,xf(this,n),this._opts=n,this._method=n.method||"GET",this._uri=s,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const s=$5(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(s);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var r;n.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=aa.requestsCount++,aa.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=gP,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete aa.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}aa.requestsCount=0;aa.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Xv);else if(typeof addEventListener=="function"){const e="onpagehide"in ys?"pagehide":"unload";addEventListener(e,Xv,!1)}}function Xv(){for(let e in aa.requests)aa.requests.hasOwnProperty(e)&&aa.requests[e].abort()}const bP=function(){const e=H5({xdomain:!1});return e&&e.responseType!==null}();class vP extends yP{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=bP&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new aa(H5,this.uri(),t)}}function H5(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||xP))return new XMLHttpRequest}catch{}if(!t)try{return new ys[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const I5=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class jP extends Px{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,n=I5?{}:$5(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,n)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],r=s===t.length-1;_x(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}r&&pf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=q5()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const Ah=ys.WebSocket||ys.MozWebSocket;class NP extends jP{createSocket(t,s,n){return I5?new Ah(t,s,n):s?new Ah(t,s):new Ah(t)}doWrite(t,s){this.ws.send(s)}}class wP extends Px{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=nP(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(s).getReader(),r=aP();r.readable.pipeTo(t.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then(({done:c,value:o})=>{c||(this.onPacket(o),i())}).catch(c=>{})};i();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const n=t[s],r=s===t.length-1;this._writer.write(n).then(()=>{r&&pf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const SP={websocket:NP,webtransport:wP,polling:vP},CP=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,kP=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function wp(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),n=e.indexOf("]");s!=-1&&n!=-1&&(e=e.substring(0,s)+e.substring(s,n).replace(/:/g,";")+e.substring(n,e.length));let r=CP.exec(e||""),i={},l=14;for(;l--;)i[kP[l]]=r[l]||"";return s!=-1&&n!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=EP(i,i.path),i.queryKey=AP(i,i.query),i}function EP(e,t){const s=/\/{2,9}/g,n=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function AP(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,r,i){r&&(s[r]=i)}),s}const Sp=typeof addEventListener=="function"&&typeof removeEventListener=="function",Tu=[];Sp&&addEventListener("offline",()=>{Tu.forEach(e=>e())},!1);class Ln extends st{constructor(t,s){if(super(),this.binaryType=iP,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const n=wp(t);s.hostname=n.host,s.secure=n.protocol==="https"||n.protocol==="wss",s.port=n.port,n.query&&(s.query=n.query)}else s.host&&(s.hostname=wp(s.host).host);xf(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(n=>{const r=n.prototype.name;this.transports.push(r),this._transportsByName[r]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=hP(this.opts.query)),Sp&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Tu.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=U5,s.transport=t,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Ln.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",Ln.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(s+=uP(r)),n>0&&s>this._maxPayload)return this.writeBuffer.slice(0,n);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,pf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,n){return this._sendPacket("message",t,s,n),this}send(t,s,n){return this._sendPacket("message",t,s,n),this}_sendPacket(t,s,n,r){if(typeof s=="function"&&(r=s,s=void 0),typeof n=="function"&&(r=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:t,data:s,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(Ln.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Sp&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Tu.indexOf(this._offlineEventListener);n!==-1&&Tu.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}Ln.protocol=U5;class TP extends Ln{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),n=!1;Ln.priorWebsocketSuccess=!1;const r=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Ln.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=s.name,this.emitReserved("upgradeError",h)}}))};function i(){n||(n=!0,d(),s.close(),s=null)}const l=f=>{const h=new Error("probe error: "+f);h.transport=s.name,i(),this.emitReserved("upgradeError",h)};function c(){l("transport closed")}function o(){l("socket closed")}function u(f){s&&f.name!==s.name&&i()}const d=()=>{s.removeListener("open",r),s.removeListener("error",l),s.removeListener("close",c),this.off("close",o),this.off("upgrading",u)};s.once("open",r),s.once("error",l),s.once("close",c),this.once("close",o),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&s.push(t[n]);return s}}let MP=class extends TP{constructor(t,s={}){const n=typeof t=="object"?t:s;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(r=>SP[r]).filter(r=>!!r)),super(t,n)}};function DP(e,t="",s){let n=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),n=wp(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+t,n.href=n.protocol+"://"+i+(s&&s.port===n.port?"":":"+n.port),n}const RP=typeof ArrayBuffer=="function",OP=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Y5=Object.prototype.toString,_P=typeof Blob=="function"||typeof Blob<"u"&&Y5.call(Blob)==="[object BlobConstructor]",LP=typeof File=="function"||typeof File<"u"&&Y5.call(File)==="[object FileConstructor]";function Bx(e){return RP&&(e instanceof ArrayBuffer||OP(e))||_P&&e instanceof Blob||LP&&e instanceof File}function Mu(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,n=e.length;s<n;s++)if(Mu(e[s]))return!0;return!1}if(Bx(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Mu(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&Mu(e[s]))return!0;return!1}function PP(e){const t=[],s=e.data,n=e;return n.data=Cp(s,t),n.attachments=t.length,{packet:n,buffers:t}}function Cp(e,t){if(!e)return e;if(Bx(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let n=0;n<e.length;n++)s[n]=Cp(e[n],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=Cp(e[n],t));return s}return e}function BP(e,t){return e.data=kp(e.data,t),delete e.attachments,e}function kp(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=kp(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=kp(e[s],t));return e}const G5=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],zP=5;var de;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(de||(de={}));class VP{constructor(t){this.replacer=t}encode(t){return(t.type===de.EVENT||t.type===de.ACK)&&Mu(t)?this.encodeAsBinary({type:t.type===de.EVENT?de.BINARY_EVENT:de.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===de.BINARY_EVENT||t.type===de.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=PP(t),n=this.encodeAsString(s.packet),r=s.buffers;return r.unshift(n),r}}class zx extends st{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const n=s.type===de.BINARY_EVENT;n||s.type===de.BINARY_ACK?(s.type=n?de.EVENT:de.ACK,this.reconstructor=new UP(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(Bx(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const n={type:Number(t.charAt(0))};if(de[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===de.BINARY_EVENT||n.type===de.BINARY_ACK){const i=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const l=t.substring(i,s);if(l!=Number(l)||t.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(l)}if(t.charAt(s+1)==="/"){const i=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););n.nsp=t.substring(i,s)}else n.nsp="/";const r=t.charAt(s+1);if(r!==""&&Number(r)==r){const i=s+1;for(;++s;){const l=t.charAt(s);if(l==null||Number(l)!=l){--s;break}if(s===t.length)break}n.id=Number(t.substring(i,s+1))}if(t.charAt(++s)){const i=this.tryParse(t.substr(s));if(zx.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case de.CONNECT:return Ad(s);case de.DISCONNECT:return s===void 0;case de.CONNECT_ERROR:return typeof s=="string"||Ad(s);case de.EVENT:case de.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&G5.indexOf(s[0])===-1);case de.ACK:case de.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class UP{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=BP(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function $P(e){return typeof e=="string"}const qP=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function FP(e){return e===void 0||qP(e)}function Ad(e){return Object.prototype.toString.call(e)==="[object Object]"}function HP(e,t){switch(e){case de.CONNECT:return t===void 0||Ad(t);case de.DISCONNECT:return t===void 0;case de.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&G5.indexOf(t[0])===-1);case de.ACK:return Array.isArray(t);case de.CONNECT_ERROR:return typeof t=="string"||Ad(t);default:return!1}}function IP(e){return $P(e.nsp)&&FP(e.id)&&HP(e.type,e.data)}const YP=Object.freeze(Object.defineProperty({__proto__:null,Decoder:zx,Encoder:VP,get PacketType(){return de},isPacketValid:IP,protocol:zP},Symbol.toStringTag,{value:"Module"}));function Bs(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const GP=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class K5 extends st{constructor(t,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Bs(t,"open",this.onopen.bind(this)),Bs(t,"packet",this.onpacket.bind(this)),Bs(t,"error",this.onerror.bind(this)),Bs(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var n,r,i;if(GP.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const l={type:de.EVENT,data:s};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const d=this.ids++,f=s.pop();this._registerAckCallback(d,f),l.id=d}const c=(r=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||r===void 0?void 0:r.writable,o=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!c||(o?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(t,s){var n;const r=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(r===void 0){this.acks[t]=s;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);s.call(this,new Error("operation has timed out"))},r),l=(...c)=>{this.io.clearTimeoutFn(i),s.apply(this,c)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...s){return new Promise((n,r)=>{const i=(l,c)=>l?r(l):n(c);i.withError=!0,s.push(i),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((r,...i)=>(this._queue[0],r!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(r)):(this._queue.shift(),s&&s(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:de.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case de.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case de.EVENT:case de.BINARY_EVENT:this.onevent(t);break;case de.ACK:case de.BINARY_ACK:this.onack(t);break;case de.DISCONNECT:this.ondisconnect();break;case de.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let n=!1;return function(...r){n||(n=!0,s.packet({type:de.ACK,id:t,data:r}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:de.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(t===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,t.data)}}}function wl(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}wl.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+s:e-s}return Math.min(e,this.max)|0};wl.prototype.reset=function(){this.attempts=0};wl.prototype.setMin=function(e){this.ms=e};wl.prototype.setMax=function(e){this.max=e};wl.prototype.setJitter=function(e){this.jitter=e};class Ep extends st{constructor(t,s){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,xf(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new wl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const r=s.parser||YP;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new MP(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Bs(s,"open",function(){n.onopen(),t&&t()}),i=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},l=Bs(s,"error",i);if(this._timeout!==!1){const c=this._timeout,o=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),s.close()},c);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}return this.subs.push(r),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Bs(t,"ping",this.onping.bind(this)),Bs(t,"data",this.ondata.bind(this)),Bs(t,"error",this.onerror.bind(this)),Bs(t,"close",this.onclose.bind(this)),Bs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){pf(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new K5(this,t,s),this.nsps[t]=n),n}_destroy(t){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let n=0;n<s.length;n++)this.engine.write(s[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Pl={};function Du(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=DP(e,t.path||"/socket.io"),n=s.source,r=s.id,i=s.path,l=Pl[r]&&i in Pl[r].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let o;return c?o=new Ep(n,t):(Pl[r]||(Pl[r]=new Ep(n,t)),o=Pl[r]),s.query&&!t.query&&(t.query=s.queryKey),o.socket(s.path,t)}Object.assign(Du,{Manager:Ep,Socket:K5,io:Du,connect:Du});const KP=void 0;let ae=null;const QP=()=>{const{accessToken:e}=Ct.getState();return e?(ae!=null&&ae.connected||(ae=Du(KP,{auth:{token:e},reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),ae.on("connect",()=>{console.log("Socket connected")}),ae.on("disconnect",t=>{console.log("Socket disconnected:",t)}),ae.on("connect_error",t=>{console.error("Socket connection error:",t)}),ae.on("item:created",t=>{ge.getState().addItem(t)}),ae.on("item:updated",t=>{ge.getState().updateItem(t.id,t)}),ae.on("item:value_updated",({itemId:t,columnId:s,value:n})=>{ge.getState().updateItemValue(t,s,n)}),ae.on("item:deleted",({itemId:t})=>{ge.getState().deleteItem(t)}),ae.on("items:deleted",({itemIds:t})=>{ge.getState().deleteItems(t)}),ae.on("items:reordered",({items:t})=>{ge.getState().reorderItems(t)}),ae.on("column:created",t=>{ge.getState().addColumn(t)}),ae.on("column:updated",t=>{ge.getState().updateColumn(t.id,t)}),ae.on("column:deleted",({columnId:t})=>{ge.getState().deleteColumn(t)}),ae.on("columns:reordered",({columns:t})=>{ge.getState().reorderColumns(t)}),ae.on("label:created",({columnId:t,label:s})=>{ge.getState().addLabel(t,s)}),ae.on("label:updated",({columnId:t,label:s})=>{ge.getState().updateLabel(t,s.id,s)}),ae.on("label:deleted",({columnId:t,labelId:s})=>{ge.getState().deleteLabel(t,s)}),ae.on("board:created",t=>{La.getState().addBoard(t)}),ae.on("board:updated",t=>{La.getState().updateBoard(t.id,t);const s=ge.getState().currentBoard;(s==null?void 0:s.id)===t.id&&ge.getState().setBoard({...s,...t})}),ae.on("board:deleted",({boardId:t})=>{La.getState().deleteBoard(t)}),ae.on("member:added",({member:t})=>{console.log("Member added:",t)}),ae.on("member:removed",({memberId:t})=>{console.log("Member removed:",t)})),ae):(console.warn("No access token, cannot initialize socket"),null)},XP=e=>{ae!=null&&ae.connected&&ae.emit("join:workspace",e)},WP=e=>{ae!=null&&ae.connected&&ae.emit("leave:workspace",e)},ZP=e=>{ae!=null&&ae.connected&&ae.emit("join:board",e)},JP=e=>{ae!=null&&ae.connected&&ae.emit("leave:board",e)},eB=()=>{ae&&(ae.disconnect(),ae=null)};function tB(){const e=La(s=>s.setWorkspaces),{data:t}=na({queryKey:["workspaces"],queryFn:async()=>(await lf.getAll()).data});return b.useEffect(()=>{t&&e(t)},[t,e]),b.useEffect(()=>(QP(),()=>{eB()}),[]),a.jsxs("div",{className:"min-h-screen bg-surface-950 bg-grid",children:[a.jsx("div",{className:"fixed inset-0 bg-gradient-radial pointer-events-none"}),a.jsx(a9,{}),a.jsxs("div",{className:"pl-64",children:[a.jsx(XL,{}),a.jsx("main",{className:"p-6",children:a.jsx(Hk,{})})]})]})}function Wv({children:e}){return a.jsxs("div",{className:"min-h-screen flex bg-surface-950 bg-grid",children:[a.jsx("div",{className:"fixed inset-0 bg-gradient-radial pointer-events-none"}),a.jsx("div",{className:"fixed top-1/4 left-1/4 w-96 h-96 bg-primary-600/20 rounded-full blur-[100px] pointer-events-none"}),a.jsx("div",{className:"fixed bottom-1/4 right-1/4 w-96 h-96 bg-purple-600/20 rounded-full blur-[100px] pointer-events-none"}),a.jsx("div",{className:"hidden lg:flex lg:w-1/2 flex-col justify-center px-12 relative",children:a.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:[a.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-primary-500 to-purple-600 flex items-center justify-center shadow-glow",children:a.jsx(Nl,{className:"w-7 h-7 text-white"})}),a.jsx("span",{className:"font-display font-bold text-4xl gradient-text",children:"GesProjet"})]}),a.jsxs("h1",{className:"text-5xl font-display font-bold text-surface-100 leading-tight mb-6",children:["Grez vos projets",a.jsx("br",{}),a.jsx("span",{className:"gradient-text",children:"simplement et efficacement"})]}),a.jsx("p",{className:"text-lg text-surface-400 leading-relaxed max-w-md",children:"Une plateforme moderne de gestion de projet pour organiser, collaborer et suivre vos tches en temps rel."}),a.jsx("div",{className:"mt-12 grid grid-cols-2 gap-6",children:[{icon:"",title:"Tableaux personnalisables"},{icon:"",title:"Collaboration temps rel"},{icon:"",title:"Vues multiples"},{icon:"",title:"Notifications intelligentes"}].map((t,s)=>a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2+s*.1},className:"flex items-center gap-3 p-4 rounded-xl bg-surface-900/50 border border-surface-800",children:[a.jsx("span",{className:"text-2xl",children:t.icon}),a.jsx("span",{className:"text-sm font-medium text-surface-300",children:t.title})]},t.title))})]})}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:a.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-md",children:e})})]})}function sB(){const e=Ms(),t=Ct(u=>u.login),[s,n]=b.useState({email:"",password:""}),[r,i]=b.useState(!1),[l,c]=b.useState(!1),o=async u=>{var d,f;u.preventDefault(),c(!0);try{await t(s.email,s.password),$.success("Connexion russie !"),e("/")}catch(h){$.error(((f=(d=h.response)==null?void 0:d.data)==null?void 0:f.error)||"Erreur lors de la connexion")}finally{c(!1)}};return a.jsxs("div",{className:"card gradient-border",children:[a.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-3 mb-8",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500 to-purple-600 flex items-center justify-center",children:a.jsx(Nl,{className:"w-6 h-6 text-white"})}),a.jsx("span",{className:"font-display font-bold text-2xl gradient-text",children:"GesProjet"})]}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-display font-bold text-surface-100 mb-2",children:"Content de vous revoir !"}),a.jsx("p",{className:"text-surface-400",children:"Connectez-vous pour accder  vos projets"})]}),a.jsxs("form",{onSubmit:o,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Adresse email"}),a.jsxs("div",{className:"relative",children:[a.jsx(No,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-500"}),a.jsx("input",{type:"email",value:s.email,onChange:u=>n({...s,email:u.target.value}),placeholder:"vous@exemple.com",className:"input pl-12",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx($r,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-500"}),a.jsx("input",{type:r?"text":"password",value:s.password,onChange:u=>n({...s,password:u.target.value}),placeholder:"",className:"input pl-12 pr-12",required:!0}),a.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-surface-500 hover:text-surface-300",children:r?a.jsx(Nd,{className:"w-5 h-5"}):a.jsx(Ur,{className:"w-5 h-5"})})]})]}),a.jsx(V.button,{type:"submit",disabled:l,whileTap:{scale:.98},className:"btn btn-primary w-full py-3.5",children:l?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Se connecter"}),a.jsx(yt,{className:"w-5 h-5"})]})})]}),a.jsxs("div",{className:"mt-6 p-4 rounded-xl bg-surface-800/50 border border-surface-700",children:[a.jsx("p",{className:"text-xs text-surface-500 mb-2",children:"Compte dmo :"}),a.jsxs("p",{className:"text-sm text-surface-300",children:["Email: ",a.jsx("code",{className:"text-primary-400",children:"demo@gesprojet.com"})]}),a.jsxs("p",{className:"text-sm text-surface-300",children:["Mot de passe: ",a.jsx("code",{className:"text-primary-400",children:"demo123"})]})]}),a.jsxs("p",{className:"text-center text-surface-400 mt-6",children:["Pas encore de compte ?"," ",a.jsx(me,{to:"/register",className:"text-primary-400 hover:text-primary-300 font-medium",children:"Crer un compte"})]})]})}function aB(){const e=Ms(),t=Ct(u=>u.register),[s,n]=b.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[r,i]=b.useState(!1),[l,c]=b.useState(!1),o=async u=>{var d,f;if(u.preventDefault(),s.password!==s.confirmPassword){$.error("Les mots de passe ne correspondent pas");return}if(s.password.length<6){$.error("Le mot de passe doit contenir au moins 6 caractres");return}c(!0);try{await t({firstName:s.firstName,lastName:s.lastName,email:s.email,password:s.password}),$.success("Compte cr avec succs !"),e("/")}catch(h){$.error(((f=(d=h.response)==null?void 0:d.data)==null?void 0:f.error)||"Erreur lors de l'inscription")}finally{c(!1)}};return a.jsxs("div",{className:"card gradient-border",children:[a.jsxs("div",{className:"lg:hidden flex items-center justify-center gap-3 mb-8",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500 to-purple-600 flex items-center justify-center",children:a.jsx(Nl,{className:"w-6 h-6 text-white"})}),a.jsx("span",{className:"font-display font-bold text-2xl gradient-text",children:"GesProjet"})]}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-display font-bold text-surface-100 mb-2",children:"Crer un compte"}),a.jsx("p",{className:"text-surface-400",children:"Rejoignez GesProjet et boostez votre productivit"})]}),a.jsxs("form",{onSubmit:o,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Prnom"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ts,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-500"}),a.jsx("input",{type:"text",value:s.firstName,onChange:u=>n({...s,firstName:u.target.value}),placeholder:"Jean",className:"input pl-12",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom"}),a.jsx("input",{type:"text",value:s.lastName,onChange:u=>n({...s,lastName:u.target.value}),placeholder:"Dupont",className:"input",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Adresse email"}),a.jsxs("div",{className:"relative",children:[a.jsx(No,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-500"}),a.jsx("input",{type:"email",value:s.email,onChange:u=>n({...s,email:u.target.value}),placeholder:"vous@exemple.com",className:"input pl-12",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx($r,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-500"}),a.jsx("input",{type:r?"text":"password",value:s.password,onChange:u=>n({...s,password:u.target.value}),placeholder:"",className:"input pl-12 pr-12",required:!0}),a.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-surface-500 hover:text-surface-300",children:r?a.jsx(Nd,{className:"w-5 h-5"}):a.jsx(Ur,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Confirmer le mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx($r,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-500"}),a.jsx("input",{type:r?"text":"password",value:s.confirmPassword,onChange:u=>n({...s,confirmPassword:u.target.value}),placeholder:"",className:"input pl-12",required:!0})]})]}),a.jsx(V.button,{type:"submit",disabled:l,whileTap:{scale:.98},className:"btn btn-primary w-full py-3.5",children:l?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"Crer mon compte"}),a.jsx(yt,{className:"w-5 h-5"})]})})]}),a.jsxs("p",{className:"text-center text-surface-400 mt-6",children:["Dj un compte ?"," ",a.jsx(me,{to:"/login",className:"text-primary-400 hover:text-primary-300 font-medium",children:"Se connecter"})]})]})}function nB(){const e=Ms(),{user:t,setUser:s}=Ct(),[n,r]=b.useState(""),[i,l]=b.useState(""),[c,o]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,m]=b.useState(""),[v,j]=b.useState(!1),x=[{label:"Au moins 6 caractres",test:T=>T.length>=6},{label:"Une lettre majuscule",test:T=>/[A-Z]/.test(T)},{label:"Une lettre minuscule",test:T=>/[a-z]/.test(T)},{label:"Un chiffre",test:T=>/\d/.test(T)}],g=x.filter(T=>T.test(n)).length,y=n===i&&n.length>0,N=g>=2&&n.length>=6&&y,k=()=>g<=1?"bg-red-500":g<=2?"bg-orange-500":g<=3?"bg-yellow-500":"bg-green-500",D=()=>g<=1?"Faible":g<=2?"Moyen":g<=3?"Fort":"Trs fort",w=async T=>{var O,A;if(T.preventDefault(),!!N){h(!0),m("");try{await kw.changeTempPassword({newPassword:n}),j(!0),t&&s({...t,mustChangePassword:!1}),setTimeout(()=>{e("/")},2e3)}catch(E){m(((A=(O=E.response)==null?void 0:O.data)==null?void 0:A.error)||"Erreur lors du changement de mot de passe")}finally{h(!1)}}};return v?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-surface-900 via-surface-900 to-primary-900/20 flex items-center justify-center p-4",children:a.jsxs(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"card p-8 max-w-md w-full text-center",children:[a.jsx(V.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Er,{className:"w-10 h-10 text-green-400"})}),a.jsx("h2",{className:"text-2xl font-bold text-surface-100 mb-2",children:"Mot de passe modifi !"}),a.jsx("p",{className:"text-surface-400 mb-4",children:"Votre nouveau mot de passe a t enregistr avec succs."}),a.jsx("p",{className:"text-sm text-surface-500",children:"Redirection en cours..."})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-surface-900 via-surface-900 to-primary-900/20 flex items-center justify-center p-4",children:a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-8 max-w-md w-full",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-primary-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(Hn,{className:"w-8 h-8 text-primary-400"})}),a.jsx("h1",{className:"text-2xl font-bold text-surface-100 mb-2",children:"Changez votre mot de passe"}),a.jsx("p",{className:"text-surface-400",children:"Pour des raisons de scurit, vous devez dfinir un nouveau mot de passe avant de continuer."})]}),a.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 mb-6 flex items-start gap-3",children:[a.jsx(As,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-amber-400",children:"Mot de passe temporaire"}),a.jsx("p",{className:"text-amber-400/70 mt-1",children:"Votre compte a t cr avec un mot de passe temporaire. Dfinissez un mot de passe personnel pour scuriser votre compte."})]})]}),a.jsxs("form",{onSubmit:w,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nouveau mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx($r,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-500"}),a.jsx("input",{type:c?"text":"password",value:n,onChange:T=>r(T.target.value),className:"w-full pl-11 pr-11 py-3 bg-surface-800 border border-surface-700 rounded-lg focus:outline-none focus:border-primary-500 text-surface-100",placeholder:"",required:!0}),a.jsx("button",{type:"button",onClick:()=>o(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-surface-500 hover:text-surface-300",children:c?a.jsx(Nd,{className:"w-5 h-5"}):a.jsx(Ur,{className:"w-5 h-5"})})]}),n&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-1.5 bg-surface-700 rounded-full overflow-hidden",children:a.jsx(V.div,{initial:{width:0},animate:{width:`${g/4*100}%`},className:`h-full ${k()} transition-colors`})}),a.jsx("span",{className:`text-xs font-medium ${g<=1?"text-red-400":g<=2?"text-orange-400":g<=3?"text-yellow-400":"text-green-400"}`,children:D()})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:x.map((T,O)=>a.jsxs("div",{className:`flex items-center gap-1.5 text-xs ${T.test(n)?"text-green-400":"text-surface-500"}`,children:[T.test(n)?a.jsx(Er,{className:"w-3.5 h-3.5"}):a.jsx(Hc,{className:"w-3.5 h-3.5"}),T.label]},O))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Confirmer le mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx($r,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-surface-500"}),a.jsx("input",{type:u?"text":"password",value:i,onChange:T=>l(T.target.value),className:`w-full pl-11 pr-11 py-3 bg-surface-800 border rounded-lg focus:outline-none text-surface-100 ${i&&!y?"border-red-500 focus:border-red-500":y?"border-green-500 focus:border-green-500":"border-surface-700 focus:border-primary-500"}`,placeholder:"",required:!0}),a.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-surface-500 hover:text-surface-300",children:u?a.jsx(Nd,{className:"w-5 h-5"}):a.jsx(Ur,{className:"w-5 h-5"})})]}),i&&!y&&a.jsxs("p",{className:"text-xs text-red-400 mt-1 flex items-center gap-1",children:[a.jsx(Hc,{className:"w-3.5 h-3.5"}),"Les mots de passe ne correspondent pas"]}),y&&a.jsxs("p",{className:"text-xs text-green-400 mt-1 flex items-center gap-1",children:[a.jsx(Er,{className:"w-3.5 h-3.5"}),"Les mots de passe correspondent"]})]}),p&&a.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3 text-sm text-red-400",children:p}),a.jsx("button",{type:"submit",disabled:!N||f,className:"w-full py-3 bg-gradient-to-r from-primary-600 to-purple-600 hover:from-primary-500 hover:to-purple-500 text-white font-semibold rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:f?a.jsxs(a.Fragment,{children:[a.jsx(V.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Enregistrement..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Hn,{className:"w-5 h-5"}),"Dfinir mon mot de passe"]})})]})]})})}const rB=({data:e,height:t=60})=>{const s=Math.max(...e.map(n=>n.value),1);return a.jsx("div",{className:"flex items-end gap-1.5",style:{height:t},children:e.map((n,r)=>a.jsx(V.div,{initial:{height:0},animate:{height:`${n.value/s*100}%`},transition:{delay:r*.1,duration:.5},className:"flex-1 rounded-t-sm relative group cursor-pointer",style:{backgroundColor:n.color,minHeight:n.value>0?4:0},children:a.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 px-2 py-1 bg-surface-900 text-xs text-surface-200 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:[n.label,": ",n.value]})},r))})},iB=({data:e,size:t=120,strokeWidth:s=20})=>{const n=e.reduce((c,o)=>c+o.value,0),r=(t-s)/2,i=r*2*Math.PI;let l=0;return a.jsxs("div",{className:"relative",style:{width:t,height:t},children:[a.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[a.jsx("circle",{cx:t/2,cy:t/2,r,stroke:"currentColor",strokeWidth:s,fill:"none",className:"text-surface-800"}),e.map((c,o)=>{const u=n>0?c.value/n:0,d=i*u,f=l;return l+=d,a.jsx(V.circle,{cx:t/2,cy:t/2,r,stroke:c.color,strokeWidth:s,fill:"none",strokeDasharray:`${d} ${i}`,strokeDashoffset:-f,initial:{strokeDasharray:`0 ${i}`},animate:{strokeDasharray:`${d} ${i}`},transition:{delay:o*.2,duration:.8}},o)})]}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[a.jsx("span",{className:"text-2xl font-bold text-surface-100",children:n}),a.jsx("span",{className:"text-xs text-surface-500",children:"Total"})]})]})},Zv=({value:e,color:t="#6366f1"})=>a.jsx("div",{className:"relative h-2 bg-surface-800 rounded-full overflow-hidden",children:a.jsx(V.div,{initial:{width:0},animate:{width:`${e}%`},transition:{duration:1,ease:"easeOut"},className:"h-full rounded-full relative overflow-hidden",style:{backgroundColor:t},children:a.jsx(V.div,{animate:{x:["-100%","100%"]},transition:{repeat:1/0,duration:1.5,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"})})});function lB(){const e=Ms(),t=La(y=>y.workspaces),s=Ct(y=>y.user),[n,r]=b.useState([]),[i,l]=b.useState(!0),[c,o]=b.useState(!1),[u,d]=b.useState(null);b.useEffect(()=>{h(),f()},[t]);const f=async()=>{if(t.length!==0)try{const y={byStatus:{},byPriority:{},weekly:[]};for(const N of t.slice(0,3))try{const{data:k}=await lf.getStats(N.id);k.itemsByStatus&&Object.entries(k.itemsByStatus).forEach(([D,w])=>{y.byStatus[D]=(y.byStatus[D]||0)+w}),k.itemsByPriority&&Object.entries(k.itemsByPriority).forEach(([D,w])=>{y.byPriority[D]=(y.byPriority[D]||0)+w})}catch{}d(y)}catch(y){console.error("Error loading stats:",y)}},h=async()=>{try{const{data:y}=await BM.getMy({limit:3});r(y)}catch(y){console.error("Error loading activities:",y)}finally{l(!1)}},p=()=>{const y=new Date().getHours();return y<12?"Bonjour":y<18?"Bon aprs-midi":"Bonsoir"},m=t.reduce((y,N)=>y+(N.boardCount||0),0),v=t.reduce((y,N)=>y+(N.memberCount||0),0),j=[{label:"Espaces de travail",value:t.length,icon:Js,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-500/10"},{label:"Boards actifs",value:m,icon:Js,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-500/10"},{label:"Collaborateurs",value:v,icon:Ye,color:"from-pink-500 to-pink-600",bgColor:"bg-pink-500/10"},{label:"Activits rcentes",value:n.length,icon:Fc,color:"from-cyan-500 to-cyan-600",bgColor:"bg-cyan-500/10"}],x=y=>{switch(y){case"item_created":return a.jsx(re,{className:"w-4 h-4 text-green-400"});case"item_updated":case"value_updated":return a.jsx(Kt,{className:"w-4 h-4 text-blue-400"});case"comment_added":return a.jsx(Fc,{className:"w-4 h-4 text-purple-400"});case"status_changed":return a.jsx(Er,{className:"w-4 h-4 text-amber-400"});default:return a.jsx(wt,{className:"w-4 h-4 text-surface-400"})}},g=y=>({item_created:"a cr un item",item_updated:"a modifi un item",value_updated:"a mis  jour une valeur",comment_added:"a comment",status_changed:"a chang un statut",board_created:"a cr un board",member_invited:"a invit un membre"})[y.action]||"a effectu une action";return a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10",children:[a.jsxs("h1",{className:"text-4xl font-display font-bold text-surface-100 mb-2",children:[p(),", ",s==null?void 0:s.firstName," ! "]}),a.jsx("p",{className:"text-lg text-surface-400",children:"Voici un aperu de vos projets et activits rcentes."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-10",children:j.map((y,N)=>a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.1},className:"card p-5 hover:bg-surface-800/80 transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl ${y.bgColor} flex items-center justify-center`,children:a.jsx(y.icon,{className:"w-6 h-6 text-surface-100"})}),a.jsx("div",{className:`w-2 h-2 rounded-full bg-gradient-to-r ${y.color}`})]}),a.jsx("p",{className:"text-3xl font-display font-bold text-surface-100 mb-1",children:y.value}),a.jsx("p",{className:"text-sm text-surface-400",children:y.label})]},y.label))}),t.length>0&&u&&Object.keys(u.byStatus).length>0&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-10",children:[a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(sl,{className:"w-5 h-5 text-primary-400"}),a.jsx("h3",{className:"font-semibold text-surface-200",children:"Rpartition par statut"})]}),a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(iB,{data:Object.entries(u.byStatus).filter(([y,N])=>N>0).map(([y,N])=>({value:N,color:y==="done"||y==="completed"?"#22c55e":y==="in_progress"?"#3b82f6":y==="blocked"?"#ef4444":"#6b7280",label:y==="done"||y==="completed"?"Termin":y==="in_progress"?"En cours":y==="blocked"?"Bloqu":" faire"})),size:100,strokeWidth:16})}),a.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(u.byStatus).filter(([y,N])=>N>0).map(([y,N])=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${y==="done"||y==="completed"?"bg-green-500":y==="in_progress"?"bg-blue-500":y==="blocked"?"bg-red-500":"bg-gray-500"}`}),a.jsxs("span",{className:"text-surface-400",children:[y==="done"||y==="completed"?"Termin":y==="in_progress"?"En cours":y==="blocked"?"Bloqu":" faire"," (",N,")"]})]},y))})]}),Object.keys(u.byPriority).length>0&&a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"card p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Fn,{className:"w-5 h-5 text-cyan-400"}),a.jsx("h3",{className:"font-semibold text-surface-200",children:"Par priorit"})]}),a.jsx(rB,{data:Object.entries(u.byPriority).filter(([y,N])=>N>0).map(([y,N])=>({value:N,color:y==="critical"?"#dc2626":y==="high"?"#ef4444":y==="medium"?"#f59e0b":"#6b7280",label:y==="critical"?"Critique":y==="high"?"Haute":y==="medium"?"Moyenne":"Basse"})),height:80}),a.jsx("div",{className:"flex flex-wrap gap-3 mt-3 text-xs text-surface-500",children:Object.entries(u.byPriority).filter(([y,N])=>N>0).map(([y])=>a.jsx("span",{children:y==="critical"?"Critique":y==="high"?"Haute":y==="medium"?"Moyenne":y},y))})]}),a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"card p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Kt,{className:"w-5 h-5 text-green-400"}),a.jsx("h3",{className:"font-semibold text-surface-200",children:"Progression globale"})]}),(()=>{const y=Object.values(u.byStatus).reduce((T,O)=>T+O,0),N=(u.byStatus.done||0)+(u.byStatus.completed||0),k=u.byStatus.in_progress||0,D=y>0?Math.round(N/y*100):0,w=y>0?Math.round((N+k)/y*100):0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-surface-400",children:"Tches termines"}),a.jsxs("span",{className:"text-green-400 font-medium",children:[D,"%"]})]}),a.jsx(Zv,{value:D,color:"#22c55e"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-surface-400",children:"Tches actives"}),a.jsxs("span",{className:"text-blue-400 font-medium",children:[w,"%"]})]}),a.jsx(Zv,{value:w,color:"#3b82f6"})]}),a.jsx("div",{className:"pt-2 border-t border-surface-800",children:a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"text-2xl font-bold text-surface-100",children:y}),a.jsx("span",{className:"text-sm text-surface-500 ml-2",children:"tches au total"})]})})]})})()]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsx("h2",{className:"text-xl font-display font-semibold text-surface-100",children:"Vos espaces de travail"}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-secondary text-sm",children:[a.jsx(re,{className:"w-4 h-4"}),"Nouveau"]})]}),t.length===0?a.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"card text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-500/20 to-purple-500/20 flex items-center justify-center mx-auto mb-5",children:a.jsx(Nl,{className:"w-8 h-8 text-primary-400"})}),a.jsx("h3",{className:"text-xl font-display font-semibold text-surface-100 mb-2",children:"Crez votre premier espace de travail"}),a.jsx("p",{className:"text-surface-400 max-w-md mx-auto mb-5",children:"Les espaces de travail vous permettent d'organiser vos projets et de collaborer avec votre quipe."}),a.jsxs("button",{onClick:()=>o(!0),className:"btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),"Crer un workspace"]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.slice(0,6).map((y,N)=>a.jsxs(V.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.05},onClick:()=>e(`/workspace/${y.id}`),className:"card p-5 text-left hover:border-primary-500/50 transition-all group",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl",style:{backgroundColor:`${y.color}20`},children:y.icon}),a.jsx(yt,{className:"w-5 h-5 text-surface-500 group-hover:text-primary-400 group-hover:translate-x-1 transition-all"})]}),a.jsx("h3",{className:"font-semibold text-surface-100 mb-1",children:y.name}),a.jsx("p",{className:"text-sm text-surface-500 mb-3 line-clamp-2",children:y.description||"Aucune description"}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-surface-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Js,{className:"w-3.5 h-3.5"}),y.boardCount||0," boards"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ye,{className:"w-3.5 h-3.5"}),y.memberCount||0," membres"]})]})]},y.id))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-between mb-5",children:a.jsx("h2",{className:"text-xl font-display font-semibold text-surface-100",children:"Activit rcente"})}),a.jsx("div",{className:"card p-4",children:i?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):n.length>0?a.jsx("div",{className:"space-y-4",children:n.slice(0,3).map((y,N)=>a.jsxs(V.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:N*.05},className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-surface-700 flex items-center justify-center flex-shrink-0",children:x(y.action)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-sm text-surface-300",children:[a.jsx("span",{className:"font-medium text-surface-200",children:y.userName||"Utilisateur"})," ",g(y),y.itemName&&a.jsxs("span",{className:"text-primary-400",children:[' "',y.itemName,'"']})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y.boardName&&a.jsxs("span",{className:"text-xs text-surface-500 flex items-center gap-1",children:[a.jsx(Js,{className:"w-3 h-3"}),y.boardName]}),a.jsx("span",{className:"text-xs text-surface-600",children:""}),a.jsx("span",{className:"text-xs text-surface-500",children:Ed(new Date(y.createdAt),{addSuffix:!0,locale:Ha})})]})]})]},y.id))}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(wt,{className:"w-10 h-10 text-surface-600 mx-auto mb-3"}),a.jsx("p",{className:"text-surface-500 text-sm",children:"Vos activits rcentes apparatront ici"})]})}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-sm font-medium text-surface-400 mb-3",children:"Actions rapides"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("button",{onClick:()=>o(!0),className:"w-full flex items-center gap-3 px-4 py-3 bg-surface-800/50 hover:bg-surface-800 rounded-xl text-left transition-colors group",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-500/20 flex items-center justify-center",children:a.jsx(re,{className:"w-4 h-4 text-primary-400"})}),a.jsx("span",{className:"text-surface-300 group-hover:text-surface-100 transition-colors",children:"Nouvel espace de travail"})]}),a.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 bg-surface-800/50 hover:bg-surface-800 rounded-xl text-left transition-colors group",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center",children:a.jsx(j5,{className:"w-4 h-4 text-purple-400"})}),a.jsx("span",{className:"text-surface-300 group-hover:text-surface-100 transition-colors",children:"Accder aux favoris"})]})]})]})]})]}),a.jsx(S5,{isOpen:c,onClose:()=>o(!1)})]})}const cB=["","","","","","","","","",""],oB=["#6366f1","#8b5cf6","#ec4899","#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#06b6d4","#3b82f6"];function uB({isOpen:e,onClose:t,workspaceId:s}){const n=La(u=>u.addBoard),[r,i]=b.useState(!1),[l,c]=b.useState({name:"",description:"",icon:"",color:"#6366f1"}),o=async u=>{if(u.preventDefault(),!!l.name.trim()){i(!0);try{const d=await Bc.create({...l,workspaceId:s});n(d.data),$.success("Board cr avec succs"),t(),c({name:"",description:"",icon:"",color:"#6366f1"})}catch{$.error("Erreur lors de la cration")}finally{i(!1)}}};return e?a.jsx(te,{children:a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:a.jsxs(V.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content",onClick:u=>u.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-600/20 flex items-center justify-center",children:a.jsx(Js,{className:"w-5 h-5 text-primary-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Crer un board"}),a.jsx("p",{className:"text-sm text-surface-500",children:"Grez vos tches et projets"})]})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:o,className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center text-3xl",style:{backgroundColor:`${l.color}20`},children:l.icon}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-surface-500 mb-2",children:"Icne"}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:cB.map(u=>a.jsx("button",{type:"button",onClick:()=>c({...l,icon:u}),className:`w-8 h-8 rounded-lg flex items-center justify-center text-lg hover:bg-surface-700 transition-colors ${l.icon===u?"bg-surface-700 ring-2 ring-primary-500":""}`,children:u},u))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-surface-500 mb-2",children:"Couleur"}),a.jsx("div",{className:"flex gap-2",children:oB.map(u=>a.jsx("button",{type:"button",onClick:()=>c({...l,color:u}),className:`w-6 h-6 rounded-full transition-transform ${l.color===u?"ring-2 ring-offset-2 ring-offset-surface-900 ring-white scale-110":"hover:scale-110"}`,style:{backgroundColor:u}},u))})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom du board"}),a.jsx("input",{type:"text",value:l.name,onChange:u=>c({...l,name:u.target.value}),placeholder:"Gestion de projet",className:"input",required:!0,autoFocus:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Description"," ",a.jsx("span",{className:"text-surface-500",children:"(optionnel)"})]}),a.jsx("textarea",{value:l.description,onChange:u=>c({...l,description:u.target.value}),placeholder:"Dcrivez votre board...",className:"input resize-none h-20"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:r||!l.name.trim(),className:"btn btn-primary",children:r?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Crer le board"})]})]})]})})}):null}function dB(){const{workspaceId:e}=Et(),t=Ms(),{setCurrentWorkspace:s,setBoards:n,boards:r}=La(),[i,l]=b.useState(!1),[c,o]=b.useState(null),{data:u,isLoading:d}=na({queryKey:["workspace",e],queryFn:async()=>(await lf.getOne(e)).data}),{data:f,isLoading:h}=na({queryKey:["boards",e],queryFn:async()=>(await Bc.getByWorkspace(e)).data});b.useEffect(()=>(u&&(s(u),XP(e)),()=>{WP(e)}),[u,e,s]),b.useEffect(()=>{f&&n(f)},[f,n]);const p=async(m,v)=>{if(v.stopPropagation(),!!confirm("tes-vous sr de vouloir supprimer ce board ?")){try{await Bc.delete(m),$.success("Board supprim")}catch{$.error("Erreur lors de la suppression")}o(null)}};return d?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):u?a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center text-3xl",style:{backgroundColor:`${u.color}20`},children:u.icon}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold text-surface-100",children:u.name}),a.jsx("p",{className:"text-surface-400",children:u.description})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{className:"btn btn-secondary",children:[a.jsx(Ye,{className:"w-4 h-4"}),a.jsxs("span",{children:[u.memberCount," membres"]})]}),a.jsx("button",{className:"btn btn-ghost",children:a.jsx(nl,{className:"w-4 h-4"})})]})]})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-display font-semibold text-surface-100",children:"Boards"}),a.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),a.jsx("span",{children:"Nouveau board"})]})]}),h?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((m,v)=>a.jsx("div",{className:"card h-48 animate-pulse bg-surface-800/50"},v))}):r.length===0?a.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"card text-center py-16",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-500/20 to-purple-500/20 flex items-center justify-center mx-auto mb-6",children:a.jsx(Js,{className:"w-8 h-8 text-primary-400"})}),a.jsx("h3",{className:"text-xl font-display font-semibold text-surface-100 mb-2",children:"Crez votre premier board"}),a.jsx("p",{className:"text-surface-400 max-w-md mx-auto mb-6",children:"Les boards vous permettent d'organiser vos tches et de suivre l'avancement de vos projets."}),a.jsxs("button",{onClick:()=>l(!0),className:"btn btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),a.jsx("span",{children:"Crer un board"})]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((m,v)=>a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.05},className:"card p-6 hover:border-primary-500/50 transition-all group cursor-pointer relative",onClick:()=>t(`/board/${m.id}`),children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl",style:{backgroundColor:`${m.color}20`},children:m.icon}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:j=>{j.stopPropagation(),o(c===m.id?null:m.id)},className:"p-2 rounded-lg hover:bg-surface-700 text-surface-500 opacity-0 group-hover:opacity-100 transition-all",children:a.jsx(jl,{className:"w-5 h-5"})}),c===m.id&&a.jsx("div",{className:"dropdown right-0",children:a.jsxs("button",{onClick:j=>p(m.id,j),className:"dropdown-item text-red-400 hover:text-red-300",children:[a.jsx(ct,{className:"w-4 h-4"}),a.jsx("span",{children:"Supprimer"})]})})]})]}),a.jsxs("h3",{className:"font-semibold text-surface-100 mb-1 flex items-center gap-2",children:[m.name,a.jsx(yt,{className:"w-4 h-4 text-surface-500 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),a.jsx("p",{className:"text-sm text-surface-500 mb-4 line-clamp-2",children:m.description||"Aucune description"}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-surface-500",children:[a.jsxs("span",{children:[m.itemCount||0," items"]}),a.jsxs("span",{children:[m.groupCount||0," groupes"]})]})]},m.id))})]}),a.jsx(uB,{isOpen:i,onClose:()=>l(!1),workspaceId:e})]}):a.jsx("div",{className:"text-center py-16",children:a.jsx("p",{className:"text-surface-400",children:"Workspace non trouv"})})}function fB({item:e,column:t,value:s}){var v,j;const[n,r]=b.useState(!1),[i,l]=b.useState({top:0,left:0}),c=b.useRef(null),o=b.useRef(null),u=ge(x=>x.updateItemValue),d=typeof s=="object"?s==null?void 0:s.labelId:s,f=(v=t.labels)==null?void 0:v.find(x=>x.id===d);b.useEffect(()=>{if(!n)return;const x=y=>{o.current&&!o.current.contains(y.target)&&c.current&&!c.current.contains(y.target)&&r(!1)},g=setTimeout(()=>{document.addEventListener("mousedown",x)},10);return()=>{clearTimeout(g),document.removeEventListener("mousedown",x)}},[n]);const h=b.useCallback(x=>{if(x==null||x.preventDefault(),x==null||x.stopPropagation(),c.current){const g=c.current.getBoundingClientRect();l({top:g.bottom+4,left:g.left})}r(g=>!g)},[]),p=async x=>{var g;try{const y=await Oe.updateValue(e.id,t.id,x.id);if(u(e.id,t.id,x.id),(g=y.data)!=null&&g.progressUpdate){const{columnId:N,value:k}=y.data.progressUpdate;u(e.id,N,k)}$.success("Statut mis  jour")}catch{$.error("Erreur lors de la mise  jour")}r(!1)},m=n&&a.jsxs(V.div,{ref:o,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"fixed z-[100] min-w-[180px] py-2 bg-surface-800 border border-surface-700 rounded-xl shadow-2xl",style:{top:i.top,left:i.left},children:[a.jsx("div",{className:"px-3 py-2 text-xs font-medium text-surface-500 uppercase tracking-wider",children:"Slectionner un statut"}),(j=t.labels)==null?void 0:j.map(x=>a.jsxs("button",{onClick:()=>p(x),className:"w-full flex items-center justify-between gap-3 px-3 py-2 hover:bg-surface-700 transition-colors",children:[a.jsx("span",{className:"px-3 py-1 rounded-md text-sm font-medium",style:{backgroundColor:`${x.color}25`,color:x.color},children:x.label||x.name}),d===x.id&&a.jsx(Vr,{className:"w-4 h-4 text-primary-400"})]},x.id)),(!t.labels||t.labels.length===0)&&a.jsx("div",{className:"px-3 py-2 text-sm text-surface-500",children:"Aucun statut dfini"})]});return a.jsxs("div",{className:"relative w-full",onClick:x=>x.stopPropagation(),children:[a.jsxs("button",{type:"button",ref:c,onClick:h,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg transition-all hover:scale-105 active:scale-95 cursor-pointer group w-full",style:{backgroundColor:f?`${f.color}20`:"rgba(71, 85, 105, 0.3)",color:(f==null?void 0:f.color)||"#94a3b8",border:f?`1px solid ${f.color}40`:"1px dashed #475569"},children:[a.jsx("span",{className:"text-sm font-medium truncate flex-1 text-left",children:(f==null?void 0:f.label)||(f==null?void 0:f.name)||"Slectionner"}),a.jsx(Ya,{className:`w-3.5 h-3.5 transition-transform ${n?"rotate-180":""}`})]}),a.jsx(te,{children:n&&Pn.createPortal(m,document.body)})]})}const Bl=new Map;function hB({item:e,column:t,value:s}){var E;const[n,r]=b.useState(!1),[i,l]=b.useState({top:0,left:0}),[c,o]=b.useState(""),[u,d]=b.useState([]),[f,h]=b.useState(!1),p=b.useRef(null),m=b.useRef(null),v=ge(S=>S.updateItemValue),j=ge(S=>S.currentBoard),x=b.useMemo(()=>Array.isArray(s)?s:(s==null?void 0:s.userIds)||[],[s]),g=async(S=!1)=>{const M=j==null?void 0:j.workspaceId;if(!M)return[];if(!S&&Bl.has(M)){const C=Bl.get(M);return d(C),C}if(f)return u;h(!0);try{const q=(await Ot.getByWorkspace(M)).data||[];return Bl.set(M,q),d(q),q}catch(C){return console.error("Load members error:",C),[]}finally{h(!1)}};b.useEffect(()=>{const S=j==null?void 0:j.workspaceId;S&&(Bl.has(S)?d(Bl.get(S)):x.length>0&&!f&&g())},[j==null?void 0:j.workspaceId]);const y=b.useMemo(()=>u.length===0||x.length===0?[]:u.filter(S=>x.includes(S.id)),[x,u]);b.useEffect(()=>{const S=M=>{m.current&&!m.current.contains(M.target)&&p.current&&!p.current.contains(M.target)&&r(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const N=S=>{if(S.preventDefault(),S.stopPropagation(),p.current){const M=p.current.getBoundingClientRect();l({top:M.bottom+4,left:Math.min(M.left,window.innerWidth-300)})}u.length===0&&!f&&(j!=null&&j.workspaceId)&&g(),r(!n),o("")},k=u.filter(S=>{var C,q;if(!c)return!0;const M=c.toLowerCase();return((C=S.fullName)==null?void 0:C.toLowerCase().includes(M))||((q=S.email)==null?void 0:q.toLowerCase().includes(M))}),D=async S=>{const M=x.includes(S.id),C=M?x.filter(q=>q!==S.id):[...x,S.id];try{v(e.id,t.id,C),await Oe.updateValue(e.id,t.id,C),$.success(M?"Membre retir":"Membre assign")}catch{v(e.id,t.id,x),$.error("Erreur lors de la mise  jour")}},w=async(S,M)=>{M.stopPropagation();const C=x.filter(q=>q!==S);try{v(e.id,t.id,C),await Oe.updateValue(e.id,t.id,C),$.success("Membre retir")}catch{v(e.id,t.id,x),$.error("Erreur lors de la mise  jour")}},T=S=>{var M,C;return S.firstName&&S.lastName?`${S.firstName[0]}${S.lastName[0]}`.toUpperCase():((C=(M=S.email)==null?void 0:M[0])==null?void 0:C.toUpperCase())||"?"},O=S=>{const M=["#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#3b82f6","#6366f1","#8b5cf6","#ec4899","#f43f5e"],C=(S.id||S.email||"").charCodeAt(0)%M.length;return M[C]},A=a.jsxs(V.div,{ref:m,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"fixed z-[9999] w-72 bg-surface-800 border border-surface-700 rounded-xl shadow-2xl overflow-hidden",style:{top:i.top,left:i.left},children:[a.jsx("div",{className:"p-2 border-b border-surface-700",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-surface-500"}),a.jsx("input",{type:"text",placeholder:"Rechercher un membre...",value:c,onChange:S=>o(S.target.value),className:"w-full pl-9 pr-3 py-2 bg-surface-700 border-none rounded-lg text-sm text-surface-200 placeholder-surface-500 focus:outline-none focus:ring-1 focus:ring-primary-500",autoFocus:!0})]})}),y.length>0&&a.jsxs("div",{className:"px-3 py-2 border-b border-surface-700 bg-surface-850",children:[a.jsxs("p",{className:"text-xs text-surface-500 mb-2",children:[y.length," assign",y.length>1?"s":""]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:y.map(S=>{var M;return a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-surface-700 rounded-full text-xs",children:[a.jsx("div",{className:"w-4 h-4 rounded-full flex items-center justify-center text-[8px] text-white font-medium",style:{backgroundColor:O(S)},children:T(S)}),a.jsx("span",{className:"text-surface-300 max-w-[80px] truncate",children:S.firstName||((M=S.email)==null?void 0:M.split("@")[0])}),a.jsx("button",{onClick:C=>w(S.id,C),className:"p-0.5 hover:bg-surface-600 rounded-full text-surface-500 hover:text-red-400",children:a.jsx(fe,{className:"w-3 h-3"})})]},S.id)})})]}),a.jsx("div",{className:"max-h-56 overflow-y-auto",children:f?a.jsx("div",{className:"p-4 text-center",children:a.jsx("div",{className:"w-5 h-5 border-2 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto"})}):k.length>0?k.map(S=>{const M=x.includes(S.id);return a.jsxs("button",{onClick:()=>D(S),className:`w-full flex items-center gap-3 px-3 py-2.5 hover:bg-surface-700 transition-colors ${M?"bg-primary-600/10":""}`,children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs text-white font-medium flex-shrink-0",style:{backgroundColor:O(S)},children:T(S)}),a.jsxs("div",{className:"flex-1 text-left min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-surface-200 truncate",children:S.fullName||S.email}),a.jsx("p",{className:"text-xs text-surface-500 truncate",children:S.role==="owner"?"Propritaire":S.role==="admin"?"Admin":"Membre"})]}),M&&a.jsx(Vr,{className:"w-4 h-4 text-primary-400 flex-shrink-0"})]},S.id)}):a.jsxs("div",{className:"p-4 text-center text-sm text-surface-500",children:[a.jsx(Ye,{className:"w-6 h-6 mx-auto mb-2 text-surface-600"}),c?"Aucun membre trouv":"Aucun membre disponible"]})})]},"person-cell-menu");return a.jsxs("div",{className:"relative",style:{pointerEvents:"auto"},children:[a.jsx("button",{type:"button",ref:p,onClick:N,onMouseDown:S=>S.stopPropagation(),className:"w-full flex items-center gap-1 min-h-[32px] cursor-pointer rounded-md hover:bg-surface-700/50 px-1 py-0.5 transition-colors bg-transparent border-none text-left relative z-10",style:{pointerEvents:"auto"},children:y.length>0?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsxs("div",{className:"flex items-center -space-x-2",children:[y.slice(0,3).map((S,M)=>a.jsxs("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-[10px] text-white font-medium ring-2 ring-surface-900 group relative",style:{backgroundColor:O(S),zIndex:3-M},title:S.fullName||S.email,children:[T(S),a.jsx("span",{role:"button",tabIndex:0,onClick:C=>w(S.id,C),onKeyDown:C=>C.key==="Enter"&&w(S.id,C),className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full items-center justify-center text-white opacity-0 group-hover:opacity-100 hidden group-hover:flex transition-opacity cursor-pointer",children:a.jsx(fe,{className:"w-2.5 h-2.5"})})]},S.id)),y.length>3&&a.jsxs("div",{className:"w-7 h-7 rounded-full bg-surface-700 flex items-center justify-center text-[10px] text-surface-400 font-medium ring-2 ring-surface-900",children:["+",y.length-3]})]}),y.length===1&&a.jsx("span",{className:"text-xs text-surface-400 truncate max-w-[80px]",children:y[0].firstName||((E=y[0].email)==null?void 0:E.split("@")[0])})]}):a.jsxs("span",{className:"text-sm text-surface-500 flex items-center gap-1.5",children:[a.jsx(Ar,{className:"w-4 h-4"}),a.jsx("span",{children:"Assigner"})]})}),Pn.createPortal(a.jsx(te,{children:n&&A}),document.body)]})}const mB=["Lu","Ma","Me","Je","Ve","Sa","Di"],pB=[{label:"Aujourd'hui",getValue:()=>new Date},{label:"Demain",getValue:()=>{const e=new Date;return e.setDate(e.getDate()+1),e}},{label:"Dans 1 semaine",getValue:()=>{const e=new Date;return e.setDate(e.getDate()+7),e}},{label:"Dans 2 semaines",getValue:()=>{const e=new Date;return e.setDate(e.getDate()+14),e}},{label:"Fin du mois",getValue:()=>Ox(new Date)}];function xB({item:e,column:t,value:s}){const[n,r]=b.useState(!1),[i,l]=b.useState({top:0,left:0}),[c,o]=b.useState(new Date),[u,d]=b.useState(!1),[f,h]=b.useState("09:00"),p=b.useRef(null),m=b.useRef(null),v=ge(A=>A.updateItemValue),j=typeof s=="object"?s==null?void 0:s.date:s,x=j?new Date(j):null,g=x&&Rx(x)&&!isNaN(x.getTime());b.useEffect(()=>{g&&(o(x),(x.getHours()!==0||x.getMinutes()!==0)&&(d(!0),h(Ks(x,"HH:mm"))))},[g]),b.useEffect(()=>{const A=E=>{m.current&&!m.current.contains(E.target)&&p.current&&!p.current.contains(E.target)&&r(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const y=A=>{if(A==null||A.preventDefault(),A==null||A.stopPropagation(),console.log("DateCell handleOpen called",{isOpen:n,item:e==null?void 0:e.id}),p.current){const E=p.current.getBoundingClientRect();l({top:Math.min(E.bottom+4,window.innerHeight-420),left:Math.min(E.left,window.innerWidth-320)})}r(!n)},N=b.useMemo(()=>{const A=x9(c),E=Ox(c),S=p9({start:A,end:E}),M=A.getDay(),C=M===0?6:M-1,q=[];for(let G=C-1;G>=0;G--){const B=new Date(A);B.setDate(B.getDate()-G-1),q.push({date:B,isCurrentMonth:!1})}const U=E.getDay(),_=U===0?0:7-U,F=[];for(let G=1;G<=_;G++){const B=new Date(E);B.setDate(B.getDate()+G),F.push({date:B,isCurrentMonth:!1})}return[...q,...S.map(G=>({date:G,isCurrentMonth:!0})),...F]},[c]),k=async A=>{let E=A;if(u&&f){const[M,C]=f.split(":").map(Number);E=new Date(A),E.setHours(M,C,0,0)}const S=E.toISOString();try{await Oe.updateValue(e.id,t.id,S),v(e.id,t.id,S),$.success("Date mise  jour"),r(!1)}catch{$.error("Erreur lors de la mise  jour")}},D=async A=>{A.stopPropagation();try{await Oe.updateValue(e.id,t.id,null),v(e.id,t.id,null),$.success("Date efface")}catch{$.error("Erreur lors de la mise  jour")}},T=(()=>{if(!g)return null;const A=new Date;if(A.setHours(0,0,0,0),Yv(x))return{label:"Aujourd'hui",color:"#3b82f6"};if(Iv(x))return{label:`${Vv(A,x)}j en retard`,color:"#ef4444",isLate:!0};const E=Vv(x,A);return E===1?{label:"Demain",color:"#f97316"}:E<=7?{label:`Dans ${E}j`,color:"#eab308"}:null})(),O=a.jsxs(V.div,{ref:m,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"fixed z-[9999] w-80 bg-surface-800 border border-surface-700 rounded-xl shadow-2xl overflow-hidden",style:{top:i.top,left:i.left},children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-surface-700",children:[a.jsx("button",{onClick:()=>o(pL(c)),className:"p-1.5 hover:bg-surface-700 rounded-lg text-surface-400 hover:text-surface-200",children:a.jsx(Ex,{className:"w-4 h-4"})}),a.jsx("span",{className:"text-sm font-medium text-surface-200",children:Ks(c,"MMMM yyyy",{locale:Ha})}),a.jsx("button",{onClick:()=>o(C5(c,1)),className:"p-1.5 hover:bg-surface-700 rounded-lg text-surface-400 hover:text-surface-200",children:a.jsx(fa,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"p-2",children:[a.jsx("div",{className:"grid grid-cols-7 mb-1",children:mB.map(A=>a.jsx("div",{className:"text-center text-xs font-medium text-surface-500 py-1",children:A},A))}),a.jsx("div",{className:"grid grid-cols-7 gap-0.5",children:N.map(({date:A,isCurrentMonth:E},S)=>{const M=g&&M5(A,x),C=Yv(A),q=Iv(A)&&!C;return a.jsx("button",{onClick:()=>k(A),className:`
                  w-full aspect-square flex items-center justify-center text-sm rounded-lg transition-all
                  ${E?"text-surface-200":"text-surface-600"}
                  ${M?"bg-primary-500 text-white font-medium":"hover:bg-surface-700"}
                  ${C&&!M?"ring-1 ring-primary-500 text-primary-400":""}
                  ${q&&!M?"text-surface-500":""}
                `,children:Ks(A,"d")},S)})})]}),a.jsxs("div",{className:"px-3 py-2 border-t border-surface-700",children:[a.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[a.jsxs("span",{className:"flex items-center gap-2 text-sm text-surface-300",children:[a.jsx(wt,{className:"w-4 h-4"}),"Inclure l'heure"]}),a.jsx("input",{type:"checkbox",checked:u,onChange:A=>d(A.target.checked),className:"w-4 h-4 rounded border-surface-600 bg-surface-700 text-primary-500"})]}),u&&a.jsx("input",{type:"time",value:f,onChange:A=>h(A.target.value),className:"mt-2 w-full px-3 py-1.5 bg-surface-700 border-none rounded-lg text-sm text-surface-200 focus:outline-none focus:ring-1 focus:ring-primary-500"})]}),a.jsxs("div",{className:"px-3 py-2 border-t border-surface-700",children:[a.jsx("p",{className:"text-xs text-surface-500 mb-2",children:"Raccourcis"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:pB.map((A,E)=>a.jsx("button",{onClick:()=>k(A.getValue()),className:"px-2 py-1 text-xs bg-surface-700 hover:bg-surface-600 text-surface-300 rounded-lg transition-colors",children:A.label},E))})]}),g&&a.jsx("div",{className:"p-2 border-t border-surface-700",children:a.jsxs("button",{onClick:D,className:"w-full flex items-center justify-center gap-2 py-2 text-sm text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:[a.jsx(fe,{className:"w-4 h-4"}),"Effacer la date"]})})]},"date-cell-menu");return a.jsxs("div",{className:"relative",style:{pointerEvents:"auto"},children:[a.jsx("button",{type:"button",ref:p,onClick:y,onMouseDown:A=>A.stopPropagation(),className:"w-full flex items-center gap-2 text-sm group rounded-md hover:bg-surface-700/50 px-1.5 py-1 transition-colors cursor-pointer bg-transparent border-none text-left relative z-10",style:{pointerEvents:"auto"},children:g?a.jsxs(a.Fragment,{children:[a.jsx(pt,{className:`w-4 h-4 flex-shrink-0 ${T!=null&&T.isLate?"text-red-400":"text-primary-400"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("span",{className:`${T!=null&&T.isLate?"text-red-300":"text-surface-200"}`,children:Ks(x,"d MMM yyyy",{locale:Ha})}),u&&a.jsx("span",{className:"text-surface-500 ml-1",children:Ks(x,"HH:mm")})]}),T&&a.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 rounded-full flex-shrink-0",style:{backgroundColor:`${T.color}20`,color:T.color},children:T.label}),a.jsx("span",{role:"button",tabIndex:0,onClick:D,onKeyDown:A=>A.key==="Enter"&&D(A),className:"opacity-0 group-hover:opacity-100 p-0.5 rounded hover:bg-surface-600 flex-shrink-0 cursor-pointer",children:a.jsx(fe,{className:"w-3.5 h-3.5 text-surface-500"})})]}):a.jsxs(a.Fragment,{children:[a.jsx(PO,{className:"w-4 h-4 text-surface-500"}),a.jsx("span",{className:"text-surface-500",children:"Dfinir une date"})]})}),Pn.createPortal(a.jsx(te,{children:n&&O}),document.body)]})}function Q5({item:e,column:t,value:s}){var f,h;const[n,r]=b.useState(!1),[i,l]=b.useState((s==null?void 0:s.text)||""),c=b.useRef(null),o=ge(p=>p.updateItemValue);b.useEffect(()=>{l((s==null?void 0:s.text)||"")},[s]),b.useEffect(()=>{n&&c.current&&(c.current.focus(),c.current.select())},[n]);const u=async()=>{if(i!==((s==null?void 0:s.text)||""))try{await Oe.updateValue(e.id,t.id,{text:i}),o(e.id,t.id,{text:i})}catch{$.error("Erreur lors de la mise  jour"),l((s==null?void 0:s.text)||"")}r(!1)},d=p=>{p.key==="Enter"?u():p.key==="Escape"&&(l((s==null?void 0:s.text)||""),r(!1))};return n?a.jsx("input",{ref:c,type:"text",value:i,onChange:p=>l(p.target.value),onBlur:u,onKeyDown:d,className:"w-full bg-transparent border-none text-sm text-surface-200 focus:outline-none",placeholder:((f=t.settings)==null?void 0:f.placeholder)||"Entrez du texte..."}):a.jsx("button",{onClick:()=>r(!0),className:"w-full text-left text-sm truncate",children:(s==null?void 0:s.text)||a.jsx("span",{className:"text-surface-500",children:((h=t.settings)==null?void 0:h.placeholder)||"Texte..."})})}function gB({item:e,column:t,value:s}){var m,v,j;const[n,r]=b.useState(!1),[i,l]=b.useState(((m=s==null?void 0:s.number)==null?void 0:m.toString())||""),c=b.useRef(null),o=ge(x=>x.updateItemValue),u=((v=t.settings)==null?void 0:v.prefix)||"",d=((j=t.settings)==null?void 0:j.suffix)||"";b.useEffect(()=>{var x;l(((x=s==null?void 0:s.number)==null?void 0:x.toString())||"")},[s]),b.useEffect(()=>{n&&c.current&&(c.current.focus(),c.current.select())},[n]);const f=async()=>{var g;const x=parseFloat(i);if(!isNaN(x)&&x!==(s==null?void 0:s.number))try{await Oe.updateValue(e.id,t.id,{number:x}),o(e.id,t.id,{number:x})}catch{$.error("Erreur lors de la mise  jour"),l(((g=s==null?void 0:s.number)==null?void 0:g.toString())||"")}else if(i===""&&(s==null?void 0:s.number)!==void 0)try{await Oe.updateValue(e.id,t.id,{number:null}),o(e.id,t.id,{number:null})}catch{$.error("Erreur lors de la mise  jour")}r(!1)},h=x=>{var g;x.key==="Enter"?f():x.key==="Escape"&&(l(((g=s==null?void 0:s.number)==null?void 0:g.toString())||""),r(!1))},p=x=>x==null?"":`${u}${x.toLocaleString("fr-FR")}${d}`;return n?a.jsx("input",{ref:c,type:"number",value:i,onChange:x=>l(x.target.value),onBlur:f,onKeyDown:h,className:"w-full bg-transparent border-none text-sm text-surface-200 focus:outline-none",placeholder:"0"}):a.jsx("button",{onClick:()=>r(!0),className:"w-full text-left text-sm",children:(s==null?void 0:s.number)!==void 0&&(s==null?void 0:s.number)!==null?a.jsx("span",{className:"text-surface-200",children:p(s.number)}):a.jsx("span",{className:"text-surface-500",children:"-"})})}function yB({item:e,column:t,value:s}){const n=ge(l=>l.updateItemValue),r=(s==null?void 0:s.checked)||!1,i=async()=>{try{await Oe.updateValue(e.id,t.id,{checked:!r}),n(e.id,t.id,{checked:!r})}catch{$.error("Erreur lors de la mise  jour")}};return a.jsx("button",{onClick:i,className:`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all ${r?"bg-primary-500 border-primary-500":"border-surface-600 hover:border-surface-500"}`,children:r&&a.jsx(Vr,{className:"w-3.5 h-3.5 text-white"})})}const Jv=[{level:0,label:"Basse",color:"#22c55e"},{level:1,label:"Moyenne",color:"#eab308"},{level:2,label:"Haute",color:"#f97316"},{level:3,label:"Critique",color:"#ef4444"}];function bB({item:e,column:t,value:s}){var j,x;const[n,r]=b.useState(!1),[i,l]=b.useState({top:0,left:0}),c=b.useRef(null),o=b.useRef(null),u=ge(g=>g.updateItemValue),d=((x=(j=t.settings)==null?void 0:j.levels)==null?void 0:x.map((g,y)=>{var N;return{level:y,label:g,color:((N=Jv[y])==null?void 0:N.color)||"#6b7280"}}))||Jv,f=typeof s=="object"?s==null?void 0:s.level:s,h=d.find(g=>g.level===f);b.useEffect(()=>{if(!n)return;const g=N=>{o.current&&!o.current.contains(N.target)&&c.current&&!c.current.contains(N.target)&&r(!1)},y=setTimeout(()=>{document.addEventListener("mousedown",g)},10);return()=>{clearTimeout(y),document.removeEventListener("mousedown",g)}},[n]);const p=b.useCallback(g=>{if(g==null||g.preventDefault(),g==null||g.stopPropagation(),c.current){const y=c.current.getBoundingClientRect();l({top:y.bottom+4,left:y.left})}r(y=>!y)},[]),m=async g=>{try{await Oe.updateValue(e.id,t.id,g.level),u(e.id,t.id,g.level),$.success("Priorit mise  jour")}catch{$.error("Erreur lors de la mise  jour")}r(!1)},v=n&&a.jsxs(V.div,{ref:o,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"fixed z-[100] min-w-[160px] py-2 bg-surface-800 border border-surface-700 rounded-xl shadow-2xl",style:{top:i.top,left:i.left},children:[a.jsx("div",{className:"px-3 py-2 text-xs font-medium text-surface-500 uppercase tracking-wider",children:"Niveau de priorit"}),d.map(g=>a.jsxs("button",{onClick:()=>m(g),className:"w-full flex items-center justify-between gap-3 px-3 py-2 hover:bg-surface-700 transition-colors",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:g.color}}),a.jsx("span",{className:"text-sm text-surface-200",children:g.label})]}),f===g.level&&a.jsx(Vr,{className:"w-4 h-4 text-primary-400"})]},g.level))]});return a.jsxs("div",{className:"relative w-full",onClick:g=>g.stopPropagation(),children:[a.jsxs("button",{type:"button",ref:c,onClick:p,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all hover:scale-105 active:scale-95 cursor-pointer w-full",style:{backgroundColor:h?`${h.color}20`:"rgba(71, 85, 105, 0.3)",border:h?`1px solid ${h.color}40`:"1px dashed #475569"},children:[h?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0",style:{backgroundColor:h.color}}),a.jsx("span",{className:"text-sm font-medium flex-1 text-left",style:{color:h.color},children:h.label})]}):a.jsxs(a.Fragment,{children:[a.jsx(ws,{className:"w-4 h-4 text-surface-500 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-surface-500 flex-1 text-left",children:"Priorit"})]}),a.jsx(Ya,{className:`w-3.5 h-3.5 text-surface-500 transition-transform ${n?"rotate-180":""}`})]}),a.jsx(te,{children:n&&Pn.createPortal(v,document.body)})]})}const vB=[0,25,50,75,100];function jB({item:e,column:t,value:s}){const[n,r]=b.useState(!1),[i,l]=b.useState({top:0,left:0}),[c,o]=b.useState(0),[u,d]=b.useState(!1),f=b.useRef(null),h=b.useRef(null),p=b.useRef(null),m=ge(E=>E.updateItemValue),v=b.useMemo(()=>typeof s=="object"?(s==null?void 0:s.progress)??0:parseInt(s)||0,[s]);b.useEffect(()=>{o(v)},[v]),b.useEffect(()=>{const E=S=>{h.current&&!h.current.contains(S.target)&&f.current&&!f.current.contains(S.target)&&r(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const j=E=>{if(E==null||E.preventDefault(),E==null||E.stopPropagation(),console.log("ProgressCell handleOpen called",{isOpen:n,item:e==null?void 0:e.id}),f.current){const S=f.current.getBoundingClientRect();l({top:S.bottom+4,left:Math.min(S.left,window.innerWidth-260)})}r(!n)},x=async E=>{const S=Math.max(0,Math.min(100,E));try{await Oe.updateValue(e.id,t.id,{progress:S}),m(e.id,t.id,{progress:S})}catch{$.error("Erreur lors de la mise  jour"),o(v)}},g=E=>{const S=parseInt(E.target.value);o(S)},y=()=>{c!==v&&x(c),d(!1)},N=()=>{const E=Math.min(100,c+5);o(E),x(E)},k=()=>{const E=Math.max(0,c-5);o(E),x(E)},D=E=>{o(E),x(E)},w=(E=c)=>E>=100?{bg:"#22c55e",text:"#22c55e",bgLight:"rgba(34, 197, 94, 0.2)"}:E>=75?{bg:"#84cc16",text:"#84cc16",bgLight:"rgba(132, 204, 22, 0.2)"}:E>=50?{bg:"#eab308",text:"#eab308",bgLight:"rgba(234, 179, 8, 0.2)"}:E>=25?{bg:"#f97316",text:"#f97316",bgLight:"rgba(249, 115, 22, 0.2)"}:{bg:"#ef4444",text:"#ef4444",bgLight:"rgba(239, 68, 68, 0.2)"},T=(E=c)=>E>=100?"Termin":E>=75?"Presque fini":E>=50?"En cours":E>=25?"Dmarr":E>0?"Dbut":"Non dmarr",O=w(),A=a.jsxs(V.div,{ref:h,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"fixed z-[9999] w-60 bg-surface-800 border border-surface-700 rounded-xl shadow-2xl overflow-hidden",style:{top:i.top,left:i.left},children:[a.jsxs("div",{className:"p-3 border-b border-surface-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-surface-200",children:"Progression"}),a.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full",style:{backgroundColor:O.bgLight,color:O.text},children:T()})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[a.jsx("button",{onClick:k,className:"p-1.5 rounded-lg hover:bg-surface-700 text-surface-400 hover:text-surface-200 transition-colors",children:a.jsx(Dx,{className:"w-4 h-4"})}),a.jsxs("div",{className:"relative w-16 h-16",children:[a.jsxs("svg",{className:"w-16 h-16 transform -rotate-90",children:[a.jsx("circle",{cx:"32",cy:"32",r:"28",strokeWidth:"6",fill:"none",className:"stroke-surface-700"}),a.jsx("circle",{cx:"32",cy:"32",r:"28",strokeWidth:"6",fill:"none",strokeDasharray:`${2*Math.PI*28}`,strokeDashoffset:`${2*Math.PI*28*(1-c/100)}`,strokeLinecap:"round",style:{stroke:O.bg},className:"transition-all duration-300"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("span",{className:"text-lg font-bold text-surface-100",children:[c,"%"]})})]}),a.jsx("button",{onClick:N,className:"p-1.5 rounded-lg hover:bg-surface-700 text-surface-400 hover:text-surface-200 transition-colors",children:a.jsx(re,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"px-3 py-2",children:a.jsx("input",{ref:p,type:"range",min:"0",max:"100",value:c,onChange:g,onMouseDown:()=>d(!0),onMouseUp:y,onTouchEnd:y,className:"w-full h-2 rounded-full appearance-none cursor-pointer",style:{background:`linear-gradient(to right, ${O.bg} 0%, ${O.bg} ${c}%, #374151 ${c}%, #374151 100%)`}})}),a.jsxs("div",{className:"p-2 border-t border-surface-700",children:[a.jsx("p",{className:"text-xs text-surface-500 mb-2 px-1",children:"Valeurs rapides"}),a.jsx("div",{className:"flex gap-1",children:vB.map(E=>{const S=w(E),M=c===E;return a.jsxs("button",{onClick:()=>D(E),className:`flex-1 py-1.5 text-xs font-medium rounded-lg transition-all ${M?"ring-2 ring-offset-2 ring-offset-surface-800":"hover:opacity-80"}`,style:{backgroundColor:S.bgLight,color:S.text,ringColor:M?S.bg:"transparent"},children:[E,"%"]},E)})})]}),a.jsxs("div",{className:"p-2 border-t border-surface-700 flex gap-2",children:[a.jsxs("button",{onClick:()=>D(0),className:"flex-1 flex items-center justify-center gap-1.5 py-2 text-xs text-surface-400 hover:text-surface-200 hover:bg-surface-700 rounded-lg transition-colors",children:[a.jsx(s_,{className:"w-3.5 h-3.5"}),"Rinitialiser"]}),a.jsxs("button",{onClick:()=>D(100),className:"flex-1 flex items-center justify-center gap-1.5 py-2 text-xs text-green-400 hover:text-green-300 hover:bg-green-500/10 rounded-lg transition-colors",children:[a.jsx(Er,{className:"w-3.5 h-3.5"}),"Terminer"]})]})]},"progress-cell-menu");return a.jsxs("div",{className:"relative",style:{pointerEvents:"auto"},children:[a.jsxs("button",{type:"button",ref:f,onClick:j,onMouseDown:E=>E.stopPropagation(),className:"w-full flex items-center gap-2 group bg-transparent border-none cursor-pointer relative z-10",style:{pointerEvents:"auto"},children:[a.jsxs("div",{className:"flex-1 h-2.5 bg-surface-700 rounded-full overflow-hidden relative",children:[a.jsx(V.div,{className:"h-full rounded-full",style:{backgroundColor:O.bg},initial:!1,animate:{width:`${v}%`},transition:{duration:.3,ease:"easeOut"}}),v>0&&v<100&&a.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-full",style:{width:`${v}%`},children:a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-shimmer",style:{animationDuration:"2s"}})})]}),a.jsxs("span",{className:"text-xs font-medium w-10 text-right transition-colors",style:{color:O.text},children:[v,"%"]}),v>=100&&a.jsx(Er,{className:"w-4 h-4 text-green-500 opacity-0 group-hover:opacity-100 transition-opacity"})]}),Pn.createPortal(a.jsx(te,{children:n&&A}),document.body)]})}const NB={pdf:{icon:zs,color:"#ef4444"},doc:{icon:zs,color:"#3b82f6"},docx:{icon:zs,color:"#3b82f6"},txt:{icon:zs,color:"#6b7280"},rtf:{icon:zs,color:"#6b7280"},xls:{icon:gc,color:"#22c55e"},xlsx:{icon:gc,color:"#22c55e"},csv:{icon:gc,color:"#22c55e"},ppt:{icon:vp,color:"#f97316"},pptx:{icon:vp,color:"#f97316"},jpg:{icon:Xr,color:"#8b5cf6"},jpeg:{icon:Xr,color:"#8b5cf6"},png:{icon:Xr,color:"#8b5cf6"},gif:{icon:Xr,color:"#8b5cf6"},svg:{icon:Xr,color:"#8b5cf6"},webp:{icon:Xr,color:"#8b5cf6"},mp4:{icon:Qo,color:"#ec4899"},avi:{icon:Qo,color:"#ec4899"},mov:{icon:Qo,color:"#ec4899"},mkv:{icon:Qo,color:"#ec4899"},mp3:{icon:Ch,color:"#14b8a6"},wav:{icon:Ch,color:"#14b8a6"},flac:{icon:Ch,color:"#14b8a6"},zip:{icon:Ko,color:"#eab308"},rar:{icon:Ko,color:"#eab308"},"7z":{icon:Ko,color:"#eab308"},tar:{icon:Ko,color:"#eab308"}},ej=e=>{var s;const t=((s=e==null?void 0:e.split(".").pop())==null?void 0:s.toLowerCase())||"";return NB[t]||{icon:vp,color:"#6b7280"}},wB=e=>{if(!e)return"0 B";const t=1024,s=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(1))+" "+s[n]},SB=e=>{var s,n;if(!(e!=null&&e.url))return null;const t=(n=(s=e.name)==null?void 0:s.split(".").pop())==null?void 0:n.toLowerCase();return["doc","docx"].includes(t)?`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(e.url)}`:["xls","xlsx"].includes(t)?`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(e.url)}`:["ppt","pptx"].includes(t)?`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(e.url)}`:null};function tj({item:e,column:t,value:s}){const[n,r]=b.useState(!1),[i,l]=b.useState({top:0,left:0}),[c,o]=b.useState(!1),[u,d]=b.useState(null),f=b.useRef(null),h=b.useRef(null),p=b.useRef(null),m=ge(O=>O.updateItemValue),v=Array.isArray(s)?s:(s==null?void 0:s.files)||[];b.useEffect(()=>{const O=A=>{h.current&&!h.current.contains(A.target)&&f.current&&!f.current.contains(A.target)&&r(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]);const j=O=>{if(O==null||O.preventDefault(),O==null||O.stopPropagation(),console.log("FilesCell handleOpen called",{isOpen:n,item:e==null?void 0:e.id}),f.current){const A=f.current.getBoundingClientRect();l({top:A.bottom+4,left:Math.min(A.left,window.innerWidth-350)})}r(!n)},x=async O=>{var S;const A=Array.from(O.target.files);if(!A.length)return;o(!0);const E=[...v];for(const M of A)try{const C=await bb.upload(M,e.id,t.id);(S=C.data)!=null&&S.file&&E.push(C.data.file)}catch(C){console.error("Upload error:",C),$.error(`Erreur lors de l'upload de ${M.name}`)}try{await Oe.updateValue(e.id,t.id,E),m(e.id,t.id,E),$.success(`${A.length} fichier(s) ajout(s)`)}catch{$.error("Erreur lors de la sauvegarde")}o(!1),p.current&&(p.current.value="")},g=async O=>{const A=v.find(S=>S.id===O),E=v.filter(S=>S.id!==O);try{if(A!=null&&A.storedName)try{await bb.delete(A.storedName)}catch(S){console.warn("Could not delete file from server:",S)}await Oe.updateValue(e.id,t.id,E),m(e.id,t.id,E),$.success("Fichier supprim")}catch{$.error("Erreur lors de la suppression")}},y=O=>{const A=document.createElement("a");A.href=O.url,A.download=O.name,document.body.appendChild(A),A.click(),document.body.removeChild(A)},N=O=>{const A=SB(O);A?window.open(A,"_blank"):$.error("Ce type de fichier ne peut pas tre ouvert dans Office Online")},k=O=>{var E,S;const A=(S=(E=O.name)==null?void 0:E.split(".").pop())==null?void 0:S.toLowerCase();return["doc","docx","xls","xlsx","ppt","pptx"].includes(A)},D=O=>{var E,S;const A=(S=(E=O.name)==null?void 0:E.split(".").pop())==null?void 0:S.toLowerCase();return["jpg","jpeg","png","gif","svg","webp"].includes(A)},w=a.jsxs(V.div,{ref:h,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"fixed z-[9999] w-80 bg-surface-800 border border-surface-700 rounded-xl shadow-2xl overflow-hidden",style:{top:i.top,left:i.left},children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-surface-700",children:[a.jsxs("span",{className:"text-sm font-medium text-surface-200",children:["Fichiers (",v.length,")"]}),a.jsx("input",{ref:p,type:"file",multiple:!0,onChange:x,className:"hidden"}),a.jsxs("button",{onClick:()=>{var O;return(O=p.current)==null?void 0:O.click()},disabled:c,className:"flex items-center gap-1.5 px-2 py-1 text-xs font-medium text-primary-400 hover:bg-primary-500/10 rounded-lg transition-colors disabled:opacity-50",children:[c?a.jsx(hf,{className:"w-3.5 h-3.5 animate-spin"}):a.jsx(Bv,{className:"w-3.5 h-3.5"}),"Ajouter"]})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:v.length>0?a.jsx("div",{className:"divide-y divide-surface-700/50",children:v.map(O=>{const{icon:A,color:E}=ej(O.name);return a.jsx("div",{className:"p-2 hover:bg-surface-700/30 transition-colors group",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${E}20`},children:a.jsx(A,{className:"w-4 h-4",style:{color:E}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-surface-200 truncate",title:O.name,children:O.name}),a.jsx("p",{className:"text-xs text-surface-500",children:wB(O.size)})]}),a.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[D(O)&&a.jsx("button",{onClick:()=>d(O),className:"p-1 hover:bg-surface-600 rounded text-surface-400 hover:text-surface-200",title:"Aperu",children:a.jsx(Ur,{className:"w-3.5 h-3.5"})}),k(O)&&a.jsx("button",{onClick:()=>N(O),className:"p-1 hover:bg-surface-600 rounded text-primary-400 hover:text-primary-300",title:"Ouvrir dans Office Online",children:a.jsx(y_,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:()=>y(O),className:"p-1 hover:bg-surface-600 rounded text-surface-400 hover:text-surface-200",title:"Tlcharger",children:a.jsx(p5,{className:"w-3.5 h-3.5"})}),a.jsx("button",{onClick:()=>g(O.id),className:"p-1 hover:bg-red-500/20 rounded text-surface-400 hover:text-red-400",title:"Supprimer",children:a.jsx(ct,{className:"w-3.5 h-3.5"})})]})]})},O.id)})}):a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(Bv,{className:"w-8 h-8 text-surface-600 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-surface-500",children:"Aucun fichier"}),a.jsx("p",{className:"text-xs text-surface-600 mt-1",children:"Glissez-dposez ou cliquez pour ajouter"})]})}),a.jsx("div",{className:"p-2 border-t border-surface-700 bg-surface-850",onDragOver:O=>O.preventDefault(),onDrop:O=>{O.preventDefault();const A=O.dataTransfer;A.files.length&&(p.current.files=A.files,x({target:{files:A.files}}))},children:a.jsx("div",{className:"border-2 border-dashed border-surface-600 rounded-lg p-3 text-center hover:border-primary-500 transition-colors",children:a.jsx("p",{className:"text-xs text-surface-500",children:"Glissez vos fichiers ici"})})})]},"files-cell-menu"),T=u&&a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",onClick:()=>d(null),children:a.jsxs(V.div,{initial:{scale:.9},animate:{scale:1},className:"relative max-w-4xl max-h-[90vh]",onClick:O=>O.stopPropagation(),children:[a.jsx("button",{onClick:()=>d(null),className:"absolute -top-3 -right-3 w-8 h-8 bg-surface-800 rounded-full flex items-center justify-center text-surface-400 hover:text-white",children:a.jsx(fe,{className:"w-5 h-5"})}),a.jsx("img",{src:u.url,alt:u.name,className:"max-w-full max-h-[85vh] rounded-lg"}),a.jsx("p",{className:"text-center text-surface-400 mt-2 text-sm",children:u.name})]})});return a.jsxs("div",{className:"relative",style:{pointerEvents:"auto"},children:[a.jsx("button",{type:"button",ref:f,onClick:j,onMouseDown:O=>O.stopPropagation(),className:"w-full flex items-center gap-1.5 min-h-[28px] cursor-pointer rounded-md hover:bg-surface-700/50 px-1 py-0.5 transition-colors bg-transparent border-none text-left relative z-10",style:{pointerEvents:"auto"},children:v.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex items-center -space-x-1",children:v.slice(0,3).map((O,A)=>{const{icon:E,color:S}=ej(O.name);return a.jsx("div",{className:"w-6 h-6 rounded flex items-center justify-center ring-2 ring-surface-900",style:{backgroundColor:`${S}20`,zIndex:3-A},children:a.jsx(E,{className:"w-3 h-3",style:{color:S}})},O.id)})}),a.jsxs("span",{className:"text-xs text-surface-400",children:[v.length," fichier",v.length>1?"s":""]})]}):a.jsxs("span",{className:"text-sm text-surface-500 flex items-center gap-1",children:[a.jsx(re,{className:"w-3 h-3"}),"Fichiers"]})}),Pn.createPortal(a.jsx(te,{children:n&&w}),document.body),Pn.createPortal(a.jsx(te,{children:u&&T}),document.body)]})}const CB={status:fB,person:hB,date:xB,text:Q5,number:gB,checkbox:yB,priority:bB,progress:jB,files:tj,file:tj};function kB({item:e,column:t,value:s}){const n=CB[t.type]||Q5;return a.jsx(n,{item:e,column:t,value:s})}const sj={text:Gc,number:g5,date:pt,person:Ts,status:at,priority:ws,progress:Fn,checkbox:at};function Vx({isOpen:e,onClose:t,item:s,workspaceId:n}){const{columns:r,groups:i,updateItem:l,updateItemValue:c,deleteItem:o,currentBoard:u,addGroup:d}=ge(),[f,h]=b.useState(!1),[p,m]=b.useState([]),[v,j]=b.useState(!1),[x,g]=b.useState(""),[y,N]=b.useState("#6366f1"),[k,D]=b.useState({name:"",groupId:"",values:{}});b.useEffect(()=>{s&&D({name:s.name||"",groupId:s.groupId||"",values:{...s.values}})},[s]),b.useEffect(()=>{(async()=>{const C=n||(u==null?void 0:u.workspaceId);if(C&&e)try{const{data:q}=await Ot.getByWorkspace(C);m(q)}catch(q){console.error("Error loading members:",q)}})()},[n,u==null?void 0:u.workspaceId,e]);const w=M=>{const C=p.find(q=>q.id===M);return C?`${C.firstName} ${C.lastName}`:M},T=(M,C)=>{D(q=>({...q,values:{...q.values,[M]:C}}))},O=async M=>{var C;if(M&&M.preventDefault(),!(!k.name.trim()||!s||f)){h(!0);try{await Oe.update(s.id,{name:k.name.trim(),groupId:k.groupId||null});const q=[];for(const[U,_]of Object.entries(k.values))((C=s.values)==null?void 0:C[U])!==_&&q.push(Oe.updateValue(s.id,U,_));q.length>0&&await Promise.all(q),l(s.id,{name:k.name.trim(),groupId:k.groupId||null,values:k.values}),$.success("Item modifi avec succs"),t()}catch{$.error("Erreur lors de la modification")}finally{h(!1)}}},A=async()=>{if(confirm("tes-vous sr de vouloir supprimer cet item ?"))try{await Oe.delete(s.id),o(s.id),$.success("Item supprim"),t()}catch{$.error("Erreur lors de la suppression")}},E=async()=>{if(!(!x.trim()||!u))try{const{data:M}=await LM.create({boardId:u.id,name:x.trim(),color:y});d(M),D({...k,groupId:M.id}),j(!1),g(""),$.success("Groupe cr")}catch{$.error("Erreur lors de la cration du groupe")}},S=M=>{var q;const C=k.values[M.id];switch(sj[M.type],M.type){case"text":return a.jsx("input",{type:"text",value:C||"",onChange:I=>T(M.id,I.target.value),placeholder:`Entrer ${M.title}...`,className:"input"});case"number":return a.jsx("input",{type:"number",value:C||"",onChange:I=>T(M.id,I.target.value),placeholder:"0",className:"input"});case"date":let U="";if(C){const I=new Date(C);isNaN(I.getTime())||(U=I.toISOString().split("T")[0])}return a.jsx("input",{type:"date",value:U,onChange:I=>T(M.id,I.target.value),className:"input"});case"status":return a.jsx("div",{className:"flex flex-wrap gap-2",children:(q=M.labels)==null?void 0:q.map(I=>a.jsx("button",{type:"button",onClick:()=>T(M.id,I.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${C===I.id?"ring-2 ring-white/50 scale-105":"opacity-70 hover:opacity-100"}`,style:{backgroundColor:I.color,color:"white"},children:I.label||I.name},I.id))});case"priority":const _=[{id:"low",name:"Basse",color:"#6b7280"},{id:"medium",name:"Moyenne",color:"#f59e0b"},{id:"high",name:"Haute",color:"#ef4444"},{id:"critical",name:"Critique",color:"#7c3aed"}];return a.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(I=>a.jsx("button",{type:"button",onClick:()=>T(M.id,I.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${C===I.id?"ring-2 ring-white/50 scale-105":"opacity-70 hover:opacity-100"}`,style:{backgroundColor:I.color,color:"white"},children:I.name},I.id))});case"progress":const F=typeof C=="object"?(C==null?void 0:C.progress)??0:C??0;return a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"range",min:"0",max:"100",value:F,onChange:I=>T(M.id,{progress:parseInt(I.target.value)}),className:"w-full h-2 bg-surface-700 rounded-lg appearance-none cursor-pointer accent-primary-500"}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-surface-500",children:"0%"}),a.jsxs("span",{className:"text-primary-400 font-medium",children:[F,"%"]}),a.jsx("span",{className:"text-surface-500",children:"100%"})]})]});case"checkbox":return a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:C||!1,onChange:I=>T(M.id,I.target.checked),className:"w-5 h-5 rounded border-surface-600 bg-surface-800 text-primary-500 focus:ring-primary-500"}),a.jsx("span",{className:"text-surface-300",children:C?"Oui":"Non"})]});case"person":const G=Array.isArray(C)?C:C?[C]:[];return a.jsxs("div",{className:"space-y-2",children:[G.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:G.map(I=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-500/20 text-primary-400 rounded-lg text-sm",children:[a.jsx(Ts,{className:"w-3 h-3"}),w(I),a.jsx("button",{type:"button",onClick:()=>{const Q=G.filter(P=>P!==I);T(M.id,Q.length>0?Q:null)},className:"ml-1 hover:text-red-400",children:a.jsx(fe,{className:"w-3 h-3"})})]},I))}),a.jsxs("select",{value:"",onChange:I=>{if(I.target.value){const Q=[...G,I.target.value];T(M.id,Q)}},className:"input text-sm",children:[a.jsx("option",{value:"",children:"+ Ajouter un responsable..."}),p.filter(I=>!G.includes(I.id)).map(I=>a.jsxs("option",{value:I.id,children:[I.firstName," ",I.lastName]},I.id))]})]});case"files":const B=Array.isArray(C)?C:[];return a.jsx("div",{className:"text-sm text-surface-400 italic",children:B.length>0?`${B.length} fichier(s) attach(s)`:"Utilisez le tableau pour grer les fichiers"});default:return a.jsx("input",{type:"text",value:C||"",onChange:I=>T(M.id,I.target.value),placeholder:`Entrer ${M.title}...`,className:"input"})}};return!e||!s?null:a.jsx(te,{children:a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:a.jsxs(V.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",onClick:M=>M.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-600/20 flex items-center justify-center",children:a.jsx(yc,{className:"w-5 h-5 text-primary-400"})}),a.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Modifier l'item"})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:O,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom de l'item *"}),a.jsx("input",{type:"text",value:k.name,onChange:M=>D({...k,name:M.target.value}),placeholder:"Nom de l'item...",className:"input text-lg font-medium",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Groupe"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:k.groupId,onChange:M=>D({...k,groupId:M.target.value}),className:"input flex-1",children:[a.jsx("option",{value:"",children:"Aucun groupe"}),i.map(M=>a.jsx("option",{value:M.id,children:M.name},M.id))]}),a.jsx("button",{type:"button",onClick:()=>j(!v),className:"btn btn-secondary px-3",title:"Crer un groupe",children:a.jsx(T_,{className:"w-4 h-4"})})]}),a.jsx(te,{children:v&&a.jsx(V.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:a.jsxs("div",{className:"mt-3 p-3 bg-surface-800/50 rounded-lg border border-surface-700 space-y-3",children:[a.jsx("p",{className:"text-sm font-medium text-surface-300",children:"Nouveau groupe"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:x,onChange:M=>g(M.target.value),placeholder:"Nom du groupe",className:"input flex-1"}),a.jsx("input",{type:"color",value:y,onChange:M=>N(M.target.value),className:"w-10 h-10 rounded-lg cursor-pointer border-0 bg-transparent"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{j(!1),g("")},className:"btn btn-ghost text-sm flex-1",children:"Annuler"}),a.jsxs("button",{type:"button",onClick:E,disabled:!x.trim(),className:"btn btn-primary text-sm flex-1",children:[a.jsx(re,{className:"w-4 h-4"}),"Crer"]})]})]})})})]}),r.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-sm font-medium text-surface-400 uppercase tracking-wider",children:"Proprits"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(M=>{const C=sj[M.type]||Gc;return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-surface-300",children:[a.jsx(C,{className:"w-4 h-4 text-surface-500"}),M.title]}),S(M)]},M.id)})})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-surface-700 bg-surface-800/50",children:[a.jsxs("button",{type:"button",onClick:A,className:"btn btn-ghost text-red-400 hover:text-red-300 hover:bg-red-500/10",children:[a.jsx(ct,{className:"w-4 h-4"}),a.jsx("span",{children:"Supprimer"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),a.jsx("button",{type:"button",onClick:O,disabled:f||!k.name.trim(),className:"btn btn-primary",children:f?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(yc,{className:"w-4 h-4"}),a.jsx("span",{children:"Enregistrer"})]})})]})]})]})})})}function EB(){var E;const{currentBoard:e,columns:t,groups:s,items:n,selectedItems:r,toggleItemSelection:i,selectAllItems:l,clearSelection:c,toggleGroupCollapse:o,addItem:u,deleteItem:d}=ge(),[f,h]=b.useState(null),[p,m]=b.useState({}),[v,j]=b.useState({}),[x,g]=b.useState(null),y=b.useRef(null);b.useEffect(()=>{const S=M=>{y.current&&!y.current.contains(M.target)&&h(null)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const N=b.useMemo(()=>{const S={};return s.forEach(M=>{S[M.id]=n.filter(C=>C.groupId===M.id).sort((C,q)=>C.position-q.position)}),S.ungrouped=n.filter(M=>!M.groupId).sort((M,C)=>M.position-C.position),S},[s,n]),k=async S=>{const M=p[S];if(M!=null&&M.trim())try{const C=await Oe.create({boardId:e.id,groupId:S!=="ungrouped"?S:null,name:M.trim()});u(C.data),m({...p,[S]:""}),j({...v,[S]:!1})}catch{$.error("Erreur lors de la cration")}},D=async S=>{try{await Oe.delete(S),d(S),$.success("Item supprim")}catch{$.error("Erreur lors de la suppression")}h(null)},w=async S=>{try{const M=await Oe.duplicate(S);u(M.data),$.success("Item dupliqu")}catch{$.error("Erreur lors de la duplication")}h(null)},T=t.filter(S=>S.isVisible!==!1),O=(S,M)=>a.jsxs("div",{className:"board-row flex items-center group hover:bg-surface-800/30",children:[a.jsx("div",{className:"w-10 flex-shrink-0 flex items-center justify-center",children:a.jsx(x5,{className:"w-4 h-4 text-surface-600 cursor-grab opacity-0 group-hover:opacity-100 transition-opacity"})}),a.jsx("div",{className:"w-8 flex-shrink-0 flex items-center justify-center",children:a.jsx("input",{type:"checkbox",checked:r.includes(S.id),onChange:()=>i(S.id),onClick:C=>C.stopPropagation(),className:"w-4 h-4 rounded border-surface-600 bg-surface-800 text-primary-500 focus:ring-primary-500 cursor-pointer"})}),a.jsx("div",{className:"flex-1 min-w-[200px] board-cell font-medium text-surface-200 cursor-pointer hover:text-primary-400 transition-colors truncate",onClick:()=>g(S),children:S.name}),T.map(C=>{var q;return a.jsx("div",{className:"board-cell flex-shrink-0",style:{width:C.width||150},children:a.jsx(kB,{item:S,column:C,value:(q=S.values)==null?void 0:q[C.id]})},C.id)}),a.jsx("div",{className:"w-12 flex-shrink-0 flex items-center justify-center",ref:f===S.id?y:null,children:a.jsx("button",{onClick:C=>{C.stopPropagation(),h(f===S.id?null:S.id)},className:"p-1.5 rounded-lg hover:bg-surface-700 text-surface-500 opacity-0 group-hover:opacity-100 transition-all",children:a.jsx(jl,{className:"w-4 h-4"})})})]},S.id),A=S=>{var M,C;return f!==S.id?null:a.jsxs("div",{className:"fixed z-50 bg-surface-800 border border-surface-700 rounded-xl shadow-xl py-2 min-w-[160px]",style:{top:((M=y.current)==null?void 0:M.getBoundingClientRect().bottom)+4||30,right:((C=y.current)==null?void 0:C.getBoundingClientRect().right)||30},children:[a.jsxs("button",{onClick:()=>{g(S),h(null)},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-surface-300 hover:bg-surface-700 hover:text-surface-100 transition-colors",children:[a.jsx(al,{className:"w-4 h-4"}),a.jsx("span",{children:"Modifier"})]}),a.jsxs("button",{onClick:()=>w(S.id),className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-surface-300 hover:bg-surface-700 hover:text-surface-100 transition-colors",children:[a.jsx(u_,{className:"w-4 h-4"}),a.jsx("span",{children:"Dupliquer"})]}),a.jsx("div",{className:"border-t border-surface-700 my-1"}),a.jsxs("button",{onClick:()=>D(S.id),className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-colors",children:[a.jsx(ct,{className:"w-4 h-4"}),a.jsx("span",{children:"Supprimer"})]})]})};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"card p-0 overflow-hidden flex flex-col h-full",children:a.jsx("div",{className:"overflow-x-auto flex-1",children:a.jsxs("div",{className:"min-w-max",children:[a.jsxs("div",{className:"board-header flex border-b border-surface-700 sticky top-0 bg-surface-900 z-10",children:[a.jsx("div",{className:"w-10 flex-shrink-0"}),a.jsx("div",{className:"w-8 flex-shrink-0 flex items-center justify-center",children:a.jsx("input",{type:"checkbox",onChange:S=>S.target.checked?l():c(),checked:r.length===n.length&&n.length>0,className:"w-4 h-4 rounded border-surface-600 bg-surface-800 text-primary-500 focus:ring-primary-500 cursor-pointer"})}),a.jsx("div",{className:"flex-1 min-w-[200px] board-header-cell font-semibold",children:"Item"}),T.map(S=>a.jsx("div",{className:"board-header-cell flex-shrink-0 font-semibold",style:{width:S.width||150},children:S.title},S.id)),a.jsx("div",{className:"w-12 flex-shrink-0"})]}),s.map(S=>{var M,C;return a.jsxs("div",{className:"border-b border-surface-800 last:border-0",children:[a.jsxs("button",{onClick:()=>o(S.id),className:"group-header w-full flex items-center gap-3 px-4 py-3 hover:bg-surface-800/30 transition-colors",style:{borderLeftColor:S.color,borderLeftWidth:4},children:[S.isCollapsed?a.jsx(fa,{className:"w-5 h-5 text-surface-500"}):a.jsx(Ya,{className:"w-5 h-5 text-surface-500"}),a.jsx("span",{className:"font-semibold text-surface-200",children:S.name}),a.jsx("span",{className:"text-sm text-surface-500 bg-surface-800 px-2 py-0.5 rounded-full",children:((M=N[S.id])==null?void 0:M.length)||0})]}),a.jsx(te,{children:!S.isCollapsed&&a.jsxs(V.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:[(C=N[S.id])==null?void 0:C.map(q=>O(q,S.id)),a.jsxs("div",{className:"flex items-center px-4 py-2 border-t border-surface-800/50",children:[a.jsx("div",{className:"w-10 flex-shrink-0"}),a.jsx("div",{className:"w-8 flex-shrink-0"}),v[S.id]?a.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[a.jsx("input",{type:"text",placeholder:"Nom de l'item...",value:p[S.id]||"",onChange:q=>m({...p,[S.id]:q.target.value}),onKeyDown:q=>{q.key==="Enter"&&k(S.id),q.key==="Escape"&&j({...v,[S.id]:!1})},autoFocus:!0,className:"flex-1 bg-surface-800 border border-surface-700 rounded-lg px-3 py-1.5 text-sm text-surface-200 placeholder-surface-500 focus:outline-none focus:border-primary-500"}),a.jsx("button",{onClick:()=>k(S.id),className:"btn btn-primary py-1.5 px-3 text-sm",children:"Ajouter"}),a.jsx("button",{onClick:()=>j({...v,[S.id]:!1}),className:"p-1.5 hover:bg-surface-700 rounded-lg text-surface-500",children:a.jsx(fe,{className:"w-4 h-4"})})]}):a.jsxs("button",{onClick:()=>j({...v,[S.id]:!0}),className:"flex items-center gap-2 text-sm text-surface-500 hover:text-primary-400 transition-colors",children:[a.jsx(re,{className:"w-4 h-4"}),a.jsx("span",{children:"Ajouter un item"})]})]})]})})]},S.id)}),((E=N.ungrouped)==null?void 0:E.length)>0&&a.jsxs("div",{className:"border-t border-surface-700",children:[a.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-surface-800/20",children:[a.jsx("span",{className:"font-semibold text-surface-400",children:"Sans groupe"}),a.jsx("span",{className:"text-sm text-surface-500 bg-surface-800 px-2 py-0.5 rounded-full",children:N.ungrouped.length})]}),N.ungrouped.map(S=>O(S))]}),n.length===0&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx("p",{className:"text-surface-400 mb-2",children:"Aucun item dans ce tableau"}),a.jsx("p",{className:"text-sm text-surface-500",children:'Cliquez sur "Ajouter un item" pour commencer'})]})]})})}),f&&n.find(S=>S.id===f)&&A(n.find(S=>S.id===f)),a.jsx(Vx,{isOpen:!!x,onClose:()=>g(null),item:x,workspaceId:e==null?void 0:e.workspaceId})]})}function AB({isOpen:e,onClose:t,boardId:s}){const n=ge(f=>f.addColumn),[r,i]=b.useState(!1),[l,c]=b.useState({title:"",type:"text"}),{data:o}=na({queryKey:["columnTypes"],queryFn:async()=>(await yb.getTypes()).data,enabled:e}),u=async f=>{if(f.preventDefault(),!(!l.title.trim()||!s)){i(!0);try{const h=await yb.create({boardId:s,title:l.title.trim(),type:l.type});n(h.data),$.success("Colonne cre avec succs"),t(),c({title:"",type:"text"})}catch{$.error("Erreur lors de la cration")}finally{i(!1)}}};if(!e)return null;const d={text:" Texte",status:" Statut",person:" Personne",date:" Date",number:" Nombre",dropdown:" Liste droulante",checkbox:" Case  cocher",timeline:" Timeline",files:" Fichiers",link:" Lien",email:" Email",phone:" Tlphone",rating:" Note",tags:" Tags",priority:" Priorit",progress:" Progression"};return a.jsx(te,{children:a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:a.jsxs(V.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content max-w-md",onClick:f=>f.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-600/20 flex items-center justify-center",children:a.jsx(l_,{className:"w-5 h-5 text-primary-400"})}),a.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Ajouter une colonne"})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Titre de la colonne"}),a.jsx("input",{type:"text",value:l.title,onChange:f=>c({...l,title:f.target.value}),placeholder:"Ma colonne",className:"input",required:!0,autoFocus:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Type de colonne"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-64 overflow-y-auto",children:o==null?void 0:o.map(f=>a.jsx("button",{type:"button",onClick:()=>c({...l,type:f.name}),className:`p-3 rounded-xl text-left text-sm transition-all ${l.type===f.name?"bg-primary-600/20 border-2 border-primary-500 text-primary-300":"bg-surface-800 border-2 border-transparent hover:border-surface-600 text-surface-300"}`,children:d[f.name]||f.name},f.name))})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:r||!l.title.trim(),className:"btn btn-primary",children:r?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Ajouter"})]})]})]})})})}const TB={status_changed:us,item_created:re,date_arrived:pt,column_changed:nl,person_assigned:Ye},MB={change_status:us,assign_person:Ye,notify_person:_a,notify_owner:_a,set_date:pt,move_to_group:yt,create_item:re,send_email:_a};function DB({boardId:e,onClose:t}){const[s,n]=b.useState([]),[r,i]=b.useState([]),[l,c]=b.useState({}),[o,u]=b.useState({}),[d,f]=b.useState(!0),[h,p]=b.useState(!1),[m,v]=b.useState(null);b.useEffect(()=>{j()},[e]);const j=async()=>{try{const[N,k]=await Promise.all([Kl.getByBoard(e),Kl.getTemplates()]);n(N.data),i(k.data.templates),c(k.data.triggers),u(k.data.actions)}catch(N){console.error("Error loading automations:",N),$.error("Erreur de chargement")}finally{f(!1)}},x=async N=>{try{const{data:k}=await Kl.toggle(N);n(D=>D.map(w=>w.id===N?{...w,isActive:k.isActive}:w)),$.success(k.isActive?"Automation active":"Automation dsactive")}catch{$.error("Erreur")}},g=async N=>{if(confirm("Supprimer cette automation ?"))try{await Kl.delete(N),n(k=>k.filter(D=>D.id!==N)),$.success("Automation supprime")}catch{$.error("Erreur")}},y=async N=>{v(N),p(!0)};return a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t,children:a.jsxs(V.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-surface-900 rounded-2xl w-full max-w-4xl shadow-2xl max-h-[90vh] overflow-hidden flex flex-col",onClick:N=>N.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-500/20 flex items-center justify-center",children:a.jsx(as,{className:"w-5 h-5 text-primary-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:"Automatisations"}),a.jsxs("p",{className:"text-sm text-surface-400",children:[s.length," automation",s.length!==1&&"s"," configure",s.length!==1&&"s"]})]})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:d?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs(a.Fragment,{children:[s.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-surface-300 mb-3",children:"Automations actives"}),a.jsx("div",{className:"space-y-2",children:s.map(N=>{var w,T;const k=TB[N.trigger]||as,D=MB[N.action]||at;return a.jsx("div",{className:`p-4 rounded-xl border transition-colors ${N.isActive?"bg-surface-800/50 border-surface-700":"bg-surface-900 border-surface-800 opacity-60"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${N.isActive?"bg-primary-500/20 text-primary-400":"bg-surface-700 text-surface-400"}`,children:a.jsx(as,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-surface-100",children:N.name}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-surface-400",children:[a.jsx(k,{className:"w-3 h-3"}),a.jsx("span",{children:((w=l[N.trigger])==null?void 0:w.name)||N.trigger}),a.jsx(fa,{className:"w-3 h-3"}),a.jsx(D,{className:"w-3 h-3"}),a.jsx("span",{children:((T=o[N.action])==null?void 0:T.name)||N.action})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[N.executionCount>0&&a.jsxs("span",{className:"text-xs text-surface-500",children:[N.executionCount," excution",N.executionCount>1&&"s"]}),a.jsx("button",{onClick:()=>x(N.id),className:`p-2 rounded-lg transition-colors ${N.isActive?"bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30":"bg-surface-700 text-surface-400 hover:bg-surface-600"}`,title:N.isActive?"Dsactiver":"Activer",children:N.isActive?a.jsx(yi,{className:"w-4 h-4"}):a.jsx(v5,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>g(N.id),className:"p-2 rounded-lg bg-surface-700 text-surface-400 hover:bg-red-500/20 hover:text-red-400 transition-colors",children:a.jsx(ct,{className:"w-4 h-4"})})]})]})},N.id)})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-surface-300 mb-3",children:"Ajouter une automation"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:r.map(N=>a.jsx("button",{onClick:()=>y(N),className:"p-4 rounded-xl bg-surface-800/50 border border-surface-700 hover:border-primary-500/50 hover:bg-surface-800 transition-colors text-left group",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-2xl",children:N.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-surface-100 group-hover:text-primary-400 transition-colors",children:N.name}),a.jsx("p",{className:"text-sm text-surface-400 mt-1",children:N.description})]}),a.jsx(re,{className:"w-5 h-5 text-surface-500 group-hover:text-primary-400 transition-colors"})]})},N.id))})]}),s.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(as,{className:"w-12 h-12 text-surface-600 mx-auto mb-3"}),a.jsx("p",{className:"text-surface-400",children:"Aucune automation configure. Choisissez un template ci-dessus pour commencer."})]})]})}),a.jsx(te,{children:h&&m&&a.jsx(RB,{boardId:e,template:m,triggers:l,actions:o,onClose:()=>{p(!1),v(null)},onCreated:N=>{n(k=>[N,...k]),p(!1),v(null)}})})]})})}function RB({boardId:e,template:t,triggers:s,actions:n,onClose:r,onCreated:i}){const[l,c]=b.useState({name:t.name,description:t.description,trigger:t.trigger,action:t.action,triggerConfig:{},actionConfig:{}}),[o,u]=b.useState(!1),d=async f=>{f.preventDefault(),u(!0);try{const{data:h}=await Kl.create({boardId:e,...l});i({id:h.id,name:l.name,description:l.description,trigger:l.trigger,action:l.action,isActive:!0,executionCount:0}),$.success("Automation cre")}catch(h){console.error("Error creating automation:",h),$.error("Erreur")}finally{u(!1)}};return a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[60] p-4",onClick:r,children:a.jsxs(V.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-surface-900 rounded-2xl w-full max-w-lg shadow-2xl",onClick:f=>f.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:t.icon}),a.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Nouvelle automation"})]}),a.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom"}),a.jsx("input",{type:"text",value:l.name,onChange:f=>c({...l,name:f.target.value}),className:"input w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),a.jsx("textarea",{value:l.description,onChange:f=>c({...l,description:f.target.value}),className:"input w-full h-20 resize-none"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Dclencheur"}),a.jsx("select",{value:l.trigger,onChange:f=>c({...l,trigger:f.target.value}),className:"input w-full",children:Object.entries(s).map(([f,h])=>a.jsx("option",{value:f,children:h.name},f))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Action"}),a.jsx("select",{value:l.action,onChange:f=>c({...l,action:f.target.value}),className:"input w-full",children:Object.entries(n).map(([f,h])=>a.jsx("option",{value:f,children:h.name},f))})]})]}),l.trigger==="status_changed"&&a.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-xl space-y-3",children:[a.jsx("p",{className:"text-sm text-surface-400",children:"Configuration du dclencheur"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-surface-400 mb-1",children:"Statut source (optionnel)"}),a.jsx("input",{type:"text",value:l.triggerConfig.fromStatus||"",onChange:f=>c({...l,triggerConfig:{...l.triggerConfig,fromStatus:f.target.value}}),className:"input w-full text-sm",placeholder:"Ex: En cours"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-surface-400 mb-1",children:"Statut cible"}),a.jsx("input",{type:"text",value:l.triggerConfig.toStatus||"",onChange:f=>c({...l,triggerConfig:{...l.triggerConfig,toStatus:f.target.value}}),className:"input w-full text-sm",placeholder:"Ex: Termin"})]})]})]}),(l.action==="notify_owner"||l.action==="notify_person")&&a.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-xl",children:[a.jsx("label",{className:"block text-xs text-surface-400 mb-1",children:"Message de notification"}),a.jsx("input",{type:"text",value:l.actionConfig.message||"",onChange:f=>c({...l,actionConfig:{...l.actionConfig,message:f.target.value}}),className:"input w-full text-sm",placeholder:"Ex: L'item a t mis  jour"})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:r,className:"btn-secondary flex-1",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:o||!l.name,className:"btn-primary flex-1",children:o?"Cration...":"Crer"})]})]})]})})}const OB=[{id:"table",label:"Tableau",icon:_7},{id:"kanban",label:"Kanban",icon:z_},{id:"calendar",label:"Calendrier",icon:pt},{id:"timeline",label:"Timeline",icon:UO},{id:"chart",label:"Graphiques",icon:Fn}];function _B(){var I,Q;const{currentBoard:e,activeView:t,setActiveView:s,selectedItems:n,clearSelection:r,deleteItems:i,columns:l,setFilter:c,filter:o}=ge(),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,m]=b.useState(!1),[v,j]=b.useState(!1),[x,g]=b.useState(!1),[y,N]=b.useState(""),[k,D]=b.useState(""),[w,T]=b.useState(""),O=b.useRef(null),A=b.useRef(null);b.useEffect(()=>{const P=W=>{O.current&&!O.current.contains(W.target)&&h(!1),A.current&&!A.current.contains(W.target)&&j(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]),b.useEffect(()=>{c&&c({searchTerm:y,status:k,priority:w})},[y,k,w,c]);const E=y||k||w,S=()=>{N(""),D(""),T("")},M=l==null?void 0:l.find(P=>P.type==="status"),C=l==null?void 0:l.find(P=>P.type==="priority"),q=((I=M==null?void 0:M.config)==null?void 0:I.options)||[{value:"todo",label:" faire",color:"#6b7280"},{value:"in_progress",label:"En cours",color:"#f59e0b"},{value:"done",label:"Termin",color:"#10b981"}],U=((Q=C==null?void 0:C.config)==null?void 0:Q.options)||[{value:"low",label:"Basse",color:"#6b7280"},{value:"medium",label:"Moyenne",color:"#f59e0b"},{value:"high",label:"Haute",color:"#ef4444"},{value:"critical",label:"Critique",color:"#dc2626"}],_=async()=>{if(confirm(`tes-vous sr de vouloir supprimer ${n.length} item(s) ?`))try{await Oe.batchDelete(n),i(n),r(),$.success(`${n.length} item(s) supprim(s)`)}catch{$.error("Erreur lors de la suppression")}},F=async P=>{if(!(!(e!=null&&e.id)||x)){g(!0),h(!1);try{if(P==="csv"){const W=await ch.board(e.id,"csv"),se=new Blob([W.data],{type:"text/csv;charset=utf-8;"});G(se,`${e.name}.csv`),$.success("Export CSV tlcharg")}else if(P==="excel"){const{data:W}=await ch.board(e.id,"json"),se=B(W.items),xe=new Blob(["\uFEFF"+se],{type:"application/vnd.ms-excel;charset=utf-8;"});G(xe,`${e.name}.xls`),$.success("Export Excel tlcharg")}else if(P==="json"){const{data:W}=await ch.board(e.id,"json"),se=new Blob([JSON.stringify(W,null,2)],{type:"application/json"});G(se,`${e.name}.json`),$.success("Export JSON tlcharg")}}catch(W){console.error("Export error:",W),$.error("Erreur lors de l'export")}finally{g(!1)}}},G=(P,W)=>{const se=window.URL.createObjectURL(P),xe=document.createElement("a");xe.href=se,xe.download=W,document.body.appendChild(xe),xe.click(),document.body.removeChild(xe),window.URL.revokeObjectURL(se)},B=P=>{if(!P||P.length===0)return"";const W=Object.keys(P[0]),se=[W.join(",")];return P.forEach(xe=>{const Se=W.map(Sl=>`"${(xe[Sl]||"").toString().replace(/"/g,'""')}"`);se.push(Se.join(","))}),se.join(`
`)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-1 p-1 bg-surface-800/50 rounded-xl",children:OB.map(P=>a.jsxs("button",{onClick:()=>s(P.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${t===P.id?"bg-surface-700 text-surface-100":"text-surface-400 hover:text-surface-200"}`,children:[a.jsx(P.icon,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:P.label})]},P.id))}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-surface-400"}),a.jsx("input",{type:"text",value:y,onChange:P=>N(P.target.value),placeholder:"Rechercher...",className:"pl-9 pr-4 py-2 bg-surface-800/50 border border-surface-700 rounded-lg text-sm text-surface-200 placeholder-surface-500 focus:border-primary-500 focus:outline-none w-40 md:w-56"})]}),a.jsxs("div",{className:"relative",ref:A,children:[a.jsxs("button",{onClick:()=>j(!v),className:`btn btn-ghost ${E?"text-primary-400 bg-primary-500/10":""}`,children:[a.jsx(Tx,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Filtres"}),E&&a.jsx("span",{className:"w-5 h-5 rounded-full bg-primary-500 text-white text-xs flex items-center justify-center",children:[y,k,w].filter(Boolean).length})]}),a.jsx(te,{children:v&&a.jsxs(V.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 top-full mt-2 w-72 bg-surface-800 border border-surface-700 rounded-xl shadow-xl z-50 p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-medium text-surface-200",children:"Filtres avancs"}),E&&a.jsx("button",{onClick:S,className:"text-xs text-primary-400 hover:text-primary-300",children:"Rinitialiser"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-surface-400 mb-1",children:"Statut"}),a.jsxs("select",{value:k,onChange:P=>D(P.target.value),className:"input w-full text-sm",children:[a.jsx("option",{value:"",children:"Tous les statuts"}),q.map(P=>a.jsx("option",{value:P.value,children:P.label},P.value))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-surface-400 mb-1",children:"Priorit"}),a.jsxs("select",{value:w,onChange:P=>T(P.target.value),className:"input w-full text-sm",children:[a.jsx("option",{value:"",children:"Toutes les priorits"}),U.map(P=>a.jsx("option",{value:P.value,children:P.label},P.value))]})]})]})})]}),a.jsxs("button",{onClick:()=>m(!0),className:"btn btn-ghost",children:[a.jsx(as,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Automations"})]}),n.length>0&&a.jsxs(V.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center gap-2 px-4 py-2 bg-surface-800 rounded-xl",children:[a.jsxs("span",{className:"text-sm text-surface-300",children:[n.length," slectionn(s)"]}),a.jsx("button",{onClick:_,className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:a.jsx(ct,{className:"w-4 h-4"})}),a.jsx("button",{onClick:r,className:"text-sm text-surface-400 hover:text-surface-200",children:"Annuler"})]}),a.jsxs("div",{className:"relative",ref:O,children:[a.jsxs("button",{onClick:()=>h(!f),disabled:x,className:"btn btn-ghost",children:[x?a.jsx("div",{className:"w-4 h-4 border-2 border-surface-400 border-t-transparent rounded-full animate-spin"}):a.jsx(p5,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Exporter"}),a.jsx(Ya,{className:"w-4 h-4"})]}),a.jsx(te,{children:f&&a.jsxs(V.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 top-full mt-2 w-48 bg-surface-800 border border-surface-700 rounded-xl shadow-xl z-50 overflow-hidden",children:[a.jsxs("button",{onClick:()=>F("csv"),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-surface-700 transition-colors text-left",children:[a.jsx(zs,{className:"w-4 h-4 text-green-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-surface-200 text-sm font-medium",children:"CSV"}),a.jsx("p",{className:"text-surface-500 text-xs",children:"Format universel"})]})]}),a.jsxs("button",{onClick:()=>F("excel"),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-surface-700 transition-colors text-left",children:[a.jsx(gc,{className:"w-4 h-4 text-emerald-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-surface-200 text-sm font-medium",children:"Excel"}),a.jsx("p",{className:"text-surface-500 text-xs",children:"Compatible Microsoft Excel"})]})]}),a.jsxs("button",{onClick:()=>F("json"),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-surface-700 transition-colors text-left",children:[a.jsx(zs,{className:"w-4 h-4 text-blue-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-surface-200 text-sm font-medium",children:"JSON"}),a.jsx("p",{className:"text-surface-500 text-xs",children:"Donnes brutes"})]})]})]})})]}),a.jsxs("button",{onClick:()=>d(!0),className:"btn btn-secondary",children:[a.jsx(re,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Colonne"})]})]})]}),a.jsx(AB,{isOpen:u,onClose:()=>d(!1),boardId:e==null?void 0:e.id}),a.jsx(te,{children:p&&(e==null?void 0:e.id)&&a.jsx(DB,{boardId:e.id,onClose:()=>m(!1)})})]})}function LB(){const{currentBoard:e,columns:t,groups:s,items:n,addItem:r,updateItemValue:i,deleteItem:l}=ge(),[c,o]=b.useState({}),[u,d]=b.useState({}),[f,h]=b.useState(null),[p,m]=b.useState(null),[v,j]=b.useState([]),[x,g]=b.useState(null);b.useEffect(()=>{(async()=>{if(e!=null&&e.workspaceId)try{const C=await Ot.getByWorkspace(e.workspaceId);j(C.data||[])}catch(C){console.error("Failed to load members:",C)}})()},[e==null?void 0:e.workspaceId]);const y=M=>{var q;const C=v.find(U=>U.id===M);return C?`${C.firstName||""} ${C.lastName||""}`.trim()||((q=C.email)==null?void 0:q.split("@")[0])||"Membre":null},N=(M,C)=>{if(!C)return null;switch(M.type){case"person":{let q=[];if(Array.isArray(C)?q=C:typeof C=="string"?q=[C]:C!=null&&C.userIds&&(q=Array.isArray(C.userIds)?C.userIds:[C.userIds]),q.length===0)return null;const U=q.map(_=>y(_)).filter(Boolean);return U.length===0?null:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ts,{className:"w-3 h-3 text-primary-400"}),a.jsx("span",{className:"text-surface-200 truncate font-medium",children:U.join(", ")})]})}case"date":{const q=typeof C=="object"?C==null?void 0:C.date:C;if(!q)return null;const U=new Date(q);return Rx(U)?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(pt,{className:"w-3 h-3 text-surface-500"}),a.jsx("span",{className:"text-surface-300",children:Ks(U,"d MMM",{locale:Ha})})]}):null}case"progress":{const q=typeof C=="object"?(C==null?void 0:C.progress)??0:parseInt(C)||0,U=q>=100?"#22c55e":q>=50?"#eab308":"#ef4444";return a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-12 h-1.5 bg-surface-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${q}%`,backgroundColor:U}})}),a.jsxs("span",{className:"text-surface-400 text-[10px]",children:[q,"%"]})]})}case"priority":{const U=(M.labels||[]).find(_=>_.id===C||_.name===C);return U?a.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium",style:{backgroundColor:`${U.color}20`,color:U.color},children:U.name||U.label}):a.jsx("span",{className:"text-surface-400",children:String(C)})}default:return typeof C=="object"?null:a.jsx("span",{className:"text-surface-400 truncate",children:String(C)})}},k=b.useMemo(()=>t.find(M=>M.type==="status")||t[0],[t]),D=b.useMemo(()=>{var M;return((M=k==null?void 0:k.labels)==null?void 0:M.length)>0?k.labels:[{id:"todo",name:" faire",color:"#6b7280"},{id:"in_progress",name:"En cours",color:"#3b82f6"},{id:"done",name:"Termin",color:"#10b981"}]},[k]),w=b.useMemo(()=>{const M={};return D.forEach(C=>{M[C.id]=n.filter(q=>{var _,F;const U=(_=q.values)==null?void 0:_[k==null?void 0:k.id];return U===C.id||!U&&C.id===((F=D[0])==null?void 0:F.id)})}),M},[n,k,D]),T=async M=>{const C=c[M];if(C!=null&&C.trim())try{const q=await Oe.create({boardId:e.id,name:C.trim()});k&&await Oe.updateValue(q.data.id,k.id,M),r({...q.data,values:{[k==null?void 0:k.id]:M}}),o({...c,[M]:""}),d({...u,[M]:!1})}catch{$.error("Erreur lors de la cration")}},O=(M,C)=>{m(C),M.dataTransfer.effectAllowed="move"},A=M=>{M.preventDefault(),M.dataTransfer.dropEffect="move"},E=async(M,C)=>{if(M.preventDefault(),!(!p||!k)){try{await Oe.updateValue(p.id,k.id,C),i(p.id,k.id,C),$.success("Statut mis  jour")}catch{$.error("Erreur")}m(null)}},S=async M=>{try{await Oe.delete(M),l(M),$.success("Item supprim")}catch{$.error("Erreur")}h(null)};return k?a.jsxs("div",{className:"flex gap-4 h-full overflow-x-auto pb-4",children:[D.map(M=>{var C,q;return a.jsxs("div",{className:"flex-shrink-0 w-72 flex flex-col bg-surface-800/30 rounded-xl",onDragOver:A,onDrop:U=>E(U,M.id),children:[a.jsx("div",{className:"p-3 border-b border-surface-700/50",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:M.color||"#6b7280"}}),a.jsx("span",{className:"font-medium text-surface-200 text-sm",children:M.name||M.label||"Sans nom"}),a.jsx("span",{className:"text-sm text-surface-500",children:((C=w[M.id])==null?void 0:C.length)||0})]})})}),a.jsxs("div",{className:"flex-1 p-2 space-y-2 overflow-y-auto min-h-[200px]",children:[a.jsx(te,{children:(q=w[M.id])==null?void 0:q.map(U=>a.jsx(V.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},draggable:!0,onDragStart:_=>O(_,U),className:`group p-3 bg-surface-800 rounded-lg border border-surface-700 cursor-grab hover:border-surface-600 transition-colors ${(p==null?void 0:p.id)===U.id?"opacity-50":""}`,children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(x5,{className:"w-4 h-4 text-surface-600 mt-0.5 opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-surface-200 text-sm hover:text-primary-400 cursor-pointer transition-colors",onClick:()=>g(U),children:U.name}),a.jsx("div",{className:"mt-2 space-y-1.5",children:t.filter(_=>_.id!==k.id&&_.type!=="status").slice(0,3).map(_=>{var B;const F=(B=U.values)==null?void 0:B[_.id],G=N(_,F);return G?a.jsx("div",{className:"text-xs",children:G},_.id):null})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>h(f===U.id?null:U.id),className:"p-1 rounded hover:bg-surface-700 text-surface-500 opacity-0 group-hover:opacity-100 transition-all",children:a.jsx(jl,{className:"w-4 h-4"})}),f===U.id&&a.jsxs("div",{className:"absolute right-0 top-6 z-10 bg-surface-800 border border-surface-700 rounded-lg shadow-lg py-1 min-w-[120px]",children:[a.jsxs("button",{onClick:()=>{g(U),h(null)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-surface-300 hover:bg-surface-700",children:[a.jsx(al,{className:"w-4 h-4"}),"Modifier"]}),a.jsxs("button",{onClick:()=>S(U.id),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-400 hover:bg-surface-700",children:[a.jsx(ct,{className:"w-4 h-4"}),"Supprimer"]})]})]})]})},U.id))}),p&&a.jsx("div",{className:"h-16 border-2 border-dashed border-primary-500/30 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-sm text-primary-400",children:"Dposer ici"})})]}),a.jsx("div",{className:"p-2 border-t border-surface-700/50",children:u[M.id]?a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",placeholder:"Nom de l'item...",value:c[M.id]||"",onChange:U=>o({...c,[M.id]:U.target.value}),onKeyDown:U=>{U.key==="Enter"&&T(M.id),U.key==="Escape"&&d({...u,[M.id]:!1})},autoFocus:!0,className:"w-full px-3 py-2 bg-surface-700 border border-surface-600 rounded-lg text-sm text-surface-200 focus:outline-none focus:border-primary-500"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>T(M.id),className:"flex-1 px-3 py-1.5 bg-primary-500 text-white rounded-lg text-sm font-medium hover:bg-primary-400",children:"Ajouter"}),a.jsx("button",{onClick:()=>d({...u,[M.id]:!1}),className:"px-3 py-1.5 text-surface-400 hover:text-surface-200 text-sm",children:"Annuler"})]})]}):a.jsxs("button",{onClick:()=>d({...u,[M.id]:!0}),className:"w-full flex items-center justify-center gap-2 py-2 text-sm text-surface-500 hover:text-surface-300 hover:bg-surface-700/50 rounded-lg transition-colors",children:[a.jsx(re,{className:"w-4 h-4"}),"Ajouter un item"]})})]},M.id)}),a.jsx(Vx,{isOpen:!!x,onClose:()=>g(null),item:x,workspaceId:e==null?void 0:e.workspaceId})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[a.jsx("p",{className:"text-surface-400 mb-4",children:'Ajoutez une colonne "Statut" pour utiliser la vue Kanban'}),a.jsx("p",{className:"text-sm text-surface-500",children:"La vue Kanban utilise une colonne de type Statut pour organiser les items"})]})}const PB=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],BB=["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"];function zB(){const{currentBoard:e,columns:t,items:s}=ge(),[n,r]=b.useState(new Date),[i,l]=b.useState(null),[c,o]=b.useState(!1),[u,d]=b.useState(null),[f,h]=b.useState(null),[p,m]=b.useState([]);b.useEffect(()=>{(async()=>{if(e!=null&&e.workspaceId)try{const F=await Ot.getByWorkspace(e.workspaceId);m(F.data||[])}catch(F){console.error("Failed to load members:",F)}})()},[e==null?void 0:e.workspaceId]);const{startDateColumn:v,endDateColumn:j,dateColumns:x}=b.useMemo(()=>{const _=t.filter(B=>B.type==="date"||B.type==="timeline"),F=_.find(B=>B.title.toLowerCase().includes("dbut")||B.title.toLowerCase().includes("start")||B.title.toLowerCase().includes("lancement")||B.title.toLowerCase().includes("cration"))||_[0],G=_.find(B=>B.title.toLowerCase().includes("fin")||B.title.toLowerCase().includes("end")||B.title.toLowerCase().includes("deadline")||B.title.toLowerCase().includes("chance")||B.title.toLowerCase().includes("limite"))||_[1]||_[0];return{startDateColumn:F,endDateColumn:G!==F?G:null,dateColumns:_}},[t]),g=b.useMemo(()=>s.map(_=>{var B,I;let F=null,G=null;if(v){const Q=(B=_.values)==null?void 0:B[v.id];if(Q){const P=new Date(typeof Q=="object"?Q.date:Q);isNaN(P.getTime())||(F=P)}}if(j){const Q=(I=_.values)==null?void 0:I[j.id];if(Q){const P=new Date(typeof Q=="object"?Q.date:Q);isNaN(P.getTime())||(G=P)}}return!G&&F&&(G=F),!F&&G&&(F=G),{..._,startDate:F,endDate:G,hasTimeline:F!==null&&G!==null,isRange:F&&G&&F.getTime()!==G.getTime()}}),[s,v,j]),y=b.useMemo(()=>g.filter(_=>_.hasTimeline),[g]),N=b.useMemo(()=>g.filter(_=>!_.hasTimeline),[g]),k=b.useMemo(()=>{const _=n.getFullYear(),F=n.getMonth(),G=new Date(_,F,1),B=new Date(_,F+1,0),I=(G.getDay()+6)%7,Q=B.getDate(),P=[],W=new Date(_,F,0);for(let xe=I-1;xe>=0;xe--)P.push({date:new Date(_,F-1,W.getDate()-xe),isCurrentMonth:!1});for(let xe=1;xe<=Q;xe++)P.push({date:new Date(_,F,xe),isCurrentMonth:!0});const se=42-P.length;for(let xe=1;xe<=se;xe++)P.push({date:new Date(_,F+1,xe),isCurrentMonth:!1});return P},[n]),D=(_,F)=>_.getDate()===F.getDate()&&_.getMonth()===F.getMonth()&&_.getFullYear()===F.getFullYear(),w=_=>y.filter(F=>{const G=F.startDate,B=F.endDate,I=new Date(_.getFullYear(),_.getMonth(),_.getDate());new Date(_.getFullYear(),_.getMonth(),_.getDate(),23,59,59);const Q=new Date(G.getFullYear(),G.getMonth(),G.getDate()),P=new Date(B.getFullYear(),B.getMonth(),B.getDate());return I>=Q&&I<=P}).map(F=>(new Date(F.startDate.getFullYear(),F.startDate.getMonth(),F.startDate.getDate()),new Date(F.endDate.getFullYear(),F.endDate.getMonth(),F.endDate.getDate()),new Date(_.getFullYear(),_.getMonth(),_.getDate()),{...F,isStart:D(F.startDate,_),isEnd:D(F.endDate,_),isMiddle:!D(F.startDate,_)&&!D(F.endDate,_),isSingleDay:D(F.startDate,F.endDate)})),T=_=>D(_,new Date),O=_=>{r(new Date(n.getFullYear(),n.getMonth()+_,1))},A=()=>{r(new Date)},E=(_,F)=>{F.stopPropagation();const G=s.find(B=>B.id===_.id);G&&(l(G),o(!0))},S=(_,F)=>{F.length>0&&(d(F),h(_))},M=()=>{d(null),h(null)},C=_=>{var I,Q;const F=t.find(P=>P.type==="status");if(!F)return"#6366f1";const G=(I=_.values)==null?void 0:I[F.id],B=(Q=F.labels)==null?void 0:Q.find(P=>P.id===G);return(B==null?void 0:B.color)||"#6366f1"},q=()=>t.find(_=>_.type==="person"),U=_=>{var I;const F=q();if(!F)return[];const G=(I=_.values)==null?void 0:I[F.id],B=Array.isArray(G)?G:(G==null?void 0:G.userIds)||[];return p.filter(Q=>B.includes(Q.id))};return x.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[a.jsx(pt,{className:"w-12 h-12 text-surface-600 mb-4"}),a.jsx("p",{className:"text-surface-400 mb-2",children:'Ajoutez une colonne "Date" pour utiliser le calendrier'}),a.jsx("p",{className:"text-sm text-surface-500",children:"Le calendrier affiche les items ayant une date dfinie"})]}):a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-surface-100",children:[BB[n.getMonth()]," ",n.getFullYear()]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>O(-1),className:"p-2 hover:bg-surface-700 rounded-lg transition-colors",children:a.jsx(Ex,{className:"w-5 h-5 text-surface-400"})}),a.jsx("button",{onClick:A,className:"px-3 py-1.5 text-sm text-surface-400 hover:text-surface-200 hover:bg-surface-700 rounded-lg transition-colors",children:"Aujourd'hui"}),a.jsx("button",{onClick:()=>O(1),className:"p-2 hover:bg-surface-700 rounded-lg transition-colors",children:a.jsx(fa,{className:"w-5 h-5 text-surface-400"})})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-surface-500",children:[a.jsx(yi,{className:"w-3 h-3 text-green-500"}),a.jsx("span",{children:"Dbut"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-surface-500",children:[a.jsx(ws,{className:"w-3 h-3 text-red-500"}),a.jsx("span",{children:"Deadline"})]}),a.jsxs("span",{className:"text-surface-500",children:[y.length," item(s) planifi(s)"]}),N.length>0&&a.jsxs("span",{className:"text-amber-500",children:[N.length," sans date"]})]})]}),a.jsxs("div",{className:"flex-1 flex gap-4 overflow-hidden",children:[a.jsxs("div",{className:"flex-1 card p-0 overflow-hidden flex flex-col",children:[a.jsx("div",{className:"grid grid-cols-7 border-b border-surface-700",children:PB.map(_=>a.jsx("div",{className:"px-2 py-3 text-center text-sm font-medium text-surface-400 bg-surface-800/50",children:_},_))}),a.jsx("div",{className:"grid grid-cols-7 flex-1 auto-rows-fr",children:k.map((_,F)=>{const G=w(_.date),B=T(_.date);return a.jsxs("div",{onClick:()=>S(_.date,G),className:`min-h-[100px] border-b border-r border-surface-800 p-1 cursor-pointer hover:bg-surface-800/30 transition-colors ${_.isCurrentMonth?"":"bg-surface-900/50"}`,children:[a.jsx("div",{className:`flex items-center justify-center w-7 h-7 rounded-full text-sm mb-1 ${B?"bg-primary-500 text-white font-bold":_.isCurrentMonth?"text-surface-300":"text-surface-600"}`,children:_.date.getDate()}),a.jsxs("div",{className:"space-y-0.5",children:[G.slice(0,4).map(I=>{const Q=C(I);let P={};return I.isSingleDay?P={backgroundColor:`${Q}30`,borderLeft:`3px solid ${Q}`}:I.isStart?P={backgroundColor:`${Q}30`,borderLeft:`3px solid ${Q}`,borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px",marginRight:"-4px"}:I.isEnd?P={backgroundColor:`${Q}30`,borderRight:`3px solid ${Q}`,borderTopRightRadius:"4px",borderBottomRightRadius:"4px",marginLeft:"-4px"}:P={backgroundColor:`${Q}20`,marginLeft:"-4px",marginRight:"-4px"},a.jsx(V.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:W=>E(I,W),className:"px-1.5 py-0.5 text-xs cursor-pointer hover:opacity-80 transition-all relative overflow-hidden",style:P,children:a.jsxs("div",{className:"flex items-center gap-1 truncate",children:[I.isStart&&!I.isSingleDay&&a.jsx(yi,{className:"w-2.5 h-2.5 flex-shrink-0 text-green-400"}),I.isEnd&&!I.isSingleDay&&a.jsx(ws,{className:"w-2.5 h-2.5 flex-shrink-0 text-red-400"}),a.jsx("span",{className:"truncate",style:{color:I.isMiddle?`${Q}90`:Q},children:I.isStart||I.isSingleDay?I.name:""})]})},`${I.id}-${_.date.getTime()}`)}),G.length>4&&a.jsxs("div",{className:"text-xs text-primary-400 text-center font-medium hover:underline",children:["+",G.length-4," autre(s)"]})]})]},F)})})]}),a.jsxs("div",{className:"w-80 card p-0 flex flex-col overflow-hidden",children:[a.jsx("div",{className:"p-3 border-b border-surface-700 bg-surface-800/50",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(H_,{className:"w-4 h-4 text-surface-400"}),a.jsx("span",{className:"font-medium text-surface-200",children:"Toutes les tches"}),a.jsxs("span",{className:"text-xs text-surface-500",children:["(",s.length,")"]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:[g.map(_=>{const F=U(_),G=C(_);return a.jsxs("div",{onClick:()=>{const B=s.find(I=>I.id===_.id);l(B),o(!0)},className:"p-3 rounded-lg bg-surface-800/50 hover:bg-surface-700/50 cursor-pointer transition-colors group border-l-2",style:{borderLeftColor:G},children:[a.jsx("p",{className:"text-sm font-medium text-surface-200 truncate group-hover:text-surface-100 mb-2",children:_.name}),_.hasTimeline&&a.jsxs("div",{className:"flex items-center gap-2 text-xs mb-2",children:[a.jsxs("div",{className:"flex items-center gap-1 text-green-400",children:[a.jsx(yi,{className:"w-3 h-3"}),a.jsx("span",{children:_.startDate.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})]}),_.isRange&&a.jsxs(a.Fragment,{children:[a.jsx(yt,{className:"w-3 h-3 text-surface-500"}),a.jsxs("div",{className:"flex items-center gap-1 text-red-400",children:[a.jsx(ws,{className:"w-3 h-3"}),a.jsx("span",{children:_.endDate.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})]})]})]}),!_.hasTimeline&&a.jsx("p",{className:"text-xs text-amber-500/70 mb-2",children:"Sans date"}),F.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[F.slice(0,3).map((B,I)=>{var Q,P,W;return a.jsx("div",{className:"w-5 h-5 rounded-full bg-primary-600 flex items-center justify-center text-[8px] text-white font-medium ring-1 ring-surface-800",style:{marginLeft:I>0?"-4px":0},title:B.fullName||B.email,children:((Q=B.firstName)==null?void 0:Q[0])||((W=(P=B.email)==null?void 0:P[0])==null?void 0:W.toUpperCase())},B.id)}),F.length>3&&a.jsxs("span",{className:"text-xs text-surface-500 ml-1",children:["+",F.length-3]})]})]},_.id)}),s.length===0&&a.jsx("div",{className:"text-center text-surface-500 py-8 text-sm",children:"Aucun item"})]})]})]}),a.jsx(te,{children:u&&a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:M,children:a.jsxs(V.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-surface-800 border border-surface-700 rounded-xl shadow-2xl w-full max-w-lg max-h-[70vh] overflow-hidden",onClick:_=>_.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-surface-100",children:f==null?void 0:f.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),a.jsxs("p",{className:"text-sm text-surface-400",children:[u.length," tche(s) en cours"]})]}),a.jsx("button",{onClick:M,className:"p-2 hover:bg-surface-700 rounded-lg transition-colors",children:a.jsx(fe,{className:"w-5 h-5 text-surface-400"})})]}),a.jsx("div",{className:"p-4 space-y-2 overflow-y-auto max-h-[50vh]",children:u.map(_=>{const F=C(_),G=U(_);return a.jsx("div",{onClick:B=>{E(_,B),M()},className:"p-3 rounded-lg bg-surface-700/50 hover:bg-surface-700 cursor-pointer transition-colors",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"mt-1",children:[_.isStart&&!_.isSingleDay&&a.jsx(yi,{className:"w-4 h-4 text-green-400"}),_.isEnd&&!_.isSingleDay&&a.jsx(ws,{className:"w-4 h-4 text-red-400"}),(_.isMiddle||_.isSingleDay)&&a.jsx("div",{className:"w-3 h-3 rounded-full mt-0.5",style:{backgroundColor:F}})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-surface-200",children:_.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-surface-500",children:[_.isStart&&!_.isSingleDay&&a.jsx("span",{className:"text-green-400",children:"Dbut"}),_.isEnd&&!_.isSingleDay&&a.jsx("span",{className:"text-red-400",children:"Deadline"}),_.isMiddle&&a.jsx("span",{children:"En cours"}),_.isSingleDay&&a.jsx("span",{children:"chance"}),_.isRange&&a.jsxs("span",{className:"text-surface-600",children:["(",_.startDate.toLocaleDateString("fr-FR",{day:"numeric",month:"short"}),"  ",_.endDate.toLocaleDateString("fr-FR",{day:"numeric",month:"short"}),")"]})]}),G.length>0&&a.jsx("div",{className:"flex items-center gap-1 mt-2",children:G.map(B=>{var I;return a.jsx("span",{className:"text-xs text-surface-400 bg-surface-600 px-2 py-0.5 rounded-full",children:B.firstName||((I=B.email)==null?void 0:I.split("@")[0])},B.id)})})]})]})},_.id)})})]})})}),a.jsx(Vx,{isOpen:c,onClose:()=>{o(!1),l(null)},item:i,workspaceId:e==null?void 0:e.workspaceId})]})}function VB(){const{columns:e=[],items:t=[],groups:s=[]}=ge(),[n,r]=b.useState("status"),i=b.useMemo(()=>e.find(h=>(h==null?void 0:h.type)==="status")||null,[e]),l=b.useMemo(()=>e.filter(h=>(h==null?void 0:h.type)==="number")||[],[e]),c=b.useMemo(()=>!(i!=null&&i.labels)||!Array.isArray(i.labels)?[]:i.labels.filter(h=>h!=null).map((h,p)=>({id:h.id||`status-${p}`,label:h.name||h.label||`Statut ${p+1}`,color:h.color||"#6b7280",count:t.filter(m=>{var v;return((v=m==null?void 0:m.values)==null?void 0:v[i.id])===h.id}).length})),[i,t]),o=b.useMemo(()=>Array.isArray(s)?s.filter(h=>h!=null).map((h,p)=>({id:h.id||`group-${p}`,label:h.name||`Groupe ${p+1}`,color:h.color||"#6b7280",count:t.filter(m=>(m==null?void 0:m.groupId)===h.id).length})):[],[s,t]),u=b.useMemo(()=>{const h=(t==null?void 0:t.length)||0;let p=0;if(i!=null&&i.labels&&Array.isArray(i.labels)){const m=i.labels.find(v=>{if(!v)return!1;const j=String(v.name||v.label||"").toLowerCase();return j.includes("termin")||j.includes("done")||j.includes("complet")});m&&(p=t.filter(v=>{var j;return((j=v==null?void 0:v.values)==null?void 0:j[i.id])===m.id}).length)}return{total:h,completed:p,completionRate:h>0?Math.round(p/h*100):0,groups:(s==null?void 0:s.length)||0}},[t,s,i]),d=b.useMemo(()=>c.length===0?1:Math.max(...c.map(h=>h.count),1),[c]),f=[{id:"status",label:"Par statut",icon:sl},{id:"groups",label:"Par groupe",icon:Fn}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-surface-400 text-sm",children:"Total items"}),a.jsx(Fc,{className:"w-4 h-4 text-primary-500"})]}),a.jsx("p",{className:"text-3xl font-bold text-surface-100",children:u.total})]}),a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-surface-400 text-sm",children:"Termins"}),a.jsx(Kt,{className:"w-4 h-4 text-emerald-500"})]}),a.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:u.completed})]}),a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-surface-400 text-sm",children:"Taux completion"}),a.jsx(sl,{className:"w-4 h-4 text-blue-500"})]}),a.jsxs("p",{className:"text-3xl font-bold text-blue-400",children:[u.completionRate,"%"]})]}),a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-surface-400 text-sm",children:"Groupes"}),a.jsx(Fn,{className:"w-4 h-4 text-amber-500"})]}),a.jsx("p",{className:"text-3xl font-bold text-amber-400",children:u.groups})]})]}),a.jsx("div",{className:"flex gap-2",children:f.map(h=>a.jsxs("button",{onClick:()=>r(h.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===h.id?"bg-primary-500/20 text-primary-400":"text-surface-400 hover:bg-surface-800"}`,children:[a.jsx(h.icon,{className:"w-4 h-4"}),h.label]},h.id))}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n==="status"&&a.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-6",children:"Distribution par statut"}),c.length>0?a.jsx("div",{className:"space-y-4",children:c.map((h,p)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:h.color}}),a.jsx("span",{className:"text-surface-300",children:h.label})]}),a.jsx("span",{className:"text-surface-400",children:h.count})]}),a.jsx("div",{className:"h-6 bg-surface-800 rounded-lg overflow-hidden",children:a.jsx(V.div,{initial:{width:0},animate:{width:`${h.count/d*100}%`},transition:{delay:p*.1,duration:.5},className:"h-full rounded-lg",style:{backgroundColor:h.color}})})]},h.id||`status-${p}`))}):a.jsx("p",{className:"text-center text-surface-500 py-8",children:"Ajoutez une colonne Statut avec des labels"})]}),n==="groups"&&a.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-6",children:"Distribution par groupe"}),o.length>0?a.jsx("div",{className:"space-y-4",children:o.map((h,p)=>{const m=Math.max(...o.map(v=>v.count),1);return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:h.color}}),a.jsx("span",{className:"text-surface-300",children:h.label})]}),a.jsx("span",{className:"text-surface-400",children:h.count})]}),a.jsx("div",{className:"h-6 bg-surface-800 rounded-lg overflow-hidden",children:a.jsx(V.div,{initial:{width:0},animate:{width:`${h.count/m*100}%`},transition:{delay:p*.1,duration:.5},className:"h-full rounded-lg",style:{backgroundColor:h.color}})})]},h.id||`group-${p}`)})}):a.jsx("p",{className:"text-center text-surface-500 py-8",children:"Ajoutez des groupes pour voir les statistiques"})]}),a.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-6",children:"Rpartition"}),a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"relative w-48 h-48",children:c.length>0&&t.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-full h-full rounded-full",style:{background:(()=>{let h="",p=0;return c.forEach(m=>{const v=m.count/t.length*100;h+=`${m.color} ${p}% ${p+v}%, `,p+=v}),`conic-gradient(${h.slice(0,-2)})`})()}}),a.jsx("div",{className:"absolute inset-4 bg-surface-900 rounded-full flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-surface-100",children:t.length}),a.jsx("p",{className:"text-xs text-surface-500",children:"items"})]})})]}):a.jsx("div",{className:"w-full h-full rounded-full bg-surface-800 flex items-center justify-center",children:a.jsx("span",{className:"text-surface-500 text-sm text-center px-4",children:"Pas de donnes"})})})}),a.jsx("div",{className:"mt-6 flex flex-wrap justify-center gap-4",children:c.map((h,p)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:h.color}}),a.jsx("span",{className:"text-sm text-surface-400",children:h.label})]},h.id||`legend-${p}`))})]})]}),l.length>0&&a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-4",children:"Colonnes numriques"}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:l.map((h,p)=>{const m=t.map(x=>{var g;return Number((g=x==null?void 0:x.values)==null?void 0:g[h.id])||0}),v=m.reduce((x,g)=>x+g,0),j=m.length>0?v/m.length:0;return a.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-surface-400 mb-2",children:h.title||`Colonne ${p+1}`}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-surface-500",children:"Total"}),a.jsx("p",{className:"font-bold text-surface-200",children:v.toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-surface-500",children:"Moyenne"}),a.jsx("p",{className:"font-bold text-surface-200",children:j.toFixed(1)})]})]})]},h.id||`numcol-${p}`)})})]})]})}const eu={day:{label:"Jour",days:1,width:120},week:{label:"Semaine",days:7,width:80},month:{label:"Mois",days:30,width:40},quarter:{label:"Trimestre",days:90,width:20}};function UB(){const{items:e,columns:t,groups:s}=ge(),[n,r]=b.useState("week"),[i,l]=b.useState(()=>{const A=new Date;return A.setDate(A.getDate()-7),A}),c=b.useRef(null),[o,u]=b.useState(0);b.useEffect(()=>{const A=()=>{c.current&&u(c.current.clientWidth)};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const d=b.useMemo(()=>(t==null?void 0:t.filter(A=>A.type==="date"))||[],[t]),f=d.find(A=>{const E=(A.name||"").toLowerCase();return E.includes("dbut")||E.includes("start")||E.includes("lancement")})||d[0],h=d.find(A=>{const E=(A.name||"").toLowerCase();return E.includes("fin")||E.includes("end")||E.includes("deadline")||E.includes("limite")||E.includes("chance")})||d[1]||f,p=t==null?void 0:t.find(A=>A.type==="status"),m=b.useMemo(()=>!e||!f?[]:e.map(A=>{var F,G,B,I;const E=(F=A.values)==null?void 0:F[f.id],S=h?(G=A.values)==null?void 0:G[h.id]:null,M=p?(B=A.values)==null?void 0:B[p.id]:null;let C=E?new Date(E):null,q=S?new Date(S):null;if(!C||isNaN(C.getTime()))return null;(!q||isNaN(q.getTime()))&&(q=new Date(C),q.setDate(q.getDate()+1));let U="#6366f1";if(M&&((I=p==null?void 0:p.config)!=null&&I.options)){const Q=p.config.options.find(P=>P.value===M);Q!=null&&Q.color&&(U=Q.color)}const _=s==null?void 0:s.find(Q=>Q.id===A.groupId);return{id:A.id,name:A.name,start:C,end:q,color:U,status:M,groupName:(_==null?void 0:_.name)||"Sans groupe",groupId:A.groupId,isOverdue:q<new Date&&M!=="done"&&M!=="completed"}}).filter(Boolean).sort((A,E)=>A.start-E.start),[e,f,h,p,s]),v=eu[n],j=Math.ceil(o/v.width)+7,x=b.useMemo(()=>{const A=[],E=new Date(i);for(let S=0;S<j;S++)A.push(new Date(E)),E.setDate(E.getDate()+1);return A},[i,j]),g=x[x.length-1],y=b.useMemo(()=>{const A={};return m.forEach(E=>{A[E.groupId]||(A[E.groupId]={name:E.groupName,items:[]}),A[E.groupId].items.push(E)}),Object.entries(A)},[m]),N=A=>{const E=i.getTime(),S=g.getTime(),M=S-E,C=Math.max(A.start.getTime(),E),q=Math.min(A.end.getTime(),S);if(q<E||C>S)return{visible:!1};const U=(C-E)/M*100,_=(q-C)/M*100;return{visible:!0,left:`${Math.max(0,U)}%`,width:`${Math.min(100-U,_)}%`}},k=A=>{const E=new Date(i),S=A*v.days*7;E.setDate(E.getDate()+S),l(E)},D=()=>{const A=new Date;A.setDate(A.getDate()-3),l(A)},w=A=>A.toLocaleDateString("fr-FR",{day:"numeric",month:"short"}),T=A=>{const E=new Date;return A.toDateString()===E.toDateString()},O=A=>{const E=A.getDay();return E===0||E===6};return f?a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-surface-800",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:D,className:"btn btn-secondary text-sm",children:"Aujourd'hui"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>k(-1),className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:a.jsx(Ex,{className:"w-5 h-5"})}),a.jsxs("span",{className:"px-3 text-sm text-surface-300 min-w-[180px] text-center",children:[w(i)," - ",w(g)]}),a.jsx("button",{onClick:()=>k(1),className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:a.jsx(fa,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>{const A=Object.keys(eu),E=A.indexOf(n);E>0&&r(A[E-1])},disabled:n==="day",className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400 disabled:opacity-50",children:a.jsx(Z7,{className:"w-4 h-4"})}),a.jsx("div",{className:"flex gap-1 bg-surface-800 rounded-lg p-1",children:Object.entries(eu).map(([A,E])=>a.jsx("button",{onClick:()=>r(A),className:`px-3 py-1 rounded-md text-sm transition-colors ${n===A?"bg-surface-700 text-surface-100":"text-surface-400 hover:text-surface-200"}`,children:E.label},A))}),a.jsx("button",{onClick:()=>{const A=Object.keys(eu),E=A.indexOf(n);E<A.length-1&&r(A[E+1])},disabled:n==="quarter",className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400 disabled:opacity-50",children:a.jsx(e9,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{ref:c,className:"flex-1 overflow-auto",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-surface-900 border-b border-surface-800",children:a.jsxs("div",{className:"flex",style:{minWidth:`${x.length*v.width}px`},children:[a.jsx("div",{className:"w-48 shrink-0 p-3 border-r border-surface-800 bg-surface-900",children:a.jsx("span",{className:"text-sm font-medium text-surface-400",children:"Tches"})}),a.jsx("div",{className:"flex",children:x.map((A,E)=>a.jsxs("div",{style:{width:v.width},className:`shrink-0 p-2 text-center border-r border-surface-800 ${T(A)?"bg-primary-500/10":O(A)?"bg-surface-800/30":""}`,children:[a.jsx("div",{className:`text-xs ${T(A)?"text-primary-400 font-bold":"text-surface-400"}`,children:A.toLocaleDateString("fr-FR",{weekday:"short"})}),a.jsx("div",{className:`text-sm ${T(A)?"text-primary-400 font-bold":"text-surface-300"}`,children:A.getDate()})]},E))})]})}),a.jsxs("div",{style:{minWidth:`${x.length*v.width}px`},children:[y.map(([A,E])=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex border-b border-surface-800 bg-surface-800/30",children:[a.jsxs("div",{className:"w-48 shrink-0 p-3 border-r border-surface-800",children:[a.jsx("span",{className:"text-sm font-medium text-surface-200",children:E.name}),a.jsxs("span",{className:"text-xs text-surface-500 ml-2",children:["(",E.items.length,")"]})]}),a.jsx("div",{className:"flex-1"})]}),E.items.map(S=>{const M=N(S);return M.visible?a.jsxs("div",{className:"flex border-b border-surface-800 hover:bg-surface-800/20",children:[a.jsxs("div",{className:"w-48 shrink-0 p-3 border-r border-surface-800 flex items-center gap-2",children:[S.isOverdue&&a.jsx(f5,{className:"w-4 h-4 text-red-400 shrink-0"}),a.jsx("span",{className:"text-sm text-surface-200 truncate",title:S.name,children:S.name})]}),a.jsxs("div",{className:"flex-1 relative h-12",children:[x.some(C=>T(C))&&a.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-primary-500 z-10",style:{left:`${(new Date().getTime()-i.getTime())/(g.getTime()-i.getTime())*100}%`}}),a.jsx(V.div,{initial:{opacity:0,scaleX:0},animate:{opacity:1,scaleX:1},className:"absolute top-2 h-8 rounded-md flex items-center px-2 text-xs font-medium text-white shadow-sm cursor-pointer hover:brightness-110 transition-all",style:{left:M.left,width:M.width,backgroundColor:S.color,transformOrigin:"left"},title:`${S.name}: ${w(S.start)} - ${w(S.end)}`,children:a.jsx("span",{className:"truncate",children:S.name})})]})]},S.id):null})]},A)),m.length===0&&a.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-surface-400",children:[a.jsx(wt,{className:"w-8 h-8 mb-2 text-surface-600"}),a.jsx("p",{className:"text-sm",children:"Aucun item avec des dates  afficher"})]})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-surface-400",children:[a.jsx(pt,{className:"w-12 h-12 mb-4 text-surface-600"}),a.jsx("p",{className:"text-lg font-medium text-surface-300",children:"Vue Timeline non disponible"}),a.jsx("p",{className:"text-sm mt-2",children:'Ajoutez une colonne de type "Date" pour utiliser la vue Timeline.'})]})}function $B(){const{boardId:e}=Et(),{setBoard:t,clearBoard:s,activeView:n}=ge(),{data:r,isLoading:i}=na({queryKey:["board",e],queryFn:async()=>(await Bc.getOne(e)).data});return b.useEffect(()=>(r&&(t(r),ZP(e)),()=>{s(),JP(e)}),[r,e,t,s]),i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"h-[calc(100vh-8rem)]",children:[a.jsx(_B,{}),a.jsxs("div",{className:"mt-4 h-full overflow-auto",children:[n==="table"&&a.jsx(EB,{}),n==="kanban"&&a.jsx(LB,{}),n==="calendar"&&a.jsx(zB,{}),n==="timeline"&&a.jsx(UB,{}),n==="chart"&&a.jsx(VB,{})]})]})}function qB(){var k,D;const{user:e,updateUser:t}=Ct(),[s,n]=b.useState("profile"),[r,i]=b.useState(!1),[l,c]=b.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||""}),[o,u]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[d,f]=b.useState({emailNotifications:!0,pushNotifications:!0,mentionNotifications:!0,taskAssigned:!0,taskCompleted:!0,comments:!0,deadlineReminder:!0,weeklyDigest:!1}),[h,p]=b.useState({theme:"dark",accentColor:"#6366f1",fontSize:"medium",compactMode:!1,animations:!0});b.useEffect(()=>{const w=localStorage.getItem("notificationSettings");if(w)try{f(JSON.parse(w))}catch{}const T=localStorage.getItem("appearanceSettings");if(T)try{p(JSON.parse(T))}catch{}},[]);const m=[{id:"profile",label:"Profil",icon:Ts},{id:"security",label:"Scurit",icon:$r},{id:"notifications",label:"Notifications",icon:_a},{id:"appearance",label:"Apparence",icon:d7}],v=async()=>{i(!0);try{const w=await PM.updateProfile(l);t(w.data),$.success("Profil mis  jour")}catch{$.error("Erreur lors de la mise  jour")}finally{i(!1)}},j=async()=>{var w,T;if(o.newPassword!==o.confirmPassword){$.error("Les mots de passe ne correspondent pas");return}if(o.newPassword.length<6){$.error("Le mot de passe doit contenir au moins 6 caractres");return}i(!0);try{await kw.changePassword({currentPassword:o.currentPassword,newPassword:o.newPassword}),$.success("Mot de passe modifi"),u({currentPassword:"",newPassword:"",confirmPassword:""})}catch(O){$.error(((T=(w=O.response)==null?void 0:w.data)==null?void 0:T.error)||"Erreur lors du changement de mot de passe")}finally{i(!1)}},x=()=>{localStorage.setItem("notificationSettings",JSON.stringify(d)),$.success("Prfrences de notifications enregistres")},g=()=>{localStorage.setItem("appearanceSettings",JSON.stringify(h)),document.documentElement.style.setProperty("--accent-color",h.accentColor),$.success("Prfrences d'apparence enregistres")},y=[{name:"Indigo",value:"#6366f1"},{name:"Violet",value:"#8b5cf6"},{name:"Rose",value:"#ec4899"},{name:"Cyan",value:"#06b6d4"},{name:"meraude",value:"#10b981"},{name:"Ambre",value:"#f59e0b"},{name:"Rouge",value:"#ef4444"}],N=({label:w,description:T,icon:O,checked:A,onChange:E})=>a.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-surface-700/50 last:border-0",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-surface-800 flex items-center justify-center",children:a.jsx(O,{className:"w-5 h-5 text-surface-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-surface-200",children:w}),a.jsx("p",{className:"text-sm text-surface-500",children:T})]})]}),a.jsx("button",{onClick:()=>E(!A),className:`relative w-12 h-6 rounded-full transition-colors ${A?"bg-primary-500":"bg-surface-700"}`,children:a.jsx(V.div,{animate:{x:A?24:2},className:"absolute top-1 w-4 h-4 bg-white rounded-full"})})]});return a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-display font-bold text-surface-100",children:"Paramtres"}),a.jsx("p",{className:"text-surface-400",children:"Grez votre compte et vos prfrences"})]}),a.jsxs("div",{className:"flex gap-8",children:[a.jsx("nav",{className:"w-48 space-y-1 flex-shrink-0",children:m.map(w=>a.jsxs("button",{onClick:()=>n(w.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${s===w.id?"bg-primary-600/20 text-primary-400":"text-surface-400 hover:text-surface-200 hover:bg-surface-800"}`,children:[a.jsx(w.icon,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:w.label})]},w.id))}),a.jsxs("div",{className:"flex-1 min-w-0",children:[s==="profile"&&a.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-surface-100 mb-6",children:"Informations du profil"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"avatar w-20 h-20 text-2xl",children:[(k=e==null?void 0:e.firstName)==null?void 0:k[0],(D=e==null?void 0:e.lastName)==null?void 0:D[0]]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-surface-100",children:"Photo de profil"}),a.jsx("p",{className:"text-sm text-surface-500 mb-2",children:"JPG, PNG ou GIF. Max 2MB."}),a.jsx("button",{className:"btn btn-secondary text-sm py-2",children:"Changer"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Prnom"}),a.jsx("input",{type:"text",value:l.firstName,onChange:w=>c({...l,firstName:w.target.value}),className:"input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom"}),a.jsx("input",{type:"text",value:l.lastName,onChange:w=>c({...l,lastName:w.target.value}),className:"input"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:e==null?void 0:e.email,disabled:!0,className:"input bg-surface-800/30 text-surface-500"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:v,disabled:r,className:"btn btn-primary",children:r?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(yc,{className:"w-4 h-4"}),a.jsx("span",{children:"Enregistrer"})]})})})]})]}),s==="security"&&a.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-surface-100 mb-6",children:"Changer le mot de passe"}),a.jsxs("div",{className:"space-y-4 max-w-md",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Mot de passe actuel"}),a.jsx("input",{type:"password",value:o.currentPassword,onChange:w=>u({...o,currentPassword:w.target.value}),className:"input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nouveau mot de passe"}),a.jsx("input",{type:"password",value:o.newPassword,onChange:w=>u({...o,newPassword:w.target.value}),className:"input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Confirmer le mot de passe"}),a.jsx("input",{type:"password",value:o.confirmPassword,onChange:w=>u({...o,confirmPassword:w.target.value}),className:"input"})]}),a.jsx("div",{className:"pt-4",children:a.jsx("button",{onClick:j,disabled:r,className:"btn btn-primary",children:r?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx($r,{className:"w-4 h-4"}),a.jsx("span",{children:"Changer le mot de passe"})]})})})]})]}),s==="notifications"&&a.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-surface-100 mb-6",children:"Prfrences de notifications"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(N,{label:"Notifications par email",description:"Recevez des emails pour les mises  jour importantes",icon:No,checked:d.emailNotifications,onChange:w=>f({...d,emailNotifications:w})}),a.jsx(N,{label:"Notifications push",description:"Notifications en temps rel dans l'application",icon:_a,checked:d.pushNotifications,onChange:w=>f({...d,pushNotifications:w})}),a.jsx(N,{label:"Mentions",description:"Quand quelqu'un vous mentionne dans un commentaire",icon:s7,checked:d.mentionNotifications,onChange:w=>f({...d,mentionNotifications:w})}),a.jsx(N,{label:"Tches assignes",description:"Quand une tche vous est assigne",icon:Ts,checked:d.taskAssigned,onChange:w=>f({...d,taskAssigned:w})}),a.jsx(N,{label:"Tches termines",description:"Quand une tche que vous suivez est termine",icon:at,checked:d.taskCompleted,onChange:w=>f({...d,taskCompleted:w})}),a.jsx(N,{label:"Rappels d'chance",description:"Rappels pour les tches dont l'chance approche",icon:As,checked:d.deadlineReminder,onChange:w=>f({...d,deadlineReminder:w})}),a.jsx(N,{label:"Rsum hebdomadaire",description:"Recevez un rsum de votre activit chaque semaine",icon:R_,checked:d.weeklyDigest,onChange:w=>f({...d,weeklyDigest:w})})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsxs("button",{onClick:x,className:"btn btn-primary",children:[a.jsx(yc,{className:"w-4 h-4"}),a.jsx("span",{children:"Enregistrer"})]})})]}),s==="appearance"&&a.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-surface-100 mb-6",children:"Thme"}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{id:"light",label:"Clair",icon:R7},{id:"dark",label:"Sombre",icon:i7},{id:"system",label:"Systme",icon:b5}].map(w=>a.jsxs("button",{onClick:()=>p({...h,theme:w.id}),className:`p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${h.theme===w.id?"border-primary-500 bg-primary-500/10":"border-surface-700 hover:border-surface-600"}`,children:[a.jsx(w.icon,{className:`w-6 h-6 ${h.theme===w.id?"text-primary-400":"text-surface-400"}`}),a.jsx("span",{className:h.theme===w.id?"text-primary-400":"text-surface-400",children:w.label}),h.theme===w.id&&a.jsx(Vr,{className:"w-4 h-4 text-primary-400"})]},w.id))})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-surface-100 mb-6",children:"Couleur d'accent"}),a.jsx("div",{className:"flex flex-wrap gap-3",children:y.map(w=>a.jsx("button",{onClick:()=>p({...h,accentColor:w.value}),className:`w-12 h-12 rounded-xl transition-all relative ${h.accentColor===w.value?"ring-2 ring-offset-2 ring-offset-surface-900":"hover:scale-110"}`,style:{backgroundColor:w.value,ringColor:w.value},title:w.name,children:h.accentColor===w.value&&a.jsx(Vr,{className:"w-5 h-5 text-white absolute inset-0 m-auto"})},w.value))})]}),a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-xl font-semibold text-surface-100 mb-6",children:"Options d'affichage"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-surface-200",children:"Mode compact"}),a.jsx("p",{className:"text-sm text-surface-500",children:"Rduit l'espacement pour afficher plus de contenu"})]}),a.jsx("button",{onClick:()=>p({...h,compactMode:!h.compactMode}),className:`relative w-12 h-6 rounded-full transition-colors ${h.compactMode?"bg-primary-500":"bg-surface-700"}`,children:a.jsx(V.div,{animate:{x:h.compactMode?24:2},className:"absolute top-1 w-4 h-4 bg-white rounded-full"})})]}),a.jsxs("div",{className:"flex items-center justify-between py-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-surface-200",children:"Animations"}),a.jsx("p",{className:"text-sm text-surface-500",children:"Activer les animations et transitions"})]}),a.jsx("button",{onClick:()=>p({...h,animations:!h.animations}),className:`relative w-12 h-6 rounded-full transition-colors ${h.animations?"bg-primary-500":"bg-surface-700"}`,children:a.jsx(V.div,{animate:{x:h.animations?24:2},className:"absolute top-1 w-4 h-4 bg-white rounded-full"})})]}),a.jsxs("div",{className:"py-3",children:[a.jsx("p",{className:"font-medium text-surface-200 mb-2",children:"Taille du texte"}),a.jsx("div",{className:"flex gap-2",children:["small","medium","large"].map(w=>a.jsx("button",{onClick:()=>p({...h,fontSize:w}),className:`px-4 py-2 rounded-lg text-sm transition-colors ${h.fontSize===w?"bg-primary-500/20 text-primary-400":"bg-surface-800 text-surface-400 hover:text-surface-200"}`,children:w==="small"?"Petit":w==="medium"?"Normal":"Grand"},w))})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsxs("button",{onClick:g,className:"btn btn-primary",children:[a.jsx(yc,{className:"w-4 h-4"}),a.jsx("span",{children:"Enregistrer"})]})})]})]})]})]})]})}const Ap={owner:h_,admin:E7,member:Hn,viewer:Ur},Ru={owner:"Propritaire",admin:"Administrateur",member:"Membre",viewer:"Observateur"},aj={owner:"text-yellow-400 bg-yellow-400/10",admin:"text-purple-400 bg-purple-400/10",member:"text-blue-400 bg-blue-400/10",viewer:"text-surface-400 bg-surface-400/10"};function FB(){const{workspaceId:e}=Et(),t=da(),[s,n]=b.useState(!1),[r,i]=b.useState(null),[l,c]=b.useState(null),{data:o=[],isLoading:u}=na({queryKey:["members",e],queryFn:async()=>(await Ot.getByWorkspace(e)).data}),{data:d=[]}=na({queryKey:["invitations",e],queryFn:async()=>(await Ot.getInvitations(e)).data}),f=Nn({mutationFn:({memberId:j,role:x})=>Ot.updateRole(e,j,{role:x}),onSuccess:()=>{t.invalidateQueries(["members",e]),$.success("Rle mis  jour"),c(null)},onError:j=>{var x,g;$.error(((g=(x=j.response)==null?void 0:x.data)==null?void 0:g.error)||"Erreur")}}),h=Nn({mutationFn:j=>Ot.remove(e,j),onSuccess:()=>{t.invalidateQueries(["members",e]),$.success("Membre retir")},onError:j=>{var x,g;$.error(((g=(x=j.response)==null?void 0:x.data)==null?void 0:g.error)||"Erreur")}}),p=Nn({mutationFn:j=>Ot.cancelInvitation(j),onSuccess:()=>{t.invalidateQueries(["invitations",e]),$.success("Invitation annule")}}),m=Nn({mutationFn:j=>Ot.resendInvitation(j),onSuccess:()=>{$.success("Invitation renvoye")}}),v=j=>{confirm("tes-vous sr de vouloir retirer ce membre ?")&&h.mutate(j),i(null)};return a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-display font-bold text-surface-100 flex items-center gap-3",children:[a.jsx(Ye,{className:"w-8 h-8 text-primary-400"}),"Gestion des membres"]}),a.jsxs("p",{className:"text-surface-400 mt-1",children:[o.length," membre",o.length>1?"s":""," dans ce workspace"]})]}),a.jsxs("button",{onClick:()=>n(!0),className:"btn btn-primary",children:[a.jsx(Ar,{className:"w-4 h-4"}),a.jsx("span",{children:"Inviter"})]})]}),a.jsxs("div",{className:"card mb-8",children:[a.jsx("h2",{className:"text-lg font-semibold text-surface-100 mb-4",children:"Membres"}),u?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):a.jsx("div",{className:"space-y-2",children:o.map((j,x)=>{var y,N;const g=Ap[j.role];return a.jsxs(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:x*.05},className:"flex items-center justify-between p-4 rounded-xl bg-surface-800/50 hover:bg-surface-800 transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"avatar",children:[(y=j.firstName)==null?void 0:y[0],(N=j.lastName)==null?void 0:N[0]]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-surface-100",children:j.fullName}),a.jsx("p",{className:"text-sm text-surface-500",children:j.email})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"hidden md:flex items-center gap-4 text-sm text-surface-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Fc,{className:"w-4 h-4"}),j.stats.itemsCreated," items"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(wt,{className:"w-4 h-4"}),j.lastLogin?Ed(new Date(j.lastLogin),{addSuffix:!0,locale:Ha}):"Jamais connect"]})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>j.role!=="owner"&&c(l===j.id?null:j.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium ${aj[j.role]} ${j.role!=="owner"?"cursor-pointer hover:opacity-80":""}`,children:[a.jsx(g,{className:"w-4 h-4"}),Ru[j.role]]}),a.jsx(te,{children:l===j.id&&a.jsx(V.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"dropdown right-0 top-full mt-2",children:["admin","member","viewer"].map(k=>{const D=Ap[k];return a.jsxs("button",{onClick:()=>f.mutate({memberId:j.id,role:k}),className:`dropdown-item ${j.role===k?"bg-surface-700":""}`,children:[a.jsx(D,{className:"w-4 h-4"}),Ru[k]]},k)})})})]}),j.role!=="owner"&&a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>i(r===j.id?null:j.id),className:"p-2 rounded-lg hover:bg-surface-700 text-surface-500 opacity-0 group-hover:opacity-100 transition-all",children:a.jsx(jl,{className:"w-4 h-4"})}),a.jsx(te,{children:r===j.id&&a.jsx(V.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"dropdown right-0 top-full mt-2",children:a.jsxs("button",{onClick:()=>v(j.id),className:"dropdown-item text-red-400 hover:text-red-300",children:[a.jsx(ct,{className:"w-4 h-4"}),"Retirer"]})})})]})]})]},j.id)})})]}),d.length>0&&a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-lg font-semibold text-surface-100 mb-4",children:"Invitations en attente"}),a.jsx("div",{className:"space-y-2",children:d.map(j=>a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-surface-800/50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-surface-700 flex items-center justify-center",children:a.jsx(No,{className:"w-5 h-5 text-surface-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-surface-200",children:j.email}),a.jsxs("p",{className:"text-sm text-surface-500",children:["Expire"," ",Ed(new Date(j.expiresAt),{addSuffix:!0,locale:Ha})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${aj[j.role]}`,children:Ru[j.role]}),a.jsx("button",{onClick:()=>m.mutate(j.id),className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",title:"Renvoyer",children:a.jsx(us,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>p.mutate(j.id),className:"p-2 rounded-lg hover:bg-surface-700 text-red-400",title:"Annuler",children:a.jsx(fe,{className:"w-4 h-4"})})]})]},j.id))})]}),a.jsx(HB,{isOpen:s,onClose:()=>n(!1),workspaceId:e})]})}function HB({isOpen:e,onClose:t,workspaceId:s}){const n=da(),[r,i]=b.useState(""),[l,c]=b.useState("member"),[o,u]=b.useState(!1),d=async f=>{var h,p;if(f.preventDefault(),!!r.trim()){u(!0);try{await Ot.invite(s,{email:r,role:l}),n.invalidateQueries(["members",s]),n.invalidateQueries(["invitations",s]),$.success("Invitation envoye"),t(),i(""),c("member")}catch(m){$.error(((p=(h=m.response)==null?void 0:h.data)==null?void 0:p.error)||"Erreur lors de l'envoi")}finally{u(!1)}}};return e?a.jsx(te,{children:a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:a.jsxs(V.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content max-w-md",onClick:f=>f.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-600/20 flex items-center justify-center",children:a.jsx(Ar,{className:"w-5 h-5 text-primary-400"})}),a.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Inviter un membre"})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Adresse email"}),a.jsx("input",{type:"email",value:r,onChange:f=>i(f.target.value),placeholder:"collegue@exemple.com",className:"input",required:!0,autoFocus:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Rle"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:["admin","member","viewer"].map(f=>{const h=Ap[f];return a.jsxs("button",{type:"button",onClick:()=>c(f),className:`flex flex-col items-center gap-2 p-3 rounded-xl border-2 transition-all ${l===f?"border-primary-500 bg-primary-500/10":"border-surface-700 hover:border-surface-600"}`,children:[a.jsx(h,{className:`w-5 h-5 ${l===f?"text-primary-400":"text-surface-400"}`}),a.jsx("span",{className:`text-xs font-medium ${l===f?"text-primary-300":"text-surface-400"}`,children:Ru[f]})]},f)})})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:o||!r.trim(),className:"btn btn-primary",children:o?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Envoyer l'invitation"})]})]})]})})}):null}function IB(){const{workspaceId:e}=Et(),t=Ms(),s=da(),[n,r]=b.useState(!1),[i,l]=b.useState(null),{data:c=[],isLoading:o}=na({queryKey:["budgets",e],queryFn:async()=>(await zr.getByWorkspace(e)).data}),u=Nn({mutationFn:p=>zr.delete(p),onSuccess:()=>{s.invalidateQueries(["budgets",e]),$.success("Budget supprim")},onError:p=>{var m,v;$.error(((v=(m=p.response)==null?void 0:m.data)==null?void 0:v.error)||"Erreur")}}),d=(p,m)=>{m.stopPropagation(),confirm("tes-vous sr de vouloir supprimer ce budget ?")&&u.mutate(p),l(null)},f=c.reduce((p,m)=>({total:p.total+m.totalAmount,spent:p.spent+m.spentAmount,remaining:p.remaining+m.remainingAmount}),{total:0,spent:0,remaining:0}),h=(p,m="XAF")=>m==="XAF"?new Intl.NumberFormat("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0}).format(p)+" FCFA":new Intl.NumberFormat("fr-FR",{style:"currency",currency:m,minimumFractionDigits:0,maximumFractionDigits:0}).format(p);return a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-display font-bold text-surface-100 flex items-center gap-3",children:[a.jsx(Tr,{className:"w-8 h-8 text-primary-400"}),"Gestion des budgets"]}),a.jsx("p",{className:"text-surface-400 mt-1",children:"Suivez et grez les budgets de vos projets"})]}),a.jsxs("button",{onClick:()=>r(!0),className:"btn btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),a.jsx("span",{children:"Nouveau budget"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-500/20 flex items-center justify-center",children:a.jsx(jd,{className:"w-6 h-6 text-blue-400"})})}),a.jsx("p",{className:"text-3xl font-display font-bold text-surface-100",children:h(f.total)}),a.jsx("p",{className:"text-sm text-surface-400",children:"Budget total"})]}),a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-500/20 flex items-center justify-center",children:a.jsx(mf,{className:"w-6 h-6 text-red-400"})})}),a.jsx("p",{className:"text-3xl font-display font-bold text-surface-100",children:h(f.spent)}),a.jsx("p",{className:"text-sm text-surface-400",children:"Dpens"})]}),a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-500/20 flex items-center justify-center",children:a.jsx(Kt,{className:"w-6 h-6 text-green-400"})})}),a.jsx("p",{className:"text-3xl font-display font-bold text-surface-100",children:h(f.remaining)}),a.jsx("p",{className:"text-sm text-surface-400",children:"Restant"})]})]}),o?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):c.length===0?a.jsxs(V.div,{initial:{opacity:0},animate:{opacity:1},className:"card text-center py-16",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary-500/20 to-purple-500/20 flex items-center justify-center mx-auto mb-6",children:a.jsx(Tr,{className:"w-8 h-8 text-primary-400"})}),a.jsx("h3",{className:"text-xl font-display font-semibold text-surface-100 mb-2",children:"Crez votre premier budget"}),a.jsx("p",{className:"text-surface-400 max-w-md mx-auto mb-6",children:"Les budgets vous permettent de suivre les dpenses et de contrler les cots de vos projets."}),a.jsxs("button",{onClick:()=>r(!0),className:"btn btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),a.jsx("span",{children:"Crer un budget"})]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.map((p,m)=>a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.05},onClick:()=>t(`/workspace/${e}/budget/${p.id}`),className:"card p-6 cursor-pointer hover:border-primary-500/50 transition-all group",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:`${p.color}20`},children:a.jsx(Tr,{className:"w-6 h-6",style:{color:p.color}})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[p.name,a.jsx(yt,{className:"w-4 h-4 text-surface-500 opacity-0 group-hover:opacity-100 transition-opacity"})]}),p.description&&a.jsx("p",{className:"text-sm text-surface-500 line-clamp-1",children:p.description})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:v=>{v.stopPropagation(),l(i===p.id?null:p.id)},className:"p-2 rounded-lg hover:bg-surface-700 text-surface-500 opacity-0 group-hover:opacity-100 transition-all",children:a.jsx(jl,{className:"w-4 h-4"})}),i===p.id&&a.jsx("div",{className:"dropdown right-0 top-full mt-1",children:a.jsxs("button",{onClick:v=>d(p.id,v),className:"dropdown-item text-red-400 hover:text-red-300",children:[a.jsx(ct,{className:"w-4 h-4"}),"Supprimer"]})})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[a.jsxs("span",{className:"text-surface-400",children:[h(p.spentAmount,p.currency)," dpens"]}),a.jsxs("span",{className:"text-surface-300 font-medium",children:[p.percentUsed,"%"]})]}),a.jsx("div",{className:"h-2 bg-surface-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${Math.min(p.percentUsed,100)}%`,backgroundColor:p.percentUsed>90?"#ef4444":p.percentUsed>75?"#f97316":p.color}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"text-surface-400",children:["Budget: ",h(p.totalAmount,p.currency)]}),p.endDate&&a.jsxs("span",{className:"flex items-center gap-1 text-surface-500",children:[a.jsx(pt,{className:"w-3.5 h-3.5"}),Ks(new Date(p.endDate),"d MMM yyyy",{locale:Ha})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-surface-700/50 text-xs text-surface-500",children:[a.jsxs("span",{children:[p.categoryCount," catgories"]}),a.jsxs("span",{children:[p.expenseCount," dpenses"]})]})]},p.id))}),a.jsx(YB,{isOpen:n,onClose:()=>r(!1),workspaceId:e})]})}function YB({isOpen:e,onClose:t,workspaceId:s}){const n=da(),[r,i]=b.useState(!1),[l,c]=b.useState({name:"",description:"",totalAmount:"",currency:"XAF",startDate:"",endDate:"",color:"#6366f1"}),o=["#6366f1","#8b5cf6","#ec4899","#ef4444","#f97316","#eab308","#22c55e","#14b8a6","#06b6d4","#3b82f6"],u=async d=>{var f,h;if(d.preventDefault(),!(!l.name.trim()||!l.totalAmount)){i(!0);try{await zr.create({workspaceId:s,name:l.name,description:l.description||null,totalAmount:parseFloat(l.totalAmount),currency:l.currency,startDate:l.startDate||null,endDate:l.endDate||null,color:l.color}),n.invalidateQueries(["budgets",s]),$.success("Budget cr avec succs"),t(),c({name:"",description:"",totalAmount:"",currency:"XAF",startDate:"",endDate:"",color:"#6366f1"})}catch(p){$.error(((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.error)||"Erreur lors de la cration")}finally{i(!1)}}};return e?a.jsx(te,{children:a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:a.jsxs(V.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content",onClick:d=>d.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-600/20 flex items-center justify-center",children:a.jsx(Tr,{className:"w-5 h-5 text-primary-400"})}),a.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Nouveau budget"})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom du budget"}),a.jsx("input",{type:"text",value:l.name,onChange:d=>c({...l,name:d.target.value}),placeholder:"Ex: Marketing Q1",className:"input",required:!0,autoFocus:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Description ",a.jsx("span",{className:"text-surface-500",children:"(optionnel)"})]}),a.jsx("textarea",{value:l.description,onChange:d=>c({...l,description:d.target.value}),placeholder:"Description du budget...",className:"input resize-none h-20"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Montant total"}),a.jsx("input",{type:"number",min:"0",step:"0.01",value:l.totalAmount,onChange:d=>c({...l,totalAmount:d.target.value}),placeholder:"10000",className:"input",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Devise"}),a.jsxs("select",{value:l.currency,onChange:d=>c({...l,currency:d.target.value}),className:"input",children:[a.jsx("option",{value:"XAF",children:"XAF (FCFA)"}),a.jsx("option",{value:"EUR",children:"EUR ()"}),a.jsx("option",{value:"USD",children:"USD ($)"}),a.jsx("option",{value:"GBP",children:"GBP ()"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Date de dbut"}),a.jsx("input",{type:"date",value:l.startDate,onChange:d=>c({...l,startDate:d.target.value}),className:"input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Date de fin"}),a.jsx("input",{type:"date",value:l.endDate,onChange:d=>c({...l,endDate:d.target.value}),className:"input"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Couleur"}),a.jsx("div",{className:"flex gap-2",children:o.map(d=>a.jsx("button",{type:"button",onClick:()=>c({...l,color:d}),className:`w-8 h-8 rounded-full transition-transform ${l.color===d?"ring-2 ring-offset-2 ring-offset-surface-900 ring-white scale-110":"hover:scale-110"}`,style:{backgroundColor:d}},d))})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:r||!l.name.trim()||!l.totalAmount,className:"btn btn-primary",children:r?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Crer le budget"})]})]})]})})}):null}function GB(){const{workspaceId:e,budgetId:t}=Et(),s=Ms(),n=da(),[r,i]=b.useState(!1),[l,c]=b.useState(!1),[o,u]=b.useState(null),{data:d,isLoading:f}=na({queryKey:["budget",t],queryFn:async()=>(await zr.getOne(t)).data}),h=Nn({mutationFn:m=>zr.deleteExpense(t,m),onSuccess:()=>{n.invalidateQueries(["budget",t]),$.success("Dpense supprime")}}),p=(m,v="XAF")=>v==="XAF"?new Intl.NumberFormat("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0}).format(m)+" FCFA":new Intl.NumberFormat("fr-FR",{style:"currency",currency:v,minimumFractionDigits:0,maximumFractionDigits:2}).format(m);return f?a.jsx("div",{className:"flex justify-center py-16",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):d?a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[a.jsxs("button",{onClick:()=>s(`/workspace/${e}/budgets`),className:"flex items-center gap-2 text-surface-400 hover:text-surface-200 mb-4",children:[a.jsx(ff,{className:"w-4 h-4"}),"Retour aux budgets"]}),a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center",style:{backgroundColor:`${d.color}20`},children:a.jsx(Tr,{className:"w-8 h-8",style:{color:d.color}})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-display font-bold text-surface-100",children:d.name}),d.description&&a.jsx("p",{className:"text-surface-400 mt-1",children:d.description})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>c(!0),className:"btn btn-secondary",children:[a.jsx(N5,{className:"w-4 h-4"}),a.jsx("span",{children:"Catgorie"})]}),a.jsxs("button",{onClick:()=>i(!0),className:"btn btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),a.jsx("span",{children:"Dpense"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-5",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:a.jsx(Tr,{className:"w-5 h-5 text-blue-400"})}),a.jsx("span",{className:"text-sm text-surface-400",children:"Budget total"})]}),a.jsx("p",{className:"text-2xl font-bold text-surface-100",children:p(d.totalAmount,d.currency)})]}),a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-5",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:a.jsx(mf,{className:"w-5 h-5 text-red-400"})}),a.jsx("span",{className:"text-sm text-surface-400",children:"Dpens"})]}),a.jsx("p",{className:"text-2xl font-bold text-surface-100",children:p(d.spentAmount,d.currency)})]}),a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-5",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:a.jsx(Kt,{className:"w-5 h-5 text-green-400"})}),a.jsx("span",{className:"text-sm text-surface-400",children:"Restant"})]}),a.jsx("p",{className:"text-2xl font-bold text-surface-100",children:p(d.remainingAmount,d.currency)})]}),a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card p-5",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:a.jsx(sl,{className:"w-5 h-5 text-purple-400"})}),a.jsx("span",{className:"text-sm text-surface-400",children:"Utilis"})]}),a.jsxs("p",{className:"text-2xl font-bold text-surface-100",children:[d.percentUsed,"%"]})]})]}),a.jsxs("div",{className:"card p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("span",{className:"text-sm font-medium text-surface-300",children:"Progression du budget"}),a.jsxs("span",{className:"text-sm text-surface-400",children:[p(d.spentAmount,d.currency)," /"," ",p(d.totalAmount,d.currency)]})]}),a.jsx("div",{className:"h-4 bg-surface-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${Math.min(d.percentUsed,100)}%`,backgroundColor:d.percentUsed>90?"#ef4444":d.percentUsed>75?"#f97316":d.color}})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"card",children:[a.jsx("h2",{className:"text-lg font-semibold text-surface-100 mb-4",children:"Catgories"}),d.categories.length===0?a.jsx("p",{className:"text-surface-500 text-sm py-4 text-center",children:"Aucune catgorie"}):a.jsx("div",{className:"space-y-3",children:d.categories.map(m=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-surface-800/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:m.color}}),a.jsx("span",{className:"text-sm text-surface-200",children:m.name})]}),a.jsx("span",{className:"text-sm font-medium text-surface-300",children:p(m.spentAmount,d.currency)})]},m.id))})]})}),a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Dpenses rcentes"}),a.jsxs("span",{className:"text-sm text-surface-500",children:[d.expenses.length," dpense(s)"]})]}),d.expenses.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Yc,{className:"w-12 h-12 text-surface-600 mx-auto mb-3"}),a.jsx("p",{className:"text-surface-500",children:"Aucune dpense enregistre"})]}):a.jsx("div",{className:"space-y-2",children:d.expenses.map(m=>a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-surface-800/50 hover:bg-surface-800 transition-colors group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:m.categoryColor?`${m.categoryColor}20`:"rgb(51 65 85 / 0.5)"},children:a.jsx(Yc,{className:"w-5 h-5",style:{color:m.categoryColor||"#94a3b8"}})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-surface-200",children:m.description}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-surface-500",children:[m.categoryName&&a.jsx("span",{className:"px-2 py-0.5 rounded",style:{backgroundColor:`${m.categoryColor}20`,color:m.categoryColor},children:m.categoryName}),m.vendor&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(tl,{className:"w-3 h-3"}),m.vendor]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(pt,{className:"w-3 h-3"}),Ks(new Date(m.expenseDate),"d MMM yyyy",{locale:Ha})]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-lg font-semibold text-surface-100",children:["-",p(m.amount,d.currency)]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>u(o===m.id?null:m.id),className:"p-2 rounded-lg hover:bg-surface-700 text-surface-500 opacity-0 group-hover:opacity-100 transition-all",children:a.jsx(jl,{className:"w-4 h-4"})}),o===m.id&&a.jsx("div",{className:"dropdown right-0 top-full mt-1",children:a.jsxs("button",{onClick:()=>{confirm("Supprimer cette dpense ?")&&h.mutate(m.id),u(null)},className:"dropdown-item text-red-400 hover:text-red-300",children:[a.jsx(ct,{className:"w-4 h-4"}),"Supprimer"]})})]})]})]},m.id))})]})})]}),a.jsx(KB,{isOpen:r,onClose:()=>i(!1),budget:d}),a.jsx(QB,{isOpen:l,onClose:()=>c(!1),budgetId:t})]}):a.jsx("div",{className:"text-center py-16",children:a.jsx("p",{className:"text-surface-400",children:"Budget non trouv"})})}function KB({isOpen:e,onClose:t,budget:s}){const n=da(),[r,i]=b.useState(!1),[l,c]=b.useState({description:"",amount:"",categoryId:"",expenseDate:Ks(new Date,"yyyy-MM-dd"),vendor:"",notes:""}),o=async u=>{var d,f;if(u.preventDefault(),!(!l.description.trim()||!l.amount)){i(!0);try{await zr.addExpense(s.id,{description:l.description,amount:parseFloat(l.amount),categoryId:l.categoryId||null,expenseDate:l.expenseDate,vendor:l.vendor||null,notes:l.notes||null}),n.invalidateQueries(["budget",s.id]),$.success("Dpense ajoute"),t(),c({description:"",amount:"",categoryId:"",expenseDate:Ks(new Date,"yyyy-MM-dd"),vendor:"",notes:""})}catch(h){$.error(((f=(d=h.response)==null?void 0:d.data)==null?void 0:f.error)||"Erreur")}finally{i(!1)}}};return e?a.jsx(te,{children:a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:a.jsxs(V.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content",onClick:u=>u.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-600/20 flex items-center justify-center",children:a.jsx(Yc,{className:"w-5 h-5 text-red-400"})}),a.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Nouvelle dpense"})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),a.jsx("input",{type:"text",value:l.description,onChange:u=>c({...l,description:u.target.value}),placeholder:"Ex: Achat de matriel",className:"input",required:!0,autoFocus:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Montant (",s.currency,")"]}),a.jsx("input",{type:"number",min:"0.01",step:"0.01",value:l.amount,onChange:u=>c({...l,amount:u.target.value}),placeholder:"0.00",className:"input",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Date"}),a.jsx("input",{type:"date",value:l.expenseDate,onChange:u=>c({...l,expenseDate:u.target.value}),className:"input"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Catgorie"}),a.jsxs("select",{value:l.categoryId,onChange:u=>c({...l,categoryId:u.target.value}),className:"input",children:[a.jsx("option",{value:"",children:"Sans catgorie"}),s.categories.map(u=>a.jsx("option",{value:u.id,children:u.name},u.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Fournisseur ",a.jsx("span",{className:"text-surface-500",children:"(optionnel)"})]}),a.jsx("input",{type:"text",value:l.vendor,onChange:u=>c({...l,vendor:u.target.value}),placeholder:"Ex: Amazon",className:"input"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Notes ",a.jsx("span",{className:"text-surface-500",children:"(optionnel)"})]}),a.jsx("textarea",{value:l.notes,onChange:u=>c({...l,notes:u.target.value}),placeholder:"Notes supplmentaires...",className:"input resize-none h-20"})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:r||!l.description.trim()||!l.amount,className:"btn btn-primary",children:r?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Ajouter"})]})]})]})})}):null}function QB({isOpen:e,onClose:t,budgetId:s}){const n=da(),[r,i]=b.useState(!1),[l,c]=b.useState({name:"",allocatedAmount:"",color:"#6366f1"}),o=["#6366f1","#8b5cf6","#ec4899","#ef4444","#f97316","#eab308","#22c55e","#14b8a6"],u=async d=>{var f,h;if(d.preventDefault(),!!l.name.trim()){i(!0);try{await zr.addCategory(s,{name:l.name,allocatedAmount:l.allocatedAmount?parseFloat(l.allocatedAmount):0,color:l.color}),n.invalidateQueries(["budget",s]),$.success("Catgorie ajoute"),t(),c({name:"",allocatedAmount:"",color:"#6366f1"})}catch(p){$.error(((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.error)||"Erreur")}finally{i(!1)}}};return e?a.jsx(te,{children:a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay",onClick:t,children:a.jsxs(V.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"modal-content max-w-md",onClick:d=>d.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary-600/20 flex items-center justify-center",children:a.jsx(N5,{className:"w-5 h-5 text-primary-400"})}),a.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Nouvelle catgorie"})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom de la catgorie"}),a.jsx("input",{type:"text",value:l.name,onChange:d=>c({...l,name:d.target.value}),placeholder:"Ex: Marketing",className:"input",required:!0,autoFocus:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Budget allou ",a.jsx("span",{className:"text-surface-500",children:"(optionnel)"})]}),a.jsx("input",{type:"number",min:"0",step:"0.01",value:l.allocatedAmount,onChange:d=>c({...l,allocatedAmount:d.target.value}),placeholder:"0",className:"input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Couleur"}),a.jsx("div",{className:"flex gap-2",children:o.map(d=>a.jsx("button",{type:"button",onClick:()=>c({...l,color:d}),className:`w-8 h-8 rounded-full transition-transform ${l.color===d?"ring-2 ring-offset-2 ring-offset-surface-900 ring-white scale-110":"hover:scale-110"}`,style:{backgroundColor:d}},d))})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:r||!l.name.trim(),className:"btn btn-primary",children:r?a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Ajouter"})]})]})]})})}):null}const XB=({value:e,size:t=80,strokeWidth:s=8,color:n="#6366f1"})=>{const r=(t-s)/2,i=r*2*Math.PI,l=i-e/100*i;return a.jsxs("div",{className:"relative",style:{width:t,height:t},children:[a.jsxs("svg",{width:t,height:t,className:"transform -rotate-90",children:[a.jsx("circle",{cx:t/2,cy:t/2,r,stroke:"currentColor",strokeWidth:s,fill:"none",className:"text-surface-700"}),a.jsx("circle",{cx:t/2,cy:t/2,r,stroke:n,strokeWidth:s,fill:"none",strokeDasharray:i,strokeDashoffset:l,strokeLinecap:"round",className:"transition-all duration-700"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("span",{className:"text-lg font-bold",style:{color:n},children:[e,"%"]})})]})},WB=({data:e,maxValue:t})=>{const s=t||Math.max(...e.map(n=>n.value),1);return a.jsx("div",{className:"space-y-3",children:e.map((n,r)=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{className:"text-surface-300 truncate",children:n.label}),a.jsx("span",{className:"text-surface-400 font-medium",children:n.value})]}),a.jsx("div",{className:"h-3 bg-surface-800 rounded-full overflow-hidden",children:a.jsx(V.div,{initial:{width:0},animate:{width:`${n.value/s*100}%`},transition:{delay:r*.1,duration:.6},className:"h-full rounded-full",style:{backgroundColor:n.color}})})]},r))})},ZB=({data:e,size:t=200})=>{const s=t/2,n=t*.4,r=2*Math.PI/e.length,i=(c,o)=>{const u=r*o-Math.PI/2,d=c/100*n;return{x:s+d*Math.cos(u),y:s+d*Math.sin(u)}},l=[25,50,75,100];return a.jsxs("svg",{width:t,height:t,className:"overflow-visible",children:[l.map(c=>{const o=c/100*n,u=e.map((d,f)=>{const h=r*f-Math.PI/2;return`${s+o*Math.cos(h)},${s+o*Math.sin(h)}`}).join(" ");return a.jsx("polygon",{points:u,fill:"none",stroke:"currentColor",strokeWidth:"1",className:"text-surface-700"},c)}),e.map((c,o)=>{const u=r*o-Math.PI/2,d=s+n*Math.cos(u),f=s+n*Math.sin(u);return a.jsxs("g",{children:[a.jsx("line",{x1:s,y1:s,x2:d,y2:f,stroke:"currentColor",strokeWidth:"1",className:"text-surface-700"}),a.jsx("text",{x:s+(n+20)*Math.cos(u),y:s+(n+20)*Math.sin(u),textAnchor:"middle",dominantBaseline:"middle",className:"fill-surface-400 text-xs",children:c.label})]},o)}),a.jsx(V.polygon,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},points:e.map((c,o)=>{const u=i(c.value,o);return`${u.x},${u.y}`}).join(" "),fill:"rgba(99, 102, 241, 0.2)",stroke:"#6366f1",strokeWidth:"2"}),e.map((c,o)=>{const u=i(c.value,o);return a.jsx(V.circle,{initial:{r:0},animate:{r:4},transition:{delay:o*.1},cx:u.x,cy:u.y,fill:"#6366f1"},o)})]})},JB=({data:e,size:t=120})=>{const s=e.reduce((l,c)=>l+c.value,0),n=t/2,r=t*.4;let i=-Math.PI/2;return a.jsxs("svg",{width:t,height:t,children:[e.map((l,c)=>{const u=(s>0?l.value/s:0)*2*Math.PI,d=i,f=i+u;i=f;const h=n+r*Math.cos(d),p=n+r*Math.sin(d),m=n+r*Math.cos(f),v=n+r*Math.sin(f),j=u>Math.PI?1:0;return a.jsx(V.path,{initial:{opacity:0},animate:{opacity:1},transition:{delay:c*.1},d:`M ${n} ${n} L ${h} ${p} A ${r} ${r} 0 ${j} 1 ${m} ${v} Z`,fill:l.color,className:"cursor-pointer hover:opacity-80 transition-opacity"},c)}),a.jsx("circle",{cx:n,cy:n,r:r*.5,fill:"currentColor",className:"text-surface-900"}),a.jsx("text",{x:n,y:n,textAnchor:"middle",dominantBaseline:"middle",className:"fill-surface-200 text-lg font-bold",children:s})]})},ez=({score:e})=>{let t={icon:j5,label:"Standard",color:"text-surface-400",bg:"bg-surface-700"};e>=90?t={icon:w5,label:"Excellence",color:"text-yellow-400",bg:"bg-yellow-500/20"}:e>=75?t={icon:e7,label:"Performant",color:"text-green-400",bg:"bg-green-500/20"}:e>=50?t={icon:as,label:"En progrs",color:"text-blue-400",bg:"bg-blue-500/20"}:e>=25&&(t={icon:As,label:" amliorer",color:"text-orange-400",bg:"bg-orange-500/20"});const s=t.icon;return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${t.bg} ${t.color}`,children:[a.jsx(s,{className:"w-3 h-3"}),t.label]})},tz=({member:e,rank:t})=>{var l,c;const[s,n]=b.useState(!1),{metrics:r}=e,i=o=>o>=75?"#22c55e":o>=50?"#3b82f6":o>=25?"#f59e0b":"#ef4444";return a.jsxs(V.div,{layout:!0,className:"card p-4 hover:bg-surface-800/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>n(!s),children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${t===1?"bg-yellow-500/20 text-yellow-400":t===2?"bg-gray-400/20 text-gray-300":t===3?"bg-orange-500/20 text-orange-400":"bg-surface-700 text-surface-400"}`,children:t}),a.jsxs("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-primary-500 to-purple-600 flex items-center justify-center text-white font-semibold text-lg",children:[(l=e.firstName)==null?void 0:l[0],(c=e.lastName)==null?void 0:c[0]]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-surface-100 truncate",children:e.fullName}),a.jsx("p",{className:"text-sm text-surface-500",children:e.email})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(XB,{value:r.performanceScore,size:60,strokeWidth:6,color:i(r.performanceScore)}),a.jsx(ez,{score:r.performanceScore})]}),a.jsx("button",{className:"p-2 hover:bg-surface-700 rounded-lg transition-colors",children:s?a.jsx(Ax,{className:"w-5 h-5"}):a.jsx(Ya,{className:"w-5 h-5"})})]}),a.jsx(te,{children:s&&a.jsxs(V.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4 pt-4 border-t border-surface-700",children:[a.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-3 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-surface-100",children:r.totalTasks}),a.jsx("div",{className:"text-xs text-surface-500",children:"Tches assignes"})]}),a.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-3 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-400",children:r.completedTasks}),a.jsx("div",{className:"text-xs text-surface-500",children:"Termines"})]}),a.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-3 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-400",children:r.inProgressTasks}),a.jsx("div",{className:"text-xs text-surface-500",children:"En cours"})]}),a.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-3 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-red-400",children:r.overdueTasks}),a.jsx("div",{className:"text-xs text-surface-500",children:"En retard"})]})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-surface-400",children:"Taux de compltion"}),a.jsxs("span",{className:"font-semibold text-surface-200",children:[r.completionRate,"%"]})]}),a.jsx("div",{className:"h-2 bg-surface-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-400 rounded-full transition-all duration-500",style:{width:`${r.completionRate}%`}})})]}),a.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-surface-400",children:"Progression moyenne"}),a.jsxs("span",{className:"font-semibold text-surface-200",children:[r.averageProgress,"%"]})]}),a.jsx("div",{className:"h-2 bg-surface-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-cyan-400 rounded-full transition-all duration-500",style:{width:`${r.averageProgress}%`}})})]})]})]})})]})};function sz(){const{workspaceId:e}=Et(),[t,s]=b.useState(!0),[n,r]=b.useState(null),[i,l]=b.useState(null),c=async()=>{var d,f;try{s(!0),l(null);const h=await Ot.getEvaluation(e);r(h.data)}catch(h){l(((f=(d=h.response)==null?void 0:d.data)==null?void 0:f.error)||"Erreur lors du chargement")}finally{s(!1)}};if(b.useEffect(()=>{e&&c()},[e]),t)return a.jsx("div",{className:"p-6 flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(us,{className:"w-8 h-8 animate-spin text-primary-500"}),a.jsx("p",{className:"text-surface-400",children:"Calcul des performances en cours..."})]})});if(i)return a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"card p-8 text-center",children:[a.jsx(As,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-surface-200 mb-2",children:"Erreur"}),a.jsx("p",{className:"text-surface-400 mb-4",children:i}),a.jsx("button",{onClick:c,className:"btn-primary",children:"Ressayer"})]})});const{teamMetrics:o,members:u}=n||{teamMetrics:{},members:[]};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(me,{to:`/workspace/${e}`,className:"p-2 hover:bg-surface-700 rounded-lg transition-colors",children:a.jsx(ff,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-surface-100 flex items-center gap-3",children:[a.jsx(d5,{className:"w-7 h-7 text-primary-400"}),"valuation de l'quipe"]}),a.jsx("p",{className:"text-surface-400 mt-1",children:"Performance des membres base sur les tches assignes"})]})]}),a.jsxs("button",{onClick:c,className:"btn-secondary flex items-center gap-2",children:[a.jsx(us,{className:"w-4 h-4"}),"Actualiser"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-4 bg-gradient-to-br from-primary-600/20 to-purple-600/20 border-primary-500/30",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-primary-500/20 rounded-xl",children:a.jsx(Kt,{className:"w-6 h-6 text-primary-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-surface-400",children:"Performance moyenne"}),a.jsxs("p",{className:"text-2xl font-bold text-surface-100",children:[o.avgPerformance,"%"]})]})]})}),a.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"card p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl",children:a.jsx(Ye,{className:"w-6 h-6 text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-surface-400",children:"Membres"}),a.jsx("p",{className:"text-2xl font-bold text-surface-100",children:o.totalMembers})]})]})}),a.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-cyan-500/20 rounded-xl",children:a.jsx(sa,{className:"w-6 h-6 text-cyan-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-surface-400",children:"Tches totales"}),a.jsx("p",{className:"text-2xl font-bold text-surface-100",children:o.totalTasks})]})]})}),a.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"card p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-green-500/20 rounded-xl",children:a.jsx(Er,{className:"w-6 h-6 text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-surface-400",children:"Termines"}),a.jsx("p",{className:"text-2xl font-bold text-surface-100",children:o.totalCompleted})]})]})}),a.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-red-500/20 rounded-xl",children:a.jsx(wt,{className:"w-6 h-6 text-red-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-surface-400",children:"En retard"}),a.jsx("p",{className:"text-2xl font-bold text-surface-100",children:o.totalOverdue})]})]})})]}),o.totalTasks>0&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:"card p-5",children:[a.jsxs("h3",{className:"text-sm font-medium text-surface-300 mb-4 flex items-center gap-2",children:[a.jsx(sa,{className:"w-4 h-4 text-primary-400"}),"Comptences quipe"]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(ZB,{data:[{label:"Perf.",value:o.avgPerformance||0},{label:"Qualit",value:o.totalTasks>0?Math.round(o.totalCompleted/o.totalTasks*100):0},{label:"Dlais",value:o.totalTasks>0?Math.round(100-o.totalOverdue/o.totalTasks*100):0},{label:"Charge",value:o.totalMembers>0?Math.min(Math.round(o.totalTasks/o.totalMembers*10),100):0}],size:180})})]}),a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card p-5",children:[a.jsxs("h3",{className:"text-sm font-medium text-surface-300 mb-4 flex items-center gap-2",children:[a.jsx(sl,{className:"w-4 h-4 text-cyan-400"}),"Distribution des tches"]}),a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx(JB,{data:[{value:o.totalCompleted,color:"#22c55e"},{value:Math.max(0,o.totalTasks-o.totalCompleted-o.totalOverdue),color:"#3b82f6"},{value:o.totalOverdue,color:"#ef4444"}].filter(d=>d.value>0),size:120})}),a.jsxs("div",{className:"flex justify-center gap-4 text-xs",children:[o.totalCompleted>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),a.jsxs("span",{className:"text-surface-400",children:["Termines (",o.totalCompleted,")"]})]}),o.totalTasks-o.totalCompleted-o.totalOverdue>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),a.jsxs("span",{className:"text-surface-400",children:["En cours (",o.totalTasks-o.totalCompleted-o.totalOverdue,")"]})]}),o.totalOverdue>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),a.jsxs("span",{className:"text-surface-400",children:["En retard (",o.totalOverdue,")"]})]})]})]}),u.length>0&&a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},className:"card p-5",children:[a.jsxs("h3",{className:"text-sm font-medium text-surface-300 mb-4 flex items-center gap-2",children:[a.jsx(w5,{className:"w-4 h-4 text-yellow-400"}),"Top performers"]}),a.jsx(WB,{data:u.slice(0,5).map((d,f)=>{var h,p;return{label:((h=d.fullName)==null?void 0:h.split(" ")[0])||d.firstName||"Membre",value:((p=d.metrics)==null?void 0:p.performanceScore)||0,color:f===0?"#eab308":f===1?"#9ca3af":f===2?"#f97316":"#6366f1"}}),maxValue:100})]})]}),a.jsxs("div",{className:"card p-4",children:[a.jsxs("h3",{className:"text-sm font-medium text-surface-300 mb-3 flex items-center gap-2",children:[a.jsx(Fn,{className:"w-4 h-4"}),"Calcul de la performance"]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-surface-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),a.jsx("span",{children:"Taux de compltion (40%)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),a.jsx("span",{children:"Progression moyenne (30%)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),a.jsx("span",{children:"Respect des dlais (30%)"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-lg font-semibold text-surface-200 flex items-center gap-2",children:[a.jsx(sl,{className:"w-5 h-5 text-primary-400"}),"Classement des membres"]}),a.jsx("span",{className:"text-sm text-surface-500",children:"Tri par performance dcroissante"})]}),u.length===0?a.jsxs("div",{className:"card p-8 text-center",children:[a.jsx(Ye,{className:"w-12 h-12 text-surface-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-surface-300 mb-2",children:"Aucun membre"}),a.jsx("p",{className:"text-surface-500",children:"Il n'y a pas encore de membres dans cet espace de travail."})]}):a.jsx("div",{className:"space-y-3",children:u.map((d,f)=>a.jsx(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:f*.05},children:a.jsx(tz,{member:d,rank:f+1})},d.id))})]})]})}const zl={low:{label:"Basse",color:"bg-surface-600",text:"text-surface-300"},medium:{label:"Moyenne",color:"bg-blue-500",text:"text-blue-400"},high:{label:"Haute",color:"bg-orange-500",text:"text-orange-400"},critical:{label:"Critique",color:"bg-red-500",text:"text-red-400"}},az={low:{label:"Faible",color:"bg-surface-600"},normal:{label:"Normal",color:"bg-blue-500"},high:{label:"Urgent",color:"bg-orange-500"},critical:{label:"Critique",color:"bg-red-500"}},Vl={pending:{label:"En attente",color:"bg-surface-600",icon:wt},assigned:{label:"Assign",color:"bg-blue-500",icon:at},in_progress:{label:"En cours",color:"bg-amber-500",icon:hf},resolved:{label:"Rsolu",color:"bg-emerald-500",icon:at},closed:{label:"Ferm",color:"bg-surface-500",icon:at},cancelled:{label:"Annul",color:"bg-red-500",icon:Hc}};function nz(){var A,E,S,M;const{workspaceId:e}=Et();Ms();const{user:t}=Ct(),[s,n]=b.useState([]),[r,i]=b.useState([]),[l,c]=b.useState(!0),[o,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(null),[m,v]=b.useState("all"),[j,x]=b.useState(!1),[g,y]=b.useState({title:"",description:"",category:"general",priority:"medium",urgency:"normal",location:"",equipment:"",requestedDate:""});b.useEffect(()=>{k(),N()},[e]);const N=async()=>{try{const{data:C}=await Ot.getByWorkspace(e),q=C.find(U=>U.userId===(t==null?void 0:t.id));x((q==null?void 0:q.role)==="owner"||(q==null?void 0:q.role)==="admin")}catch(C){console.error("Error checking admin status:",C)}},k=async()=>{c(!0);try{const[C,q]=await Promise.all([ka.getCategories(),ka.getMyTickets()]);n(C.data),i(q.data)}catch{$.error("Erreur lors du chargement")}finally{c(!1)}},D=async C=>{if(C.preventDefault(),!g.title.trim()){$.error("Le titre est requis");return}u(!0);try{await ka.create({...g,workspaceId:e}),$.success("Ticket soumis avec succs !"),f(!1),y({title:"",description:"",category:"general",priority:"medium",urgency:"normal",location:"",equipment:"",requestedDate:""}),k()}catch{$.error("Erreur lors de la soumission")}finally{u(!1)}},w=async C=>{if(confirm("Voulez-vous annuler ce ticket ?"))try{await ka.cancel(C),$.success("Ticket annul"),k(),p(null)}catch{$.error("Impossible d'annuler ce ticket")}},T=r.filter(C=>m==="all"?!0:m==="active"?["pending","assigned","in_progress"].includes(C.status):m==="resolved"?["resolved","closed"].includes(C.status):C.status===m),O=C=>s.find(q=>q.id===C)||{name:C,icon:""};return l?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-surface-100 flex items-center gap-3",children:[a.jsx(Ei,{className:"w-7 h-7 text-primary-400"}),"Mes tickets d'intervention"]}),a.jsx("p",{className:"text-surface-400 mt-1",children:"Soumettez vos demandes d'intervention technique"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[j&&a.jsxs(me,{to:`/workspace/${e}/tickets/admin`,className:"btn btn-secondary",children:[a.jsx(nl,{className:"w-4 h-4"}),"Gestion tickets"]}),a.jsxs("button",{onClick:()=>f(!0),className:"btn btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),"Nouveau ticket"]})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"card p-4 text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-surface-100",children:r.length}),a.jsx("p",{className:"text-xs text-surface-500",children:"Total"})]}),a.jsxs("div",{className:"card p-4 text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-amber-400",children:r.filter(C=>C.status==="pending").length}),a.jsx("p",{className:"text-xs text-surface-500",children:"En attente"})]}),a.jsxs("div",{className:"card p-4 text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-blue-400",children:r.filter(C=>["assigned","in_progress"].includes(C.status)).length}),a.jsx("p",{className:"text-xs text-surface-500",children:"En cours"})]}),a.jsxs("div",{className:"card p-4 text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:r.filter(C=>["resolved","closed"].includes(C.status)).length}),a.jsx("p",{className:"text-xs text-surface-500",children:"Rsolus"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 border-b border-surface-800 pb-2",children:[[{id:"all",label:"Tous"},{id:"active",label:"Actifs"},{id:"pending",label:"En attente"},{id:"resolved",label:"Rsolus"}].map(C=>a.jsx("button",{onClick:()=>v(C.id),className:`px-4 py-2 text-sm rounded-lg transition-colors ${m===C.id?"bg-primary-500/20 text-primary-400":"text-surface-400 hover:text-surface-200 hover:bg-surface-800"}`,children:C.label},C.id)),a.jsx("div",{className:"flex-1"}),a.jsx("button",{onClick:k,className:"btn btn-sm btn-ghost",children:a.jsx(us,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"space-y-3",children:T.length>0?T.map(C=>{var _,F,G,B,I;const q=O(C.category),U=((_=Vl[C.status])==null?void 0:_.icon)||wt;return a.jsx(V.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"card p-4 hover:bg-surface-800/50 transition-colors cursor-pointer group",onClick:()=>p(C),children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"text-2xl",children:q.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-xs font-mono text-surface-500",children:C.ticketNumber}),a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${(F=Vl[C.status])==null?void 0:F.color} text-white flex items-center gap-1`,children:[a.jsx(U,{className:"w-3 h-3"}),(G=Vl[C.status])==null?void 0:G.label]}),a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${(B=zl[C.priority])==null?void 0:B.color} text-white`,children:(I=zl[C.priority])==null?void 0:I.label})]}),a.jsx("h3",{className:"font-medium text-surface-200 group-hover:text-surface-100 transition-colors",children:C.title}),C.description&&a.jsx("p",{className:"text-sm text-surface-500 line-clamp-2 mt-1",children:C.description}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-surface-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(pt,{className:"w-3 h-3"}),new Date(C.createdAt).toLocaleDateString("fr-FR")]}),C.location&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Pv,{className:"w-3 h-3"}),C.location]}),C.assignedToName&&a.jsxs("span",{className:"text-primary-400",children:["Assign : ",C.assignedToName]})]})]}),a.jsx(Ur,{className:"w-5 h-5 text-surface-600 group-hover:text-surface-400 transition-colors"})]})},C.id)}):a.jsxs("div",{className:"card p-12 text-center",children:[a.jsx(Ei,{className:"w-12 h-12 mx-auto text-surface-600 mb-3"}),a.jsx("p",{className:"text-surface-500",children:"Aucun ticket trouv"}),a.jsxs("button",{onClick:()=>f(!0),className:"btn btn-primary mt-4",children:[a.jsx(re,{className:"w-4 h-4"}),"Crer un ticket"]})]})}),a.jsx(te,{children:d&&a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>f(!1),children:a.jsxs(V.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:C=>C.stopPropagation(),className:"bg-surface-900 rounded-2xl border border-surface-700 w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[a.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[a.jsx(Ei,{className:"w-5 h-5 text-primary-400"}),"Nouveau ticket d'intervention"]}),a.jsx("button",{onClick:()=>f(!1),className:"p-1.5 hover:bg-surface-800 rounded-lg",children:a.jsx(fe,{className:"w-4 h-4"})})]}),a.jsxs("form",{onSubmit:D,className:"p-4 space-y-4 overflow-y-auto max-h-[calc(90vh-120px)]",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Titre de la demande *"}),a.jsx("input",{type:"text",value:g.title,onChange:C=>y({...g,title:C.target.value}),className:"input",placeholder:"Ex: Problme d'imprimante bureau 201",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Description dtaille"}),a.jsx("textarea",{value:g.description,onChange:C=>y({...g,description:C.target.value}),className:"input min-h-[100px]",placeholder:"Dcrivez votre problme en dtail..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Catgorie"}),a.jsx("select",{value:g.category,onChange:C=>y({...g,category:C.target.value}),className:"input",children:s.map(C=>a.jsxs("option",{value:C.id,children:[C.icon," ",C.name]},C.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Priorit"}),a.jsx("select",{value:g.priority,onChange:C=>y({...g,priority:C.target.value}),className:"input",children:Object.entries(zl).map(([C,q])=>a.jsx("option",{value:C,children:q.label},C))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Urgence"}),a.jsx("select",{value:g.urgency,onChange:C=>y({...g,urgency:C.target.value}),className:"input",children:Object.entries(az).map(([C,q])=>a.jsx("option",{value:C,children:q.label},C))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Date souhaite"}),a.jsx("input",{type:"date",value:g.requestedDate,onChange:C=>y({...g,requestedDate:C.target.value}),className:"input"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-surface-400 mb-1",children:[a.jsx(Pv,{className:"w-3 h-3 inline mr-1"}),"Localisation"]}),a.jsx("input",{type:"text",value:g.location,onChange:C=>y({...g,location:C.target.value}),className:"input",placeholder:"Ex: Bureau 201, Btiment A"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-surface-400 mb-1",children:[a.jsx(b5,{className:"w-3 h-3 inline mr-1"}),"quipement concern"]}),a.jsx("input",{type:"text",value:g.equipment,onChange:C=>y({...g,equipment:C.target.value}),className:"input",placeholder:"Ex: PC-2024-001"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-surface-800",children:[a.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-secondary",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:o,className:"btn btn-primary",children:o?a.jsxs(a.Fragment,{children:[a.jsx(hf,{className:"w-4 h-4 animate-spin"}),"Envoi..."]}):a.jsxs(a.Fragment,{children:[a.jsx(w7,{className:"w-4 h-4"}),"Soumettre"]})})]})]})]})})}),a.jsx(te,{children:h&&a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>p(null),children:a.jsxs(V.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:C=>C.stopPropagation(),className:"bg-surface-900 rounded-2xl border border-surface-700 w-full max-w-lg",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:O(h.category).icon}),a.jsx("span",{className:"font-mono text-surface-500",children:h.ticketNumber})]}),a.jsx("button",{onClick:()=>p(null),className:"p-1.5 hover:bg-surface-800 rounded-lg",children:a.jsx(fe,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${(A=Vl[h.status])==null?void 0:A.color} text-white`,children:(E=Vl[h.status])==null?void 0:E.label}),a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${(S=zl[h.priority])==null?void 0:S.color} text-white`,children:(M=zl[h.priority])==null?void 0:M.label})]}),a.jsx("h3",{className:"text-lg font-semibold text-surface-100",children:h.title})]}),h.description&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-surface-400 mb-1",children:"Description"}),a.jsx("p",{className:"text-surface-300 whitespace-pre-wrap",children:h.description})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[h.location&&a.jsxs("div",{children:[a.jsx("p",{className:"text-surface-500",children:"Localisation"}),a.jsx("p",{className:"text-surface-300",children:h.location})]}),h.equipment&&a.jsxs("div",{children:[a.jsx("p",{className:"text-surface-500",children:"quipement"}),a.jsx("p",{className:"text-surface-300",children:h.equipment})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-surface-500",children:"Cr le"}),a.jsx("p",{className:"text-surface-300",children:new Date(h.createdAt).toLocaleString("fr-FR")})]}),h.assignedToName&&a.jsxs("div",{children:[a.jsx("p",{className:"text-surface-500",children:"Assign "}),a.jsx("p",{className:"text-primary-400",children:h.assignedToName})]})]}),h.status==="pending"&&a.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t border-surface-800",children:a.jsxs("button",{onClick:()=>w(h.id),className:"btn btn-secondary text-red-400 hover:bg-red-500/20",children:[a.jsx(Hc,{className:"w-4 h-4"}),"Annuler le ticket"]})})]})]})})})]})}const Ul={low:{label:"Basse",color:"bg-surface-600",text:"text-surface-300"},medium:{label:"Moyenne",color:"bg-blue-500",text:"text-blue-400"},high:{label:"Haute",color:"bg-orange-500",text:"text-orange-400"},critical:{label:"Critique",color:"bg-red-500",text:"text-red-400"}},nj={low:{label:"Faible",color:"bg-surface-600"},normal:{label:"Normal",color:"bg-blue-500"},high:{label:"Urgent",color:"bg-orange-500"},critical:{label:"Critique",color:"bg-red-500"}},Zr={pending:{label:"En attente",color:"bg-surface-600",icon:wt},assigned:{label:"Assign",color:"bg-blue-500",icon:Ar},in_progress:{label:"En cours",color:"bg-amber-500",icon:hf},resolved:{label:"Rsolu",color:"bg-emerald-500",icon:at},closed:{label:"Ferm",color:"bg-surface-500",icon:at},cancelled:{label:"Annul",color:"bg-red-500",icon:Hc}};function rz(){var C,q,U,_,F,G;const{workspaceId:e}=Et(),[t,s]=b.useState([]),[n,r]=b.useState([]),[i,l]=b.useState(null),[c,o]=b.useState([]),[u,d]=b.useState([]),[f,h]=b.useState(!0),[p,m]=b.useState({status:"",category:"",priority:""}),[v,j]=b.useState(""),[x,g]=b.useState(null),[y,N]=b.useState(!1),[k,D]=b.useState(!1),[w,T]=b.useState({boardId:"",assignedTo:"",dueDate:"",createItem:!0});b.useEffect(()=>{O()},[e,p]);const O=async()=>{var B;h(!0),D(!1);try{const[I,Q,P,W,se]=await Promise.all([ka.getCategories(),ka.getByWorkspace(e,p),ka.getStats(e),Bc.getByWorkspace(e),Ot.getByWorkspace(e)]);s(I.data),r(Q.data),l(P.data),o(W.data),d(se.data)}catch(I){((B=I.response)==null?void 0:B.status)===403?D(!0):$.error("Erreur lors du chargement")}finally{h(!1)}},A=async B=>{if(B.preventDefault(),!!x)try{await ka.assign(x.id,w),$.success("Ticket assign avec succs !"),N(!1),T({boardId:"",assignedTo:"",dueDate:"",createItem:!0}),g(null),O()}catch{$.error("Erreur lors de l'assignation")}},E=async(B,I,Q=null)=>{try{await ka.updateStatus(B,{status:I,resolutionNotes:Q}),$.success("Statut mis  jour"),O(),(x==null?void 0:x.id)===B&&g(null)}catch{$.error("Erreur")}},S=n.filter(B=>{var I;if(v){const Q=v.toLowerCase();return B.title.toLowerCase().includes(Q)||B.ticketNumber.toLowerCase().includes(Q)||((I=B.submitterName)==null?void 0:I.toLowerCase().includes(Q))}return!0}),M=B=>t.find(I=>I.id===B)||{name:B,icon:""};return f?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):k?a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[a.jsx(As,{className:"w-16 h-16 text-amber-400 mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-surface-100 mb-2",children:"Accs restreint"}),a.jsx("p",{className:"text-surface-400 mb-4",children:"Vous devez tre administrateur pour accder  cette page."}),a.jsxs(me,{to:`/workspace/${e}/tickets`,className:"btn btn-primary",children:[a.jsx(Ei,{className:"w-4 h-4"}),"Mes tickets"]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-surface-100 flex items-center gap-3",children:[a.jsx(Ei,{className:"w-7 h-7 text-primary-400"}),"Gestion des tickets"]}),a.jsx("p",{className:"text-surface-400 mt-1",children:"Administration et assignation des demandes d'intervention"})]}),a.jsxs("button",{onClick:O,className:"btn btn-ghost",children:[a.jsx(us,{className:"w-4 h-4"}),"Actualiser"]})]}),i&&a.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[a.jsxs("div",{className:"card p-4 text-center border-l-4 border-surface-600",children:[a.jsx("p",{className:"text-2xl font-bold text-surface-100",children:i.total}),a.jsx("p",{className:"text-xs text-surface-500",children:"Total"})]}),a.jsxs("div",{className:"card p-4 text-center border-l-4 border-amber-500",children:[a.jsx("p",{className:"text-2xl font-bold text-amber-400",children:i.pending}),a.jsx("p",{className:"text-xs text-surface-500",children:"En attente"})]}),a.jsxs("div",{className:"card p-4 text-center border-l-4 border-blue-500",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-400",children:i.assigned}),a.jsx("p",{className:"text-xs text-surface-500",children:"Assigns"})]}),a.jsxs("div",{className:"card p-4 text-center border-l-4 border-purple-500",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-400",children:i.in_progress}),a.jsx("p",{className:"text-xs text-surface-500",children:"En cours"})]}),a.jsxs("div",{className:"card p-4 text-center border-l-4 border-emerald-500",children:[a.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:i.resolved}),a.jsx("p",{className:"text-xs text-surface-500",children:"Rsolus"})]}),a.jsxs("div",{className:"card p-4 text-center border-l-4 border-red-500",children:[a.jsx("p",{className:"text-2xl font-bold text-red-400",children:i.critical}),a.jsx("p",{className:"text-xs text-surface-500",children:"Critiques"})]})]}),a.jsx("div",{className:"card p-4",children:a.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tx,{className:"w-4 h-4 text-surface-500"}),a.jsx("span",{className:"text-sm text-surface-400",children:"Filtres:"})]}),a.jsxs("select",{value:p.status,onChange:B=>m({...p,status:B.target.value}),className:"input py-1.5 px-3 text-sm w-40",children:[a.jsx("option",{value:"",children:"Tous statuts"}),Object.entries(Zr).map(([B,I])=>a.jsx("option",{value:B,children:I.label},B))]}),a.jsxs("select",{value:p.category,onChange:B=>m({...p,category:B.target.value}),className:"input py-1.5 px-3 text-sm w-40",children:[a.jsx("option",{value:"",children:"Toutes catgories"}),t.map(B=>a.jsx("option",{value:B.id,children:B.name},B.id))]}),a.jsxs("select",{value:p.priority,onChange:B=>m({...p,priority:B.target.value}),className:"input py-1.5 px-3 text-sm w-40",children:[a.jsx("option",{value:"",children:"Toutes priorits"}),Object.entries(Ul).map(([B,I])=>a.jsx("option",{value:B,children:I.label},B))]}),a.jsx("div",{className:"flex-1"}),a.jsxs("div",{className:"relative",children:[a.jsx(Vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-surface-500"}),a.jsx("input",{type:"text",value:v,onChange:B=>j(B.target.value),placeholder:"Rechercher...",className:"input py-1.5 pl-9 pr-3 text-sm w-64"})]})]})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-surface-800/50",children:a.jsxs("tr",{className:"text-left text-xs text-surface-400 uppercase",children:[a.jsx("th",{className:"p-3",children:"Ticket"}),a.jsx("th",{className:"p-3",children:"Demandeur"}),a.jsx("th",{className:"p-3",children:"Catgorie"}),a.jsx("th",{className:"p-3",children:"Priorit"}),a.jsx("th",{className:"p-3",children:"Statut"}),a.jsx("th",{className:"p-3",children:"Assign "}),a.jsx("th",{className:"p-3",children:"Date"}),a.jsx("th",{className:"p-3 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-surface-800",children:S.length>0?S.map(B=>{var P,W,se,xe,Se;const I=M(B.category),Q=((P=Zr[B.status])==null?void 0:P.icon)||wt;return a.jsxs("tr",{className:"hover:bg-surface-800/30 transition-colors",children:[a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg",children:I.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"font-mono text-xs text-surface-500",children:B.ticketNumber}),a.jsx("p",{className:"font-medium text-surface-200 text-sm max-w-[200px] truncate",children:B.title})]})]})}),a.jsxs("td",{className:"p-3",children:[a.jsx("p",{className:"text-sm text-surface-300",children:B.submitterName}),a.jsx("p",{className:"text-xs text-surface-500",children:B.submitterEmail})]}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:"text-sm text-surface-400",children:I.name})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${(W=Ul[B.priority])==null?void 0:W.color} text-white`,children:(se=Ul[B.priority])==null?void 0:se.label})}),a.jsx("td",{className:"p-3",children:a.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${(xe=Zr[B.status])==null?void 0:xe.color} text-white flex items-center gap-1 w-fit`,children:[a.jsx(Q,{className:"w-3 h-3"}),(Se=Zr[B.status])==null?void 0:Se.label]})}),a.jsx("td",{className:"p-3",children:B.assignedToName?a.jsx("span",{className:"text-sm text-primary-400",children:B.assignedToName}):a.jsx("span",{className:"text-sm text-surface-600",children:"Non assign"})}),a.jsx("td",{className:"p-3 text-sm text-surface-500",children:new Date(B.createdAt).toLocaleDateString("fr-FR")}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[B.status==="pending"&&a.jsxs("button",{onClick:()=>{g(B),N(!0)},className:"btn btn-sm btn-primary",children:[a.jsx(Ar,{className:"w-3 h-3"}),"Assigner"]}),B.status==="assigned"&&a.jsx("button",{onClick:()=>E(B.id,"in_progress"),className:"btn btn-sm btn-ghost text-amber-400",children:"Dmarrer"}),B.status==="in_progress"&&a.jsx("button",{onClick:()=>E(B.id,"resolved"),className:"btn btn-sm btn-ghost text-emerald-400",children:"Rsoudre"}),a.jsx("button",{onClick:()=>g(B),className:"btn btn-sm btn-ghost",children:"Dtails"})]})})]},B.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"p-8 text-center text-surface-500",children:"Aucun ticket trouv"})})})]})}),a.jsx(te,{children:y&&x&&a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>N(!1),children:a.jsxs(V.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:B=>B.stopPropagation(),className:"bg-surface-900 rounded-2xl border border-surface-700 w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[a.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[a.jsx(Ar,{className:"w-5 h-5 text-primary-400"}),"Assigner le ticket"]}),a.jsx("button",{onClick:()=>N(!1),className:"p-1.5 hover:bg-surface-800 rounded-lg",children:a.jsx(fe,{className:"w-4 h-4"})})]}),a.jsxs("form",{onSubmit:A,className:"p-4 space-y-4",children:[a.jsxs("div",{className:"p-3 bg-surface-800/50 rounded-lg",children:[a.jsx("p",{className:"font-mono text-xs text-surface-500",children:x.ticketNumber}),a.jsx("p",{className:"font-medium text-surface-200",children:x.title}),a.jsxs("p",{className:"text-xs text-surface-500 mt-1",children:["De: ",x.submitterName]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-surface-400 mb-1",children:[a.jsx(jp,{className:"w-3 h-3 inline mr-1"}),"Tableau de destination"]}),a.jsxs("select",{value:w.boardId,onChange:B=>T({...w,boardId:B.target.value}),className:"input",children:[a.jsx("option",{value:"",children:"Slectionner un tableau..."}),c.map(B=>a.jsx("option",{value:B.id,children:B.name},B.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-surface-400 mb-1",children:[a.jsx(Ts,{className:"w-3 h-3 inline mr-1"}),"Assigner "]}),a.jsxs("select",{value:w.assignedTo,onChange:B=>T({...w,assignedTo:B.target.value}),className:"input",children:[a.jsx("option",{value:"",children:"Slectionner un membre..."}),u.map(B=>a.jsxs("option",{value:B.id,children:[B.firstName," ",B.lastName]},B.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-surface-400 mb-1",children:[a.jsx(pt,{className:"w-3 h-3 inline mr-1"}),"Date limite"]}),a.jsx("input",{type:"date",value:w.dueDate,onChange:B=>T({...w,dueDate:B.target.value}),className:"input"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:w.createItem,onChange:B=>T({...w,createItem:B.target.checked}),className:"rounded"}),a.jsx("span",{className:"text-surface-300 text-sm",children:"Crer un lment dans le tableau"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-surface-800",children:[a.jsx("button",{type:"button",onClick:()=>N(!1),className:"btn btn-secondary",children:"Annuler"}),a.jsxs("button",{type:"submit",className:"btn btn-primary",children:[a.jsx(yt,{className:"w-4 h-4"}),"Assigner"]})]})]})]})})}),a.jsx(te,{children:x&&!y&&a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>g(null),children:a.jsxs(V.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:B=>B.stopPropagation(),className:"bg-surface-900 rounded-2xl border border-surface-700 w-full max-w-lg",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xl",children:M(x.category).icon}),a.jsx("span",{className:"font-mono text-surface-500",children:x.ticketNumber})]}),a.jsx("button",{onClick:()=>g(null),className:"p-1.5 hover:bg-surface-800 rounded-lg",children:a.jsx(fe,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"p-4 space-y-4 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${(C=Zr[x.status])==null?void 0:C.color} text-white`,children:(q=Zr[x.status])==null?void 0:q.label}),a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${(U=Ul[x.priority])==null?void 0:U.color} text-white`,children:(_=Ul[x.priority])==null?void 0:_.label}),a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${(F=nj[x.urgency])==null?void 0:F.color} text-white`,children:(G=nj[x.urgency])==null?void 0:G.label})]}),a.jsx("h3",{className:"text-lg font-semibold text-surface-100",children:x.title})]}),x.description&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-surface-400 mb-1",children:"Description"}),a.jsx("p",{className:"text-surface-300 whitespace-pre-wrap",children:x.description})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-surface-500",children:"Demandeur"}),a.jsx("p",{className:"text-surface-300",children:x.submitterName}),a.jsx("p",{className:"text-xs text-surface-500",children:x.submitterEmail})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-surface-500",children:"Cr le"}),a.jsx("p",{className:"text-surface-300",children:new Date(x.createdAt).toLocaleString("fr-FR")})]}),x.location&&a.jsxs("div",{children:[a.jsx("p",{className:"text-surface-500",children:"Localisation"}),a.jsx("p",{className:"text-surface-300",children:x.location})]}),x.equipment&&a.jsxs("div",{children:[a.jsx("p",{className:"text-surface-500",children:"quipement"}),a.jsx("p",{className:"text-surface-300",children:x.equipment})]}),x.assignedToName&&a.jsxs("div",{children:[a.jsx("p",{className:"text-surface-500",children:"Assign "}),a.jsx("p",{className:"text-primary-400",children:x.assignedToName})]}),x.boardName&&a.jsxs("div",{children:[a.jsx("p",{className:"text-surface-500",children:"Tableau"}),a.jsx("p",{className:"text-surface-300",children:x.boardName})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 pt-4 border-t border-surface-800",children:[x.status==="pending"&&a.jsxs("button",{onClick:()=>N(!0),className:"btn btn-sm btn-primary",children:[a.jsx(Ar,{className:"w-3 h-3"}),"Assigner"]}),x.status==="assigned"&&a.jsx("button",{onClick:()=>E(x.id,"in_progress"),className:"btn btn-sm btn-ghost text-amber-400",children:"Dmarrer"}),x.status==="in_progress"&&a.jsxs("button",{onClick:()=>E(x.id,"resolved"),className:"btn btn-sm btn-ghost text-emerald-400",children:[a.jsx(at,{className:"w-3 h-3"}),"Marquer rsolu"]}),x.status==="resolved"&&a.jsx("button",{onClick:()=>E(x.id,"closed"),className:"btn btn-sm btn-ghost",children:"Clturer"})]})]})]})})})]})}const rj={planned:"bg-surface-600",in_progress:"bg-blue-500",completed:"bg-emerald-500",on_hold:"bg-amber-500",cancelled:"bg-red-500"},iz={planned:"Planifi",in_progress:"En cours",completed:"Termin",on_hold:"En pause",cancelled:"Annul"},tu={excellent:{bg:"bg-emerald-500",text:"text-emerald-400",label:"Excellent"},good:{bg:"bg-green-500",text:"text-green-400",label:"Bon"},warning:{bg:"bg-amber-500",text:"text-amber-400",label:"Attention"},critical:{bg:"bg-red-500",text:"text-red-400",label:"Critique"}};function lz(){var N,k;const{workspaceId:e}=Et(),[t,s]=b.useState(null),[n,r]=b.useState(!0),[i,l]=b.useState(!1),[c,o]=b.useState(new Date),[u,d]=b.useState(!0);b.useEffect(()=>{f();const D=setInterval(()=>{f(!0)},5*60*1e3);return()=>clearInterval(D)},[e]);const f=async(D=!1)=>{D?l(!0):r(!0);try{const{data:w}=await ne.getDashboard(e);s(w),o(new Date),D&&$.success("Donnes actualises")}catch(w){console.error("Error loading SDSI dashboard:",w),D||$.error("Erreur lors du chargement")}finally{r(!1),l(!1)}},h=b.useMemo(()=>{var A,E,S,M,C,q;if(!t)return[];const D=[],w=((A=t.summary)==null?void 0:A.totalBudget)>0?t.summary.spentBudget/t.summary.totalBudget*100:0;w>90?D.push({type:"critical",icon:xc,title:"Budget critique",message:`${w.toFixed(1)}% du budget global consomm`,action:"Revoir les allocations"}):w>75&&D.push({type:"warning",icon:xc,title:"Budget lev",message:`${w.toFixed(1)}% du budget global consomm`,action:"Surveiller les dpenses"}),((E=t.kpisStatus)==null?void 0:E.critical)>0&&D.push({type:"critical",icon:mf,title:"KPIs critiques",message:`${t.kpisStatus.critical} indicateur(s) en zone critique`,action:"Analyser les KPIs"}),((S=t.kpisStatus)==null?void 0:S.at_risk)>0&&D.push({type:"warning",icon:As,title:"KPIs  risque",message:`${t.kpisStatus.at_risk} indicateur(s)  surveiller`,action:"Prendre des mesures"});const T=(M=t.upcomingMilestones)==null?void 0:M.filter(U=>U.is_critical&&new Date(U.due_date)<new Date(Date.now()+7*24*60*60*1e3));(T==null?void 0:T.length)>0&&D.push({type:"warning",icon:ws,title:"Jalons critiques imminents",message:`${T.length} jalon(s) critique(s) dans les 7 jours`,action:"Voir les jalons"});const O=((q=(C=t.byStatus)==null?void 0:C.find(U=>U.status==="on_hold"))==null?void 0:q.count)||0;return O>0&&D.push({type:"info",icon:wt,title:"Projets en pause",message:`${O} projet(s) actuellement en pause`,action:"Revoir les priorits"}),D},[t]),p=b.useMemo(()=>{if(!t)return"good";const D=h.filter(T=>T.type==="critical").length,w=h.filter(T=>T.type==="warning").length;return D>0?"critical":w>2?"warning":w>0?"good":"excellent"},[h,t]);if(n)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})});const{summary:m,byStatus:v,byAxis:j,upcomingMilestones:x,kpisStatus:g}=t||{},y=(m==null?void 0:m.totalBudget)>0?m.spentBudget/m.totalBudget*100:0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-surface-100",children:"Schma Directeur SI"}),a.jsx("p",{className:"text-surface-400 mt-1",children:"Vue d'ensemble de la stratgie des systmes d'information"})]}),a.jsxs("div",{className:`px-4 py-2 rounded-xl ${tu[p].bg}/20 flex items-center gap-2`,children:[a.jsx(Fc,{className:`w-5 h-5 ${tu[p].text}`}),a.jsx("span",{className:`font-medium ${tu[p].text}`,children:tu[p].label})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>f(!0),disabled:i,className:"btn-ghost btn-sm",title:"Actualiser les donnes",children:a.jsx(us,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),a.jsxs("span",{className:"text-xs text-surface-500",children:["Mise  jour: ",c.toLocaleTimeString("fr-FR")]}),a.jsxs(me,{to:`/workspace/${e}/sdsi/roadmap`,className:"btn-primary",children:[a.jsx(pt,{className:"w-4 h-4"}),"Voir la Roadmap"]})]})]}),a.jsx(te,{children:u&&h.length>0&&a.jsxs(V.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"card p-4 border-l-4 border-amber-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_a,{className:"w-5 h-5 text-amber-400"}),a.jsxs("h3",{className:"font-semibold text-surface-100",children:["Alertes et Notifications (",h.length,")"]})]}),a.jsx("button",{onClick:()=>d(!1),className:"text-surface-400 hover:text-surface-200 text-sm",children:"Masquer"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:h.map((D,w)=>a.jsx(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:w*.1},className:`p-3 rounded-lg ${D.type==="critical"?"bg-red-500/10 border border-red-500/20":D.type==="warning"?"bg-amber-500/10 border border-amber-500/20":"bg-blue-500/10 border border-blue-500/20"}`,children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(D.icon,{className:`w-4 h-4 mt-0.5 ${D.type==="critical"?"text-red-400":D.type==="warning"?"text-amber-400":"text-blue-400"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-surface-200",children:D.title}),a.jsx("p",{className:"text-xs text-surface-400 mt-0.5",children:D.message}),a.jsxs("button",{className:"text-xs text-primary-400 hover:text-primary-300 mt-1 flex items-center gap-1",children:[D.action," ",a.jsx(fa,{className:"w-3 h-3"})]})]})]})},w))})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-5 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-indigo-500/10 rounded-full -mr-8 -mt-8"}),a.jsxs("div",{className:"flex items-center gap-4 relative",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-500/20 flex items-center justify-center",children:a.jsx(sa,{className:"w-6 h-6 text-indigo-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-surface-100",children:(m==null?void 0:m.axesCount)||0}),a.jsx("p",{className:"text-sm text-surface-400",children:"Axes stratgiques"})]})]}),a.jsxs(me,{to:`/workspace/${e}/sdsi/axes`,className:"mt-3 text-xs text-primary-400 hover:text-primary-300 flex items-center gap-1",children:["Grer ",a.jsx(yt,{className:"w-3 h-3"})]})]}),a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-5 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-purple-500/10 rounded-full -mr-8 -mt-8"}),a.jsxs("div",{className:"flex items-center gap-4 relative",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-500/20 flex items-center justify-center",children:a.jsx(Ic,{className:"w-6 h-6 text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-surface-100",children:(m==null?void 0:m.projectsCount)||0}),a.jsx("p",{className:"text-sm text-surface-400",children:"Projets"})]})]}),a.jsxs("div",{className:"mt-3 flex gap-2 text-xs",children:[a.jsxs("span",{className:"px-2 py-1 rounded-full bg-blue-500/20 text-blue-400 flex items-center gap-1",children:[a.jsx(JO,{className:"w-3 h-3"}),(m==null?void 0:m.projectsInProgress)||0," en cours"]}),a.jsxs("span",{className:"px-2 py-1 rounded-full bg-emerald-500/20 text-emerald-400 flex items-center gap-1",children:[a.jsx(at,{className:"w-3 h-3"}),(m==null?void 0:m.projectsCompleted)||0," termins"]})]})]}),a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-5 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-cyan-500/10 rounded-full -mr-8 -mt-8"}),a.jsxs("div",{className:"flex items-center gap-4 relative",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-cyan-500/20 flex items-center justify-center",children:a.jsx(wd,{className:"w-6 h-6 text-cyan-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-surface-100",children:(m==null?void 0:m.applicationsCount)||0}),a.jsx("p",{className:"text-sm text-surface-400",children:"Applications"})]})]}),a.jsxs(me,{to:`/workspace/${e}/sdsi/applications`,className:"mt-3 text-xs text-primary-400 hover:text-primary-300 flex items-center gap-1",children:["Inventaire ",a.jsx(yt,{className:"w-3 h-3"})]})]}),a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card p-5 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-emerald-500/10 rounded-full -mr-8 -mt-8"}),a.jsxs("div",{className:"flex items-center gap-4 relative",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-500/20 flex items-center justify-center",children:a.jsx(Kt,{className:"w-6 h-6 text-emerald-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-surface-100",children:(m==null?void 0:m.kpisCount)||0}),a.jsx("p",{className:"text-sm text-surface-400",children:"Indicateurs KPI"})]})]}),a.jsxs("div",{className:"mt-3 flex gap-2 text-xs",children:[(g==null?void 0:g.on_target)>0&&a.jsxs("span",{className:"px-2 py-1 rounded-full bg-emerald-500/20 text-emerald-400",children:[g.on_target," sur cible"]}),(g==null?void 0:g.at_risk)>0&&a.jsxs("span",{className:"px-2 py-1 rounded-full bg-amber-500/20 text-amber-400",children:[g.at_risk,"  risque"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card p-6",children:[a.jsxs("h2",{className:"text-lg font-semibold text-surface-100 mb-4 flex items-center gap-2",children:[a.jsx(xc,{className:"w-5 h-5 text-primary-400"}),"Budget Global",y>75&&a.jsx("span",{className:`ml-auto text-xs px-2 py-1 rounded-full ${y>90?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400"}`,children:y>90?"Critique":"lev"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-surface-400",children:"Consomm"}),a.jsxs("span",{className:"text-surface-200 font-mono",children:[(N=m==null?void 0:m.spentBudget)==null?void 0:N.toLocaleString("fr-FR")," / ",(k=m==null?void 0:m.totalBudget)==null?void 0:k.toLocaleString("fr-FR")," FCFA"]})]}),a.jsxs("div",{className:"h-4 bg-surface-800 rounded-full overflow-hidden relative",children:[a.jsx(V.div,{initial:{width:0},animate:{width:`${Math.min(y,100)}%`},className:`h-full rounded-full ${y>90?"bg-gradient-to-r from-red-500 to-red-400":y>75?"bg-gradient-to-r from-amber-500 to-amber-400":"bg-gradient-to-r from-emerald-500 to-emerald-400"}`}),a.jsx("div",{className:"absolute top-0 left-[75%] w-0.5 h-full bg-surface-600"})]}),a.jsxs("div",{className:"flex justify-between text-xs text-surface-500 mt-1",children:[a.jsx("span",{children:"0%"}),a.jsx("span",{children:"75%"}),a.jsx("span",{children:"100%"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[a.jsxs("div",{className:"text-center p-3 bg-surface-800/50 rounded-lg",children:[a.jsxs("p",{className:`text-xl font-bold ${y>90?"text-red-400":y>75?"text-amber-400":"text-surface-100"}`,children:[y.toFixed(1),"%"]}),a.jsx("p",{className:"text-xs text-surface-400",children:"Consomm"})]}),a.jsxs("div",{className:"text-center p-3 bg-surface-800/50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-emerald-400",children:(((m==null?void 0:m.totalBudget)||0)-((m==null?void 0:m.spentBudget)||0)).toLocaleString("fr-FR")}),a.jsx("p",{className:"text-xs text-surface-400",children:"FCFA Restant"})]})]})]})]}),a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-surface-100 mb-4",children:"Projets par Statut"}),a.jsxs("div",{className:"space-y-3",children:[v==null?void 0:v.map(D=>{const w=v.reduce((O,A)=>O+A.count,0),T=w>0?D.count/w*100:0;return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${rj[D.status]}`}),a.jsx("span",{className:"text-surface-300 text-sm",children:iz[D.status]})]}),a.jsx("span",{className:"font-semibold text-surface-100",children:D.count})]}),a.jsx("div",{className:"h-1.5 bg-surface-800 rounded-full overflow-hidden",children:a.jsx(V.div,{initial:{width:0},animate:{width:`${T}%`},className:`h-full rounded-full ${rj[D.status]}`})})]},D.status)}),(!v||v.length===0)&&a.jsx("p",{className:"text-surface-500 text-center py-4",children:"Aucun projet"})]})]}),a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"tat des KPIs"}),a.jsx(me,{to:`/workspace/${e}/sdsi/kpis`,className:"text-xs text-primary-400 hover:text-primary-300",children:"Voir tout"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-emerald-500/10 rounded-lg border border-emerald-500/20",children:[a.jsx(at,{className:"w-5 h-5 text-emerald-400"}),a.jsx("span",{className:"flex-1 text-surface-300",children:"Sur cible"}),a.jsx("span",{className:"font-bold text-emerald-400",children:(g==null?void 0:g.on_target)||0})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-amber-500/10 rounded-lg border border-amber-500/20",children:[a.jsx(As,{className:"w-5 h-5 text-amber-400"}),a.jsx("span",{className:"flex-1 text-surface-300",children:" risque"}),a.jsx("span",{className:"font-bold text-amber-400",children:(g==null?void 0:g.at_risk)||0})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-500/10 rounded-lg border border-red-500/20",children:[a.jsx(f5,{className:"w-5 h-5 text-red-400"}),a.jsx("span",{className:"flex-1 text-surface-300",children:"Critique"}),a.jsx("span",{className:"font-bold text-red-400",children:(g==null?void 0:g.critical)||0})]})]}),((g==null?void 0:g.at_risk)>0||(g==null?void 0:g.critical)>0)&&a.jsxs(me,{to:`/workspace/${e}/sdsi/kpis`,className:"btn-warning btn-sm w-full mt-4",children:[a.jsx(as,{className:"w-4 h-4"}),"Analyser les KPIs  risque"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Projets par Axe Stratgique"}),a.jsxs(me,{to:`/workspace/${e}/sdsi/axes`,className:"text-sm text-primary-400 hover:text-primary-300 flex items-center gap-1",children:["Voir tous ",a.jsx(yt,{className:"w-4 h-4"})]})]}),a.jsxs("div",{className:"space-y-3",children:[j==null?void 0:j.slice(0,5).map((D,w)=>{const T=Math.max(...(j==null?void 0:j.map(A=>A.count))||[1]),O=D.count/T*100;return a.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+w*.05},children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:D.color}}),a.jsx("span",{className:"text-surface-300 truncate max-w-[200px]",children:D.name})]}),a.jsx("span",{className:"font-semibold text-surface-100",children:D.count})]}),a.jsx("div",{className:"h-2 bg-surface-800 rounded-full overflow-hidden",children:a.jsx(V.div,{initial:{width:0},animate:{width:`${O}%`},className:"h-full rounded-full",style:{backgroundColor:D.color}})})]},D.name)}),(!j||j.length===0)&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(sa,{className:"w-12 h-12 text-surface-600 mx-auto mb-3"}),a.jsx("p",{className:"text-surface-500 mb-4",children:"Aucun axe stratgique dfini"}),a.jsxs(me,{to:`/workspace/${e}/sdsi/axes`,className:"btn-primary btn-sm",children:[a.jsx(re,{className:"w-4 h-4"}),"Crer un axe"]})]})]})]}),a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-surface-100",children:"Prochains Jalons"}),a.jsxs(me,{to:`/workspace/${e}/sdsi/projects`,className:"text-sm text-primary-400 hover:text-primary-300 flex items-center gap-1",children:["Voir tous ",a.jsx(yt,{className:"w-4 h-4"})]})]}),a.jsxs("div",{className:"space-y-3",children:[x==null?void 0:x.slice(0,5).map((D,w)=>{const T=new Date(D.due_date),A=Math.ceil((T-new Date)/(1e3*60*60*24)),E=A<=7,S=A<0;return a.jsxs(V.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8+w*.05},className:`flex items-start gap-3 p-3 rounded-lg ${S?"bg-red-500/10 border border-red-500/20":E?"bg-amber-500/10 border border-amber-500/20":"bg-surface-800/50"}`,children:[a.jsx(ws,{className:`w-4 h-4 mt-0.5 ${S?"text-red-400":D.is_critical?"text-amber-400":"text-primary-400"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-surface-200 truncate",children:D.name}),a.jsx("p",{className:"text-xs text-surface-500 truncate",children:D.project_name})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`flex items-center gap-1 text-xs ${S?"text-red-400":E?"text-amber-400":"text-surface-400"}`,children:[a.jsx(wt,{className:"w-3 h-3"}),T.toLocaleDateString("fr-FR")]}),S?a.jsx("span",{className:"text-xs text-red-400",children:"En retard"}):E?a.jsxs("span",{className:"text-xs text-amber-400",children:[A,"j restants"]}):a.jsxs("span",{className:"text-xs text-surface-500",children:[A,"j restants"]})]})]},D.id)}),(!x||x.length===0)&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ws,{className:"w-12 h-12 text-surface-600 mx-auto mb-3"}),a.jsx("p",{className:"text-surface-500",children:"Aucun jalon  venir"})]})]})]})]}),a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(me,{to:`/workspace/${e}/sdsi/axes`,className:"card p-4 hover:bg-surface-800/80 hover:border-indigo-500/30 transition-all group",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(sa,{className:"w-8 h-8 text-indigo-400"}),a.jsx(yt,{className:"w-4 h-4 text-surface-600 group-hover:text-indigo-400 group-hover:translate-x-1 transition-all"})]}),a.jsx("h3",{className:"font-medium text-surface-200 group-hover:text-surface-100",children:"Axes Stratgiques"}),a.jsx("p",{className:"text-sm text-surface-500",children:"Grer les orientations"})]}),a.jsxs(me,{to:`/workspace/${e}/sdsi/projects`,className:"card p-4 hover:bg-surface-800/80 hover:border-purple-500/30 transition-all group",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Ic,{className:"w-8 h-8 text-purple-400"}),a.jsx(yt,{className:"w-4 h-4 text-surface-600 group-hover:text-purple-400 group-hover:translate-x-1 transition-all"})]}),a.jsx("h3",{className:"font-medium text-surface-200 group-hover:text-surface-100",children:"Projets"}),a.jsx("p",{className:"text-sm text-surface-500",children:"Portefeuille de projets"})]}),a.jsxs(me,{to:`/workspace/${e}/sdsi/applications`,className:"card p-4 hover:bg-surface-800/80 hover:border-cyan-500/30 transition-all group",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(wd,{className:"w-8 h-8 text-cyan-400"}),a.jsx(yt,{className:"w-4 h-4 text-surface-600 group-hover:text-cyan-400 group-hover:translate-x-1 transition-all"})]}),a.jsx("h3",{className:"font-medium text-surface-200 group-hover:text-surface-100",children:"Applications"}),a.jsx("p",{className:"text-sm text-surface-500",children:"Inventaire du SI"})]}),a.jsxs(me,{to:`/workspace/${e}/sdsi/kpis`,className:"card p-4 hover:bg-surface-800/80 hover:border-emerald-500/30 transition-all group",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(Kt,{className:"w-8 h-8 text-emerald-400"}),a.jsx(yt,{className:"w-4 h-4 text-surface-600 group-hover:text-emerald-400 group-hover:translate-x-1 transition-all"})]}),a.jsx("h3",{className:"font-medium text-surface-200 group-hover:text-surface-100",children:"Indicateurs KPI"}),a.jsx("p",{className:"text-sm text-surface-500",children:"Mesurer la performance"})]})]})]})}const Th={planned:{label:"Planifi",color:"bg-surface-500",textColor:"text-surface-300"},in_progress:{label:"En cours",color:"bg-blue-500",textColor:"text-blue-400"},completed:{label:"Termin",color:"bg-emerald-500",textColor:"text-emerald-400"},on_hold:{label:"En pause",color:"bg-amber-500",textColor:"text-amber-400"},cancelled:{label:"Annul",color:"bg-red-500",textColor:"text-red-400"}},ij={low:{label:"Basse",color:"text-surface-400"},medium:{label:"Moyenne",color:"text-amber-400"},high:{label:"Haute",color:"text-orange-400"},critical:{label:"Critique",color:"text-red-400"}};function cz(){const{workspaceId:e}=Et(),[t,s]=b.useState([]),[n,r]=b.useState([]),[i,l]=b.useState(!0),[c,o]=b.useState(""),[u,d]=b.useState(""),[f,h]=b.useState(""),[p,m]=b.useState(!1);b.useEffect(()=>{v()},[e]);const v=async()=>{try{const[x,g]=await Promise.all([ne.getProjects(e,{}),ne.getAxes(e)]);s(x.data),r(g.data)}catch(x){console.error("Error loading data:",x)}finally{l(!1)}},j=t.filter(x=>!(c&&!x.name.toLowerCase().includes(c.toLowerCase())||u&&x.axisId!==u||f&&x.status!==f));return i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-surface-100",children:"Projets SDSI"}),a.jsx("p",{className:"text-surface-400 mt-1",children:"Portefeuille de projets du schma directeur"})]}),a.jsxs("button",{onClick:()=>m(!0),className:"btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),"Nouveau Projet"]})]}),a.jsx("div",{className:"card p-4",children:a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-surface-400"}),a.jsx("input",{type:"text",value:c,onChange:x=>o(x.target.value),placeholder:"Rechercher un projet...",className:"input w-full pl-10"})]})}),a.jsxs("select",{value:u,onChange:x=>d(x.target.value),className:"input w-48",children:[a.jsx("option",{value:"",children:"Tous les axes"}),n.map(x=>a.jsx("option",{value:x.id,children:x.name},x.id))]}),a.jsxs("select",{value:f,onChange:x=>h(x.target.value),className:"input w-40",children:[a.jsx("option",{value:"",children:"Tous les statuts"}),Object.entries(Th).map(([x,{label:g}])=>a.jsx("option",{value:x,children:g},x))]})]})}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:j.map((x,g)=>{var y,N,k,D;return a.jsx(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.05},children:a.jsx(me,{to:`/workspace/${e}/sdsi/project/${x.id}`,className:"card p-5 block hover:bg-surface-800/80 transition-colors group",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center shrink-0",style:{backgroundColor:x.axisColor?`${x.axisColor}20`:"rgba(99, 102, 241, 0.2)"},children:a.jsx(Ic,{className:"w-5 h-5",style:{color:x.axisColor||"#6366f1"}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[x.code&&a.jsx("span",{className:"text-xs text-surface-500 font-mono",children:x.code}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${(y=Th[x.status])==null?void 0:y.color} text-white`,children:(N=Th[x.status])==null?void 0:N.label}),a.jsx("span",{className:`text-xs ${(k=ij[x.priority])==null?void 0:k.color}`,children:(D=ij[x.priority])==null?void 0:D.label})]}),a.jsx("h3",{className:"font-semibold text-surface-100 group-hover:text-white truncate",children:x.name}),x.axisName&&a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(sa,{className:"w-3 h-3",style:{color:x.axisColor}}),a.jsx("span",{className:"text-xs text-surface-400",children:x.axisName})]}),x.description&&a.jsx("p",{className:"text-sm text-surface-400 mt-2 line-clamp-2",children:x.description}),a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[a.jsx("span",{className:"text-surface-400",children:"Progression"}),a.jsxs("span",{className:"text-surface-300",children:[x.progress,"%"]})]}),a.jsx("div",{className:"h-1.5 bg-surface-700 rounded-full overflow-hidden",children:a.jsx(V.div,{initial:{width:0},animate:{width:`${x.progress}%`},className:"h-full bg-primary-500 rounded-full"})})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-surface-400",children:[x.startDate&&x.endDate&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(pt,{className:"w-3 h-3"}),new Date(x.startDate).toLocaleDateString("fr-FR",{month:"short",year:"numeric"})," ","-"," ",new Date(x.endDate).toLocaleDateString("fr-FR",{month:"short",year:"numeric"})]}),x.estimatedBudget&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(xc,{className:"w-3 h-3"}),x.estimatedBudget.toLocaleString("fr-FR")," FCFA"]}),x.projectManager&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ts,{className:"w-3 h-3"}),x.projectManager]})]})]}),a.jsx(fa,{className:"w-5 h-5 text-surface-500 group-hover:text-surface-300 shrink-0"})]})})},x.id)})}),j.length===0&&a.jsxs("div",{className:"card p-12 text-center",children:[a.jsx(Ic,{className:"w-16 h-16 text-surface-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-surface-300 mb-2",children:c||u||f?"Aucun projet trouv":"Aucun projet"}),a.jsx("p",{className:"text-surface-500 mb-6",children:c||u||f?"Essayez de modifier vos filtres":"Crez votre premier projet SDSI"}),!c&&!u&&!f&&a.jsxs("button",{onClick:()=>m(!0),className:"btn-primary mx-auto",children:[a.jsx(re,{className:"w-4 h-4"}),"Crer un projet"]})]}),a.jsx(te,{children:p&&a.jsx(oz,{workspaceId:e,axes:n,onClose:()=>m(!1),onSave:x=>{s(g=>[x,...g]),m(!1)}})})]})}function oz({workspaceId:e,axes:t,onClose:s,onSave:n}){const[r,i]=b.useState({name:"",code:"",description:"",objectives:"",axisId:"",priority:"medium",status:"planned",complexity:"medium",strategicValue:5,urgency:5,estimatedBudget:"",startDate:"",endDate:"",sponsor:""}),[l,c]=b.useState(!1),o=async u=>{u.preventDefault(),c(!0);try{const{data:d}=await ne.createProject({...r,workspaceId:e,estimatedBudget:r.estimatedBudget?parseFloat(r.estimatedBudget):null});n(d)}catch(d){console.error("Error creating project:",d)}finally{c(!1)}};return a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:s,children:a.jsxs(V.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-surface-900 rounded-2xl w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-hidden",onClick:u=>u.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[a.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:"Nouveau Projet SDSI"}),a.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:o,className:"p-6 space-y-4 overflow-y-auto max-h-[calc(90vh-140px)]",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom du projet *"}),a.jsx("input",{type:"text",value:r.name,onChange:u=>i({...r,name:u.target.value}),className:"input w-full",placeholder:"Ex: Migration ERP",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Code"}),a.jsx("input",{type:"text",value:r.code,onChange:u=>i({...r,code:u.target.value.toUpperCase()}),className:"input w-full font-mono",placeholder:"PRJ-001",maxLength:20})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),a.jsx("textarea",{value:r.description,onChange:u=>i({...r,description:u.target.value}),className:"input w-full h-24 resize-none",placeholder:"Dcrivez le projet..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Objectifs"}),a.jsx("textarea",{value:r.objectives,onChange:u=>i({...r,objectives:u.target.value}),className:"input w-full h-20 resize-none",placeholder:"Quels sont les objectifs de ce projet ?"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Axe stratgique"}),a.jsxs("select",{value:r.axisId,onChange:u=>i({...r,axisId:u.target.value}),className:"input w-full",children:[a.jsx("option",{value:"",children:"Slectionner un axe"}),t.map(u=>a.jsxs("option",{value:u.id,children:[u.icon," ",u.name]},u.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Sponsor"}),a.jsx("input",{type:"text",value:r.sponsor,onChange:u=>i({...r,sponsor:u.target.value}),className:"input w-full",placeholder:"Nom du sponsor"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Priorit"}),a.jsxs("select",{value:r.priority,onChange:u=>i({...r,priority:u.target.value}),className:"input w-full",children:[a.jsx("option",{value:"low",children:"Basse"}),a.jsx("option",{value:"medium",children:"Moyenne"}),a.jsx("option",{value:"high",children:"Haute"}),a.jsx("option",{value:"critical",children:"Critique"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Complexit"}),a.jsxs("select",{value:r.complexity,onChange:u=>i({...r,complexity:u.target.value}),className:"input w-full",children:[a.jsx("option",{value:"low",children:"Faible"}),a.jsx("option",{value:"medium",children:"Moyenne"}),a.jsx("option",{value:"high",children:"leve"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Budget estim (FCFA)"}),a.jsx("input",{type:"number",value:r.estimatedBudget,onChange:u=>i({...r,estimatedBudget:u.target.value}),className:"input w-full",placeholder:"0",min:0})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Valeur stratgique (1-10)"}),a.jsx("input",{type:"range",value:r.strategicValue,onChange:u=>i({...r,strategicValue:parseInt(u.target.value)}),className:"w-full",min:1,max:10}),a.jsxs("div",{className:"flex justify-between text-xs text-surface-400",children:[a.jsx("span",{children:"Faible"}),a.jsx("span",{className:"font-bold text-primary-400",children:r.strategicValue}),a.jsx("span",{children:"leve"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Urgence (1-10)"}),a.jsx("input",{type:"range",value:r.urgency,onChange:u=>i({...r,urgency:parseInt(u.target.value)}),className:"w-full",min:1,max:10}),a.jsxs("div",{className:"flex justify-between text-xs text-surface-400",children:[a.jsx("span",{children:"Faible"}),a.jsx("span",{className:"font-bold text-primary-400",children:r.urgency}),a.jsx("span",{children:"leve"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Date de dbut"}),a.jsx("input",{type:"date",value:r.startDate,onChange:u=>i({...r,startDate:u.target.value}),className:"input w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Date de fin"}),a.jsx("input",{type:"date",value:r.endDate,onChange:u=>i({...r,endDate:u.target.value}),className:"input w-full"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:s,className:"btn-secondary flex-1",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:l||!r.name,className:"btn-primary flex-1",children:l?"Cration...":"Crer le projet"})]})]})]})})}const Mh={planned:{label:"Planifi",color:"bg-surface-500",icon:wt},in_progress:{label:"En cours",color:"bg-blue-500",icon:yi},completed:{label:"Termin",color:"bg-emerald-500",icon:at},on_hold:{label:"En pause",color:"bg-amber-500",icon:v5},cancelled:{label:"Annul",color:"bg-red-500",icon:fe}},$l={pending:{label:"En attente",color:"bg-surface-600"},in_progress:{label:"En cours",color:"bg-blue-500"},completed:{label:"Termin",color:"bg-emerald-500"},on_hold:{label:"En pause",color:"bg-amber-500"}},Dh=e=>e>=15?{label:"Critique",color:"bg-red-500",text:"text-red-400"}:e>=10?{label:"Important",color:"bg-orange-500",text:"text-orange-400"}:e>=5?{label:"Modr",color:"bg-amber-500",text:"text-amber-400"}:{label:"Ngligeable",color:"bg-emerald-500",text:"text-emerald-400"},Wt=e=>e?new Intl.NumberFormat("fr-FR").format(e)+" XAF":"-";function uz(){var $x,qx,Fx,Hx,Ix,Yx,Gx,Kx,Qx,Xx,Wx,Zx,Jx,eg,tg,sg;const{workspaceId:e,projectId:t}=Et(),[s,n]=b.useState(null),[r,i]=b.useState(!0),[l,c]=b.useState("definition"),[o,u]=b.useState(!1),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[m,v]=b.useState(!1),[j,x]=b.useState(null),[g,y]=b.useState([]),[N,k]=b.useState([]),[D,w]=b.useState(!1),[T,O]=b.useState({name:"",description:"",startDate:"",endDate:"",deliverables:""}),[A,E]=b.useState({name:"",description:"",dueDate:"",isCritical:!1}),[S,M]=b.useState({name:"",description:"",category:"operational",probability:3,impact:3,mitigationStrategy:""}),[C,q]=b.useState({category:"other",description:"",amount:"",expenseDate:new Date().toISOString().split("T")[0],vendor:"",invoiceNumber:"",notes:""});b.useEffect(()=>{U(),_(),F()},[t]);const U=async()=>{try{const{data:L}=await ne.getProject(t);n(L)}catch{$.error("Erreur lors du chargement")}finally{i(!1)}},_=async()=>{w(!0);try{const{data:L}=await ne.getExpenses(t);y(L)}catch(L){console.error("Error loading expenses:",L)}finally{w(!1)}},F=async()=>{try{const{data:L}=await ne.getExpenseCategories();k(L)}catch(L){console.error("Error loading expense categories:",L)}},G=async L=>{L.preventDefault();try{await ne.createPhase(t,T),$.success("Phase ajoute"),u(!1),O({name:"",description:"",startDate:"",endDate:"",deliverables:""}),U()}catch{$.error("Erreur")}},B=async(L,oe)=>{try{await ne.updatePhase(L,oe),U()}catch{$.error("Erreur")}},I=async L=>{if(confirm("Supprimer cette phase ?"))try{await ne.deletePhase(L),$.success("Phase supprime"),U()}catch{$.error("Erreur")}},Q=async L=>{L.preventDefault();try{await ne.createMilestone(t,A),$.success("Jalon ajout"),f(!1),E({name:"",description:"",dueDate:"",isCritical:!1}),U()}catch{$.error("Erreur")}},P=async(L,oe)=>{try{await ne.updateMilestone(L,oe),U()}catch{$.error("Erreur")}},W=async L=>{if(confirm("Supprimer ce jalon ?"))try{await ne.deleteMilestone(L),$.success("Jalon supprim"),U()}catch{$.error("Erreur")}},se=async L=>{L.preventDefault();try{await ne.createRisk(t,S),$.success("Risque ajout"),p(!1),M({name:"",description:"",category:"operational",probability:3,impact:3,mitigationStrategy:""}),U()}catch{$.error("Erreur")}},xe=async L=>{if(confirm("Supprimer ce risque ?"))try{await ne.deleteRisk(L),$.success("Risque supprim"),U()}catch{$.error("Erreur")}},Se=async L=>{if(L.preventDefault(),!C.description||!C.amount){$.error("Description et montant requis");return}try{await ne.addExpense(t,{...C,amount:parseFloat(C.amount)}),$.success("Dpense ajoute"),v(!1),q({category:"other",description:"",amount:"",expenseDate:new Date().toISOString().split("T")[0],vendor:"",invoiceNumber:"",notes:""}),_(),U()}catch{$.error("Erreur lors de l'ajout")}},Sl=async L=>{if(confirm("Supprimer cette dpense ?"))try{await ne.deleteExpense(L),$.success("Dpense supprime"),_(),U()}catch{$.error("Erreur")}},[Ga,Wn]=b.useState(!1),Cl=async()=>{Wn(!0);try{const{data:L}=await ne.syncProgress(t);$.success(`Progression mise  jour: ${L.progress}%`),U()}catch{$.error("Erreur lors de la synchronisation")}finally{Wn(!1)}},At=async()=>{try{const{data:L}=await ne.checkCompletion(t);L.canComplete?($.success(L.message||"Projet marqu comme termin"),U()):$.info(`${L.pendingPhases} phases et ${L.pendingCriticalMilestones} jalons critiques restants`)}catch{$.error("Erreur")}},gf=async()=>{try{const{data:L}=await ne.syncProjectKPIs(t);$.success(`${L.synced} KPIs synchroniss`)}catch{$.error("Erreur lors de la synchronisation des KPIs")}};if(r)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})});if(!s)return a.jsxs("div",{className:"card p-12 text-center",children:[a.jsx("h2",{className:"text-xl font-medium text-surface-300",children:"Projet non trouv"}),a.jsx(me,{to:`/workspace/${e}/sdsi/projects`,className:"btn btn-primary mt-4",children:"Retour aux projets"})]});const X5=(($x=Mh[s.status])==null?void 0:$x.icon)||wt,Xt=s.estimatedBudget?(s.actualBudget||0)/s.estimatedBudget*100:0,Gr={critical:((qx=s.risks)==null?void 0:qx.filter(L=>L.score>=15).length)||0,important:((Fx=s.risks)==null?void 0:Fx.filter(L=>L.score>=10&&L.score<15).length)||0,moderate:((Hx=s.risks)==null?void 0:Hx.filter(L=>L.score>=5&&L.score<10).length)||0,low:((Ix=s.risks)==null?void 0:Ix.filter(L=>L.score<5).length)||0},W5=[{id:"definition",label:"Dfinition",icon:zs},{id:"gestion",label:"Gestion",icon:jp},{id:"budget",label:"Budget",icon:jd},{id:"suivi",label:"Suivi",icon:Kt}],Zn=g.reduce((L,oe)=>L+(oe.amount||0),0),Ux=g.reduce((L,oe)=>{const ut=oe.category||"other";return L[ut]=(L[ut]||0)+oe.amount,L},{});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(me,{to:`/workspace/${e}/sdsi/projects`,className:"flex items-center gap-2 text-surface-400 hover:text-surface-200 transition-colors",children:[a.jsx(ff,{className:"w-4 h-4"}),"Retour"]}),a.jsx("div",{className:"flex items-center gap-2 px-3 py-1 bg-primary-500/20 text-primary-400 rounded-full text-sm font-medium",children:"PROJET"}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 ${(Yx=Mh[s.status])==null?void 0:Yx.color} text-white rounded-full text-sm font-medium`,children:[a.jsx(X5,{className:"w-3 h-3"}),(Gx=Mh[s.status])==null?void 0:Gx.label]}),a.jsxs("h1",{className:"text-xl font-display font-bold text-surface-100 flex-1",children:[s.code&&a.jsx("span",{className:"text-surface-500 mr-2",children:s.code}),s.name]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:Cl,disabled:Ga,className:"btn btn-sm btn-ghost",title:"Synchroniser la progression",children:[a.jsx(us,{className:`w-4 h-4 ${Ga?"animate-spin":""}`}),"Sync"]}),a.jsxs("button",{onClick:gf,className:"btn btn-sm btn-ghost",title:"Synchroniser les KPIs",children:[a.jsx(Kt,{className:"w-4 h-4"}),"KPIs"]}),s.status!=="completed"&&a.jsxs("button",{onClick:At,className:"btn btn-sm btn-primary",title:"Vrifier la compltion",children:[a.jsx(at,{className:"w-4 h-4"}),"Terminer"]})]})]}),a.jsx("div",{className:"flex items-center gap-1 border-b border-surface-800",children:W5.map(L=>{const oe=L.icon;return a.jsxs("button",{onClick:()=>c(L.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 -mb-px ${l===L.id?"text-primary-400 border-primary-500":"text-surface-400 border-transparent hover:text-surface-200"}`,children:[a.jsx(oe,{className:"w-4 h-4"}),L.label]},L.id)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l==="definition"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"card p-4 text-center",children:[a.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Progression"}),a.jsxs("p",{className:"text-2xl font-bold text-primary-400",children:[s.progress,"%"]})]}),a.jsxs("div",{className:"card p-4 text-center",children:[a.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Budget"}),a.jsx("p",{className:"text-lg font-bold text-surface-100",children:Wt(s.estimatedBudget)})]}),a.jsxs("div",{className:"card p-4 text-center",children:[a.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Jalons"}),a.jsxs("p",{className:"text-2xl font-bold text-surface-100",children:[((Kx=s.milestones)==null?void 0:Kx.filter(L=>L.status==="completed").length)||0,a.jsxs("span",{className:"text-surface-500",children:["/",((Qx=s.milestones)==null?void 0:Qx.length)||0]})]})]}),a.jsxs("div",{className:"card p-4 text-center",children:[a.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Avancement"}),a.jsx("div",{className:"w-full h-2 bg-surface-700 rounded-full mt-2",children:a.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${s.progress}%`}})})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"font-semibold text-surface-100 mb-4",children:"Description du projet"}),a.jsx("p",{className:"text-surface-300 whitespace-pre-wrap",children:s.description||"Aucune description"}),s.objectives&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"font-medium text-surface-200 mb-2",children:"Objectifs"}),a.jsx("p",{className:"text-surface-400 whitespace-pre-wrap",children:s.objectives})]}),s.expectedBenefits&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"font-medium text-surface-200 mb-2",children:"Bnfices attendus"}),a.jsx("p",{className:"text-surface-400 whitespace-pre-wrap",children:s.expectedBenefits})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"font-semibold text-surface-100 mb-4",children:"Planning"}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pt,{className:"w-4 h-4 text-surface-500"}),a.jsx("span",{className:"text-surface-400",children:"Dbut:"}),a.jsx("span",{className:"text-surface-200",children:s.startDate?new Date(s.startDate).toLocaleDateString("fr-FR"):"-"})]}),a.jsx(fa,{className:"w-4 h-4 text-surface-600"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pt,{className:"w-4 h-4 text-surface-500"}),a.jsx("span",{className:"text-surface-400",children:"Fin:"}),a.jsx("span",{className:"text-surface-200",children:s.endDate?new Date(s.endDate).toLocaleDateString("fr-FR"):"-"})]})]}),s.phases&&s.phases.length>0&&a.jsx("div",{className:"mt-6 space-y-2",children:s.phases.map((L,oe)=>{var ut;return a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-32 text-xs text-surface-400 truncate",children:L.name}),a.jsxs("div",{className:"flex-1 h-6 bg-surface-800 rounded-lg overflow-hidden relative",children:[a.jsx("div",{className:`h-full ${(ut=$l[L.status])==null?void 0:ut.color} transition-all`,style:{width:`${L.progress||0}%`}}),a.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-xs text-white font-medium",children:[L.progress||0,"%"]})]})]},L.id)})})]})]}),l==="gestion"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[a.jsx(jp,{className:"w-5 h-5 text-purple-400"}),"Phases (",((Xx=s.phases)==null?void 0:Xx.length)||0,")"]}),a.jsxs("button",{onClick:()=>u(!0),className:"btn btn-sm btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),"Ajouter"]})]}),s.phases&&s.phases.length>0?a.jsx("div",{className:"space-y-3",children:s.phases.map((L,oe)=>{var ut,kl;return a.jsxs("div",{className:"p-3 bg-surface-800/50 rounded-lg group",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"w-6 h-6 rounded bg-purple-500/20 text-purple-400 text-xs font-bold flex items-center justify-center shrink-0",children:oe+1}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-surface-200 truncate",children:L.name}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-surface-500",children:[L.startDate&&a.jsx("span",{children:new Date(L.startDate).toLocaleDateString("fr-FR")}),L.startDate&&L.endDate&&a.jsx("span",{children:""}),L.endDate&&a.jsx("span",{children:new Date(L.endDate).toLocaleDateString("fr-FR")})]})]}),a.jsx("select",{value:L.status,onChange:Ka=>B(L.id,{status:Ka.target.value}),className:`px-2 py-1 rounded text-xs ${(ut=$l[L.status])==null?void 0:ut.color} text-white border-0`,children:Object.entries($l).map(([Ka,Z5])=>a.jsx("option",{value:Ka,children:Z5.label},Ka))}),a.jsx("button",{onClick:()=>I(L.id),className:"p-1.5 opacity-0 group-hover:opacity-100 hover:bg-red-500/20 rounded transition-all",children:a.jsx(ct,{className:"w-4 h-4 text-red-400"})})]}),a.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[a.jsx("span",{className:"text-xs text-surface-500 w-20",children:"Progression"}),a.jsxs("div",{className:"flex-1 relative group/progress",children:[a.jsx("input",{type:"range",min:"0",max:"100",value:L.progress||0,onChange:Ka=>B(L.id,{progress:parseInt(Ka.target.value)}),className:"w-full h-2 bg-surface-700 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:bg-primary-500 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:cursor-pointer"}),a.jsx("div",{className:`absolute top-0 left-0 h-2 rounded-full pointer-events-none ${(kl=$l[L.status])==null?void 0:kl.color}`,style:{width:`${L.progress||0}%`}})]}),a.jsxs("span",{className:"text-sm font-bold text-primary-400 w-12 text-right",children:[L.progress||0,"%"]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>B(L.id,{progress:0}),className:"px-2 py-0.5 text-xs bg-surface-700 hover:bg-surface-600 rounded",children:"0%"}),a.jsx("button",{onClick:()=>B(L.id,{progress:50}),className:"px-2 py-0.5 text-xs bg-surface-700 hover:bg-surface-600 rounded",children:"50%"}),a.jsx("button",{onClick:()=>B(L.id,{progress:100,status:"completed"}),className:"px-2 py-0.5 text-xs bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 rounded",children:"100%"})]})]})]},L.id)})}):a.jsx("p",{className:"text-center text-surface-500 py-6",children:"Aucune phase dfinie"})]}),a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[a.jsx(ws,{className:"w-5 h-5 text-amber-400"}),"Jalons (",((Wx=s.milestones)==null?void 0:Wx.length)||0,")"]}),a.jsxs("button",{onClick:()=>f(!0),className:"btn btn-sm btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),"Ajouter"]})]}),s.milestones&&s.milestones.length>0?a.jsx("div",{className:"space-y-2",children:s.milestones.map(L=>{const oe=L.dueDate&&new Date(L.dueDate)<new Date&&L.status!=="completed";return a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg group ${oe?"bg-red-500/10 border border-red-500/30":"bg-surface-800/50"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${L.status==="completed"?"bg-emerald-500/20":oe?"bg-red-500/20":"bg-surface-700"}`,children:L.status==="completed"?a.jsx(at,{className:"w-4 h-4 text-emerald-400"}):a.jsx(ws,{className:`w-4 h-4 ${L.isCritical?"text-amber-400":"text-surface-400"}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium text-surface-200",children:L.name}),L.isCritical&&a.jsx("span",{className:"px-1.5 py-0.5 bg-amber-500/20 text-amber-400 text-[10px] rounded",children:"Critique"})]}),L.description&&a.jsx("p",{className:"text-xs text-surface-500 truncate",children:L.description})]}),a.jsxs("div",{className:"text-right text-xs",children:[a.jsx("p",{className:oe?"text-red-400":"text-surface-400",children:L.dueDate&&new Date(L.dueDate).toLocaleDateString("fr-FR")}),oe&&a.jsx("p",{className:"text-red-400 font-medium",children:"En retard"})]}),a.jsxs("select",{value:L.status,onChange:ut=>P(L.id,{status:ut.target.value,completedDate:ut.target.value==="completed"?new Date().toISOString().split("T")[0]:null}),className:"px-2 py-1 rounded text-xs bg-surface-700 text-surface-200 border-0",children:[a.jsx("option",{value:"pending",children:" venir"}),a.jsx("option",{value:"in_progress",children:"En cours"}),a.jsx("option",{value:"completed",children:"Termin"})]}),a.jsx("button",{onClick:()=>W(L.id),className:"p-1.5 opacity-0 group-hover:opacity-100 hover:bg-red-500/20 rounded transition-all",children:a.jsx(ct,{className:"w-4 h-4 text-red-400"})})]},L.id)})}):a.jsx("p",{className:"text-center text-surface-500 py-6",children:"Aucun jalon dfini"})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[a.jsx(Ye,{className:"w-5 h-5 text-blue-400"}),"Ressources alloues"]})}),s.allocations&&s.allocations.length>0?a.jsx("div",{className:"space-y-2",children:s.allocations.map(L=>{var oe;return a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-800/50 rounded-lg",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center text-blue-400 font-bold text-sm",children:(oe=L.resourceName)==null?void 0:oe.charAt(0)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-surface-200",children:L.resourceName}),a.jsx("p",{className:"text-xs text-surface-500",children:L.role||L.resourceType})]}),a.jsxs("span",{className:"text-primary-400 font-bold",children:[L.percentage,"%"]})]},L.id)})}):a.jsx("p",{className:"text-center text-surface-500 py-6",children:"Aucune ressource alloue"})]})]}),l==="budget"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"card p-4",children:[a.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Budget estim"}),a.jsx("p",{className:"text-2xl font-bold text-surface-100",children:Wt(s.estimatedBudget)})]}),a.jsxs("div",{className:"card p-4",children:[a.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Dpens"}),a.jsx("p",{className:"text-2xl font-bold text-amber-400",children:Wt(s.actualBudget||Zn)})]}),a.jsxs("div",{className:"card p-4",children:[a.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Disponible"}),a.jsx("p",{className:`text-2xl font-bold ${(s.estimatedBudget||0)-(s.actualBudget||Zn)<0?"text-red-400":"text-emerald-400"}`,children:Wt((s.estimatedBudget||0)-(s.actualBudget||Zn))})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-surface-100",children:"Consommation du budget"}),a.jsxs("span",{className:`text-sm font-bold ${Xt>100?"text-red-400":Xt>80?"text-amber-400":"text-emerald-400"}`,children:[Xt.toFixed(1),"%"]})]}),a.jsx("div",{className:"h-4 bg-surface-700 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full transition-all ${Xt>100?"bg-red-500":Xt>80?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${Math.min(Xt,100)}%`}})}),Xt>100&&a.jsxs("p",{className:"text-red-400 text-sm mt-2 flex items-center gap-2",children:[a.jsx(As,{className:"w-4 h-4"}),"Dpassement de ",Wt((s.actualBudget||Zn)-(s.estimatedBudget||0))]})]}),Object.keys(Ux).length>0&&a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"font-semibold text-surface-100 mb-4",children:"Rpartition par catgorie"}),a.jsx("div",{className:"space-y-3",children:Object.entries(Ux).map(([L,oe])=>{const ut=N.find(Ka=>Ka.id===L)||{name:L,icon:""},kl=Zn>0?oe/Zn*100:0;return a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xl",children:ut.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm text-surface-300",children:ut.name}),a.jsx("span",{className:"text-sm text-surface-400",children:Wt(oe)})]}),a.jsx("div",{className:"h-2 bg-surface-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-primary-500 rounded-full",style:{width:`${kl}%`}})})]}),a.jsxs("span",{className:"text-xs text-surface-500 w-12 text-right",children:[kl.toFixed(0),"%"]})]},L)})})]}),a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[a.jsx(Yc,{className:"w-5 h-5 text-primary-400"}),"Dpenses (",g.length,")"]}),a.jsxs("button",{onClick:()=>v(!0),className:"btn btn-sm btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),"Ajouter"]})]}),D?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):g.length>0?a.jsx("div",{className:"space-y-2",children:g.map(L=>{const oe=N.find(ut=>ut.id===L.category)||{name:L.category,icon:""};return a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-800/50 rounded-lg group hover:bg-surface-800 transition-colors",children:[a.jsx("span",{className:"text-xl",children:oe.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-surface-200 truncate",children:L.description}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-surface-500",children:[a.jsx("span",{children:new Date(L.expenseDate).toLocaleDateString("fr-FR")}),L.vendor&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(tl,{className:"w-3 h-3"}),L.vendor]})]}),L.invoiceNumber&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(gc,{className:"w-3 h-3"}),L.invoiceNumber]})]})]})]}),a.jsx("span",{className:"text-primary-400 font-bold whitespace-nowrap",children:Wt(L.amount)}),a.jsx("button",{onClick:()=>Sl(L.id),className:"p-1.5 opacity-0 group-hover:opacity-100 hover:bg-red-500/20 rounded transition-all",children:a.jsx(ct,{className:"w-4 h-4 text-red-400"})})]},L.id)})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Yc,{className:"w-12 h-12 mx-auto text-surface-600 mb-3"}),a.jsx("p",{className:"text-surface-500",children:"Aucune dpense enregistre"}),a.jsxs("button",{onClick:()=>v(!0),className:"btn btn-sm btn-primary mt-4",children:[a.jsx(re,{className:"w-4 h-4"}),"Ajouter une dpense"]})]})]})]}),l==="suivi"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"card p-6 border-l-4 border-primary-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[a.jsx(as,{className:"w-5 h-5 text-primary-400"}),"Suivi automatique"]}),a.jsxs("button",{onClick:Cl,disabled:Ga,className:"btn btn-sm btn-primary",children:[a.jsx(us,{className:`w-4 h-4 ${Ga?"animate-spin":""}`}),"Actualiser"]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-lg text-center",children:[a.jsxs("p",{className:"text-3xl font-bold text-primary-400",children:[s.progress,"%"]}),a.jsx("p",{className:"text-xs text-surface-400 mt-1",children:"Progression globale"})]}),a.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-lg text-center",children:[a.jsxs("p",{className:"text-3xl font-bold text-surface-100",children:[((Zx=s.phases)==null?void 0:Zx.filter(L=>L.status==="completed").length)||0,a.jsxs("span",{className:"text-surface-500 text-lg",children:["/",((Jx=s.phases)==null?void 0:Jx.length)||0]})]}),a.jsx("p",{className:"text-xs text-surface-400 mt-1",children:"Phases termines"})]}),a.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-lg text-center",children:[a.jsxs("p",{className:"text-3xl font-bold text-surface-100",children:[((eg=s.milestones)==null?void 0:eg.filter(L=>L.status==="completed").length)||0,a.jsxs("span",{className:"text-surface-500 text-lg",children:["/",((tg=s.milestones)==null?void 0:tg.length)||0]})]}),a.jsx("p",{className:"text-xs text-surface-400 mt-1",children:"Jalons atteints"})]})]}),s.phases&&s.phases.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-sm font-medium text-surface-300 mb-3",children:"Progression des phases"}),a.jsx("div",{className:"space-y-2",children:s.phases.map(L=>{var oe;return a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-28 text-xs text-surface-400 truncate",children:L.name}),a.jsx("div",{className:"flex-1 h-2 bg-surface-700 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${(oe=$l[L.status])==null?void 0:oe.color}`,style:{width:`${L.progress||0}%`}})}),a.jsxs("span",{className:"text-xs text-surface-300 w-10 text-right",children:[L.progress||0,"%"]})]},L.id)})})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsxs("h3",{className:"font-semibold text-surface-100 mb-4 flex items-center gap-2",children:[a.jsx(jd,{className:"w-5 h-5 text-emerald-400"}),"Budget"]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-lg",children:[a.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Budget estim"}),a.jsx("p",{className:"text-xl font-bold text-surface-100",children:Wt(s.estimatedBudget)})]}),a.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-lg",children:[a.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Consomm"}),a.jsx("p",{className:"text-xl font-bold text-amber-400",children:Wt(s.actualBudget)})]}),a.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-lg",children:[a.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Reste"}),a.jsx("p",{className:`text-xl font-bold ${s.estimatedBudget-(s.actualBudget||0)<0?"text-red-400":"text-emerald-400"}`,children:Wt((s.estimatedBudget||0)-(s.actualBudget||0))})]})]}),a.jsx("div",{className:"h-3 bg-surface-700 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full transition-all ${Xt>100?"bg-red-500":Xt>80?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${Math.min(Xt,100)}%`}})}),a.jsxs("p",{className:"text-xs text-surface-500 mt-2 text-center",children:[Xt.toFixed(1),"% du budget consomm"]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold text-surface-100 flex items-center gap-2",children:[a.jsx(Hn,{className:"w-5 h-5 text-red-400"}),"Risques (",((sg=s.risks)==null?void 0:sg.length)||0,")"]}),a.jsxs("button",{onClick:()=>p(!0),className:"btn btn-sm btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),"Ajouter"]})]}),s.risks&&s.risks.length>0?a.jsx("div",{className:"space-y-2",children:s.risks.map(L=>{const oe=Dh(L.score);return a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-surface-800/50 rounded-lg group",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg ${oe.color} flex items-center justify-center`,children:a.jsx("span",{className:"text-white font-bold text-sm",children:L.score})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-surface-200",children:L.name}),a.jsxs("p",{className:"text-xs text-surface-500",children:[L.category,"  P:",L.probability,"  I:",L.impact]})]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${oe.text} bg-surface-700`,children:oe.label}),a.jsx("button",{onClick:()=>xe(L.id),className:"p-1.5 opacity-0 group-hover:opacity-100 hover:bg-red-500/20 rounded transition-all",children:a.jsx(ct,{className:"w-4 h-4 text-red-400"})})]},L.id)})}):a.jsx("p",{className:"text-center text-surface-500 py-6",children:"Aucun risque identifi"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card p-4",children:[a.jsx("h4",{className:"font-medium text-surface-200 mb-4",children:"Situation"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-surface-400 text-sm",children:"Budget"}),a.jsx("div",{className:`w-3 h-3 rounded-full ${Xt>100?"bg-red-500":Xt>80?"bg-amber-500":"bg-emerald-500"}`})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-surface-400 text-sm",children:"Planning"}),a.jsx("div",{className:`w-3 h-3 rounded-full ${s.progress>=80?"bg-emerald-500":s.progress>=50?"bg-amber-500":"bg-red-500"}`})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-surface-400 text-sm",children:"Risques"}),a.jsx("div",{className:`w-3 h-3 rounded-full ${Gr.critical>0?"bg-red-500":Gr.important>0?"bg-amber-500":"bg-emerald-500"}`})]})]})]}),a.jsxs("div",{className:"card p-4",children:[a.jsx("h4",{className:"font-medium text-surface-200 mb-4",children:"Risques"}),a.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"w-10 h-10 mx-auto rounded-full bg-emerald-500 flex items-center justify-center text-white font-bold",children:Gr.low}),a.jsx("p",{className:"text-[10px] text-surface-500 mt-1",children:"Ngligeable"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"w-10 h-10 mx-auto rounded-full bg-amber-500 flex items-center justify-center text-white font-bold",children:Gr.moderate}),a.jsx("p",{className:"text-[10px] text-surface-500 mt-1",children:"Modr"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"w-10 h-10 mx-auto rounded-full bg-orange-500 flex items-center justify-center text-white font-bold",children:Gr.important}),a.jsx("p",{className:"text-[10px] text-surface-500 mt-1",children:"Important"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"w-10 h-10 mx-auto rounded-full bg-red-500 flex items-center justify-center text-white font-bold",children:Gr.critical}),a.jsx("p",{className:"text-[10px] text-surface-500 mt-1",children:"Critique"})]})]})]}),a.jsxs("div",{className:"card p-4",children:[a.jsx("h4",{className:"font-medium text-surface-200 mb-4",children:"quipe"}),s.projectManager&&a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"avatar",children:s.projectManager.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-surface-200 text-sm font-medium",children:s.projectManager}),a.jsx("p",{className:"text-surface-500 text-xs",children:"Chef de projet"})]})]}),s.sponsor&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"avatar avatar-sm bg-amber-500/20 text-amber-400",children:s.sponsor.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-surface-200 text-sm",children:s.sponsor}),a.jsx("p",{className:"text-surface-500 text-xs",children:"Sponsor"})]})]})]}),s.axisName&&a.jsxs("div",{className:"card p-4",children:[a.jsx("h4",{className:"font-medium text-surface-200 mb-3",children:"Axe stratgique"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.axisColor}}),a.jsx("span",{className:"text-surface-300",children:s.axisName})]})]})]})]}),a.jsx(te,{children:o&&a.jsx(su,{title:"Ajouter une phase",onClose:()=>u(!1),children:a.jsxs("form",{onSubmit:G,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Nom *"}),a.jsx("input",{type:"text",value:T.name,onChange:L=>O({...T,name:L.target.value}),className:"input",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Description"}),a.jsx("textarea",{value:T.description,onChange:L=>O({...T,description:L.target.value}),className:"input min-h-[80px]"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Date dbut"}),a.jsx("input",{type:"date",value:T.startDate,onChange:L=>O({...T,startDate:L.target.value}),className:"input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Date fin"}),a.jsx("input",{type:"date",value:T.endDate,onChange:L=>O({...T,endDate:L.target.value}),className:"input"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-secondary",children:"Annuler"}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Ajouter"})]})]})})}),a.jsx(te,{children:d&&a.jsx(su,{title:"Ajouter un jalon",onClose:()=>f(!1),children:a.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Nom *"}),a.jsx("input",{type:"text",value:A.name,onChange:L=>E({...A,name:L.target.value}),className:"input",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Description"}),a.jsx("textarea",{value:A.description,onChange:L=>E({...A,description:L.target.value}),className:"input min-h-[80px]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Date d'chance"}),a.jsx("input",{type:"date",value:A.dueDate,onChange:L=>E({...A,dueDate:L.target.value}),className:"input"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:A.isCritical,onChange:L=>E({...A,isCritical:L.target.checked}),className:"rounded"}),a.jsx("span",{className:"text-surface-300",children:"Jalon critique"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-secondary",children:"Annuler"}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Ajouter"})]})]})})}),a.jsx(te,{children:h&&a.jsx(su,{title:"Ajouter un risque",onClose:()=>p(!1),children:a.jsxs("form",{onSubmit:se,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Nom *"}),a.jsx("input",{type:"text",value:S.name,onChange:L=>M({...S,name:L.target.value}),className:"input",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Description"}),a.jsx("textarea",{value:S.description,onChange:L=>M({...S,description:L.target.value}),className:"input min-h-[60px]"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Catgorie"}),a.jsxs("select",{value:S.category,onChange:L=>M({...S,category:L.target.value}),className:"input",children:[a.jsx("option",{value:"technical",children:"Technique"}),a.jsx("option",{value:"operational",children:"Oprationnel"}),a.jsx("option",{value:"financial",children:"Financier"}),a.jsx("option",{value:"security",children:"Scurit"}),a.jsx("option",{value:"legal",children:"Juridique"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-surface-400 mb-1",children:["Probabilit: ",S.probability]}),a.jsx("input",{type:"range",min:"1",max:"5",value:S.probability,onChange:L=>M({...S,probability:parseInt(L.target.value)}),className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-surface-400 mb-1",children:["Impact: ",S.impact]}),a.jsx("input",{type:"range",min:"1",max:"5",value:S.impact,onChange:L=>M({...S,impact:parseInt(L.target.value)}),className:"w-full"})]})]}),a.jsxs("div",{className:`p-3 rounded-lg text-center ${Dh(S.probability*S.impact).color}`,children:[a.jsxs("span",{className:"text-white font-bold",children:["Score: ",S.probability*S.impact]}),a.jsxs("span",{className:"text-white/80 ml-2",children:["(",Dh(S.probability*S.impact).label,")"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Stratgie de mitigation"}),a.jsx("textarea",{value:S.mitigationStrategy,onChange:L=>M({...S,mitigationStrategy:L.target.value}),className:"input min-h-[60px]"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn btn-secondary",children:"Annuler"}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Ajouter"})]})]})})}),a.jsx(te,{children:m&&a.jsx(su,{title:"Ajouter une dpense",onClose:()=>v(!1),children:a.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Catgorie"}),a.jsx("select",{value:C.category,onChange:L=>q({...C,category:L.target.value}),className:"input",children:N.map(L=>a.jsxs("option",{value:L.id,children:[L.icon," ",L.name]},L.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Description *"}),a.jsx("input",{type:"text",value:C.description,onChange:L=>q({...C,description:L.target.value}),className:"input",placeholder:"Ex: Licence Microsoft 365",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Montant (XAF) *"}),a.jsx("input",{type:"number",value:C.amount,onChange:L=>q({...C,amount:L.target.value}),className:"input",placeholder:"0",min:"0",step:"1",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Date"}),a.jsx("input",{type:"date",value:C.expenseDate,onChange:L=>q({...C,expenseDate:L.target.value}),className:"input"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Fournisseur"}),a.jsx("input",{type:"text",value:C.vendor,onChange:L=>q({...C,vendor:L.target.value}),className:"input",placeholder:"Ex: Microsoft"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"N Facture"}),a.jsx("input",{type:"text",value:C.invoiceNumber,onChange:L=>q({...C,invoiceNumber:L.target.value}),className:"input",placeholder:"Ex: FAC-2026-001"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-surface-400 mb-1",children:"Notes"}),a.jsx("textarea",{value:C.notes,onChange:L=>q({...C,notes:L.target.value}),className:"input min-h-[60px]",placeholder:"Informations complmentaires..."})]}),C.amount&&a.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-lg border border-surface-700",children:[a.jsx("p",{className:"text-xs text-surface-400 mb-1",children:"Aperu"}),a.jsx("p",{className:"text-2xl font-bold text-primary-400",children:Wt(parseFloat(C.amount)||0)}),s.estimatedBudget&&a.jsxs("p",{className:"text-xs text-surface-500 mt-1",children:["Nouveau total: ",Wt((s.actualBudget||Zn)+(parseFloat(C.amount)||0))," / ",Wt(s.estimatedBudget)]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>v(!1),className:"btn btn-secondary",children:"Annuler"}),a.jsxs("button",{type:"submit",className:"btn btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),"Ajouter"]})]})]})})})]})}function su({title:e,children:t,onClose:s}){return a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:s,children:a.jsxs(V.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:n=>n.stopPropagation(),className:"bg-surface-900 rounded-2xl border border-surface-700 w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-surface-700",children:[a.jsx("h3",{className:"font-semibold text-surface-100",children:e}),a.jsx("button",{onClick:s,className:"p-1.5 hover:bg-surface-800 rounded-lg",children:a.jsx(fe,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"p-4",children:t})]})})}const Td={production:{label:"Production",color:"bg-emerald-500",icon:at},development:{label:"Dveloppement",color:"bg-blue-500",icon:r_},maintenance:{label:"Maintenance",color:"bg-amber-500",icon:wt},deprecated:{label:"Obsolte",color:"bg-red-500",icon:As},planned:{label:"Planifi",color:"bg-surface-500",icon:wt}},Md={low:{label:"Faible",color:"text-surface-400",bg:"bg-surface-700"},medium:{label:"Moyenne",color:"text-amber-400",bg:"bg-amber-500/20"},high:{label:"leve",color:"text-orange-400",bg:"bg-orange-500/20"},critical:{label:"Critique",color:"text-red-400",bg:"bg-red-500/20"}},Dd={erp:"",crm:"",hr:"",finance:"",infrastructure:"",security:"",collaboration:"",analytics:"",default:""};function dz(){const{workspaceId:e}=Et(),[t,s]=b.useState([]),[n,r]=b.useState(!0),[i,l]=b.useState(""),[c,o]=b.useState(""),[u,d]=b.useState(""),[f,h]=b.useState(!1),[p,m]=b.useState(null);b.useEffect(()=>{v()},[e]);const v=async()=>{try{const{data:g}=await ne.getApplications(e);s(g)}catch(g){console.error("Error loading applications:",g)}finally{r(!1)}},j=t.filter(g=>!(i&&!g.name.toLowerCase().includes(i.toLowerCase())||c&&g.status!==c||u&&g.criticality!==u)),x={total:t.length,production:t.filter(g=>g.status==="production").length,deprecated:t.filter(g=>g.status==="deprecated").length,critical:t.filter(g=>g.criticality==="critical").length,totalCost:t.reduce((g,y)=>g+(y.annualCost||0),0)};return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-surface-100",children:"Inventaire des Applications"}),a.jsx("p",{className:"text-surface-400 mt-1",children:"Cartographie du systme d'information"})]}),a.jsxs("button",{onClick:()=>h(!0),className:"btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),"Nouvelle Application"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"card p-4",children:[a.jsx("p",{className:"text-2xl font-bold text-surface-100",children:x.total}),a.jsx("p",{className:"text-sm text-surface-400",children:"Applications"})]}),a.jsxs("div",{className:"card p-4",children:[a.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:x.production}),a.jsx("p",{className:"text-sm text-surface-400",children:"En production"})]}),a.jsxs("div",{className:"card p-4",children:[a.jsx("p",{className:"text-2xl font-bold text-red-400",children:x.deprecated}),a.jsx("p",{className:"text-sm text-surface-400",children:"Obsoltes"})]}),a.jsxs("div",{className:"card p-4",children:[a.jsx("p",{className:"text-2xl font-bold text-orange-400",children:x.critical}),a.jsx("p",{className:"text-sm text-surface-400",children:"Critiques"})]}),a.jsxs("div",{className:"card p-4",children:[a.jsxs("p",{className:"text-2xl font-bold text-primary-400",children:[x.totalCost.toLocaleString("fr-FR")," FCFA"]}),a.jsx("p",{className:"text-sm text-surface-400",children:"Cot annuel total"})]})]}),a.jsx("div",{className:"card p-4",children:a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx("div",{className:"flex-1 min-w-[200px]",children:a.jsxs("div",{className:"relative",children:[a.jsx(Vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-surface-400"}),a.jsx("input",{type:"text",value:i,onChange:g=>l(g.target.value),placeholder:"Rechercher une application...",className:"input w-full pl-10"})]})}),a.jsxs("select",{value:c,onChange:g=>o(g.target.value),className:"input w-40",children:[a.jsx("option",{value:"",children:"Tous les statuts"}),Object.entries(Td).map(([g,{label:y}])=>a.jsx("option",{value:g,children:y},g))]}),a.jsxs("select",{value:u,onChange:g=>d(g.target.value),className:"input w-40",children:[a.jsx("option",{value:"",children:"Toutes criticits"}),Object.entries(Md).map(([g,{label:y}])=>a.jsx("option",{value:g,children:y},g))]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map((g,y)=>{var D;const N=Td[g.status],k=Md[g.criticality];return N!=null&&N.icon,a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.05},className:"card p-5 hover:bg-surface-800/80 transition-colors cursor-pointer",onClick:()=>m(g),children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-surface-800 flex items-center justify-center text-2xl",children:Dd[(D=g.category)==null?void 0:D.toLowerCase()]||Dd.default}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.code&&a.jsx("span",{className:"text-xs text-surface-500 font-mono",children:g.code}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${N==null?void 0:N.color} text-white`,children:N==null?void 0:N.label})]}),a.jsx("h3",{className:"font-semibold text-surface-100 truncate",children:g.name}),g.vendor&&a.jsx("p",{className:"text-sm text-surface-400",children:g.vendor})]})]}),g.description&&a.jsx("p",{className:"text-sm text-surface-400 mt-3 line-clamp-2",children:g.description}),a.jsxs("div",{className:"flex items-center gap-4 mt-4 text-xs text-surface-400",children:[a.jsx("span",{className:`px-2 py-1 rounded ${k==null?void 0:k.bg} ${k==null?void 0:k.color}`,children:k==null?void 0:k.label}),g.usersCount&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ye,{className:"w-3 h-3"}),g.usersCount]}),g.annualCost&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(xc,{className:"w-3 h-3"}),g.annualCost.toLocaleString("fr-FR")]})]}),g.technologyStack&&g.technologyStack.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[g.technologyStack.slice(0,3).map(w=>a.jsx("span",{className:"px-2 py-0.5 bg-surface-700 rounded text-xs text-surface-300",children:w},w)),g.technologyStack.length>3&&a.jsxs("span",{className:"px-2 py-0.5 text-xs text-surface-500",children:["+",g.technologyStack.length-3]})]}),g.endOfLifeDate&&new Date(g.endOfLifeDate)<new Date(Date.now()+365*24*60*60*1e3)&&a.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-amber-400",children:[a.jsx(As,{className:"w-3 h-3"}),"Fin de vie: ",new Date(g.endOfLifeDate).toLocaleDateString("fr-FR")]})]},g.id)})}),j.length===0&&a.jsxs("div",{className:"card p-12 text-center",children:[a.jsx(wd,{className:"w-16 h-16 text-surface-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-surface-300 mb-2",children:i||c||u?"Aucune application trouve":"Aucune application"}),a.jsx("p",{className:"text-surface-500 mb-6",children:i||c||u?"Essayez de modifier vos filtres":"Commencez  inventorier vos applications"}),!i&&!c&&!u&&a.jsxs("button",{onClick:()=>h(!0),className:"btn-primary mx-auto",children:[a.jsx(re,{className:"w-4 h-4"}),"Ajouter une application"]})]}),a.jsxs(te,{children:[f&&a.jsx(fz,{workspaceId:e,onClose:()=>h(!1),onSave:g=>{s(y=>[g,...y]),h(!1)}}),p&&a.jsx(hz,{app:p,onClose:()=>m(null)})]})]})}function fz({workspaceId:e,onClose:t,onSave:s}){const[n,r]=b.useState({name:"",code:"",description:"",category:"",vendor:"",version:"",technologyStack:"",status:"production",criticality:"medium",dataSensitivity:"internal",usersCount:"",annualCost:"",owner:"",technicalContact:"",goLiveDate:"",endOfLifeDate:""}),[i,l]=b.useState(!1),c=async o=>{o.preventDefault(),l(!0);try{const{data:u}=await ne.createApplication({...n,workspaceId:e,technologyStack:n.technologyStack?n.technologyStack.split(",").map(d=>d.trim()):[],usersCount:n.usersCount?parseInt(n.usersCount):null,annualCost:n.annualCost?parseFloat(n.annualCost):null});s(u)}catch(u){console.error("Error creating application:",u)}finally{l(!1)}};return a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t,children:a.jsxs(V.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-surface-900 rounded-2xl w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-hidden",onClick:o=>o.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[a.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:"Nouvelle Application"}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:c,className:"p-6 space-y-4 overflow-y-auto max-h-[calc(90vh-140px)]",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom *"}),a.jsx("input",{type:"text",value:n.name,onChange:o=>r({...n,name:o.target.value}),className:"input w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Code"}),a.jsx("input",{type:"text",value:n.code,onChange:o=>r({...n,code:o.target.value.toUpperCase()}),className:"input w-full font-mono"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),a.jsx("textarea",{value:n.description,onChange:o=>r({...n,description:o.target.value}),className:"input w-full h-20 resize-none"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Catgorie"}),a.jsxs("select",{value:n.category,onChange:o=>r({...n,category:o.target.value}),className:"input w-full",children:[a.jsx("option",{value:"",children:"Slectionner"}),a.jsx("option",{value:"erp",children:"ERP"}),a.jsx("option",{value:"crm",children:"CRM"}),a.jsx("option",{value:"hr",children:"RH"}),a.jsx("option",{value:"finance",children:"Finance"}),a.jsx("option",{value:"infrastructure",children:"Infrastructure"}),a.jsx("option",{value:"security",children:"Scurit"}),a.jsx("option",{value:"collaboration",children:"Collaboration"}),a.jsx("option",{value:"analytics",children:"Analytics"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"diteur"}),a.jsx("input",{type:"text",value:n.vendor,onChange:o=>r({...n,vendor:o.target.value}),className:"input w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Version"}),a.jsx("input",{type:"text",value:n.version,onChange:o=>r({...n,version:o.target.value}),className:"input w-full"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Technologies (spares par des virgules)"}),a.jsx("input",{type:"text",value:n.technologyStack,onChange:o=>r({...n,technologyStack:o.target.value}),className:"input w-full",placeholder:"Java, PostgreSQL, React..."})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Statut"}),a.jsx("select",{value:n.status,onChange:o=>r({...n,status:o.target.value}),className:"input w-full",children:Object.entries(Td).map(([o,{label:u}])=>a.jsx("option",{value:o,children:u},o))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Criticit"}),a.jsx("select",{value:n.criticality,onChange:o=>r({...n,criticality:o.target.value}),className:"input w-full",children:Object.entries(Md).map(([o,{label:u}])=>a.jsx("option",{value:o,children:u},o))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Sensibilit donnes"}),a.jsxs("select",{value:n.dataSensitivity,onChange:o=>r({...n,dataSensitivity:o.target.value}),className:"input w-full",children:[a.jsx("option",{value:"public",children:"Publique"}),a.jsx("option",{value:"internal",children:"Interne"}),a.jsx("option",{value:"confidential",children:"Confidentielle"}),a.jsx("option",{value:"restricted",children:"Restreinte"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nb utilisateurs"}),a.jsx("input",{type:"number",value:n.usersCount,onChange:o=>r({...n,usersCount:o.target.value}),className:"input w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Cot annuel (FCFA)"}),a.jsx("input",{type:"number",value:n.annualCost,onChange:o=>r({...n,annualCost:o.target.value}),className:"input w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Fin de vie"}),a.jsx("input",{type:"date",value:n.endOfLifeDate,onChange:o=>r({...n,endOfLifeDate:o.target.value}),className:"input w-full"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:t,className:"btn-secondary flex-1",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:i||!n.name,className:"btn-primary flex-1",children:i?"Cration...":"Ajouter"})]})]})]})})}function hz({app:e,onClose:t}){var r;const s=Td[e.status],n=Md[e.criticality];return a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:t,children:a.jsxs(V.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-surface-900 rounded-2xl w-full max-w-lg shadow-2xl",onClick:i=>i.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-surface-800 flex items-center justify-center text-2xl",children:Dd[(r=e.category)==null?void 0:r.toLowerCase()]||Dd.default}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:e.name}),e.code&&a.jsx("p",{className:"text-sm text-surface-400 font-mono",children:e.code})]})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${s==null?void 0:s.color} text-white`,children:s==null?void 0:s.label}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm ${n==null?void 0:n.bg} ${n==null?void 0:n.color}`,children:["Criticit: ",n==null?void 0:n.label]})]}),e.description&&a.jsx("p",{className:"text-surface-300",children:e.description}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-surface-800",children:[e.vendor&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-surface-500",children:"diteur"}),a.jsx("p",{className:"text-surface-200",children:e.vendor})]}),e.version&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-surface-500",children:"Version"}),a.jsx("p",{className:"text-surface-200",children:e.version})]}),e.usersCount&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-surface-500",children:"Utilisateurs"}),a.jsx("p",{className:"text-surface-200",children:e.usersCount})]}),e.annualCost&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-surface-500",children:"Cot annuel"}),a.jsxs("p",{className:"text-surface-200",children:[e.annualCost.toLocaleString("fr-FR")," FCFA"]})]}),e.owner&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-surface-500",children:"Responsable"}),a.jsx("p",{className:"text-surface-200",children:e.owner})]}),e.technicalContact&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-surface-500",children:"Contact technique"}),a.jsx("p",{className:"text-surface-200",children:e.technicalContact})]})]}),e.technologyStack&&e.technologyStack.length>0&&a.jsxs("div",{className:"pt-4 border-t border-surface-800",children:[a.jsx("p",{className:"text-xs text-surface-500 mb-2",children:"Technologies"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.technologyStack.map(i=>a.jsx("span",{className:"px-3 py-1 bg-surface-800 rounded-lg text-sm text-surface-300",children:i},i))})]})]})]})})}const mz={up:Kt,down:mf,stable:Dx},lj={performance:"#6366f1",quality:"#10b981",efficiency:"#f59e0b",security:"#ef4444",satisfaction:"#8b5cf6",cost:"#06b6d4"};function pz(){const{workspaceId:e}=Et(),[t,s]=b.useState([]),[n,r]=b.useState([]),[i,l]=b.useState([]),[c,o]=b.useState(!0),[u,d]=b.useState(!1),[f,h]=b.useState(!1),[p,m]=b.useState(null),[v,j]=b.useState(""),[x,g]=b.useState("");b.useEffect(()=>{y()},[e]);const y=async()=>{try{const[E,S,M]=await Promise.all([ne.getKPIs(e),ne.getProjects(e),ne.getAxes(e)]);s(E.data),r(S.data),l(M.data)}catch(E){console.error("Error loading data:",E),$.error("Erreur de chargement")}finally{o(!1)}},N=async()=>{d(!0);try{const{data:E}=await ne.syncAllKPIs(e);$.success(`${E.synced} KPI(s) synchronis(s)`),y()}catch(E){console.error("Sync error:",E),$.error("Erreur de synchronisation")}finally{d(!1)}},k=async(E,S)=>{var M,C;S.stopPropagation();try{const{data:q}=await ne.syncKPI(E);s(U=>U.map(_=>_.id===E?{..._,currentValue:q.newValue,trend:q.trend}:_)),$.success("KPI synchronis")}catch(q){$.error(((C=(M=q.response)==null?void 0:M.data)==null?void 0:C.error)||"Erreur")}},D=t.filter(E=>!(v&&E.category!==v||x==="auto"&&!E.calculationMethod||x==="manual"&&E.calculationMethod)),w=[...new Set(t.map(E=>E.category).filter(Boolean))],T=t.filter(E=>E.calculationMethod).length,O=E=>{if(!E.targetValue||E.currentValue===null||E.currentValue===void 0)return"neutral";const S=E.currentValue/E.targetValue*100;return S>=100?"success":S>=80?"warning":"danger"},A=E=>{switch(E){case"success":return"text-emerald-400";case"warning":return"text-amber-400";case"danger":return"text-red-400";default:return"text-surface-400"}};return c?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-surface-100",children:"Indicateurs de Performance"}),a.jsx("p",{className:"text-surface-400 mt-1",children:"Suivez les KPIs cls de votre stratgie SI"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[T>0&&a.jsxs("button",{onClick:N,disabled:u,className:"btn-secondary flex items-center gap-2",children:[a.jsx(us,{className:`w-4 h-4 ${u?"animate-spin":""}`}),"Synchroniser tout"]}),a.jsxs("button",{onClick:()=>h(!0),className:"btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),"Nouveau KPI"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsx("div",{className:"card p-5",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center",children:a.jsx(at,{className:"w-5 h-5 text-emerald-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-emerald-400",children:t.filter(E=>O(E)==="success").length}),a.jsx("p",{className:"text-sm text-surface-400",children:"Sur cible"})]})]})}),a.jsx("div",{className:"card p-5",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-500/20 flex items-center justify-center",children:a.jsx(As,{className:"w-5 h-5 text-amber-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-amber-400",children:t.filter(E=>O(E)==="warning").length}),a.jsx("p",{className:"text-sm text-surface-400",children:" surveiller"})]})]})}),a.jsx("div",{className:"card p-5",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-500/20 flex items-center justify-center",children:a.jsx(As,{className:"w-5 h-5 text-red-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-red-400",children:t.filter(E=>O(E)==="danger").length}),a.jsx("p",{className:"text-sm text-surface-400",children:"En alerte"})]})]})}),a.jsx("div",{className:"card p-5",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-500/20 flex items-center justify-center",children:a.jsx(as,{className:"w-5 h-5 text-primary-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-primary-400",children:T}),a.jsx("p",{className:"text-sm text-surface-400",children:"Automatiss"})]})]})}),a.jsx("div",{className:"card p-5",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-surface-700 flex items-center justify-center",children:a.jsx(Fn,{className:"w-5 h-5 text-surface-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-surface-200",children:t.length}),a.jsx("p",{className:"text-sm text-surface-400",children:"Total KPIs"})]})]})})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("div",{className:"flex gap-1 p-1 bg-surface-800 rounded-lg",children:[a.jsx("button",{onClick:()=>g(""),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${x?"text-surface-400 hover:text-surface-200":"bg-surface-700 text-surface-100"}`,children:"Tous"}),a.jsxs("button",{onClick:()=>g("auto"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors flex items-center gap-1 ${x==="auto"?"bg-primary-500/20 text-primary-400":"text-surface-400 hover:text-surface-200"}`,children:[a.jsx(as,{className:"w-3 h-3"}),"Automatiss"]}),a.jsx("button",{onClick:()=>g("manual"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${x==="manual"?"bg-surface-700 text-surface-100":"text-surface-400 hover:text-surface-200"}`,children:"Manuels"})]}),w.length>0&&a.jsxs("div",{className:"flex gap-1 p-1 bg-surface-800 rounded-lg",children:[a.jsx("button",{onClick:()=>j(""),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${v?"text-surface-400 hover:text-surface-200":"bg-surface-700 text-surface-100"}`,children:"Toutes catgories"}),w.map(E=>a.jsx("button",{onClick:()=>j(E),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${v===E?"bg-surface-700 text-surface-100":"text-surface-400 hover:text-surface-200"}`,children:E},E))]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map((E,S)=>{var G;const M=O(E),C=mz[E.trend]||Dx,q=E.currentValue??0,U=E.targetValue??100,_=U>0?q/U*100:0,F=!!E.calculationMethod;return a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.03},className:"card p-5 cursor-pointer hover:bg-surface-800/80 transition-colors relative group",onClick:()=>m(E),children:[F&&a.jsxs("div",{className:"absolute top-3 right-3 flex items-center gap-1",children:[a.jsx("button",{onClick:B=>k(E.id,B),className:"p-1.5 rounded-lg bg-primary-500/20 text-primary-400 hover:bg-primary-500/30 transition-colors opacity-0 group-hover:opacity-100",title:"Synchroniser",children:a.jsx(us,{className:"w-3.5 h-3.5"})}),a.jsxs("div",{className:"px-2 py-1 rounded-md bg-primary-500/20 flex items-center gap-1",children:[a.jsx(as,{className:"w-3 h-3 text-primary-400"}),a.jsx("span",{className:"text-xs font-medium text-primary-400",children:"Auto"})]})]}),a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1 pr-20",children:[E.category&&a.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full mb-2 inline-block",style:{backgroundColor:`${lj[E.category.toLowerCase()]||"#6366f1"}20`,color:lj[E.category.toLowerCase()]||"#6366f1"},children:E.category}),a.jsx("h3",{className:"font-semibold text-surface-100",children:E.name}),E.description&&a.jsx("p",{className:"text-sm text-surface-400 mt-1 line-clamp-2",children:E.description})]}),!F&&E.trend&&a.jsx(C,{className:`w-5 h-5 ${E.trend==="up"?"text-emerald-400":E.trend==="down"?"text-red-400":"text-surface-400"}`})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-surface-500",children:"Valeur actuelle"}),a.jsxs("p",{className:`text-3xl font-bold ${A(M)}`,children:[((G=E.currentValue)==null?void 0:G.toLocaleString("fr-FR"))??"-",E.unit&&a.jsx("span",{className:"text-sm text-surface-400 ml-1",children:E.unit})]})]}),E.targetValue&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-surface-500",children:"Cible"}),a.jsxs("p",{className:"text-lg text-surface-300",children:[E.targetValue.toLocaleString("fr-FR")," ",E.unit]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"h-2 bg-surface-700 rounded-full overflow-hidden",children:a.jsx(V.div,{initial:{width:0},animate:{width:`${Math.min(Math.max(_,0),100)}%`},transition:{duration:.5,ease:"easeOut"},className:`h-full rounded-full ${M==="success"?"bg-emerald-500":M==="warning"?"bg-amber-500":M==="danger"?"bg-red-500":"bg-primary-500"}`})}),a.jsxs("div",{className:"flex justify-between text-xs text-surface-500 mt-1",children:[a.jsxs("span",{children:[q.toLocaleString("fr-FR")," / ",U.toLocaleString("fr-FR")," ",E.unit]}),a.jsxs("span",{className:M==="success"?"text-emerald-400":M==="warning"?"text-amber-400":M==="danger"?"text-red-400":"",children:[_.toFixed(0),"%"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 pt-2 text-xs text-surface-400",children:[E.axisName&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(sa,{className:"w-3 h-3"}),E.axisName]}),E.projectName&&a.jsxs("div",{className:"flex items-center gap-1 truncate",children:[a.jsx(y5,{className:"w-3 h-3"}),E.projectName]})]})]})]},E.id)})}),D.length===0&&a.jsxs("div",{className:"card p-12 text-center",children:[a.jsx(Kt,{className:"w-16 h-16 text-surface-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-surface-300 mb-2",children:v||x?"Aucun KPI correspondant":"Aucun KPI dfini"}),a.jsx("p",{className:"text-surface-500 mb-6",children:"Crez des indicateurs pour suivre la performance de votre stratgie"}),!v&&!x&&a.jsxs("button",{onClick:()=>h(!0),className:"btn-primary mx-auto",children:[a.jsx(re,{className:"w-4 h-4"}),"Crer un KPI"]})]}),a.jsxs(te,{children:[f&&a.jsx(xz,{workspaceId:e,projects:n,axes:i,onClose:()=>h(!1),onSave:E=>{s(S=>[E,...S]),h(!1)}}),p&&a.jsx(gz,{kpi:p,projects:n,axes:i,onClose:()=>m(null),onUpdate:E=>{s(S=>S.map(M=>M.id===E.id?E:M)),m(E)},onDelete:E=>{s(S=>S.filter(M=>M.id!==E)),m(null)}})]})]})}function xz({workspaceId:e,projects:t,axes:s,onClose:n,onSave:r}){const[i,l]=b.useState({name:"",description:"",category:"",unit:"%",targetValue:"100",currentValue:"",baselineValue:"",minThreshold:"",frequency:"monthly",projectId:"",axisId:"",calculationMethod:""}),[c,o]=b.useState([]),[u,d]=b.useState(!1);b.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:m}=await ne.getCalculationMethods();o(m)}catch(m){console.error("Error loading methods:",m)}},h=async m=>{m.preventDefault(),d(!0);try{const{data:v}=await ne.createKPI({...i,workspaceId:e,targetValue:i.targetValue?parseFloat(i.targetValue):null,currentValue:i.currentValue?parseFloat(i.currentValue):null,baselineValue:i.baselineValue?parseFloat(i.baselineValue):null,minThreshold:i.minThreshold?parseFloat(i.minThreshold):null,projectId:i.projectId||null,axisId:i.axisId||null,calculationMethod:i.calculationMethod||null});if(i.calculationMethod)try{await ne.syncKPI(v.id)}catch{}r(v),$.success("KPI cr")}catch(v){console.error("Error creating KPI:",v),$.error("Erreur")}finally{d(!1)}},p=c.find(m=>m.id===i.calculationMethod);return a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:n,children:a.jsxs(V.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-surface-900 rounded-2xl w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-hidden flex flex-col",onClick:m=>m.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[a.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:"Nouveau KPI"}),a.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:h,className:"flex-1 overflow-y-auto p-6 space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom du KPI *"}),a.jsx("input",{type:"text",value:i.name,onChange:m=>l({...i,name:m.target.value}),className:"input w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),a.jsx("textarea",{value:i.description,onChange:m=>l({...i,description:m.target.value}),className:"input w-full h-20 resize-none"})]}),a.jsxs("div",{className:"p-4 bg-primary-500/10 border border-primary-500/20 rounded-xl space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(as,{className:"w-5 h-5 text-primary-400"}),a.jsx("h3",{className:"font-medium text-primary-400",children:"Calcul automatique"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Lier  un projet"}),a.jsxs("select",{value:i.projectId,onChange:m=>l({...i,projectId:m.target.value}),className:"input w-full",children:[a.jsx("option",{value:"",children:"Aucun projet"}),t.map(m=>a.jsxs("option",{value:m.id,children:[m.code?`[${m.code}] `:"",m.name]},m.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Ou lier  un axe"}),a.jsxs("select",{value:i.axisId,onChange:m=>l({...i,axisId:m.target.value}),className:"input w-full",children:[a.jsx("option",{value:"",children:"Aucun axe"}),s.map(m=>a.jsx("option",{value:m.id,children:m.name},m.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Mthode de calcul"}),a.jsxs("select",{value:i.calculationMethod,onChange:m=>l({...i,calculationMethod:m.target.value}),className:"input w-full",children:[a.jsx("option",{value:"",children:"Manuel (pas d'automatisation)"}),c.filter(m=>!(m.requiresProject&&!i.projectId||m.requiresAxis&&!i.axisId)).map(m=>a.jsx("option",{value:m.id,children:m.name},m.id))]}),p&&a.jsx("p",{className:"text-xs text-surface-400 mt-2",children:p.description})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Catgorie"}),a.jsxs("select",{value:i.category,onChange:m=>l({...i,category:m.target.value}),className:"input w-full",children:[a.jsx("option",{value:"",children:"Slectionner"}),a.jsx("option",{value:"Performance",children:"Performance"}),a.jsx("option",{value:"Quality",children:"Qualit"}),a.jsx("option",{value:"Efficiency",children:"Efficacit"}),a.jsx("option",{value:"Security",children:"Scurit"}),a.jsx("option",{value:"Satisfaction",children:"Satisfaction"}),a.jsx("option",{value:"Cost",children:"Cot"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Unit"}),a.jsx("input",{type:"text",value:i.unit,onChange:m=>l({...i,unit:m.target.value}),className:"input w-full",placeholder:"%, FCFA, jours..."})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Valeur cible"}),a.jsx("input",{type:"number",value:i.targetValue,onChange:m=>l({...i,targetValue:m.target.value}),className:"input w-full",step:"any"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Valeur actuelle ",i.calculationMethod&&"(auto)"]}),a.jsx("input",{type:"number",value:i.currentValue,onChange:m=>l({...i,currentValue:m.target.value}),className:"input w-full",step:"any",disabled:!!i.calculationMethod,placeholder:i.calculationMethod?"Calcule auto":""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Seuil min"}),a.jsx("input",{type:"number",value:i.minThreshold,onChange:m=>l({...i,minThreshold:m.target.value}),className:"input w-full",step:"any"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Frquence de mesure"}),a.jsxs("select",{value:i.frequency,onChange:m=>l({...i,frequency:m.target.value}),className:"input w-full",children:[a.jsx("option",{value:"daily",children:"Quotidienne"}),a.jsx("option",{value:"weekly",children:"Hebdomadaire"}),a.jsx("option",{value:"monthly",children:"Mensuelle"}),a.jsx("option",{value:"quarterly",children:"Trimestrielle"}),a.jsx("option",{value:"yearly",children:"Annuelle"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:n,className:"btn-secondary flex-1",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:u||!i.name,className:"btn-primary flex-1",children:u?"Cration...":"Crer"})]})]})]})})}function gz({kpi:e,projects:t,axes:s,onClose:n,onUpdate:r,onDelete:i}){var k;const[l,c]=b.useState(""),[o,u]=b.useState([]),[d,f]=b.useState(!1),[h,p]=b.useState(!1),[m,v]=b.useState(!1),j=e.targetValue&&e.currentValue!==null?e.currentValue/e.targetValue*100>=100?"success":e.currentValue/e.targetValue*100>=80?"warning":"danger":"neutral",x=async()=>{f(!0);try{const{data:D}=await ne.getKPIHistory(e.id);u(D),p(!0)}catch{$.error("Erreur")}finally{f(!1)}},g=async()=>{if(l)try{await ne.addKPIValue(e.id,{value:parseFloat(l),recordedAt:new Date().toISOString()}),r({...e,currentValue:parseFloat(l)}),c(""),$.success("Valeur ajoute")}catch{$.error("Erreur")}},y=async()=>{var D,w;v(!0);try{const{data:T}=await ne.syncKPI(e.id);r({...e,currentValue:T.newValue,trend:T.trend}),$.success("KPI synchronis")}catch(T){$.error(((w=(D=T.response)==null?void 0:D.data)==null?void 0:w.error)||"Erreur")}finally{v(!1)}},N=async()=>{if(confirm("Supprimer ce KPI ?"))try{await ne.deleteKPI(e.id),i(e.id),$.success("KPI supprim")}catch{$.error("Erreur")}};return a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:n,children:a.jsxs(V.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-surface-900 rounded-2xl w-full max-w-lg shadow-2xl max-h-[90vh] overflow-hidden flex flex-col",onClick:D=>D.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:e.name}),e.calculationMethod&&a.jsxs("span",{className:"px-2 py-0.5 bg-primary-500/20 text-primary-400 rounded-full text-xs flex items-center gap-1",children:[a.jsx(as,{className:"w-3 h-3"})," Auto"]})]}),e.category&&a.jsx("span",{className:"text-sm text-primary-400",children:e.category})]}),a.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.description&&a.jsx("p",{className:"text-surface-300",children:e.description}),a.jsxs("div",{className:"text-center py-6 bg-surface-800/50 rounded-xl",children:[a.jsx("p",{className:"text-sm text-surface-400 mb-2",children:"Valeur actuelle"}),a.jsxs("p",{className:`text-5xl font-bold ${j==="success"?"text-emerald-400":j==="warning"?"text-amber-400":j==="danger"?"text-red-400":"text-surface-200"}`,children:[((k=e.currentValue)==null?void 0:k.toLocaleString("fr-FR"))??"-",e.unit&&a.jsx("span",{className:"text-xl text-surface-400 ml-2",children:e.unit})]}),e.targetValue&&a.jsxs("p",{className:"text-surface-400 mt-2",children:["Cible: ",e.targetValue.toLocaleString("fr-FR")," ",e.unit]})]}),(e.projectName||e.axisName)&&a.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.projectName&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-surface-800/50 rounded-lg text-sm",children:[a.jsx(y5,{className:"w-4 h-4 text-surface-400"}),a.jsxs("span",{className:"text-surface-300",children:["Projet: ",e.projectName]})]}),e.axisName&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-surface-800/50 rounded-lg text-sm",children:[a.jsx(sa,{className:"w-4 h-4 text-surface-400"}),a.jsxs("span",{className:"text-surface-300",children:["Axe: ",e.axisName]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[e.calculationMethod&&a.jsxs("button",{onClick:y,disabled:m,className:"btn-secondary flex-1",children:[a.jsx(us,{className:`w-4 h-4 ${m?"animate-spin":""}`}),"Synchroniser"]}),a.jsxs("button",{onClick:x,disabled:d,className:"btn-secondary flex-1",children:[a.jsx(Mx,{className:"w-4 h-4"}),"Historique"]})]}),h&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-surface-300",children:"Historique des valeurs"}),o.length>0?a.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1",children:o.map((D,w)=>a.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-surface-800/30 rounded-lg text-sm",children:[a.jsx("span",{className:"text-surface-400",children:new Date(D.recorded_at).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),a.jsxs("span",{className:"font-medium text-surface-200",children:[parseFloat(D.value).toLocaleString("fr-FR")," ",e.unit]})]},w))}):a.jsx("p",{className:"text-sm text-surface-500 text-center py-4",children:"Aucun historique"})]}),!e.calculationMethod&&a.jsxs("div",{className:"pt-4 border-t border-surface-800",children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Ajouter une mesure"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",value:l,onChange:D=>c(D.target.value),className:"input flex-1",placeholder:`Nouvelle valeur ${e.unit?`(${e.unit})`:""}`,step:"any"}),a.jsx("button",{onClick:g,disabled:!l,className:"btn-primary",children:"Ajouter"})]})]}),a.jsx("div",{className:"pt-4 border-t border-surface-800",children:a.jsx("button",{onClick:N,className:"text-red-400 hover:text-red-300 text-sm",children:"Supprimer ce KPI"})})]})]})})}const Rh={human:{label:"Humaine",color:"bg-blue-500",icon:Ts},technical:{label:"Technique",color:"bg-purple-500",icon:m5},material:{label:"Matrielle",color:"bg-amber-500",icon:o7},external:{label:"Externe",color:"bg-emerald-500",icon:tl}},yz=(e,t="XAF")=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e);function bz(){const{workspaceId:e}=Et(),[t,s]=b.useState([]),[n,r]=b.useState([]),[i,l]=b.useState(!0),[c,o]=b.useState(!1),[u,d]=b.useState(!1),[f,h]=b.useState(null),[p,m]=b.useState(null),[v,j]=b.useState(null),[x,g]=b.useState(""),[y,N]=b.useState(""),[k,D]=b.useState({name:"",type:"human",description:"",capacity:100,unit:"%",costPerUnit:"",currency:"XAF",skills:"",email:"",phone:"",department:""}),[w,T]=b.useState({projectId:"",percentage:50,startDate:"",endDate:"",role:""});b.useEffect(()=>{O()},[e]);const O=async()=>{try{l(!0);const[P,W]=await Promise.all([ne.getResources(e),ne.getProjects(e)]);s(P.data),r(W.data)}catch{$.error("Erreur lors du chargement")}finally{l(!1)}},A=async P=>{try{return(await ne.getResourceAllocations(P)).data}catch{return $.error("Erreur lors du chargement des allocations"),[]}},E=async P=>{P.preventDefault();try{const W={...k,workspaceId:e,skills:k.skills?k.skills.split(",").map(se=>se.trim()):null};f?(await ne.updateResource(f.id,W),$.success("Ressource mise  jour")):(await ne.createResource(W),$.success("Ressource cre")),o(!1),_(),O()}catch{$.error("Erreur lors de l'enregistrement")}},S=async P=>{P.preventDefault();try{await ne.createAllocation(p.id,w),$.success("Allocation cre"),d(!1),F(),O()}catch{$.error("Erreur lors de l'allocation")}},M=P=>{h(P),D({name:P.name,type:P.type,description:P.description||"",capacity:P.capacity||100,unit:P.unit||"%",costPerUnit:P.costPerUnit||"",currency:P.currency||"XAF",skills:Array.isArray(P.skills)?P.skills.join(", "):"",email:P.email||"",phone:P.phone||"",department:P.department||""}),o(!0)},C=async P=>{if(confirm("Supprimer cette ressource ?"))try{await ne.deleteResource(P),$.success("Ressource supprime"),O()}catch{$.error("Erreur lors de la suppression")}},q=async P=>{if(confirm("Supprimer cette allocation ?"))try{await ne.deleteAllocation(P),$.success("Allocation supprime"),O()}catch{$.error("Erreur")}},U=async P=>{if(v===P.id)j(null);else{const W=await A(P.id);s(se=>se.map(xe=>xe.id===P.id?{...xe,allocations:W}:xe)),j(P.id)}},_=()=>{D({name:"",type:"human",description:"",capacity:100,unit:"%",costPerUnit:"",currency:"XAF",skills:"",email:"",phone:"",department:""}),h(null)},F=()=>{T({projectId:"",percentage:50,startDate:"",endDate:"",role:""}),m(null)},G=P=>{m(P),d(!0)},I=t.filter(P=>{var xe;const W=!x||P.type===x,se=!y||P.name.toLowerCase().includes(y.toLowerCase())||((xe=P.department)==null?void 0:xe.toLowerCase().includes(y.toLowerCase()));return W&&se}).reduce((P,W)=>(P[W.type]||(P[W.type]=[]),P[W.type].push(W),P),{}),Q={total:t.length,human:t.filter(P=>P.type==="human").length,technical:t.filter(P=>P.type==="technical").length,overAllocated:t.filter(P=>P.currentAllocation>100).length};return i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-10 h-10 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(me,{to:`/workspace/${e}/sdsi`,className:"p-2 hover:bg-surface-800 rounded-lg transition-colors",children:a.jsx(ff,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-surface-100 flex items-center gap-3",children:[a.jsx(Ye,{className:"w-7 h-7 text-blue-500"}),"Gestion des Ressources"]}),a.jsx("p",{className:"text-surface-400 mt-1",children:"Grez et allouez vos ressources aux projets"})]})]}),a.jsxs("button",{onClick:()=>{_(),o(!0)},className:"btn btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),"Nouvelle ressource"]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"card p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-surface-400",children:"Total"}),a.jsx(Ye,{className:"w-5 h-5 text-surface-500"})]}),a.jsx("p",{className:"text-2xl font-bold text-surface-100 mt-2",children:Q.total})]}),a.jsxs("div",{className:"card p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-surface-400",children:"Humaines"}),a.jsx(Ts,{className:"w-5 h-5 text-blue-500"})]}),a.jsx("p",{className:"text-2xl font-bold text-blue-400 mt-2",children:Q.human})]}),a.jsxs("div",{className:"card p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-surface-400",children:"Techniques"}),a.jsx(m5,{className:"w-5 h-5 text-purple-500"})]}),a.jsx("p",{className:"text-2xl font-bold text-purple-400 mt-2",children:Q.technical})]}),a.jsxs("div",{className:"card p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-surface-400",children:"Sur-alloues"}),a.jsx(p7,{className:"w-5 h-5 text-red-500"})]}),a.jsx("p",{className:"text-2xl font-bold text-red-400 mt-2",children:Q.overAllocated})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-surface-500"}),a.jsx("input",{type:"text",value:y,onChange:P=>N(P.target.value),placeholder:"Rechercher une ressource...",className:"input pl-10"})]}),a.jsxs("select",{value:x,onChange:P=>g(P.target.value),className:"input w-56",children:[a.jsx("option",{value:"",children:"Tous les types"}),Object.entries(Rh).map(([P,W])=>a.jsx("option",{value:P,children:W.label},P))]})]}),a.jsxs("div",{className:"space-y-6",children:[Object.entries(I).map(([P,W])=>{const se=Rh[P],xe=(se==null?void 0:se.icon)||Ts;return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"text-lg font-semibold text-surface-200 flex items-center gap-2",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg ${se==null?void 0:se.color} flex items-center justify-center`,children:a.jsx(xe,{className:"w-4 h-4 text-white"})}),"Ressources ",se==null?void 0:se.label,"s (",W.length,")"]}),a.jsx("div",{className:"grid gap-3",children:W.map((Se,Sl)=>{const Ga=v===Se.id,Wn=Se.currentAllocation||0,Cl=Wn>100;return a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Sl*.03},className:"card overflow-hidden",children:[a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl ${se==null?void 0:se.color} flex items-center justify-center`,children:a.jsx(xe,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-semibold text-surface-100",children:Se.name}),a.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-surface-400",children:[Se.department&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(tl,{className:"w-3 h-3"}),Se.department]}),Se.email&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(No,{className:"w-3 h-3"}),Se.email]}),Se.costPerUnit&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(jd,{className:"w-3 h-3"}),yz(Se.costPerUnit,Se.currency),"/",Se.unit]})]})]}),a.jsxs("div",{className:"w-40",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[a.jsx("span",{className:"text-surface-400",children:"Allocation"}),a.jsxs("span",{className:Cl?"text-red-400":"text-surface-300",children:[Wn.toFixed(0),"%"]})]}),a.jsx("div",{className:"h-2 bg-surface-700 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full transition-all ${Cl?"bg-red-500":Wn>80?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${Math.min(Wn,100)}%`}})})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs("button",{onClick:()=>G(Se),className:"btn btn-sm btn-secondary",children:[a.jsx(re,{className:"w-3 h-3"}),"Allouer"]}),a.jsx("button",{onClick:()=>U(Se),className:"p-2 hover:bg-surface-700 rounded-lg transition-colors",children:Ga?a.jsx(Ax,{className:"w-4 h-4 text-surface-400"}):a.jsx(Ya,{className:"w-4 h-4 text-surface-400"})}),a.jsx("button",{onClick:()=>M(Se),className:"p-2 hover:bg-surface-700 rounded-lg transition-colors",children:a.jsx(al,{className:"w-4 h-4 text-surface-400"})}),a.jsx("button",{onClick:()=>C(Se.id),className:"p-2 hover:bg-red-500/20 rounded-lg transition-colors",children:a.jsx(ct,{className:"w-4 h-4 text-red-400"})})]})]}),Array.isArray(Se.skills)&&Se.skills.length>0&&a.jsx("div",{className:"flex items-center gap-2 mt-3 pl-16",children:Se.skills.map((At,gf)=>a.jsx("span",{className:"px-2 py-0.5 bg-surface-700 text-surface-300 text-xs rounded-full",children:At},gf))})]}),a.jsx(te,{children:Ga&&Se.allocations&&a.jsx(V.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden border-t border-surface-700",children:a.jsxs("div",{className:"p-4 bg-surface-800/50",children:[a.jsxs("h5",{className:"text-sm font-medium text-surface-300 mb-3",children:["Allocations actives (",Se.allocations.length,")"]}),Se.allocations.length>0?a.jsx("div",{className:"space-y-2",children:Se.allocations.map(At=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-500/20 flex items-center justify-center",children:a.jsx(OO,{className:"w-4 h-4 text-primary-400"})}),a.jsxs("div",{children:[a.jsxs("span",{className:"text-surface-200 font-medium",children:[At.projectCode," - ",At.projectName]}),At.role&&a.jsx("p",{className:"text-xs text-surface-500",children:At.role})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"text-primary-400 font-medium",children:[At.percentage,"%"]}),At.startDate&&a.jsxs("span",{className:"text-xs text-surface-500",children:[new Date(At.startDate).toLocaleDateString("fr-FR"),At.endDate&&`  ${new Date(At.endDate).toLocaleDateString("fr-FR")}`]}),a.jsx("button",{onClick:()=>q(At.id),className:"p-1 hover:bg-red-500/20 rounded transition-colors",children:a.jsx(ct,{className:"w-3 h-3 text-red-400"})})]})]},At.id))}):a.jsx("p",{className:"text-sm text-surface-500",children:"Aucune allocation"})]})})})]},Se.id)})})]},P)}),Object.keys(I).length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ye,{className:"w-12 h-12 text-surface-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-surface-300 mb-2",children:"Aucune ressource"}),a.jsx("p",{className:"text-surface-500 mb-4",children:"Ajoutez vos premires ressources"}),a.jsxs("button",{onClick:()=>o(!0),className:"btn btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),"Ajouter une ressource"]})]})]}),a.jsx(te,{children:c&&a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>o(!1),children:a.jsxs(V.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:P=>P.stopPropagation(),className:"bg-surface-900 rounded-2xl border border-surface-700 w-full max-w-xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700 sticky top-0 bg-surface-900",children:[a.jsx("h2",{className:"text-xl font-display font-bold text-surface-100",children:f?"Modifier la ressource":"Nouvelle ressource"}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-surface-800 rounded-lg transition-colors",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:E,className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom *"}),a.jsx("input",{type:"text",value:k.name,onChange:P=>D({...k,name:P.target.value}),className:"input",placeholder:"Ex: Jean Dupont",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Type *"}),a.jsx("select",{value:k.type,onChange:P=>D({...k,type:P.target.value}),className:"input",required:!0,children:Object.entries(Rh).map(([P,W])=>a.jsx("option",{value:P,children:W.label},P))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),a.jsx("textarea",{value:k.description,onChange:P=>D({...k,description:P.target.value}),className:"input min-h-[60px]",placeholder:"Description de la ressource..."})]}),k.type==="human"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Email"}),a.jsx("input",{type:"email",value:k.email,onChange:P=>D({...k,email:P.target.value}),className:"input",placeholder:"email@exemple.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Tlphone"}),a.jsx("input",{type:"text",value:k.phone,onChange:P=>D({...k,phone:P.target.value}),className:"input",placeholder:"+237 6XX XXX XXX"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Dpartement"}),a.jsx("input",{type:"text",value:k.department,onChange:P=>D({...k,department:P.target.value}),className:"input",placeholder:"Ex: DSI, RH, Finance..."})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Capacit"}),a.jsx("input",{type:"number",value:k.capacity,onChange:P=>D({...k,capacity:P.target.value}),className:"input",placeholder:"100"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Unit"}),a.jsxs("select",{value:k.unit,onChange:P=>D({...k,unit:P.target.value}),className:"input",children:[a.jsx("option",{value:"%",children:"Pourcentage (%)"}),a.jsx("option",{value:"h",children:"Heures (h)"}),a.jsx("option",{value:"j",children:"Jours (j)"}),a.jsx("option",{value:"u",children:"Units (u)"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Cot par unit"}),a.jsx("input",{type:"number",value:k.costPerUnit,onChange:P=>D({...k,costPerUnit:P.target.value}),className:"input",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Devise"}),a.jsxs("select",{value:k.currency,onChange:P=>D({...k,currency:P.target.value}),className:"input",children:[a.jsx("option",{value:"XAF",children:"XAF (FCFA)"}),a.jsx("option",{value:"EUR",children:"EUR ()"}),a.jsx("option",{value:"USD",children:"USD ($)"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Comptences (spares par des virgules)"}),a.jsx("input",{type:"text",value:k.skills,onChange:P=>D({...k,skills:P.target.value}),className:"input",placeholder:"Ex: Java, React, Management..."})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>o(!1),className:"btn btn-secondary",children:"Annuler"}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:f?"Mettre  jour":"Crer"})]})]})]})})}),a.jsx(te,{children:u&&p&&a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>d(!1),children:a.jsxs(V.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:P=>P.stopPropagation(),className:"bg-surface-900 rounded-2xl border border-surface-700 w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-700",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-display font-bold text-surface-100",children:"Allouer la ressource"}),a.jsx("p",{className:"text-sm text-surface-400 mt-1",children:p.name})]}),a.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-surface-800 rounded-lg transition-colors",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Projet *"}),a.jsxs("select",{value:w.projectId,onChange:P=>T({...w,projectId:P.target.value}),className:"input",required:!0,children:[a.jsx("option",{value:"",children:"Slectionner un projet"}),n.map(P=>a.jsxs("option",{value:P.id,children:[P.code," - ",P.name]},P.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:["Pourcentage d'allocation: ",w.percentage,"%"]}),a.jsx("input",{type:"range",min:"5",max:"100",step:"5",value:w.percentage,onChange:P=>T({...w,percentage:parseInt(P.target.value)}),className:"w-full h-2 bg-surface-700 rounded-lg appearance-none cursor-pointer accent-primary-500"}),a.jsxs("div",{className:"flex justify-between text-xs text-surface-500 mt-1",children:[a.jsx("span",{children:"5%"}),a.jsx("span",{children:"100%"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Rle sur le projet"}),a.jsx("input",{type:"text",value:w.role,onChange:P=>T({...w,role:P.target.value}),className:"input",placeholder:"Ex: Chef de projet, Dveloppeur..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Date de dbut"}),a.jsx("input",{type:"date",value:w.startDate,onChange:P=>T({...w,startDate:P.target.value}),className:"input"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Date de fin"}),a.jsx("input",{type:"date",value:w.endDate,onChange:P=>T({...w,endDate:P.target.value}),className:"input"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>d(!1),className:"btn btn-secondary",children:"Annuler"}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Allouer"})]})]})]})})})]})}const vz={1:"bg-emerald-500",2:"bg-green-500",3:"bg-amber-500",4:"bg-orange-500",5:"bg-red-500"},cj={active:{label:"Actif",color:"bg-emerald-500"},planning:{label:"Planification",color:"bg-blue-500"},completed:{label:"Termin",color:"bg-surface-500"}};function jz(){const{workspaceId:e}=Et(),[t,s]=b.useState([]),[n,r]=b.useState(!0),[i,l]=b.useState(!1),[c,o]=b.useState(null);b.useEffect(()=>{u()},[e]);const u=async()=>{try{const{data:f}=await ne.getAxes(e);s(f)}catch{$.error("Erreur lors du chargement")}finally{r(!1)}},d=async f=>{if(confirm("Supprimer cet axe stratgique ? Les projets associs seront dsassocis."))try{await ne.deleteAxis(f),$.success("Axe supprim"),u()}catch{$.error("Erreur lors de la suppression")}};return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-surface-100",children:"Axes Stratgiques"}),a.jsx("p",{className:"text-surface-400 mt-1",children:"Dfinissez les grandes orientations de votre schma directeur"})]}),a.jsxs("button",{onClick:()=>{o(null),l(!0)},className:"btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),"Nouvel Axe"]})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:t.map((f,h)=>{var p,m;return a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.05},className:"card p-5 hover:bg-surface-800/80 transition-colors group relative",children:[a.jsxs("div",{className:"absolute top-4 right-4 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>{o(f),l(!0)},className:"p-1.5 rounded-lg hover:bg-surface-700 text-surface-400 hover:text-surface-200",children:a.jsx(al,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>d(f.id),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-surface-400 hover:text-red-400",children:a.jsx(ct,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shrink-0 text-2xl",style:{backgroundColor:`${f.color}20`},children:f.icon||a.jsx(sa,{className:"w-6 h-6",style:{color:f.color}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${vz[f.priority]||"bg-surface-500"}`}),a.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${((p=cj[f.status])==null?void 0:p.color)||"bg-surface-600"} text-white`,children:((m=cj[f.status])==null?void 0:m.label)||"Actif"})]}),a.jsx("h3",{className:"font-semibold text-surface-100 truncate",children:f.name}),f.description&&a.jsx("p",{className:"text-sm text-surface-400 mt-1 line-clamp-2",children:f.description}),a.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1 text-surface-400",children:[a.jsx(Ic,{className:"w-4 h-4"}),a.jsxs("span",{children:[f.projectCount," projets"]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-surface-400",children:[a.jsx(Kt,{className:"w-4 h-4"}),a.jsxs("span",{children:[f.kpiCount," KPIs"]})]}),f.startYear&&f.endYear&&a.jsxs("div",{className:"flex items-center gap-1 text-surface-400",children:[a.jsx(pt,{className:"w-4 h-4"}),a.jsxs("span",{children:[f.startYear," - ",f.endYear]})]})]}),f.objectives&&a.jsx("div",{className:"mt-3 p-2 bg-surface-800/50 rounded-lg",children:a.jsx("p",{className:"text-xs text-surface-500 line-clamp-2",children:f.objectives})})]})]}),a.jsxs(me,{to:`/workspace/${e}/sdsi/projects?axis=${f.id}`,className:"mt-4 flex items-center gap-1 text-sm text-primary-400 hover:text-primary-300",children:["Voir les projets ",a.jsx(fa,{className:"w-4 h-4"})]})]},f.id)})}),t.length===0&&a.jsxs("div",{className:"card p-12 text-center",children:[a.jsx(sa,{className:"w-16 h-16 text-surface-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-surface-300 mb-2",children:"Aucun axe stratgique"}),a.jsx("p",{className:"text-surface-500 mb-6",children:"Crez votre premier axe pour structurer votre schma directeur"}),a.jsxs("button",{onClick:()=>l(!0),className:"btn-primary mx-auto",children:[a.jsx(re,{className:"w-4 h-4"}),"Crer un axe"]})]}),a.jsx(te,{children:i&&a.jsx(Nz,{workspaceId:e,axis:c,onClose:()=>{l(!1),o(null)},onSave:()=>{l(!1),o(null),u()}})})]})}function Nz({workspaceId:e,axis:t,onClose:s,onSave:n}){const[r,i]=b.useState({name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",objectives:(t==null?void 0:t.objectives)||"",priority:(t==null?void 0:t.priority)||1,color:(t==null?void 0:t.color)||"#6366f1",icon:(t==null?void 0:t.icon)||"",status:(t==null?void 0:t.status)||"active",startYear:(t==null?void 0:t.startYear)||new Date().getFullYear(),endYear:(t==null?void 0:t.endYear)||new Date().getFullYear()+3}),[l,c]=b.useState(!1),o=["#6366f1","#8b5cf6","#ec4899","#ef4444","#f59e0b","#10b981","#06b6d4","#3b82f6","#64748b"],u=async d=>{d.preventDefault(),c(!0);try{t?(await ne.updateAxis(t.id,r),$.success("Axe mis  jour")):(await ne.createAxis({...r,workspaceId:e}),$.success("Axe cr")),n()}catch{$.error("Erreur")}finally{c(!1)}};return a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:s,children:a.jsxs(V.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-surface-900 rounded-2xl w-full max-w-lg shadow-2xl",onClick:d=>d.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[a.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:t?"Modifier l'axe":"Nouvel Axe Stratgique"}),a.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom *"}),a.jsx("input",{type:"text",value:r.name,onChange:d=>i({...r,name:d.target.value}),className:"input w-full",placeholder:"Ex: Transformation digitale",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),a.jsx("textarea",{value:r.description,onChange:d=>i({...r,description:d.target.value}),className:"input w-full h-20 resize-none",placeholder:"Dcrivez cet axe stratgique..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Objectifs"}),a.jsx("textarea",{value:r.objectives,onChange:d=>i({...r,objectives:d.target.value}),className:"input w-full h-20 resize-none",placeholder:"Quels sont les objectifs de cet axe ?"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Priorit"}),a.jsxs("select",{value:r.priority,onChange:d=>i({...r,priority:parseInt(d.target.value)}),className:"input w-full",children:[a.jsx("option",{value:1,children:"1 - Trs haute"}),a.jsx("option",{value:2,children:"2 - Haute"}),a.jsx("option",{value:3,children:"3 - Moyenne"}),a.jsx("option",{value:4,children:"4 - Basse"}),a.jsx("option",{value:5,children:"5 - Trs basse"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Statut"}),a.jsxs("select",{value:r.status,onChange:d=>i({...r,status:d.target.value}),className:"input w-full",children:[a.jsx("option",{value:"active",children:"Actif"}),a.jsx("option",{value:"planning",children:"Planification"}),a.jsx("option",{value:"completed",children:"Termin"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Anne dbut"}),a.jsx("input",{type:"number",value:r.startYear,onChange:d=>i({...r,startYear:parseInt(d.target.value)}),className:"input w-full",min:2020,max:2050})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Anne fin"}),a.jsx("input",{type:"number",value:r.endYear,onChange:d=>i({...r,endYear:parseInt(d.target.value)}),className:"input w-full",min:2020,max:2050})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Couleur"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(d=>a.jsx("button",{type:"button",onClick:()=>i({...r,color:d}),className:`w-8 h-8 rounded-lg transition-transform ${r.color===d?"ring-2 ring-white ring-offset-2 ring-offset-surface-900 scale-110":""}`,style:{backgroundColor:d}},d))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Icne (emoji)"}),a.jsx("input",{type:"text",value:r.icon,onChange:d=>i({...r,icon:d.target.value}),className:"input w-full",placeholder:"",maxLength:2})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:s,className:"btn-secondary flex-1",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:l||!r.name,className:"btn-primary flex-1",children:l?"Enregistrement...":t?"Mettre  jour":"Crer"})]})]})]})})}const wz=[{id:"members",label:"Membres",icon:Ye},{id:"roles",label:"Rles",icon:Hn},{id:"groups",label:"Groupes",icon:Ye},{id:"audit",label:"Audit",icon:Mx}];function Sz(){const{workspaceId:e}=Et(),[t,s]=b.useState("members"),[n,r]=b.useState([]),[i,l]=b.useState([]),[c,o]=b.useState([]),[u,d]=b.useState([]),[f,h]=b.useState([]),[p,m]=b.useState(!0),[v,j]=b.useState(""),[x,g]=b.useState(!1),[y,N]=b.useState(!1),[k,D]=b.useState(!1),[w,T]=b.useState(null);b.useEffect(()=>{O()},[e]);const O=async()=>{m(!0);try{const[S,M,C,q]=await Promise.all([Ot.getByWorkspace(e),es.getRoles(e),es.getGroups(e),es.getPermissions()]);r(S.data),l(M.data),o(C.data),d(q.data.byCategory||{})}catch(S){console.error("Load error:",S),$.error("Erreur de chargement")}finally{m(!1)}},A=async()=>{try{const{data:S}=await es.getAuditLogs(e,{limit:100});h(S)}catch(S){console.error("Audit load error:",S)}};b.useEffect(()=>{t==="audit"&&A()},[t]);const E=n.filter(S=>{var C,q;if(!v)return!0;const M=v.toLowerCase();return((C=S.email)==null?void 0:C.toLowerCase().includes(M))||((q=S.fullName)==null?void 0:q.toLowerCase().includes(M))});return p?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-display font-bold text-surface-100",children:"Gestion des Permissions"}),a.jsx("p",{className:"text-surface-400 mt-1",children:"Grez les accs et les rles des utilisateurs de votre espace de travail"})]}),a.jsx("div",{className:"flex gap-1 p-1 bg-surface-800 rounded-xl w-fit",children:wz.map(S=>a.jsxs("button",{onClick:()=>s(S.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t===S.id?"bg-primary-500 text-white":"text-surface-400 hover:text-surface-200 hover:bg-surface-700"}`,children:[a.jsx(S.icon,{className:"w-4 h-4"}),S.label]},S.id))}),t==="members"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(Vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-surface-500"}),a.jsx("input",{type:"text",placeholder:"Rechercher un membre...",value:v,onChange:S=>j(S.target.value),className:"input pl-10 w-full"})]})}),a.jsx("div",{className:"card overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-surface-700",children:[a.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-surface-400",children:"Utilisateur"}),a.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-surface-400",children:"Rle workspace"}),a.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-surface-400",children:"Rles personnaliss"}),a.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-surface-400",children:"Actions"})]})}),a.jsx("tbody",{children:E.map(S=>{var M,C,q;return a.jsxs("tr",{className:"border-b border-surface-800 last:border-0 hover:bg-surface-800/30",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"avatar",children:[(M=S.firstName)==null?void 0:M[0],(C=S.lastName)==null?void 0:C[0]]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-surface-200",children:S.fullName}),a.jsx("p",{className:"text-sm text-surface-500",children:S.email})]})]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.role==="owner"?"bg-amber-500/20 text-amber-400":S.role==="admin"?"bg-purple-500/20 text-purple-400":"bg-surface-700 text-surface-300"}`,children:S.role==="owner"?"Propritaire":S.role==="admin"?"Administrateur":"Membre"})}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("div",{className:"flex flex-wrap gap-1",children:((q=S.customRoles)==null?void 0:q.map(U=>a.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:`${U.color}20`,color:U.color},children:U.name},U.id)))||a.jsx("span",{className:"text-surface-500 text-sm",children:"Aucun"})})}),a.jsx("td",{className:"px-4 py-3 text-right",children:a.jsx("button",{onClick:()=>{T(S),D(!0)},className:"p-2 rounded-lg hover:bg-surface-700 text-surface-400 hover:text-surface-200",children:a.jsx(nl,{className:"w-4 h-4"})})})]},S.id)})})]})})]}),t==="roles"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>{T(null),g(!0)},className:"btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),"Nouveau rle"]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.map((S,M)=>{var C,q;return a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.05},className:"card p-5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${S.color}20`},children:a.jsx(Hn,{className:"w-5 h-5",style:{color:S.color}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-surface-100",children:S.name}),a.jsxs("p",{className:"text-sm text-surface-500",children:[S.userCount," utilisateur(s)"]})]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>{T(S),g(!0)},className:"p-1.5 rounded-lg hover:bg-surface-700 text-surface-400",children:a.jsx(al,{className:"w-4 h-4"})}),a.jsx("button",{onClick:async()=>{confirm("Supprimer ce rle ?")&&(await es.deleteRole(S.id),O(),$.success("Rle supprim"))},className:"p-1.5 rounded-lg hover:bg-surface-700 text-red-400",children:a.jsx(ct,{className:"w-4 h-4"})})]})]}),S.description&&a.jsx("p",{className:"text-sm text-surface-400 mb-3",children:S.description}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(C=S.permissions)==null?void 0:C.slice(0,5).map(U=>a.jsx("span",{className:"text-xs px-2 py-0.5 bg-surface-700 text-surface-300 rounded-full",children:U},U)),((q=S.permissions)==null?void 0:q.length)>5&&a.jsxs("span",{className:"text-xs px-2 py-0.5 bg-surface-700 text-surface-400 rounded-full",children:["+",S.permissions.length-5]})]})]},S.id)}),i.length===0&&a.jsxs("div",{className:"col-span-full card p-12 text-center",children:[a.jsx(Hn,{className:"w-12 h-12 text-surface-600 mx-auto mb-4"}),a.jsx("p",{className:"text-surface-400",children:"Aucun rle personnalis"}),a.jsx("p",{className:"text-sm text-surface-500 mt-1",children:"Crez des rles pour grer finement les permissions"})]})]})]}),t==="groups"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{onClick:()=>{T(null),N(!0)},className:"btn-primary",children:[a.jsx(re,{className:"w-4 h-4"}),"Nouveau groupe"]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.map((S,M)=>{var C;return a.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.05},className:"card p-5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${S.color}20`},children:a.jsx(Ye,{className:"w-5 h-5",style:{color:S.color}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-surface-100",children:S.name}),a.jsxs("p",{className:"text-sm text-surface-500",children:[S.memberCount," membre(s)"]})]})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{onClick:()=>{T(S),N(!0)},className:"p-1.5 rounded-lg hover:bg-surface-700 text-surface-400",children:a.jsx(al,{className:"w-4 h-4"})}),a.jsx("button",{onClick:async()=>{confirm("Supprimer ce groupe ?")&&(await es.deleteGroup(S.id),O(),$.success("Groupe supprim"))},className:"p-1.5 rounded-lg hover:bg-surface-700 text-red-400",children:a.jsx(ct,{className:"w-4 h-4"})})]})]}),S.description&&a.jsx("p",{className:"text-sm text-surface-400 mb-3",children:S.description}),a.jsxs("div",{className:"flex -space-x-2",children:[(C=S.members)==null?void 0:C.slice(0,5).map((q,U)=>{var _,F;return a.jsxs("div",{className:"avatar avatar-sm ring-2 ring-surface-900",title:`${q.firstName} ${q.lastName}`,children:[(_=q.firstName)==null?void 0:_[0],(F=q.lastName)==null?void 0:F[0]]},q.id)}),S.memberCount>5&&a.jsxs("div",{className:"avatar avatar-sm ring-2 ring-surface-900 bg-surface-700 text-surface-400",children:["+",S.memberCount-5]})]})]},S.id)}),c.length===0&&a.jsxs("div",{className:"col-span-full card p-12 text-center",children:[a.jsx(Ye,{className:"w-12 h-12 text-surface-600 mx-auto mb-4"}),a.jsx("p",{className:"text-surface-400",children:"Aucun groupe"}),a.jsx("p",{className:"text-sm text-surface-500 mt-1",children:"Crez des groupes pour grer les accs en masse"})]})]})]}),t==="audit"&&a.jsxs("div",{className:"card overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-surface-700",children:a.jsx("h3",{className:"font-semibold text-surface-200",children:"Journal d'audit des permissions"})}),a.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:f.length>0?a.jsx("div",{className:"divide-y divide-surface-800",children:f.map(S=>{var M;return a.jsx("div",{className:"p-4 hover:bg-surface-800/30",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface-700 flex items-center justify-center mt-0.5",children:a.jsx(Mx,{className:"w-4 h-4 text-surface-400"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-surface-200",children:[a.jsx("span",{className:"font-medium",children:((M=S.performer)==null?void 0:M.name)||"Systme"})," ",Cz(S.action)," ",S.target&&a.jsx("span",{className:"font-medium",children:S.target.name})]}),a.jsx("p",{className:"text-xs text-surface-500 mt-1",children:new Date(S.createdAt).toLocaleString("fr-FR")})]})]})})},S.id)})}):a.jsx("div",{className:"p-12 text-center text-surface-500",children:"Aucune activit enregistre"})})]}),a.jsxs(te,{children:[x&&a.jsx(kz,{workspaceId:e,role:w,permissions:u,onClose:()=>{g(!1),T(null)},onSave:()=>{O(),g(!1),T(null)}}),y&&a.jsx(Ez,{workspaceId:e,group:w,members:n,onClose:()=>{N(!1),T(null)},onSave:()=>{O(),N(!1),T(null)}}),k&&w&&a.jsx(Az,{workspaceId:e,user:w,roles:i,onClose:()=>{D(!1),T(null)},onSave:()=>{O(),D(!1),T(null)}})]})]})}function Cz(e){return{role_created:"a cr le rle",role_updated:"a modifi le rle",role_deleted:"a supprim le rle",role_assigned:"a assign un rle ",role_removed:"a retir un rle de",permission_granted:"a accord une permission ",permission_revoked:"a rvoqu une permission de"}[e]||e}function kz({workspaceId:e,role:t,permissions:s,onClose:n,onSave:r}){const[i,l]=b.useState({name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",color:(t==null?void 0:t.color)||"#6366f1",permissions:(t==null?void 0:t.permissions)||[]}),[c,o]=b.useState(!1),u=async f=>{f.preventDefault(),o(!0);try{t?(await es.updateRole(t.id,i),$.success("Rle mis  jour")):(await es.createRole({...i,workspaceId:e}),$.success("Rle cr")),r()}catch{$.error("Erreur")}finally{o(!1)}},d=f=>{l(h=>({...h,permissions:h.permissions.includes(f)?h.permissions.filter(p=>p!==f):[...h.permissions,f]}))};return a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:n,children:a.jsxs(V.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-surface-900 rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",onClick:f=>f.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[a.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:t?"Modifier le rle":"Nouveau rle"}),a.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:u,className:"flex-1 overflow-y-auto p-6 space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom *"}),a.jsx("input",{type:"text",value:i.name,onChange:f=>l({...i,name:f.target.value}),className:"input w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Couleur"}),a.jsx("input",{type:"color",value:i.color,onChange:f=>l({...i,color:f.target.value}),className:"w-full h-10 rounded-lg cursor-pointer"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),a.jsx("textarea",{value:i.description,onChange:f=>l({...i,description:f.target.value}),className:"input w-full h-20 resize-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-3",children:"Permissions"}),a.jsx("div",{className:"space-y-4",children:Object.entries(s).map(([f,h])=>a.jsxs("div",{className:"p-4 bg-surface-800/50 rounded-xl",children:[a.jsx("h4",{className:"font-medium text-surface-200 mb-3 capitalize",children:f}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.map(p=>a.jsxs("label",{className:"flex items-center gap-2 p-2 rounded-lg hover:bg-surface-700 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:i.permissions.includes(p.code),onChange:()=>d(p.code),className:"w-4 h-4 rounded border-surface-600 bg-surface-800 text-primary-500"}),a.jsx("span",{className:"text-sm text-surface-300",children:p.name})]},p.code))})]},f))})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:n,className:"btn-secondary flex-1",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:c||!i.name,className:"btn-primary flex-1",children:c?"Enregistrement...":t?"Mettre  jour":"Crer"})]})]})]})})}function Ez({workspaceId:e,group:t,members:s,onClose:n,onSave:r}){var f;const[i,l]=b.useState({name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",color:(t==null?void 0:t.color)||"#6366f1",memberIds:((f=t==null?void 0:t.members)==null?void 0:f.map(h=>h.id))||[]}),[c,o]=b.useState(!1),u=async h=>{h.preventDefault(),o(!0);try{t?(await es.updateGroup(t.id,i),$.success("Groupe mis  jour")):(await es.createGroup({...i,workspaceId:e}),$.success("Groupe cr")),r()}catch{$.error("Erreur")}finally{o(!1)}},d=h=>{l(p=>({...p,memberIds:p.memberIds.includes(h)?p.memberIds.filter(m=>m!==h):[...p.memberIds,h]}))};return a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:n,children:a.jsxs(V.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-surface-900 rounded-2xl w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col",onClick:h=>h.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[a.jsx("h2",{className:"text-xl font-semibold text-surface-100",children:t?"Modifier le groupe":"Nouveau groupe"}),a.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:u,className:"flex-1 overflow-y-auto p-6 space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Nom *"}),a.jsx("input",{type:"text",value:i.name,onChange:h=>l({...i,name:h.target.value}),className:"input w-full",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Couleur"}),a.jsx("input",{type:"color",value:i.color,onChange:h=>l({...i,color:h.target.value}),className:"w-full h-10 rounded-lg cursor-pointer"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Description"}),a.jsx("textarea",{value:i.description,onChange:h=>l({...i,description:h.target.value}),className:"input w-full h-20 resize-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-3",children:"Membres"}),a.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1 p-2 bg-surface-800/50 rounded-xl",children:s.map((h,p)=>{var m,v;return a.jsxs("label",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-surface-700 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h.id?i.memberIds.includes(h.id):!1,onChange:()=>h.id&&d(h.id),className:"w-4 h-4 rounded border-surface-600 bg-surface-800 text-primary-500"}),a.jsxs("div",{className:"avatar avatar-sm",children:[(m=h.firstName)==null?void 0:m[0],(v=h.lastName)==null?void 0:v[0]]}),a.jsx("span",{className:"text-sm text-surface-300",children:h.fullName})]},h.id||`member-${p}`)})})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:n,className:"btn-secondary flex-1",children:"Annuler"}),a.jsx("button",{type:"submit",disabled:c||!i.name,className:"btn-primary flex-1",children:c?"Enregistrement...":t?"Mettre  jour":"Crer"})]})]})]})})}function Az({workspaceId:e,user:t,roles:s,onClose:n,onSave:r}){var f,h;const[i,l]=b.useState([]),[c,o]=b.useState(!0);b.useEffect(()=>{t!=null&&t.id&&e&&u()},[t,e]);const u=async()=>{var p;if(!(!(t!=null&&t.id)||!e))try{const{data:m}=await es.getUserPermissions(t.id,e);l(((p=m.roles)==null?void 0:p.map(v=>v.id))||[])}catch(m){console.error("Load error:",m)}finally{o(!1)}},d=async p=>{if(t!=null&&t.id)try{i.includes(p)?(await es.removeRole(t.id,p,e),l(m=>m.filter(v=>v!==p)),$.success("Rle retir")):(await es.assignRole(t.id,{workspaceId:e,roleId:p}),l(m=>[...m,p]),$.success("Rle assign"))}catch{$.error("Erreur")}};return a.jsx(V.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:n,children:a.jsxs(V.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-surface-900 rounded-2xl w-full max-w-md overflow-hidden",onClick:p=>p.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-800",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"avatar",children:[(f=t.firstName)==null?void 0:f[0],(h=t.lastName)==null?void 0:h[0]]}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-semibold text-surface-100",children:t.fullName}),a.jsx("p",{className:"text-sm text-surface-500",children:t.email})]})]}),a.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-surface-800 text-surface-400",children:a.jsx(fe,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-surface-300 mb-3",children:"Rle workspace"}),a.jsx("span",{className:`px-3 py-1.5 rounded-full text-sm font-medium ${t.role==="owner"?"bg-amber-500/20 text-amber-400":t.role==="admin"?"bg-purple-500/20 text-purple-400":"bg-surface-700 text-surface-300"}`,children:t.role==="owner"?"Propritaire":t.role==="admin"?"Administrateur":"Membre"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-surface-300 mb-3",children:"Rles personnaliss"}),c?a.jsx("div",{className:"flex justify-center p-4",children:a.jsx("div",{className:"w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}):s.length>0?a.jsx("div",{className:"space-y-2",children:s.map(p=>a.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg bg-surface-800/50 hover:bg-surface-800 cursor-pointer",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:p.color}}),a.jsx("span",{className:"text-surface-200",children:p.name})]}),a.jsx("input",{type:"checkbox",checked:i.includes(p.id),onChange:()=>d(p.id),className:"w-5 h-5 rounded border-surface-600 bg-surface-800 text-primary-500"})]},p.id))}):a.jsx("p",{className:"text-surface-500 text-sm",children:"Aucun rle personnalis disponible"})]}),a.jsx("button",{onClick:n,className:"btn-primary w-full",children:"Termin"})]})]})})}function oj({children:e,allowPasswordChange:t=!1}){const{isAuthenticated:s,isLoading:n,user:r}=Ct(),i=Kn();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-surface-950",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-surface-400",children:"Chargement..."})]})}):s?r!=null&&r.mustChangePassword&&!t&&i.pathname!=="/change-password"?a.jsx(od,{to:"/change-password",replace:!0}):e:a.jsx(od,{to:"/login",replace:!0})}function uj({children:e}){const{isAuthenticated:t}=Ct();return t?a.jsx(od,{to:"/",replace:!0}):e}function Tz(){return a.jsxs(Yk,{children:[a.jsx(Ve,{path:"/login",element:a.jsx(uj,{children:a.jsx(Wv,{children:a.jsx(sB,{})})})}),a.jsx(Ve,{path:"/register",element:a.jsx(uj,{children:a.jsx(Wv,{children:a.jsx(aB,{})})})}),a.jsx(Ve,{path:"/change-password",element:a.jsx(oj,{allowPasswordChange:!0,children:a.jsx(nB,{})})}),a.jsxs(Ve,{path:"/",element:a.jsx(oj,{children:a.jsx(tB,{})}),children:[a.jsx(Ve,{index:!0,element:a.jsx(lB,{})}),a.jsx(Ve,{path:"workspace/:workspaceId",element:a.jsx(dB,{})}),a.jsx(Ve,{path:"workspace/:workspaceId/members",element:a.jsx(FB,{})}),a.jsx(Ve,{path:"workspace/:workspaceId/budgets",element:a.jsx(IB,{})}),a.jsx(Ve,{path:"workspace/:workspaceId/budget/:budgetId",element:a.jsx(GB,{})}),a.jsx(Ve,{path:"workspace/:workspaceId/evaluation",element:a.jsx(sz,{})}),a.jsx(Ve,{path:"workspace/:workspaceId/tickets",element:a.jsx(nz,{})}),a.jsx(Ve,{path:"workspace/:workspaceId/tickets/admin",element:a.jsx(rz,{})}),a.jsx(Ve,{path:"board/:boardId",element:a.jsx($B,{})}),a.jsx(Ve,{path:"workspace/:workspaceId/sdsi",element:a.jsx(lz,{})}),a.jsx(Ve,{path:"workspace/:workspaceId/sdsi/axes",element:a.jsx(jz,{})}),a.jsx(Ve,{path:"workspace/:workspaceId/sdsi/projects",element:a.jsx(cz,{})}),a.jsx(Ve,{path:"workspace/:workspaceId/sdsi/project/:projectId",element:a.jsx(uz,{})}),a.jsx(Ve,{path:"workspace/:workspaceId/sdsi/resources",element:a.jsx(bz,{})}),a.jsx(Ve,{path:"workspace/:workspaceId/sdsi/applications",element:a.jsx(dz,{})}),a.jsx(Ve,{path:"workspace/:workspaceId/sdsi/kpis",element:a.jsx(pz,{})}),a.jsx(Ve,{path:"workspace/:workspaceId/permissions",element:a.jsx(Sz,{})}),a.jsx(Ve,{path:"settings",element:a.jsx(qB,{})})]}),a.jsx(Ve,{path:"*",element:a.jsx(od,{to:"/",replace:!0})})]})}const Mz=new kE({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1,refetchOnWindowFocus:!1}}});W3.createRoot(document.getElementById("root")).render(a.jsx(Pp.StrictMode,{children:a.jsx(EE,{client:Mz,children:a.jsxs(Jk,{children:[a.jsx(Tz,{}),a.jsx(kA,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1e293b",color:"#f8fafc",borderRadius:"12px",border:"1px solid rgba(148, 163, 184, 0.1)"},success:{iconTheme:{primary:"#22c55e",secondary:"#f8fafc"}},error:{iconTheme:{primary:"#ef4444",secondary:"#f8fafc"}}}})]})})}));
